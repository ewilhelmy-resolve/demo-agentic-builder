const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-CU67Zn6k.js","assets/html-GMplVEZG.js","assets/javascript-wDzz0qaB.js","assets/css-DPfMkruS.js","assets/angular-ts-BwZT4LLn.js","assets/scss-OYdSNvt2.js","assets/apl-dKokRX4l.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CbQHKStN.js","assets/typescript-BPQ3VLAy.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DVc8C-J4.js","assets/html-derivative-BFtXZ54Q.js","assets/sql-BLtJtn59.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-nwyudZeR.js","assets/coffee-Ch7k5sss.js","assets/cpp-CofmeUqb.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-tKQVLTB8.js","assets/shellscript-Yzrsuije.js","assets/edge-BkV0erSs.js","assets/elixir-CDX3lj18.js","assets/elm-DbKCFpqz.js","assets/erb-BOJIQeun.js","assets/ruby-BvKwtOVI.js","assets/haml-B8DHNrY2.js","assets/graphql-ChdNCCLP.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/erlang-DsQrWhSR.js","assets/markdown-Cvjx9yec.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-CXgrBDvD.js","assets/gdresource-B7Tvp0Sc.js","assets/gdshader-DkwncUOv.js","assets/gdscript-DTMYz4Jt.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Rg0-pVw9.js","assets/glimmer-ts-U6CK756n.js","assets/hack-CaT9iCJl.js","assets/handlebars-BL8al0AC.js","assets/http-jrhK8wxY.js","assets/hurl-irOxFIW8.js","assets/csv-fuZLfV_i.js","assets/hxml-Bvhsp5Yf.js","assets/haxe-CzTSHFRz.js","assets/jinja-4LBKfQ-Z.js","assets/jison-wvAkD_A8.js","assets/julia-C8NyazO9.js","assets/r-DiinP2Uv.js","assets/latex-BUKiar2Z.js","assets/tex-Cppo0RY3.js","assets/liquid-DYVedYrR.js","assets/marko-CPi9NSCl.js","assets/less-B1dDrJ26.js","assets/mdc-DUICxH0z.js","assets/nginx-DknmC5AR.js","assets/nim-CVrawwO9.js","assets/perl-C0TMdlhV.js","assets/php-CDn_0X-4.js","assets/pug-CGlum2m_.js","assets/qml-3beO22l8.js","assets/razor-WgofotgN.js","assets/csharp-CX12Zw3r.js","assets/rst-B0xPkSld.js","assets/cmake-D1j8_8rp.js","assets/sas-cz2c8ADy.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-Brmx7dQM.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-BH5u7GGu.js","assets/svelte-3Dk4HxPD.js","assets/templ-W15q3VgB.js","assets/go-Dn2_MT6a.js","assets/ts-tags-zn1MmPIZ.js","assets/twig-CO9l9SDP.js","assets/vue-CCoi5OLL.js","assets/vue-html-DAAvJJDi.js","assets/vue-vine-_Ih-lPRR.js","assets/stylus-BEDo0Tqx.js","assets/xsl-CtQFsRM5.js","assets/CollapsibleListCitations-B7KMDj4L.js","assets/book-DRnJYcBu.js","assets/ModalCitations-OdmJHLOj.js","assets/RightPanelCitations-DgMYL0Dc.js"])))=>i.map(i=>d[i]);
var vpe=Object.defineProperty;var ype=Object.getPrototypeOf;var xpe=Reflect.get;var J9=e=>{throw TypeError(e)};var bpe=(e,t,n)=>t in e?vpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>bpe(e,typeof t!="symbol"?t+"":t,n),BC=(e,t,n)=>t.has(e)||J9("Cannot "+n);var be=(e,t,n)=>(BC(e,t,"read from private field"),n?n.call(e):t.get(e)),Gt=(e,t,n)=>t.has(e)?J9("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xt=(e,t,n,r)=>(BC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mn=(e,t,n)=>(BC(e,t,"access private method"),n);var yw=(e,t,n,r)=>({set _(i){xt(e,t,i,n)},get _(){return be(e,t,r)}}),eL=(e,t,n)=>xpe(ype(e),n,t);function wpe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NK(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var UC={exports:{}},y1={},HC={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL;function Epe(){if(tL)return An;tL=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h(M){return M===null||typeof M!="object"?null:(M=f&&M[f]||M["@@iterator"],typeof M=="function"?M:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function b(M,z,O){this.props=M,this.context=z,this.refs=x,this.updater=O||p}b.prototype.isReactComponent={},b.prototype.setState=function(M,z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,z,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=b.prototype;function E(M,z,O){this.props=M,this.context=z,this.refs=x,this.updater=O||p}var k=E.prototype=new w;k.constructor=E,v(k,b.prototype),k.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(M,z,O){var X,ne={},re=null,Q=null;if(z!=null)for(X in z.ref!==void 0&&(Q=z.ref),z.key!==void 0&&(re=""+z.key),z)A.call(z,X)&&!C.hasOwnProperty(X)&&(ne[X]=z[X]);var te=arguments.length-2;if(te===1)ne.children=O;else if(1<te){for(var ie=Array(te),fe=0;fe<te;fe++)ie[fe]=arguments[fe+2];ne.children=ie}if(M&&M.defaultProps)for(X in te=M.defaultProps,te)ne[X]===void 0&&(ne[X]=te[X]);return{$$typeof:e,type:M,key:re,ref:Q,props:ne,_owner:T.current}}function B(M,z){return{$$typeof:e,type:M.type,key:z,ref:M.ref,props:M.props,_owner:M._owner}}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function L(M){var z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(O){return z[O]})}var U=/\/+/g;function Y(M,z){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):z.toString(36)}function V(M,z,O,X,ne){var re=typeof M;(re==="undefined"||re==="boolean")&&(M=null);var Q=!1;if(M===null)Q=!0;else switch(re){case"string":case"number":Q=!0;break;case"object":switch(M.$$typeof){case e:case t:Q=!0}}if(Q)return Q=M,ne=ne(Q),M=X===""?"."+Y(Q,0):X,_(ne)?(O="",M!=null&&(O=M.replace(U,"$&/")+"/"),V(ne,z,O,"",function(fe){return fe})):ne!=null&&($(ne)&&(ne=B(ne,O+(!ne.key||Q&&Q.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+M)),z.push(ne)),1;if(Q=0,X=X===""?".":X+":",_(M))for(var te=0;te<M.length;te++){re=M[te];var ie=X+Y(re,te);Q+=V(re,z,O,ie,ne)}else if(ie=h(M),typeof ie=="function")for(M=ie.call(M),te=0;!(re=M.next()).done;)re=re.value,ie=X+Y(re,te++),Q+=V(re,z,O,ie,ne);else if(re==="object")throw z=String(M),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Q}function K(M,z,O){if(M==null)return M;var X=[],ne=0;return V(M,X,"","",function(re){return z.call(O,re,ne++)}),X}function W(M){if(M._status===-1){var z=M._result;z=z(),z.then(function(O){(M._status===0||M._status===-1)&&(M._status=1,M._result=O)},function(O){(M._status===0||M._status===-1)&&(M._status=2,M._result=O)}),M._status===-1&&(M._status=0,M._result=z)}if(M._status===1)return M._result.default;throw M._result}var J={current:null},q={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:q,ReactCurrentOwner:T};function j(){throw Error("act(...) is not supported in production builds of React.")}return An.Children={map:K,forEach:function(M,z,O){K(M,function(){z.apply(this,arguments)},O)},count:function(M){var z=0;return K(M,function(){z++}),z},toArray:function(M){return K(M,function(z){return z})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},An.Component=b,An.Fragment=n,An.Profiler=i,An.PureComponent=E,An.StrictMode=r,An.Suspense=c,An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,An.act=j,An.cloneElement=function(M,z,O){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var X=v({},M.props),ne=M.key,re=M.ref,Q=M._owner;if(z!=null){if(z.ref!==void 0&&(re=z.ref,Q=T.current),z.key!==void 0&&(ne=""+z.key),M.type&&M.type.defaultProps)var te=M.type.defaultProps;for(ie in z)A.call(z,ie)&&!C.hasOwnProperty(ie)&&(X[ie]=z[ie]===void 0&&te!==void 0?te[ie]:z[ie])}var ie=arguments.length-2;if(ie===1)X.children=O;else if(1<ie){te=Array(ie);for(var fe=0;fe<ie;fe++)te[fe]=arguments[fe+2];X.children=te}return{$$typeof:e,type:M.type,key:ne,ref:re,props:X,_owner:Q}},An.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},An.createElement=I,An.createFactory=function(M){var z=I.bind(null,M);return z.type=M,z},An.createRef=function(){return{current:null}},An.forwardRef=function(M){return{$$typeof:o,render:M}},An.isValidElement=$,An.lazy=function(M){return{$$typeof:d,_payload:{_status:-1,_result:M},_init:W}},An.memo=function(M,z){return{$$typeof:u,type:M,compare:z===void 0?null:z}},An.startTransition=function(M){var z=q.transition;q.transition={};try{M()}finally{q.transition=z}},An.unstable_act=j,An.useCallback=function(M,z){return J.current.useCallback(M,z)},An.useContext=function(M){return J.current.useContext(M)},An.useDebugValue=function(){},An.useDeferredValue=function(M){return J.current.useDeferredValue(M)},An.useEffect=function(M,z){return J.current.useEffect(M,z)},An.useId=function(){return J.current.useId()},An.useImperativeHandle=function(M,z,O){return J.current.useImperativeHandle(M,z,O)},An.useInsertionEffect=function(M,z){return J.current.useInsertionEffect(M,z)},An.useLayoutEffect=function(M,z){return J.current.useLayoutEffect(M,z)},An.useMemo=function(M,z){return J.current.useMemo(M,z)},An.useReducer=function(M,z,O){return J.current.useReducer(M,z,O)},An.useRef=function(M){return J.current.useRef(M)},An.useState=function(M){return J.current.useState(M)},An.useSyncExternalStore=function(M,z,O){return J.current.useSyncExternalStore(M,z,O)},An.useTransition=function(){return J.current.useTransition()},An.version="18.3.1",An}var nL;function eg(){return nL||(nL=1,HC.exports=Epe()),HC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL;function Spe(){if(rL)return y1;rL=1;var e=eg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,u){var d,f={},h=null,p=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:t,type:o,key:h,ref:p,props:f,_owner:i.current}}return y1.Fragment=n,y1.jsx=a,y1.jsxs=a,y1}var iL;function TK(){return iL||(iL=1,UC.exports=Spe()),UC.exports}var l=TK(),y=eg();const Xe=Xa(y),Pj=wpe({__proto__:null,default:Xe},[y]);var xw={},VC={exports:{}},oa={},qC={exports:{}},WC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sL;function kpe(){return sL||(sL=1,(function(e){function t(q,G){var j=q.length;q.push(G);e:for(;0<j;){var M=j-1>>>1,z=q[M];if(0<i(z,G))q[M]=G,q[j]=z,j=M;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var G=q[0],j=q.pop();if(j!==G){q[0]=j;e:for(var M=0,z=q.length,O=z>>>1;M<O;){var X=2*(M+1)-1,ne=q[X],re=X+1,Q=q[re];if(0>i(ne,j))re<z&&0>i(Q,ne)?(q[M]=Q,q[re]=j,M=re):(q[M]=ne,q[X]=j,M=X);else if(re<z&&0>i(Q,j))q[M]=Q,q[re]=j,M=re;else break e}}return G}function i(q,G){var j=q.sortIndex-G.sortIndex;return j!==0?j:q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=q)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function _(q){if(x=!1,k(q),!v)if(n(c)!==null)v=!0,W(A);else{var G=n(u);G!==null&&J(_,G.startTime-q)}}function A(q,G){v=!1,x&&(x=!1,w(I),I=-1),p=!0;var j=h;try{for(k(G),f=n(c);f!==null&&(!(f.expirationTime>G)||q&&!L());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var z=M(f.expirationTime<=G);G=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),k(G)}else r(c);f=n(c)}if(f!==null)var O=!0;else{var X=n(u);X!==null&&J(_,X.startTime-G),O=!1}return O}finally{f=null,h=j,p=!1}}var T=!1,C=null,I=-1,B=5,$=-1;function L(){return!(e.unstable_now()-$<B)}function U(){if(C!==null){var q=e.unstable_now();$=q;var G=!0;try{G=C(!0,q)}finally{G?Y():(T=!1,C=null)}}else T=!1}var Y;if(typeof E=="function")Y=function(){E(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=U,Y=function(){K.postMessage(null)}}else Y=function(){b(U,0)};function W(q){C=q,T||(T=!0,Y())}function J(q,G){I=b(function(){q(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,W(A))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var j=h;h=G;try{return q()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var j=h;h=q;try{return G()}finally{h=j}},e.unstable_scheduleCallback=function(q,G,j){var M=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=j+z,q={id:d++,callback:G,priorityLevel:q,startTime:j,expirationTime:z,sortIndex:-1},j>M?(q.sortIndex=j,t(u,q),n(c)===null&&q===n(u)&&(x?(w(I),I=-1):x=!0,J(_,j-M))):(q.sortIndex=z,t(c,q),v||p||(v=!0,W(A))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var G=h;return function(){var j=h;h=G;try{return q.apply(this,arguments)}finally{h=j}}}})(WC)),WC}var aL;function _pe(){return aL||(aL=1,qC.exports=kpe()),qC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oL;function Cpe(){if(oL)return oa;oL=1;var e=eg(),t=_pe();function n(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(m,g){a(m,g),a(m+"Capture",g)}function a(m,g){for(i[m]=g,m=0;m<g.length;m++)r.add(g[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(m){return c.call(f,m)?!0:c.call(d,m)?!1:u.test(m)?f[m]=!0:(d[m]=!0,!1)}function p(m,g,S,N){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return N?!1:S!==null?!S.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function v(m,g,S,N){if(g===null||typeof g>"u"||p(m,g,S,N))return!0;if(N)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function x(m,g,S,N,R,F,ee){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=N,this.attributeNamespace=R,this.mustUseProperty=S,this.propertyName=m,this.type=g,this.sanitizeURL=F,this.removeEmptyString=ee}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){b[m]=new x(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var g=m[0];b[g]=new x(g,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){b[m]=new x(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){b[m]=new x(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){b[m]=new x(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){b[m]=new x(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){b[m]=new x(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){b[m]=new x(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){b[m]=new x(m,5,!1,m.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var g=m.replace(w,E);b[g]=new x(g,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var g=m.replace(w,E);b[g]=new x(g,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var g=m.replace(w,E);b[g]=new x(g,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){b[m]=new x(m,1,!1,m.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){b[m]=new x(m,1,!1,m.toLowerCase(),null,!0,!0)});function k(m,g,S,N){var R=b.hasOwnProperty(g)?b[g]:null;(R!==null?R.type!==0:N||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(v(g,S,R,N)&&(S=null),N||R===null?h(g)&&(S===null?m.removeAttribute(g):m.setAttribute(g,""+S)):R.mustUseProperty?m[R.propertyName]=S===null?R.type===3?!1:"":S:(g=R.attributeName,N=R.attributeNamespace,S===null?m.removeAttribute(g):(R=R.type,S=R===3||R===4&&S===!0?"":""+S,N?m.setAttributeNS(N,g,S):m.setAttribute(g,S))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),q=Symbol.iterator;function G(m){return m===null||typeof m!="object"?null:(m=q&&m[q]||m["@@iterator"],typeof m=="function"?m:null)}var j=Object.assign,M;function z(m){if(M===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);M=g&&g[1]||""}return`
`+M+m}var O=!1;function X(m,g){if(!m||O)return"";O=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ze){var N=ze}Reflect.construct(m,[],g)}else{try{g.call()}catch(ze){N=ze}m.call(g.prototype)}else{try{throw Error()}catch(ze){N=ze}m()}}catch(ze){if(ze&&N&&typeof ze.stack=="string"){for(var R=ze.stack.split(`
`),F=N.stack.split(`
`),ee=R.length-1,me=F.length-1;1<=ee&&0<=me&&R[ee]!==F[me];)me--;for(;1<=ee&&0<=me;ee--,me--)if(R[ee]!==F[me]){if(ee!==1||me!==1)do if(ee--,me--,0>me||R[ee]!==F[me]){var Se=`
`+R[ee].replace(" at new "," at ");return m.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",m.displayName)),Se}while(1<=ee&&0<=me);break}}}finally{O=!1,Error.prepareStackTrace=S}return(m=m?m.displayName||m.name:"")?z(m):""}function ne(m){switch(m.tag){case 5:return z(m.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return m=X(m.type,!1),m;case 11:return m=X(m.type.render,!1),m;case 1:return m=X(m.type,!0),m;default:return""}}function re(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case C:return"Fragment";case T:return"Portal";case B:return"Profiler";case I:return"StrictMode";case Y:return"Suspense";case V:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case L:return(m.displayName||"Context")+".Consumer";case $:return(m._context.displayName||"Context")+".Provider";case U:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case K:return g=m.displayName||null,g!==null?g:re(m.type)||"Memo";case W:g=m._payload,m=m._init;try{return re(m(g))}catch{}}return null}function Q(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(g);case 8:return g===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function te(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function ie(m){var g=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function fe(m){var g=ie(m)?"checked":"value",S=Object.getOwnPropertyDescriptor(m.constructor.prototype,g),N=""+m[g];if(!m.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var R=S.get,F=S.set;return Object.defineProperty(m,g,{configurable:!0,get:function(){return R.call(this)},set:function(ee){N=""+ee,F.call(this,ee)}}),Object.defineProperty(m,g,{enumerable:S.enumerable}),{getValue:function(){return N},setValue:function(ee){N=""+ee},stopTracking:function(){m._valueTracker=null,delete m[g]}}}}function he(m){m._valueTracker||(m._valueTracker=fe(m))}function ae(m){if(!m)return!1;var g=m._valueTracker;if(!g)return!0;var S=g.getValue(),N="";return m&&(N=ie(m)?m.checked?"true":"false":m.value),m=N,m!==S?(g.setValue(m),!0):!1}function Pe(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function Te(m,g){var S=g.checked;return j({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??m._wrapperState.initialChecked})}function Ge(m,g){var S=g.defaultValue==null?"":g.defaultValue,N=g.checked!=null?g.checked:g.defaultChecked;S=te(g.value!=null?g.value:S),m._wrapperState={initialChecked:N,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function nt(m,g){g=g.checked,g!=null&&k(m,"checked",g,!1)}function vt(m,g){nt(m,g);var S=te(g.value),N=g.type;if(S!=null)N==="number"?(S===0&&m.value===""||m.value!=S)&&(m.value=""+S):m.value!==""+S&&(m.value=""+S);else if(N==="submit"||N==="reset"){m.removeAttribute("value");return}g.hasOwnProperty("value")?Tt(m,g.type,S):g.hasOwnProperty("defaultValue")&&Tt(m,g.type,te(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(m.defaultChecked=!!g.defaultChecked)}function Ct(m,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var N=g.type;if(!(N!=="submit"&&N!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+m._wrapperState.initialValue,S||g===m.value||(m.value=g),m.defaultValue=g}S=m.name,S!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,S!==""&&(m.name=S)}function Tt(m,g,S){(g!=="number"||Pe(m.ownerDocument)!==m)&&(S==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+S&&(m.defaultValue=""+S))}var ue=Array.isArray;function _e(m,g,S,N){if(m=m.options,g){g={};for(var R=0;R<S.length;R++)g["$"+S[R]]=!0;for(S=0;S<m.length;S++)R=g.hasOwnProperty("$"+m[S].value),m[S].selected!==R&&(m[S].selected=R),R&&N&&(m[S].defaultSelected=!0)}else{for(S=""+te(S),g=null,R=0;R<m.length;R++){if(m[R].value===S){m[R].selected=!0,N&&(m[R].defaultSelected=!0);return}g!==null||m[R].disabled||(g=m[R])}g!==null&&(g.selected=!0)}}function Ae(m,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},g,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function Be(m,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(n(92));if(ue(S)){if(1<S.length)throw Error(n(93));S=S[0]}g=S}g==null&&(g=""),S=g}m._wrapperState={initialValue:te(S)}}function We(m,g){var S=te(g.value),N=te(g.defaultValue);S!=null&&(S=""+S,S!==m.value&&(m.value=S),g.defaultValue==null&&m.defaultValue!==S&&(m.defaultValue=S)),N!=null&&(m.defaultValue=""+N)}function qe(m){var g=m.textContent;g===m._wrapperState.initialValue&&g!==""&&g!==null&&(m.value=g)}function Ee(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $e(m,g){return m==null||m==="http://www.w3.org/1999/xhtml"?Ee(g):m==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Ze,bt=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,N,R){MSApp.execUnsafeLocalFunction(function(){return m(g,S,N,R)})}:m})(function(m,g){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=g;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Ze.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;g.firstChild;)m.appendChild(g.firstChild)}});function Ue(m,g){if(g){var S=m.firstChild;if(S&&S===m.lastChild&&S.nodeType===3){S.nodeValue=g;return}}m.textContent=g}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(m){At.forEach(function(g){g=g+m.charAt(0).toUpperCase()+m.substring(1),St[g]=St[m]})});function je(m,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||St.hasOwnProperty(m)&&St[m]?(""+g).trim():g+"px"}function Je(m,g){m=m.style;for(var S in g)if(g.hasOwnProperty(S)){var N=S.indexOf("--")===0,R=je(S,g[S],N);S==="float"&&(S="cssFloat"),N?m.setProperty(S,R):m[S]=R}}var wt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(m,g){if(g){if(wt[m]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function gn(m,g){if(m.indexOf("-")===-1)return typeof g.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=null;function In(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var fi=null,Un=null,Tn=null;function Ut(m){if(m=r1(m)){if(typeof fi!="function")throw Error(n(280));var g=m.stateNode;g&&(g=Rb(g),fi(m.stateNode,m.type,g))}}function Pt(m){Un?Tn?Tn.push(m):Tn=[m]:Un=m}function En(){if(Un){var m=Un,g=Tn;if(Tn=Un=null,Ut(m),g)for(m=0;m<g.length;m++)Ut(g[m])}}function Qn(m,g){return m(g)}function lr(){}var Os=!1;function pr(m,g,S){if(Os)return m(g,S);Os=!0;try{return Qn(m,g,S)}finally{Os=!1,(Un!==null||Tn!==null)&&(lr(),En())}}function Ar(m,g){var S=m.stateNode;if(S===null)return null;var N=Rb(S);if(N===null)return null;S=N[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(m=m.type,N=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!N;break e;default:m=!1}if(m)return null;if(S&&typeof S!="function")throw Error(n(231,g,typeof S));return S}var ye=!1;if(o)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){ye=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch{ye=!1}function De(m,g,S,N,R,F,ee,me,Se){var ze=Array.prototype.slice.call(arguments,3);try{g.apply(S,ze)}catch(it){this.onError(it)}}var Ke=!1,st=null,It=!1,Ft=null,Ot={onError:function(m){Ke=!0,st=m}};function Vt(m,g,S,N,R,F,ee,me,Se){Ke=!1,st=null,De.apply(Ot,arguments)}function Xt(m,g,S,N,R,F,ee,me,Se){if(Vt.apply(this,arguments),Ke){if(Ke){var ze=st;Ke=!1,st=null}else throw Error(n(198));It||(It=!0,Ft=ze)}}function Wt(m){var g=m,S=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(S=g.return),m=g.return;while(m)}return g.tag===3?S:null}function Ht(m){if(m.tag===13){var g=m.memoizedState;if(g===null&&(m=m.alternate,m!==null&&(g=m.memoizedState)),g!==null)return g.dehydrated}return null}function an(m){if(Wt(m)!==m)throw Error(n(188))}function Hn(m){var g=m.alternate;if(!g){if(g=Wt(m),g===null)throw Error(n(188));return g!==m?null:m}for(var S=m,N=g;;){var R=S.return;if(R===null)break;var F=R.alternate;if(F===null){if(N=R.return,N!==null){S=N;continue}break}if(R.child===F.child){for(F=R.child;F;){if(F===S)return an(R),m;if(F===N)return an(R),g;F=F.sibling}throw Error(n(188))}if(S.return!==N.return)S=R,N=F;else{for(var ee=!1,me=R.child;me;){if(me===S){ee=!0,S=R,N=F;break}if(me===N){ee=!0,N=R,S=F;break}me=me.sibling}if(!ee){for(me=F.child;me;){if(me===S){ee=!0,S=F,N=R;break}if(me===N){ee=!0,N=F,S=R;break}me=me.sibling}if(!ee)throw Error(n(189))}}if(S.alternate!==N)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?m:g}function gr(m){return m=Hn(m),m!==null?cr(m):null}function cr(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=cr(m);if(g!==null)return g;m=m.sibling}return null}var Vn=t.unstable_scheduleCallback,qn=t.unstable_cancelCallback,ta=t.unstable_shouldYield,Ja=t.unstable_requestPaint,Ln=t.unstable_now,vs=t.unstable_getCurrentPriorityLevel,eo=t.unstable_ImmediatePriority,to=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,qo=t.unstable_LowPriority,no=t.unstable_IdlePriority,fn=null,Wn=null;function Na(m){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(fn,m,void 0,(m.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Ie,tr=Math.log,de=Math.LN2;function Ie(m){return m>>>=0,m===0?32:31-(tr(m)/de|0)|0}var ct=64,pt=4194304;function Zt(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function jt(m,g){var S=m.pendingLanes;if(S===0)return 0;var N=0,R=m.suspendedLanes,F=m.pingedLanes,ee=S&268435455;if(ee!==0){var me=ee&~R;me!==0?N=Zt(me):(F&=ee,F!==0&&(N=Zt(F)))}else ee=S&~R,ee!==0?N=Zt(ee):F!==0&&(N=Zt(F));if(N===0)return 0;if(g!==0&&g!==N&&(g&R)===0&&(R=N&-N,F=g&-g,R>=F||R===16&&(F&4194240)!==0))return g;if((N&4)!==0&&(N|=S&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=N;0<g;)S=31-jr(g),R=1<<S,N|=m[S],g&=~R;return N}function hi(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(m,g){for(var S=m.suspendedLanes,N=m.pingedLanes,R=m.expirationTimes,F=m.pendingLanes;0<F;){var ee=31-jr(F),me=1<<ee,Se=R[ee];Se===-1?((me&S)===0||(me&N)!==0)&&(R[ee]=hi(me,g)):Se<=g&&(m.expiredLanes|=me),F&=~me}}function $g(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function q0(){var m=ct;return ct<<=1,(ct&4194240)===0&&(ct=64),m}function zg(m){for(var g=[],S=0;31>S;S++)g.push(m);return g}function Hf(m,g,S){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-jr(g),m[g]=S}function vb(m,g){var S=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var N=m.eventTimes;for(m=m.expirationTimes;0<S;){var R=31-jr(S),F=1<<R;g[R]=0,N[R]=-1,m[R]=-1,S&=~F}}function u_(m,g){var S=m.entangledLanes|=g;for(m=m.entanglements;S;){var N=31-jr(S),R=1<<N;R&g|m[N]&g&&(m[N]|=g),S&=~R}}var nr=0;function PO(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var IO,d_,RO,MO,OO,f_=!1,yb=[],nd=null,rd=null,id=null,Bg=new Map,Ug=new Map,sd=[],$0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DO(m,g){switch(m){case"focusin":case"focusout":nd=null;break;case"dragenter":case"dragleave":rd=null;break;case"mouseover":case"mouseout":id=null;break;case"pointerover":case"pointerout":Bg.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ug.delete(g.pointerId)}}function Hg(m,g,S,N,R,F){return m===null||m.nativeEvent!==F?(m={blockedOn:g,domEventName:S,eventSystemFlags:N,nativeEvent:F,targetContainers:[R]},g!==null&&(g=r1(g),g!==null&&d_(g)),m):(m.eventSystemFlags|=N,g=m.targetContainers,R!==null&&g.indexOf(R)===-1&&g.push(R),m)}function z0e(m,g,S,N,R){switch(g){case"focusin":return nd=Hg(nd,m,g,S,N,R),!0;case"dragenter":return rd=Hg(rd,m,g,S,N,R),!0;case"mouseover":return id=Hg(id,m,g,S,N,R),!0;case"pointerover":var F=R.pointerId;return Bg.set(F,Hg(Bg.get(F)||null,m,g,S,N,R)),!0;case"gotpointercapture":return F=R.pointerId,Ug.set(F,Hg(Ug.get(F)||null,m,g,S,N,R)),!0}return!1}function LO(m){var g=Vf(m.target);if(g!==null){var S=Wt(g);if(S!==null){if(g=S.tag,g===13){if(g=Ht(S),g!==null){m.blockedOn=g,OO(m.priority,function(){RO(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){m.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}m.blockedOn=null}function xb(m){if(m.blockedOn!==null)return!1;for(var g=m.targetContainers;0<g.length;){var S=m_(m.domEventName,m.eventSystemFlags,g[0],m.nativeEvent);if(S===null){S=m.nativeEvent;var N=new S.constructor(S.type,S);dn=N,S.target.dispatchEvent(N),dn=null}else return g=r1(S),g!==null&&d_(g),m.blockedOn=S,!1;g.shift()}return!0}function FO(m,g,S){xb(m)&&S.delete(g)}function B0e(){f_=!1,nd!==null&&xb(nd)&&(nd=null),rd!==null&&xb(rd)&&(rd=null),id!==null&&xb(id)&&(id=null),Bg.forEach(FO),Ug.forEach(FO)}function Vg(m,g){m.blockedOn===g&&(m.blockedOn=null,f_||(f_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B0e)))}function qg(m){function g(R){return Vg(R,m)}if(0<yb.length){Vg(yb[0],m);for(var S=1;S<yb.length;S++){var N=yb[S];N.blockedOn===m&&(N.blockedOn=null)}}for(nd!==null&&Vg(nd,m),rd!==null&&Vg(rd,m),id!==null&&Vg(id,m),Bg.forEach(g),Ug.forEach(g),S=0;S<sd.length;S++)N=sd[S],N.blockedOn===m&&(N.blockedOn=null);for(;0<sd.length&&(S=sd[0],S.blockedOn===null);)LO(S),S.blockedOn===null&&sd.shift()}var W0=_.ReactCurrentBatchConfig,bb=!0;function U0e(m,g,S,N){var R=nr,F=W0.transition;W0.transition=null;try{nr=1,h_(m,g,S,N)}finally{nr=R,W0.transition=F}}function H0e(m,g,S,N){var R=nr,F=W0.transition;W0.transition=null;try{nr=4,h_(m,g,S,N)}finally{nr=R,W0.transition=F}}function h_(m,g,S,N){if(bb){var R=m_(m,g,S,N);if(R===null)P_(m,g,N,wb,S),DO(m,N);else if(z0e(R,m,g,S,N))N.stopPropagation();else if(DO(m,N),g&4&&-1<$0e.indexOf(m)){for(;R!==null;){var F=r1(R);if(F!==null&&IO(F),F=m_(m,g,S,N),F===null&&P_(m,g,N,wb,S),F===R)break;R=F}R!==null&&N.stopPropagation()}else P_(m,g,N,null,S)}}var wb=null;function m_(m,g,S,N){if(wb=null,m=In(N),m=Vf(m),m!==null)if(g=Wt(m),g===null)m=null;else if(S=g.tag,S===13){if(m=Ht(g),m!==null)return m;m=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;m=null}else g!==m&&(m=null);return wb=m,null}function $O(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vs()){case eo:return 1;case to:return 4;case as:case qo:return 16;case no:return 536870912;default:return 16}default:return 16}}var ad=null,p_=null,Eb=null;function zO(){if(Eb)return Eb;var m,g=p_,S=g.length,N,R="value"in ad?ad.value:ad.textContent,F=R.length;for(m=0;m<S&&g[m]===R[m];m++);var ee=S-m;for(N=1;N<=ee&&g[S-N]===R[F-N];N++);return Eb=R.slice(m,1<N?1-N:void 0)}function Sb(m){var g=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&g===13&&(m=13)):m=g,m===10&&(m=13),32<=m||m===13?m:0}function kb(){return!0}function BO(){return!1}function Ta(m){function g(S,N,R,F,ee){this._reactName=S,this._targetInst=R,this.type=N,this.nativeEvent=F,this.target=ee,this.currentTarget=null;for(var me in m)m.hasOwnProperty(me)&&(S=m[me],this[me]=S?S(F):F[me]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?kb:BO,this.isPropagationStopped=BO,this}return j(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=kb)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=kb)},persist:function(){},isPersistent:kb}),g}var G0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g_=Ta(G0),Wg=j({},G0,{view:0,detail:0}),V0e=Ta(Wg),v_,y_,Gg,_b=j({},Wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b_,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Gg&&(Gg&&m.type==="mousemove"?(v_=m.screenX-Gg.screenX,y_=m.screenY-Gg.screenY):y_=v_=0,Gg=m),v_)},movementY:function(m){return"movementY"in m?m.movementY:y_}}),UO=Ta(_b),q0e=j({},_b,{dataTransfer:0}),W0e=Ta(q0e),G0e=j({},Wg,{relatedTarget:0}),x_=Ta(G0e),K0e=j({},G0,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0e=Ta(K0e),X0e=j({},G0,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),Q0e=Ta(X0e),Z0e=j({},G0,{data:0}),HO=Ta(Z0e),J0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nme(m){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(m):(m=tme[m])?!!g[m]:!1}function b_(){return nme}var rme=j({},Wg,{key:function(m){if(m.key){var g=J0e[m.key]||m.key;if(g!=="Unidentified")return g}return m.type==="keypress"?(m=Sb(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?eme[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b_,charCode:function(m){return m.type==="keypress"?Sb(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Sb(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ime=Ta(rme),sme=j({},_b,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VO=Ta(sme),ame=j({},Wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b_}),ome=Ta(ame),lme=j({},G0,{propertyName:0,elapsedTime:0,pseudoElement:0}),cme=Ta(lme),ume=j({},_b,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),dme=Ta(ume),fme=[9,13,27,32],w_=o&&"CompositionEvent"in window,Kg=null;o&&"documentMode"in document&&(Kg=document.documentMode);var hme=o&&"TextEvent"in window&&!Kg,qO=o&&(!w_||Kg&&8<Kg&&11>=Kg),WO=" ",GO=!1;function KO(m,g){switch(m){case"keyup":return fme.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YO(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var K0=!1;function mme(m,g){switch(m){case"compositionend":return YO(g);case"keypress":return g.which!==32?null:(GO=!0,WO);case"textInput":return m=g.data,m===WO&&GO?null:m;default:return null}}function pme(m,g){if(K0)return m==="compositionend"||!w_&&KO(m,g)?(m=zO(),Eb=p_=ad=null,K0=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return qO&&g.locale!=="ko"?null:g.data;default:return null}}var gme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XO(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g==="input"?!!gme[m.type]:g==="textarea"}function QO(m,g,S,N){Pt(N),g=jb(g,"onChange"),0<g.length&&(S=new g_("onChange","change",null,S,N),m.push({event:S,listeners:g}))}var Yg=null,Xg=null;function vme(m){pD(m,0)}function Cb(m){var g=J0(m);if(ae(g))return m}function yme(m,g){if(m==="change")return g}var ZO=!1;if(o){var E_;if(o){var S_="oninput"in document;if(!S_){var JO=document.createElement("div");JO.setAttribute("oninput","return;"),S_=typeof JO.oninput=="function"}E_=S_}else E_=!1;ZO=E_&&(!document.documentMode||9<document.documentMode)}function eD(){Yg&&(Yg.detachEvent("onpropertychange",tD),Xg=Yg=null)}function tD(m){if(m.propertyName==="value"&&Cb(Xg)){var g=[];QO(g,Xg,m,In(m)),pr(vme,g)}}function xme(m,g,S){m==="focusin"?(eD(),Yg=g,Xg=S,Yg.attachEvent("onpropertychange",tD)):m==="focusout"&&eD()}function bme(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Cb(Xg)}function wme(m,g){if(m==="click")return Cb(g)}function Eme(m,g){if(m==="input"||m==="change")return Cb(g)}function Sme(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var Go=typeof Object.is=="function"?Object.is:Sme;function Qg(m,g){if(Go(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var S=Object.keys(m),N=Object.keys(g);if(S.length!==N.length)return!1;for(N=0;N<S.length;N++){var R=S[N];if(!c.call(g,R)||!Go(m[R],g[R]))return!1}return!0}function nD(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function rD(m,g){var S=nD(m);m=0;for(var N;S;){if(S.nodeType===3){if(N=m+S.textContent.length,m<=g&&N>=g)return{node:S,offset:g-m};m=N}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=nD(S)}}function iD(m,g){return m&&g?m===g?!0:m&&m.nodeType===3?!1:g&&g.nodeType===3?iD(m,g.parentNode):"contains"in m?m.contains(g):m.compareDocumentPosition?!!(m.compareDocumentPosition(g)&16):!1:!1}function sD(){for(var m=window,g=Pe();g instanceof m.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)m=g.contentWindow;else break;g=Pe(m.document)}return g}function k_(m){var g=m&&m.nodeName&&m.nodeName.toLowerCase();return g&&(g==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||g==="textarea"||m.contentEditable==="true")}function kme(m){var g=sD(),S=m.focusedElem,N=m.selectionRange;if(g!==S&&S&&S.ownerDocument&&iD(S.ownerDocument.documentElement,S)){if(N!==null&&k_(S)){if(g=N.start,m=N.end,m===void 0&&(m=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(m,S.value.length);else if(m=(g=S.ownerDocument||document)&&g.defaultView||window,m.getSelection){m=m.getSelection();var R=S.textContent.length,F=Math.min(N.start,R);N=N.end===void 0?F:Math.min(N.end,R),!m.extend&&F>N&&(R=N,N=F,F=R),R=rD(S,F);var ee=rD(S,N);R&&ee&&(m.rangeCount!==1||m.anchorNode!==R.node||m.anchorOffset!==R.offset||m.focusNode!==ee.node||m.focusOffset!==ee.offset)&&(g=g.createRange(),g.setStart(R.node,R.offset),m.removeAllRanges(),F>N?(m.addRange(g),m.extend(ee.node,ee.offset)):(g.setEnd(ee.node,ee.offset),m.addRange(g)))}}for(g=[],m=S;m=m.parentNode;)m.nodeType===1&&g.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)m=g[S],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var _me=o&&"documentMode"in document&&11>=document.documentMode,Y0=null,__=null,Zg=null,C_=!1;function aD(m,g,S){var N=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;C_||Y0==null||Y0!==Pe(N)||(N=Y0,"selectionStart"in N&&k_(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Zg&&Qg(Zg,N)||(Zg=N,N=jb(__,"onSelect"),0<N.length&&(g=new g_("onSelect","select",null,g,S),m.push({event:g,listeners:N}),g.target=Y0)))}function Nb(m,g){var S={};return S[m.toLowerCase()]=g.toLowerCase(),S["Webkit"+m]="webkit"+g,S["Moz"+m]="moz"+g,S}var X0={animationend:Nb("Animation","AnimationEnd"),animationiteration:Nb("Animation","AnimationIteration"),animationstart:Nb("Animation","AnimationStart"),transitionend:Nb("Transition","TransitionEnd")},N_={},oD={};o&&(oD=document.createElement("div").style,"AnimationEvent"in window||(delete X0.animationend.animation,delete X0.animationiteration.animation,delete X0.animationstart.animation),"TransitionEvent"in window||delete X0.transitionend.transition);function Tb(m){if(N_[m])return N_[m];if(!X0[m])return m;var g=X0[m],S;for(S in g)if(g.hasOwnProperty(S)&&S in oD)return N_[m]=g[S];return m}var lD=Tb("animationend"),cD=Tb("animationiteration"),uD=Tb("animationstart"),dD=Tb("transitionend"),fD=new Map,hD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function od(m,g){fD.set(m,g),s(g,[m])}for(var T_=0;T_<hD.length;T_++){var A_=hD[T_],Cme=A_.toLowerCase(),Nme=A_[0].toUpperCase()+A_.slice(1);od(Cme,"on"+Nme)}od(lD,"onAnimationEnd"),od(cD,"onAnimationIteration"),od(uD,"onAnimationStart"),od("dblclick","onDoubleClick"),od("focusin","onFocus"),od("focusout","onBlur"),od(dD,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tme=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jg));function mD(m,g,S){var N=m.type||"unknown-event";m.currentTarget=S,Xt(N,g,void 0,m),m.currentTarget=null}function pD(m,g){g=(g&4)!==0;for(var S=0;S<m.length;S++){var N=m[S],R=N.event;N=N.listeners;e:{var F=void 0;if(g)for(var ee=N.length-1;0<=ee;ee--){var me=N[ee],Se=me.instance,ze=me.currentTarget;if(me=me.listener,Se!==F&&R.isPropagationStopped())break e;mD(R,me,ze),F=Se}else for(ee=0;ee<N.length;ee++){if(me=N[ee],Se=me.instance,ze=me.currentTarget,me=me.listener,Se!==F&&R.isPropagationStopped())break e;mD(R,me,ze),F=Se}}}if(It)throw m=Ft,It=!1,Ft=null,m}function Sr(m,g){var S=g[L_];S===void 0&&(S=g[L_]=new Set);var N=m+"__bubble";S.has(N)||(gD(g,m,2,!1),S.add(N))}function j_(m,g,S){var N=0;g&&(N|=4),gD(S,m,N,g)}var Ab="_reactListening"+Math.random().toString(36).slice(2);function e1(m){if(!m[Ab]){m[Ab]=!0,r.forEach(function(S){S!=="selectionchange"&&(Tme.has(S)||j_(S,!1,m),j_(S,!0,m))});var g=m.nodeType===9?m:m.ownerDocument;g===null||g[Ab]||(g[Ab]=!0,j_("selectionchange",!1,g))}}function gD(m,g,S,N){switch($O(g)){case 1:var R=U0e;break;case 4:R=H0e;break;default:R=h_}S=R.bind(null,g,S,m),R=void 0,!ye||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(R=!0),N?R!==void 0?m.addEventListener(g,S,{capture:!0,passive:R}):m.addEventListener(g,S,!0):R!==void 0?m.addEventListener(g,S,{passive:R}):m.addEventListener(g,S,!1)}function P_(m,g,S,N,R){var F=N;if((g&1)===0&&(g&2)===0&&N!==null)e:for(;;){if(N===null)return;var ee=N.tag;if(ee===3||ee===4){var me=N.stateNode.containerInfo;if(me===R||me.nodeType===8&&me.parentNode===R)break;if(ee===4)for(ee=N.return;ee!==null;){var Se=ee.tag;if((Se===3||Se===4)&&(Se=ee.stateNode.containerInfo,Se===R||Se.nodeType===8&&Se.parentNode===R))return;ee=ee.return}for(;me!==null;){if(ee=Vf(me),ee===null)return;if(Se=ee.tag,Se===5||Se===6){N=F=ee;continue e}me=me.parentNode}}N=N.return}pr(function(){var ze=F,it=In(S),at=[];e:{var et=fD.get(m);if(et!==void 0){var _t=g_,$t=m;switch(m){case"keypress":if(Sb(S)===0)break e;case"keydown":case"keyup":_t=ime;break;case"focusin":$t="focus",_t=x_;break;case"focusout":$t="blur",_t=x_;break;case"beforeblur":case"afterblur":_t=x_;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=UO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=W0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=ome;break;case lD:case cD:case uD:_t=Y0e;break;case dD:_t=cme;break;case"scroll":_t=V0e;break;case"wheel":_t=dme;break;case"copy":case"cut":case"paste":_t=Q0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=VO}var qt=(g&4)!==0,ii=!qt&&m==="scroll",Re=qt?et!==null?et+"Capture":null:et;qt=[];for(var Ne=ze,Fe;Ne!==null;){Fe=Ne;var ht=Fe.stateNode;if(Fe.tag===5&&ht!==null&&(Fe=ht,Re!==null&&(ht=Ar(Ne,Re),ht!=null&&qt.push(t1(Ne,ht,Fe)))),ii)break;Ne=Ne.return}0<qt.length&&(et=new _t(et,$t,null,S,it),at.push({event:et,listeners:qt}))}}if((g&7)===0){e:{if(et=m==="mouseover"||m==="pointerover",_t=m==="mouseout"||m==="pointerout",et&&S!==dn&&($t=S.relatedTarget||S.fromElement)&&(Vf($t)||$t[Dc]))break e;if((_t||et)&&(et=it.window===it?it:(et=it.ownerDocument)?et.defaultView||et.parentWindow:window,_t?($t=S.relatedTarget||S.toElement,_t=ze,$t=$t?Vf($t):null,$t!==null&&(ii=Wt($t),$t!==ii||$t.tag!==5&&$t.tag!==6)&&($t=null)):(_t=null,$t=ze),_t!==$t)){if(qt=UO,ht="onMouseLeave",Re="onMouseEnter",Ne="mouse",(m==="pointerout"||m==="pointerover")&&(qt=VO,ht="onPointerLeave",Re="onPointerEnter",Ne="pointer"),ii=_t==null?et:J0(_t),Fe=$t==null?et:J0($t),et=new qt(ht,Ne+"leave",_t,S,it),et.target=ii,et.relatedTarget=Fe,ht=null,Vf(it)===ze&&(qt=new qt(Re,Ne+"enter",$t,S,it),qt.target=Fe,qt.relatedTarget=ii,ht=qt),ii=ht,_t&&$t)t:{for(qt=_t,Re=$t,Ne=0,Fe=qt;Fe;Fe=Q0(Fe))Ne++;for(Fe=0,ht=Re;ht;ht=Q0(ht))Fe++;for(;0<Ne-Fe;)qt=Q0(qt),Ne--;for(;0<Fe-Ne;)Re=Q0(Re),Fe--;for(;Ne--;){if(qt===Re||Re!==null&&qt===Re.alternate)break t;qt=Q0(qt),Re=Q0(Re)}qt=null}else qt=null;_t!==null&&vD(at,et,_t,qt,!1),$t!==null&&ii!==null&&vD(at,ii,$t,qt,!0)}}e:{if(et=ze?J0(ze):window,_t=et.nodeName&&et.nodeName.toLowerCase(),_t==="select"||_t==="input"&&et.type==="file")var Yt=yme;else if(XO(et))if(ZO)Yt=Eme;else{Yt=bme;var tn=xme}else(_t=et.nodeName)&&_t.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Yt=wme);if(Yt&&(Yt=Yt(m,ze))){QO(at,Yt,S,it);break e}tn&&tn(m,et,ze),m==="focusout"&&(tn=et._wrapperState)&&tn.controlled&&et.type==="number"&&Tt(et,"number",et.value)}switch(tn=ze?J0(ze):window,m){case"focusin":(XO(tn)||tn.contentEditable==="true")&&(Y0=tn,__=ze,Zg=null);break;case"focusout":Zg=__=Y0=null;break;case"mousedown":C_=!0;break;case"contextmenu":case"mouseup":case"dragend":C_=!1,aD(at,S,it);break;case"selectionchange":if(_me)break;case"keydown":case"keyup":aD(at,S,it)}var nn;if(w_)e:{switch(m){case"compositionstart":var cn="onCompositionStart";break e;case"compositionend":cn="onCompositionEnd";break e;case"compositionupdate":cn="onCompositionUpdate";break e}cn=void 0}else K0?KO(m,S)&&(cn="onCompositionEnd"):m==="keydown"&&S.keyCode===229&&(cn="onCompositionStart");cn&&(qO&&S.locale!=="ko"&&(K0||cn!=="onCompositionStart"?cn==="onCompositionEnd"&&K0&&(nn=zO()):(ad=it,p_="value"in ad?ad.value:ad.textContent,K0=!0)),tn=jb(ze,cn),0<tn.length&&(cn=new HO(cn,m,null,S,it),at.push({event:cn,listeners:tn}),nn?cn.data=nn:(nn=YO(S),nn!==null&&(cn.data=nn)))),(nn=hme?mme(m,S):pme(m,S))&&(ze=jb(ze,"onBeforeInput"),0<ze.length&&(it=new HO("onBeforeInput","beforeinput",null,S,it),at.push({event:it,listeners:ze}),it.data=nn))}pD(at,g)})}function t1(m,g,S){return{instance:m,listener:g,currentTarget:S}}function jb(m,g){for(var S=g+"Capture",N=[];m!==null;){var R=m,F=R.stateNode;R.tag===5&&F!==null&&(R=F,F=Ar(m,S),F!=null&&N.unshift(t1(m,F,R)),F=Ar(m,g),F!=null&&N.push(t1(m,F,R))),m=m.return}return N}function Q0(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function vD(m,g,S,N,R){for(var F=g._reactName,ee=[];S!==null&&S!==N;){var me=S,Se=me.alternate,ze=me.stateNode;if(Se!==null&&Se===N)break;me.tag===5&&ze!==null&&(me=ze,R?(Se=Ar(S,F),Se!=null&&ee.unshift(t1(S,Se,me))):R||(Se=Ar(S,F),Se!=null&&ee.push(t1(S,Se,me)))),S=S.return}ee.length!==0&&m.push({event:g,listeners:ee})}var Ame=/\r\n?/g,jme=/\u0000|\uFFFD/g;function yD(m){return(typeof m=="string"?m:""+m).replace(Ame,`
`).replace(jme,"")}function Pb(m,g,S){if(g=yD(g),yD(m)!==g&&S)throw Error(n(425))}function Ib(){}var I_=null,R_=null;function M_(m,g){return m==="textarea"||m==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var O_=typeof setTimeout=="function"?setTimeout:void 0,Pme=typeof clearTimeout=="function"?clearTimeout:void 0,xD=typeof Promise=="function"?Promise:void 0,Ime=typeof queueMicrotask=="function"?queueMicrotask:typeof xD<"u"?function(m){return xD.resolve(null).then(m).catch(Rme)}:O_;function Rme(m){setTimeout(function(){throw m})}function D_(m,g){var S=g,N=0;do{var R=S.nextSibling;if(m.removeChild(S),R&&R.nodeType===8)if(S=R.data,S==="/$"){if(N===0){m.removeChild(R),qg(g);return}N--}else S!=="$"&&S!=="$?"&&S!=="$!"||N++;S=R}while(S);qg(g)}function ld(m){for(;m!=null;m=m.nextSibling){var g=m.nodeType;if(g===1||g===3)break;if(g===8){if(g=m.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return m}function bD(m){m=m.previousSibling;for(var g=0;m;){if(m.nodeType===8){var S=m.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return m;g--}else S==="/$"&&g++}m=m.previousSibling}return null}var Z0=Math.random().toString(36).slice(2),$l="__reactFiber$"+Z0,n1="__reactProps$"+Z0,Dc="__reactContainer$"+Z0,L_="__reactEvents$"+Z0,Mme="__reactListeners$"+Z0,Ome="__reactHandles$"+Z0;function Vf(m){var g=m[$l];if(g)return g;for(var S=m.parentNode;S;){if(g=S[Dc]||S[$l]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(m=bD(m);m!==null;){if(S=m[$l])return S;m=bD(m)}return g}m=S,S=m.parentNode}return null}function r1(m){return m=m[$l]||m[Dc],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function J0(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function Rb(m){return m[n1]||null}var F_=[],em=-1;function cd(m){return{current:m}}function kr(m){0>em||(m.current=F_[em],F_[em]=null,em--)}function vr(m,g){em++,F_[em]=m.current,m.current=g}var ud={},ys=cd(ud),na=cd(!1),qf=ud;function tm(m,g){var S=m.type.contextTypes;if(!S)return ud;var N=m.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var R={},F;for(F in S)R[F]=g[F];return N&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=R),R}function ra(m){return m=m.childContextTypes,m!=null}function Mb(){kr(na),kr(ys)}function wD(m,g,S){if(ys.current!==ud)throw Error(n(168));vr(ys,g),vr(na,S)}function ED(m,g,S){var N=m.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return S;N=N.getChildContext();for(var R in N)if(!(R in g))throw Error(n(108,Q(m)||"Unknown",R));return j({},S,N)}function Ob(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||ud,qf=ys.current,vr(ys,m),vr(na,na.current),!0}function SD(m,g,S){var N=m.stateNode;if(!N)throw Error(n(169));S?(m=ED(m,g,qf),N.__reactInternalMemoizedMergedChildContext=m,kr(na),kr(ys),vr(ys,m)):kr(na),vr(na,S)}var Lc=null,Db=!1,$_=!1;function kD(m){Lc===null?Lc=[m]:Lc.push(m)}function Dme(m){Db=!0,kD(m)}function dd(){if(!$_&&Lc!==null){$_=!0;var m=0,g=nr;try{var S=Lc;for(nr=1;m<S.length;m++){var N=S[m];do N=N(!0);while(N!==null)}Lc=null,Db=!1}catch(R){throw Lc!==null&&(Lc=Lc.slice(m+1)),Vn(eo,dd),R}finally{nr=g,$_=!1}}return null}var nm=[],rm=0,Lb=null,Fb=0,ro=[],io=0,Wf=null,Fc=1,$c="";function Gf(m,g){nm[rm++]=Fb,nm[rm++]=Lb,Lb=m,Fb=g}function _D(m,g,S){ro[io++]=Fc,ro[io++]=$c,ro[io++]=Wf,Wf=m;var N=Fc;m=$c;var R=32-jr(N)-1;N&=~(1<<R),S+=1;var F=32-jr(g)+R;if(30<F){var ee=R-R%5;F=(N&(1<<ee)-1).toString(32),N>>=ee,R-=ee,Fc=1<<32-jr(g)+R|S<<R|N,$c=F+m}else Fc=1<<F|S<<R|N,$c=m}function z_(m){m.return!==null&&(Gf(m,1),_D(m,1,0))}function B_(m){for(;m===Lb;)Lb=nm[--rm],nm[rm]=null,Fb=nm[--rm],nm[rm]=null;for(;m===Wf;)Wf=ro[--io],ro[io]=null,$c=ro[--io],ro[io]=null,Fc=ro[--io],ro[io]=null}var Aa=null,ja=null,Pr=!1,Ko=null;function CD(m,g){var S=lo(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=m,g=m.deletions,g===null?(m.deletions=[S],m.flags|=16):g.push(S)}function ND(m,g){switch(m.tag){case 5:var S=m.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(m.stateNode=g,Aa=m,ja=ld(g.firstChild),!0):!1;case 6:return g=m.pendingProps===""||g.nodeType!==3?null:g,g!==null?(m.stateNode=g,Aa=m,ja=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Wf!==null?{id:Fc,overflow:$c}:null,m.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=lo(18,null,null,0),S.stateNode=g,S.return=m,m.child=S,Aa=m,ja=null,!0):!1;default:return!1}}function U_(m){return(m.mode&1)!==0&&(m.flags&128)===0}function H_(m){if(Pr){var g=ja;if(g){var S=g;if(!ND(m,g)){if(U_(m))throw Error(n(418));g=ld(S.nextSibling);var N=Aa;g&&ND(m,g)?CD(N,S):(m.flags=m.flags&-4097|2,Pr=!1,Aa=m)}}else{if(U_(m))throw Error(n(418));m.flags=m.flags&-4097|2,Pr=!1,Aa=m}}}function TD(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Aa=m}function $b(m){if(m!==Aa)return!1;if(!Pr)return TD(m),Pr=!0,!1;var g;if((g=m.tag!==3)&&!(g=m.tag!==5)&&(g=m.type,g=g!=="head"&&g!=="body"&&!M_(m.type,m.memoizedProps)),g&&(g=ja)){if(U_(m))throw AD(),Error(n(418));for(;g;)CD(m,g),g=ld(g.nextSibling)}if(TD(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,g=0;m;){if(m.nodeType===8){var S=m.data;if(S==="/$"){if(g===0){ja=ld(m.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}m=m.nextSibling}ja=null}}else ja=Aa?ld(m.stateNode.nextSibling):null;return!0}function AD(){for(var m=ja;m;)m=ld(m.nextSibling)}function im(){ja=Aa=null,Pr=!1}function V_(m){Ko===null?Ko=[m]:Ko.push(m)}var Lme=_.ReactCurrentBatchConfig;function i1(m,g,S){if(m=S.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(n(309));var N=S.stateNode}if(!N)throw Error(n(147,m));var R=N,F=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===F?g.ref:(g=function(ee){var me=R.refs;ee===null?delete me[F]:me[F]=ee},g._stringRef=F,g)}if(typeof m!="string")throw Error(n(284));if(!S._owner)throw Error(n(290,m))}return m}function zb(m,g){throw m=Object.prototype.toString.call(g),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function jD(m){var g=m._init;return g(m._payload)}function PD(m){function g(Re,Ne){if(m){var Fe=Re.deletions;Fe===null?(Re.deletions=[Ne],Re.flags|=16):Fe.push(Ne)}}function S(Re,Ne){if(!m)return null;for(;Ne!==null;)g(Re,Ne),Ne=Ne.sibling;return null}function N(Re,Ne){for(Re=new Map;Ne!==null;)Ne.key!==null?Re.set(Ne.key,Ne):Re.set(Ne.index,Ne),Ne=Ne.sibling;return Re}function R(Re,Ne){return Re=xd(Re,Ne),Re.index=0,Re.sibling=null,Re}function F(Re,Ne,Fe){return Re.index=Fe,m?(Fe=Re.alternate,Fe!==null?(Fe=Fe.index,Fe<Ne?(Re.flags|=2,Ne):Fe):(Re.flags|=2,Ne)):(Re.flags|=1048576,Ne)}function ee(Re){return m&&Re.alternate===null&&(Re.flags|=2),Re}function me(Re,Ne,Fe,ht){return Ne===null||Ne.tag!==6?(Ne=OC(Fe,Re.mode,ht),Ne.return=Re,Ne):(Ne=R(Ne,Fe),Ne.return=Re,Ne)}function Se(Re,Ne,Fe,ht){var Yt=Fe.type;return Yt===C?it(Re,Ne,Fe.props.children,ht,Fe.key):Ne!==null&&(Ne.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===W&&jD(Yt)===Ne.type)?(ht=R(Ne,Fe.props),ht.ref=i1(Re,Ne,Fe),ht.return=Re,ht):(ht=uw(Fe.type,Fe.key,Fe.props,null,Re.mode,ht),ht.ref=i1(Re,Ne,Fe),ht.return=Re,ht)}function ze(Re,Ne,Fe,ht){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Fe.containerInfo||Ne.stateNode.implementation!==Fe.implementation?(Ne=DC(Fe,Re.mode,ht),Ne.return=Re,Ne):(Ne=R(Ne,Fe.children||[]),Ne.return=Re,Ne)}function it(Re,Ne,Fe,ht,Yt){return Ne===null||Ne.tag!==7?(Ne=th(Fe,Re.mode,ht,Yt),Ne.return=Re,Ne):(Ne=R(Ne,Fe),Ne.return=Re,Ne)}function at(Re,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Ne=OC(""+Ne,Re.mode,Fe),Ne.return=Re,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case A:return Fe=uw(Ne.type,Ne.key,Ne.props,null,Re.mode,Fe),Fe.ref=i1(Re,null,Ne),Fe.return=Re,Fe;case T:return Ne=DC(Ne,Re.mode,Fe),Ne.return=Re,Ne;case W:var ht=Ne._init;return at(Re,ht(Ne._payload),Fe)}if(ue(Ne)||G(Ne))return Ne=th(Ne,Re.mode,Fe,null),Ne.return=Re,Ne;zb(Re,Ne)}return null}function et(Re,Ne,Fe,ht){var Yt=Ne!==null?Ne.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Yt!==null?null:me(Re,Ne,""+Fe,ht);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case A:return Fe.key===Yt?Se(Re,Ne,Fe,ht):null;case T:return Fe.key===Yt?ze(Re,Ne,Fe,ht):null;case W:return Yt=Fe._init,et(Re,Ne,Yt(Fe._payload),ht)}if(ue(Fe)||G(Fe))return Yt!==null?null:it(Re,Ne,Fe,ht,null);zb(Re,Fe)}return null}function _t(Re,Ne,Fe,ht,Yt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Re=Re.get(Fe)||null,me(Ne,Re,""+ht,Yt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case A:return Re=Re.get(ht.key===null?Fe:ht.key)||null,Se(Ne,Re,ht,Yt);case T:return Re=Re.get(ht.key===null?Fe:ht.key)||null,ze(Ne,Re,ht,Yt);case W:var tn=ht._init;return _t(Re,Ne,Fe,tn(ht._payload),Yt)}if(ue(ht)||G(ht))return Re=Re.get(Fe)||null,it(Ne,Re,ht,Yt,null);zb(Ne,ht)}return null}function $t(Re,Ne,Fe,ht){for(var Yt=null,tn=null,nn=Ne,cn=Ne=0,Wi=null;nn!==null&&cn<Fe.length;cn++){nn.index>cn?(Wi=nn,nn=null):Wi=nn.sibling;var Gn=et(Re,nn,Fe[cn],ht);if(Gn===null){nn===null&&(nn=Wi);break}m&&nn&&Gn.alternate===null&&g(Re,nn),Ne=F(Gn,Ne,cn),tn===null?Yt=Gn:tn.sibling=Gn,tn=Gn,nn=Wi}if(cn===Fe.length)return S(Re,nn),Pr&&Gf(Re,cn),Yt;if(nn===null){for(;cn<Fe.length;cn++)nn=at(Re,Fe[cn],ht),nn!==null&&(Ne=F(nn,Ne,cn),tn===null?Yt=nn:tn.sibling=nn,tn=nn);return Pr&&Gf(Re,cn),Yt}for(nn=N(Re,nn);cn<Fe.length;cn++)Wi=_t(nn,Re,cn,Fe[cn],ht),Wi!==null&&(m&&Wi.alternate!==null&&nn.delete(Wi.key===null?cn:Wi.key),Ne=F(Wi,Ne,cn),tn===null?Yt=Wi:tn.sibling=Wi,tn=Wi);return m&&nn.forEach(function(bd){return g(Re,bd)}),Pr&&Gf(Re,cn),Yt}function qt(Re,Ne,Fe,ht){var Yt=G(Fe);if(typeof Yt!="function")throw Error(n(150));if(Fe=Yt.call(Fe),Fe==null)throw Error(n(151));for(var tn=Yt=null,nn=Ne,cn=Ne=0,Wi=null,Gn=Fe.next();nn!==null&&!Gn.done;cn++,Gn=Fe.next()){nn.index>cn?(Wi=nn,nn=null):Wi=nn.sibling;var bd=et(Re,nn,Gn.value,ht);if(bd===null){nn===null&&(nn=Wi);break}m&&nn&&bd.alternate===null&&g(Re,nn),Ne=F(bd,Ne,cn),tn===null?Yt=bd:tn.sibling=bd,tn=bd,nn=Wi}if(Gn.done)return S(Re,nn),Pr&&Gf(Re,cn),Yt;if(nn===null){for(;!Gn.done;cn++,Gn=Fe.next())Gn=at(Re,Gn.value,ht),Gn!==null&&(Ne=F(Gn,Ne,cn),tn===null?Yt=Gn:tn.sibling=Gn,tn=Gn);return Pr&&Gf(Re,cn),Yt}for(nn=N(Re,nn);!Gn.done;cn++,Gn=Fe.next())Gn=_t(nn,Re,cn,Gn.value,ht),Gn!==null&&(m&&Gn.alternate!==null&&nn.delete(Gn.key===null?cn:Gn.key),Ne=F(Gn,Ne,cn),tn===null?Yt=Gn:tn.sibling=Gn,tn=Gn);return m&&nn.forEach(function(gpe){return g(Re,gpe)}),Pr&&Gf(Re,cn),Yt}function ii(Re,Ne,Fe,ht){if(typeof Fe=="object"&&Fe!==null&&Fe.type===C&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case A:e:{for(var Yt=Fe.key,tn=Ne;tn!==null;){if(tn.key===Yt){if(Yt=Fe.type,Yt===C){if(tn.tag===7){S(Re,tn.sibling),Ne=R(tn,Fe.props.children),Ne.return=Re,Re=Ne;break e}}else if(tn.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===W&&jD(Yt)===tn.type){S(Re,tn.sibling),Ne=R(tn,Fe.props),Ne.ref=i1(Re,tn,Fe),Ne.return=Re,Re=Ne;break e}S(Re,tn);break}else g(Re,tn);tn=tn.sibling}Fe.type===C?(Ne=th(Fe.props.children,Re.mode,ht,Fe.key),Ne.return=Re,Re=Ne):(ht=uw(Fe.type,Fe.key,Fe.props,null,Re.mode,ht),ht.ref=i1(Re,Ne,Fe),ht.return=Re,Re=ht)}return ee(Re);case T:e:{for(tn=Fe.key;Ne!==null;){if(Ne.key===tn)if(Ne.tag===4&&Ne.stateNode.containerInfo===Fe.containerInfo&&Ne.stateNode.implementation===Fe.implementation){S(Re,Ne.sibling),Ne=R(Ne,Fe.children||[]),Ne.return=Re,Re=Ne;break e}else{S(Re,Ne);break}else g(Re,Ne);Ne=Ne.sibling}Ne=DC(Fe,Re.mode,ht),Ne.return=Re,Re=Ne}return ee(Re);case W:return tn=Fe._init,ii(Re,Ne,tn(Fe._payload),ht)}if(ue(Fe))return $t(Re,Ne,Fe,ht);if(G(Fe))return qt(Re,Ne,Fe,ht);zb(Re,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,Ne!==null&&Ne.tag===6?(S(Re,Ne.sibling),Ne=R(Ne,Fe),Ne.return=Re,Re=Ne):(S(Re,Ne),Ne=OC(Fe,Re.mode,ht),Ne.return=Re,Re=Ne),ee(Re)):S(Re,Ne)}return ii}var sm=PD(!0),ID=PD(!1),Bb=cd(null),Ub=null,am=null,q_=null;function W_(){q_=am=Ub=null}function G_(m){var g=Bb.current;kr(Bb),m._currentValue=g}function K_(m,g,S){for(;m!==null;){var N=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),m===S)break;m=m.return}}function om(m,g){Ub=m,q_=am=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&g)!==0&&(ia=!0),m.firstContext=null)}function so(m){var g=m._currentValue;if(q_!==m)if(m={context:m,memoizedValue:g,next:null},am===null){if(Ub===null)throw Error(n(308));am=m,Ub.dependencies={lanes:0,firstContext:m}}else am=am.next=m;return g}var Kf=null;function Y_(m){Kf===null?Kf=[m]:Kf.push(m)}function RD(m,g,S,N){var R=g.interleaved;return R===null?(S.next=S,Y_(g)):(S.next=R.next,R.next=S),g.interleaved=S,zc(m,N)}function zc(m,g){m.lanes|=g;var S=m.alternate;for(S!==null&&(S.lanes|=g),S=m,m=m.return;m!==null;)m.childLanes|=g,S=m.alternate,S!==null&&(S.childLanes|=g),S=m,m=m.return;return S.tag===3?S.stateNode:null}var fd=!1;function X_(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MD(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Bc(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function hd(m,g,S){var N=m.updateQueue;if(N===null)return null;if(N=N.shared,(zn&2)!==0){var R=N.pending;return R===null?g.next=g:(g.next=R.next,R.next=g),N.pending=g,zc(m,S)}return R=N.interleaved,R===null?(g.next=g,Y_(N)):(g.next=R.next,R.next=g),N.interleaved=g,zc(m,S)}function Hb(m,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var N=g.lanes;N&=m.pendingLanes,S|=N,g.lanes=S,u_(m,S)}}function OD(m,g){var S=m.updateQueue,N=m.alternate;if(N!==null&&(N=N.updateQueue,S===N)){var R=null,F=null;if(S=S.firstBaseUpdate,S!==null){do{var ee={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};F===null?R=F=ee:F=F.next=ee,S=S.next}while(S!==null);F===null?R=F=g:F=F.next=g}else R=F=g;S={baseState:N.baseState,firstBaseUpdate:R,lastBaseUpdate:F,shared:N.shared,effects:N.effects},m.updateQueue=S;return}m=S.lastBaseUpdate,m===null?S.firstBaseUpdate=g:m.next=g,S.lastBaseUpdate=g}function Vb(m,g,S,N){var R=m.updateQueue;fd=!1;var F=R.firstBaseUpdate,ee=R.lastBaseUpdate,me=R.shared.pending;if(me!==null){R.shared.pending=null;var Se=me,ze=Se.next;Se.next=null,ee===null?F=ze:ee.next=ze,ee=Se;var it=m.alternate;it!==null&&(it=it.updateQueue,me=it.lastBaseUpdate,me!==ee&&(me===null?it.firstBaseUpdate=ze:me.next=ze,it.lastBaseUpdate=Se))}if(F!==null){var at=R.baseState;ee=0,it=ze=Se=null,me=F;do{var et=me.lane,_t=me.eventTime;if((N&et)===et){it!==null&&(it=it.next={eventTime:_t,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var $t=m,qt=me;switch(et=g,_t=S,qt.tag){case 1:if($t=qt.payload,typeof $t=="function"){at=$t.call(_t,at,et);break e}at=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=qt.payload,et=typeof $t=="function"?$t.call(_t,at,et):$t,et==null)break e;at=j({},at,et);break e;case 2:fd=!0}}me.callback!==null&&me.lane!==0&&(m.flags|=64,et=R.effects,et===null?R.effects=[me]:et.push(me))}else _t={eventTime:_t,lane:et,tag:me.tag,payload:me.payload,callback:me.callback,next:null},it===null?(ze=it=_t,Se=at):it=it.next=_t,ee|=et;if(me=me.next,me===null){if(me=R.shared.pending,me===null)break;et=me,me=et.next,et.next=null,R.lastBaseUpdate=et,R.shared.pending=null}}while(!0);if(it===null&&(Se=at),R.baseState=Se,R.firstBaseUpdate=ze,R.lastBaseUpdate=it,g=R.shared.interleaved,g!==null){R=g;do ee|=R.lane,R=R.next;while(R!==g)}else F===null&&(R.shared.lanes=0);Qf|=ee,m.lanes=ee,m.memoizedState=at}}function DD(m,g,S){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var N=m[g],R=N.callback;if(R!==null){if(N.callback=null,N=S,typeof R!="function")throw Error(n(191,R));R.call(N)}}}var s1={},zl=cd(s1),a1=cd(s1),o1=cd(s1);function Yf(m){if(m===s1)throw Error(n(174));return m}function Q_(m,g){switch(vr(o1,g),vr(a1,m),vr(zl,s1),m=g.nodeType,m){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:$e(null,"");break;default:m=m===8?g.parentNode:g,g=m.namespaceURI||null,m=m.tagName,g=$e(g,m)}kr(zl),vr(zl,g)}function lm(){kr(zl),kr(a1),kr(o1)}function LD(m){Yf(o1.current);var g=Yf(zl.current),S=$e(g,m.type);g!==S&&(vr(a1,m),vr(zl,S))}function Z_(m){a1.current===m&&(kr(zl),kr(a1))}var Br=cd(0);function qb(m){for(var g=m;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var J_=[];function eC(){for(var m=0;m<J_.length;m++)J_[m]._workInProgressVersionPrimary=null;J_.length=0}var Wb=_.ReactCurrentDispatcher,tC=_.ReactCurrentBatchConfig,Xf=0,Ur=null,Ai=null,Vi=null,Gb=!1,l1=!1,c1=0,Fme=0;function xs(){throw Error(n(321))}function nC(m,g){if(g===null)return!1;for(var S=0;S<g.length&&S<m.length;S++)if(!Go(m[S],g[S]))return!1;return!0}function rC(m,g,S,N,R,F){if(Xf=F,Ur=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Wb.current=m===null||m.memoizedState===null?Ume:Hme,m=S(N,R),l1){F=0;do{if(l1=!1,c1=0,25<=F)throw Error(n(301));F+=1,Vi=Ai=null,g.updateQueue=null,Wb.current=Vme,m=S(N,R)}while(l1)}if(Wb.current=Xb,g=Ai!==null&&Ai.next!==null,Xf=0,Vi=Ai=Ur=null,Gb=!1,g)throw Error(n(300));return m}function iC(){var m=c1!==0;return c1=0,m}function Bl(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vi===null?Ur.memoizedState=Vi=m:Vi=Vi.next=m,Vi}function ao(){if(Ai===null){var m=Ur.alternate;m=m!==null?m.memoizedState:null}else m=Ai.next;var g=Vi===null?Ur.memoizedState:Vi.next;if(g!==null)Vi=g,Ai=m;else{if(m===null)throw Error(n(310));Ai=m,m={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Vi===null?Ur.memoizedState=Vi=m:Vi=Vi.next=m}return Vi}function u1(m,g){return typeof g=="function"?g(m):g}function sC(m){var g=ao(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=m;var N=Ai,R=N.baseQueue,F=S.pending;if(F!==null){if(R!==null){var ee=R.next;R.next=F.next,F.next=ee}N.baseQueue=R=F,S.pending=null}if(R!==null){F=R.next,N=N.baseState;var me=ee=null,Se=null,ze=F;do{var it=ze.lane;if((Xf&it)===it)Se!==null&&(Se=Se.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),N=ze.hasEagerState?ze.eagerState:m(N,ze.action);else{var at={lane:it,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Se===null?(me=Se=at,ee=N):Se=Se.next=at,Ur.lanes|=it,Qf|=it}ze=ze.next}while(ze!==null&&ze!==F);Se===null?ee=N:Se.next=me,Go(N,g.memoizedState)||(ia=!0),g.memoizedState=N,g.baseState=ee,g.baseQueue=Se,S.lastRenderedState=N}if(m=S.interleaved,m!==null){R=m;do F=R.lane,Ur.lanes|=F,Qf|=F,R=R.next;while(R!==m)}else R===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function aC(m){var g=ao(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=m;var N=S.dispatch,R=S.pending,F=g.memoizedState;if(R!==null){S.pending=null;var ee=R=R.next;do F=m(F,ee.action),ee=ee.next;while(ee!==R);Go(F,g.memoizedState)||(ia=!0),g.memoizedState=F,g.baseQueue===null&&(g.baseState=F),S.lastRenderedState=F}return[F,N]}function FD(){}function $D(m,g){var S=Ur,N=ao(),R=g(),F=!Go(N.memoizedState,R);if(F&&(N.memoizedState=R,ia=!0),N=N.queue,oC(UD.bind(null,S,N,m),[m]),N.getSnapshot!==g||F||Vi!==null&&Vi.memoizedState.tag&1){if(S.flags|=2048,d1(9,BD.bind(null,S,N,R,g),void 0,null),qi===null)throw Error(n(349));(Xf&30)!==0||zD(S,g,R)}return R}function zD(m,g,S){m.flags|=16384,m={getSnapshot:g,value:S},g=Ur.updateQueue,g===null?(g={lastEffect:null,stores:null},Ur.updateQueue=g,g.stores=[m]):(S=g.stores,S===null?g.stores=[m]:S.push(m))}function BD(m,g,S,N){g.value=S,g.getSnapshot=N,HD(g)&&VD(m)}function UD(m,g,S){return S(function(){HD(g)&&VD(m)})}function HD(m){var g=m.getSnapshot;m=m.value;try{var S=g();return!Go(m,S)}catch{return!0}}function VD(m){var g=zc(m,1);g!==null&&Zo(g,m,1,-1)}function qD(m){var g=Bl();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u1,lastRenderedState:m},g.queue=m,m=m.dispatch=Bme.bind(null,Ur,m),[g.memoizedState,m]}function d1(m,g,S,N){return m={tag:m,create:g,destroy:S,deps:N,next:null},g=Ur.updateQueue,g===null?(g={lastEffect:null,stores:null},Ur.updateQueue=g,g.lastEffect=m.next=m):(S=g.lastEffect,S===null?g.lastEffect=m.next=m:(N=S.next,S.next=m,m.next=N,g.lastEffect=m)),m}function WD(){return ao().memoizedState}function Kb(m,g,S,N){var R=Bl();Ur.flags|=m,R.memoizedState=d1(1|g,S,void 0,N===void 0?null:N)}function Yb(m,g,S,N){var R=ao();N=N===void 0?null:N;var F=void 0;if(Ai!==null){var ee=Ai.memoizedState;if(F=ee.destroy,N!==null&&nC(N,ee.deps)){R.memoizedState=d1(g,S,F,N);return}}Ur.flags|=m,R.memoizedState=d1(1|g,S,F,N)}function GD(m,g){return Kb(8390656,8,m,g)}function oC(m,g){return Yb(2048,8,m,g)}function KD(m,g){return Yb(4,2,m,g)}function YD(m,g){return Yb(4,4,m,g)}function XD(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function QD(m,g,S){return S=S!=null?S.concat([m]):null,Yb(4,4,XD.bind(null,g,m),S)}function lC(){}function ZD(m,g){var S=ao();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&nC(g,N[1])?N[0]:(S.memoizedState=[m,g],m)}function JD(m,g){var S=ao();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&nC(g,N[1])?N[0]:(m=m(),S.memoizedState=[m,g],m)}function e9(m,g,S){return(Xf&21)===0?(m.baseState&&(m.baseState=!1,ia=!0),m.memoizedState=S):(Go(S,g)||(S=q0(),Ur.lanes|=S,Qf|=S,m.baseState=!0),g)}function $me(m,g){var S=nr;nr=S!==0&&4>S?S:4,m(!0);var N=tC.transition;tC.transition={};try{m(!1),g()}finally{nr=S,tC.transition=N}}function t9(){return ao().memoizedState}function zme(m,g,S){var N=vd(m);if(S={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null},n9(m))r9(g,S);else if(S=RD(m,g,S,N),S!==null){var R=Ls();Zo(S,m,N,R),i9(S,g,N)}}function Bme(m,g,S){var N=vd(m),R={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null};if(n9(m))r9(g,R);else{var F=m.alternate;if(m.lanes===0&&(F===null||F.lanes===0)&&(F=g.lastRenderedReducer,F!==null))try{var ee=g.lastRenderedState,me=F(ee,S);if(R.hasEagerState=!0,R.eagerState=me,Go(me,ee)){var Se=g.interleaved;Se===null?(R.next=R,Y_(g)):(R.next=Se.next,Se.next=R),g.interleaved=R;return}}catch{}finally{}S=RD(m,g,R,N),S!==null&&(R=Ls(),Zo(S,m,N,R),i9(S,g,N))}}function n9(m){var g=m.alternate;return m===Ur||g!==null&&g===Ur}function r9(m,g){l1=Gb=!0;var S=m.pending;S===null?g.next=g:(g.next=S.next,S.next=g),m.pending=g}function i9(m,g,S){if((S&4194240)!==0){var N=g.lanes;N&=m.pendingLanes,S|=N,g.lanes=S,u_(m,S)}}var Xb={readContext:so,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},Ume={readContext:so,useCallback:function(m,g){return Bl().memoizedState=[m,g===void 0?null:g],m},useContext:so,useEffect:GD,useImperativeHandle:function(m,g,S){return S=S!=null?S.concat([m]):null,Kb(4194308,4,XD.bind(null,g,m),S)},useLayoutEffect:function(m,g){return Kb(4194308,4,m,g)},useInsertionEffect:function(m,g){return Kb(4,2,m,g)},useMemo:function(m,g){var S=Bl();return g=g===void 0?null:g,m=m(),S.memoizedState=[m,g],m},useReducer:function(m,g,S){var N=Bl();return g=S!==void 0?S(g):g,N.memoizedState=N.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},N.queue=m,m=m.dispatch=zme.bind(null,Ur,m),[N.memoizedState,m]},useRef:function(m){var g=Bl();return m={current:m},g.memoizedState=m},useState:qD,useDebugValue:lC,useDeferredValue:function(m){return Bl().memoizedState=m},useTransition:function(){var m=qD(!1),g=m[0];return m=$me.bind(null,m[1]),Bl().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,S){var N=Ur,R=Bl();if(Pr){if(S===void 0)throw Error(n(407));S=S()}else{if(S=g(),qi===null)throw Error(n(349));(Xf&30)!==0||zD(N,g,S)}R.memoizedState=S;var F={value:S,getSnapshot:g};return R.queue=F,GD(UD.bind(null,N,F,m),[m]),N.flags|=2048,d1(9,BD.bind(null,N,F,S,g),void 0,null),S},useId:function(){var m=Bl(),g=qi.identifierPrefix;if(Pr){var S=$c,N=Fc;S=(N&~(1<<32-jr(N)-1)).toString(32)+S,g=":"+g+"R"+S,S=c1++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=Fme++,g=":"+g+"r"+S.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},Hme={readContext:so,useCallback:ZD,useContext:so,useEffect:oC,useImperativeHandle:QD,useInsertionEffect:KD,useLayoutEffect:YD,useMemo:JD,useReducer:sC,useRef:WD,useState:function(){return sC(u1)},useDebugValue:lC,useDeferredValue:function(m){var g=ao();return e9(g,Ai.memoizedState,m)},useTransition:function(){var m=sC(u1)[0],g=ao().memoizedState;return[m,g]},useMutableSource:FD,useSyncExternalStore:$D,useId:t9,unstable_isNewReconciler:!1},Vme={readContext:so,useCallback:ZD,useContext:so,useEffect:oC,useImperativeHandle:QD,useInsertionEffect:KD,useLayoutEffect:YD,useMemo:JD,useReducer:aC,useRef:WD,useState:function(){return aC(u1)},useDebugValue:lC,useDeferredValue:function(m){var g=ao();return Ai===null?g.memoizedState=m:e9(g,Ai.memoizedState,m)},useTransition:function(){var m=aC(u1)[0],g=ao().memoizedState;return[m,g]},useMutableSource:FD,useSyncExternalStore:$D,useId:t9,unstable_isNewReconciler:!1};function Yo(m,g){if(m&&m.defaultProps){g=j({},g),m=m.defaultProps;for(var S in m)g[S]===void 0&&(g[S]=m[S]);return g}return g}function cC(m,g,S,N){g=m.memoizedState,S=S(N,g),S=S==null?g:j({},g,S),m.memoizedState=S,m.lanes===0&&(m.updateQueue.baseState=S)}var Qb={isMounted:function(m){return(m=m._reactInternals)?Wt(m)===m:!1},enqueueSetState:function(m,g,S){m=m._reactInternals;var N=Ls(),R=vd(m),F=Bc(N,R);F.payload=g,S!=null&&(F.callback=S),g=hd(m,F,R),g!==null&&(Zo(g,m,R,N),Hb(g,m,R))},enqueueReplaceState:function(m,g,S){m=m._reactInternals;var N=Ls(),R=vd(m),F=Bc(N,R);F.tag=1,F.payload=g,S!=null&&(F.callback=S),g=hd(m,F,R),g!==null&&(Zo(g,m,R,N),Hb(g,m,R))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var S=Ls(),N=vd(m),R=Bc(S,N);R.tag=2,g!=null&&(R.callback=g),g=hd(m,R,N),g!==null&&(Zo(g,m,N,S),Hb(g,m,N))}};function s9(m,g,S,N,R,F,ee){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(N,F,ee):g.prototype&&g.prototype.isPureReactComponent?!Qg(S,N)||!Qg(R,F):!0}function a9(m,g,S){var N=!1,R=ud,F=g.contextType;return typeof F=="object"&&F!==null?F=so(F):(R=ra(g)?qf:ys.current,N=g.contextTypes,F=(N=N!=null)?tm(m,R):ud),g=new g(S,F),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qb,m.stateNode=g,g._reactInternals=m,N&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=R,m.__reactInternalMemoizedMaskedChildContext=F),g}function o9(m,g,S,N){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,N),g.state!==m&&Qb.enqueueReplaceState(g,g.state,null)}function uC(m,g,S,N){var R=m.stateNode;R.props=S,R.state=m.memoizedState,R.refs={},X_(m);var F=g.contextType;typeof F=="object"&&F!==null?R.context=so(F):(F=ra(g)?qf:ys.current,R.context=tm(m,F)),R.state=m.memoizedState,F=g.getDerivedStateFromProps,typeof F=="function"&&(cC(m,g,F,S),R.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(g=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),g!==R.state&&Qb.enqueueReplaceState(R,R.state,null),Vb(m,S,R,N),R.state=m.memoizedState),typeof R.componentDidMount=="function"&&(m.flags|=4194308)}function cm(m,g){try{var S="",N=g;do S+=ne(N),N=N.return;while(N);var R=S}catch(F){R=`
Error generating stack: `+F.message+`
`+F.stack}return{value:m,source:g,stack:R,digest:null}}function dC(m,g,S){return{value:m,source:null,stack:S??null,digest:g??null}}function fC(m,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var qme=typeof WeakMap=="function"?WeakMap:Map;function l9(m,g,S){S=Bc(-1,S),S.tag=3,S.payload={element:null};var N=g.value;return S.callback=function(){iw||(iw=!0,NC=N),fC(m,g)},S}function c9(m,g,S){S=Bc(-1,S),S.tag=3;var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var R=g.value;S.payload=function(){return N(R)},S.callback=function(){fC(m,g)}}var F=m.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(S.callback=function(){fC(m,g),typeof N!="function"&&(pd===null?pd=new Set([this]):pd.add(this));var ee=g.stack;this.componentDidCatch(g.value,{componentStack:ee!==null?ee:""})}),S}function u9(m,g,S){var N=m.pingCache;if(N===null){N=m.pingCache=new qme;var R=new Set;N.set(g,R)}else R=N.get(g),R===void 0&&(R=new Set,N.set(g,R));R.has(S)||(R.add(S),m=spe.bind(null,m,g,S),g.then(m,m))}function d9(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function f9(m,g,S,N,R){return(m.mode&1)===0?(m===g?m.flags|=65536:(m.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Bc(-1,1),g.tag=2,hd(S,g,1))),S.lanes|=1),m):(m.flags|=65536,m.lanes=R,m)}var Wme=_.ReactCurrentOwner,ia=!1;function Ds(m,g,S,N){g.child=m===null?ID(g,null,S,N):sm(g,m.child,S,N)}function h9(m,g,S,N,R){S=S.render;var F=g.ref;return om(g,R),N=rC(m,g,S,N,F,R),S=iC(),m!==null&&!ia?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~R,Uc(m,g,R)):(Pr&&S&&z_(g),g.flags|=1,Ds(m,g,N,R),g.child)}function m9(m,g,S,N,R){if(m===null){var F=S.type;return typeof F=="function"&&!MC(F)&&F.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=F,p9(m,g,F,N,R)):(m=uw(S.type,null,N,g,g.mode,R),m.ref=g.ref,m.return=g,g.child=m)}if(F=m.child,(m.lanes&R)===0){var ee=F.memoizedProps;if(S=S.compare,S=S!==null?S:Qg,S(ee,N)&&m.ref===g.ref)return Uc(m,g,R)}return g.flags|=1,m=xd(F,N),m.ref=g.ref,m.return=g,g.child=m}function p9(m,g,S,N,R){if(m!==null){var F=m.memoizedProps;if(Qg(F,N)&&m.ref===g.ref)if(ia=!1,g.pendingProps=N=F,(m.lanes&R)!==0)(m.flags&131072)!==0&&(ia=!0);else return g.lanes=m.lanes,Uc(m,g,R)}return hC(m,g,S,N,R)}function g9(m,g,S){var N=g.pendingProps,R=N.children,F=m!==null?m.memoizedState:null;if(N.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(dm,Pa),Pa|=S;else{if((S&1073741824)===0)return m=F!==null?F.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null,transitions:null},g.updateQueue=null,vr(dm,Pa),Pa|=m,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=F!==null?F.baseLanes:S,vr(dm,Pa),Pa|=N}else F!==null?(N=F.baseLanes|S,g.memoizedState=null):N=S,vr(dm,Pa),Pa|=N;return Ds(m,g,R,S),g.child}function v9(m,g){var S=g.ref;(m===null&&S!==null||m!==null&&m.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function hC(m,g,S,N,R){var F=ra(S)?qf:ys.current;return F=tm(g,F),om(g,R),S=rC(m,g,S,N,F,R),N=iC(),m!==null&&!ia?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~R,Uc(m,g,R)):(Pr&&N&&z_(g),g.flags|=1,Ds(m,g,S,R),g.child)}function y9(m,g,S,N,R){if(ra(S)){var F=!0;Ob(g)}else F=!1;if(om(g,R),g.stateNode===null)Jb(m,g),a9(g,S,N),uC(g,S,N,R),N=!0;else if(m===null){var ee=g.stateNode,me=g.memoizedProps;ee.props=me;var Se=ee.context,ze=S.contextType;typeof ze=="object"&&ze!==null?ze=so(ze):(ze=ra(S)?qf:ys.current,ze=tm(g,ze));var it=S.getDerivedStateFromProps,at=typeof it=="function"||typeof ee.getSnapshotBeforeUpdate=="function";at||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==N||Se!==ze)&&o9(g,ee,N,ze),fd=!1;var et=g.memoizedState;ee.state=et,Vb(g,N,ee,R),Se=g.memoizedState,me!==N||et!==Se||na.current||fd?(typeof it=="function"&&(cC(g,S,it,N),Se=g.memoizedState),(me=fd||s9(g,S,me,N,et,Se,ze))?(at||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Se),ee.props=N,ee.state=Se,ee.context=ze,N=me):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{ee=g.stateNode,MD(m,g),me=g.memoizedProps,ze=g.type===g.elementType?me:Yo(g.type,me),ee.props=ze,at=g.pendingProps,et=ee.context,Se=S.contextType,typeof Se=="object"&&Se!==null?Se=so(Se):(Se=ra(S)?qf:ys.current,Se=tm(g,Se));var _t=S.getDerivedStateFromProps;(it=typeof _t=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(me!==at||et!==Se)&&o9(g,ee,N,Se),fd=!1,et=g.memoizedState,ee.state=et,Vb(g,N,ee,R);var $t=g.memoizedState;me!==at||et!==$t||na.current||fd?(typeof _t=="function"&&(cC(g,S,_t,N),$t=g.memoizedState),(ze=fd||s9(g,S,ze,N,et,$t,Se)||!1)?(it||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(N,$t,Se),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(N,$t,Se)),typeof ee.componentDidUpdate=="function"&&(g.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ee.componentDidUpdate!="function"||me===m.memoizedProps&&et===m.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===m.memoizedProps&&et===m.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=$t),ee.props=N,ee.state=$t,ee.context=Se,N=ze):(typeof ee.componentDidUpdate!="function"||me===m.memoizedProps&&et===m.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||me===m.memoizedProps&&et===m.memoizedState||(g.flags|=1024),N=!1)}return mC(m,g,S,N,F,R)}function mC(m,g,S,N,R,F){v9(m,g);var ee=(g.flags&128)!==0;if(!N&&!ee)return R&&SD(g,S,!1),Uc(m,g,F);N=g.stateNode,Wme.current=g;var me=ee&&typeof S.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,m!==null&&ee?(g.child=sm(g,m.child,null,F),g.child=sm(g,null,me,F)):Ds(m,g,me,F),g.memoizedState=N.state,R&&SD(g,S,!0),g.child}function x9(m){var g=m.stateNode;g.pendingContext?wD(m,g.pendingContext,g.pendingContext!==g.context):g.context&&wD(m,g.context,!1),Q_(m,g.containerInfo)}function b9(m,g,S,N,R){return im(),V_(R),g.flags|=256,Ds(m,g,S,N),g.child}var pC={dehydrated:null,treeContext:null,retryLane:0};function gC(m){return{baseLanes:m,cachePool:null,transitions:null}}function w9(m,g,S){var N=g.pendingProps,R=Br.current,F=!1,ee=(g.flags&128)!==0,me;if((me=ee)||(me=m!==null&&m.memoizedState===null?!1:(R&2)!==0),me?(F=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(R|=1),vr(Br,R&1),m===null)return H_(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((g.mode&1)===0?g.lanes=1:m.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(ee=N.children,m=N.fallback,F?(N=g.mode,F=g.child,ee={mode:"hidden",children:ee},(N&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=ee):F=dw(ee,N,0,null),m=th(m,N,S,null),F.return=g,m.return=g,F.sibling=m,g.child=F,g.child.memoizedState=gC(S),g.memoizedState=pC,m):vC(g,ee));if(R=m.memoizedState,R!==null&&(me=R.dehydrated,me!==null))return Gme(m,g,ee,N,me,R,S);if(F){F=N.fallback,ee=g.mode,R=m.child,me=R.sibling;var Se={mode:"hidden",children:N.children};return(ee&1)===0&&g.child!==R?(N=g.child,N.childLanes=0,N.pendingProps=Se,g.deletions=null):(N=xd(R,Se),N.subtreeFlags=R.subtreeFlags&14680064),me!==null?F=xd(me,F):(F=th(F,ee,S,null),F.flags|=2),F.return=g,N.return=g,N.sibling=F,g.child=N,N=F,F=g.child,ee=m.child.memoizedState,ee=ee===null?gC(S):{baseLanes:ee.baseLanes|S,cachePool:null,transitions:ee.transitions},F.memoizedState=ee,F.childLanes=m.childLanes&~S,g.memoizedState=pC,N}return F=m.child,m=F.sibling,N=xd(F,{mode:"visible",children:N.children}),(g.mode&1)===0&&(N.lanes=S),N.return=g,N.sibling=null,m!==null&&(S=g.deletions,S===null?(g.deletions=[m],g.flags|=16):S.push(m)),g.child=N,g.memoizedState=null,N}function vC(m,g){return g=dw({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function Zb(m,g,S,N){return N!==null&&V_(N),sm(g,m.child,null,S),m=vC(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function Gme(m,g,S,N,R,F,ee){if(S)return g.flags&256?(g.flags&=-257,N=dC(Error(n(422))),Zb(m,g,ee,N)):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(F=N.fallback,R=g.mode,N=dw({mode:"visible",children:N.children},R,0,null),F=th(F,R,ee,null),F.flags|=2,N.return=g,F.return=g,N.sibling=F,g.child=N,(g.mode&1)!==0&&sm(g,m.child,null,ee),g.child.memoizedState=gC(ee),g.memoizedState=pC,F);if((g.mode&1)===0)return Zb(m,g,ee,null);if(R.data==="$!"){if(N=R.nextSibling&&R.nextSibling.dataset,N)var me=N.dgst;return N=me,F=Error(n(419)),N=dC(F,N,void 0),Zb(m,g,ee,N)}if(me=(ee&m.childLanes)!==0,ia||me){if(N=qi,N!==null){switch(ee&-ee){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(N.suspendedLanes|ee))!==0?0:R,R!==0&&R!==F.retryLane&&(F.retryLane=R,zc(m,R),Zo(N,m,R,-1))}return RC(),N=dC(Error(n(421))),Zb(m,g,ee,N)}return R.data==="$?"?(g.flags|=128,g.child=m.child,g=ape.bind(null,m),R._reactRetry=g,null):(m=F.treeContext,ja=ld(R.nextSibling),Aa=g,Pr=!0,Ko=null,m!==null&&(ro[io++]=Fc,ro[io++]=$c,ro[io++]=Wf,Fc=m.id,$c=m.overflow,Wf=g),g=vC(g,N.children),g.flags|=4096,g)}function E9(m,g,S){m.lanes|=g;var N=m.alternate;N!==null&&(N.lanes|=g),K_(m.return,g,S)}function yC(m,g,S,N,R){var F=m.memoizedState;F===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:S,tailMode:R}:(F.isBackwards=g,F.rendering=null,F.renderingStartTime=0,F.last=N,F.tail=S,F.tailMode=R)}function S9(m,g,S){var N=g.pendingProps,R=N.revealOrder,F=N.tail;if(Ds(m,g,N.children,S),N=Br.current,(N&2)!==0)N=N&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&E9(m,S,g);else if(m.tag===19)E9(m,S,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}N&=1}if(vr(Br,N),(g.mode&1)===0)g.memoizedState=null;else switch(R){case"forwards":for(S=g.child,R=null;S!==null;)m=S.alternate,m!==null&&qb(m)===null&&(R=S),S=S.sibling;S=R,S===null?(R=g.child,g.child=null):(R=S.sibling,S.sibling=null),yC(g,!1,R,S,F);break;case"backwards":for(S=null,R=g.child,g.child=null;R!==null;){if(m=R.alternate,m!==null&&qb(m)===null){g.child=R;break}m=R.sibling,R.sibling=S,S=R,R=m}yC(g,!0,S,null,F);break;case"together":yC(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Jb(m,g){(g.mode&1)===0&&m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2)}function Uc(m,g,S){if(m!==null&&(g.dependencies=m.dependencies),Qf|=g.lanes,(S&g.childLanes)===0)return null;if(m!==null&&g.child!==m.child)throw Error(n(153));if(g.child!==null){for(m=g.child,S=xd(m,m.pendingProps),g.child=S,S.return=g;m.sibling!==null;)m=m.sibling,S=S.sibling=xd(m,m.pendingProps),S.return=g;S.sibling=null}return g.child}function Kme(m,g,S){switch(g.tag){case 3:x9(g),im();break;case 5:LD(g);break;case 1:ra(g.type)&&Ob(g);break;case 4:Q_(g,g.stateNode.containerInfo);break;case 10:var N=g.type._context,R=g.memoizedProps.value;vr(Bb,N._currentValue),N._currentValue=R;break;case 13:if(N=g.memoizedState,N!==null)return N.dehydrated!==null?(vr(Br,Br.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?w9(m,g,S):(vr(Br,Br.current&1),m=Uc(m,g,S),m!==null?m.sibling:null);vr(Br,Br.current&1);break;case 19:if(N=(S&g.childLanes)!==0,(m.flags&128)!==0){if(N)return S9(m,g,S);g.flags|=128}if(R=g.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),vr(Br,Br.current),N)break;return null;case 22:case 23:return g.lanes=0,g9(m,g,S)}return Uc(m,g,S)}var k9,xC,_9,C9;k9=function(m,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},xC=function(){},_9=function(m,g,S,N){var R=m.memoizedProps;if(R!==N){m=g.stateNode,Yf(zl.current);var F=null;switch(S){case"input":R=Te(m,R),N=Te(m,N),F=[];break;case"select":R=j({},R,{value:void 0}),N=j({},N,{value:void 0}),F=[];break;case"textarea":R=Ae(m,R),N=Ae(m,N),F=[];break;default:typeof R.onClick!="function"&&typeof N.onClick=="function"&&(m.onclick=Ib)}Et(S,N);var ee;S=null;for(ze in R)if(!N.hasOwnProperty(ze)&&R.hasOwnProperty(ze)&&R[ze]!=null)if(ze==="style"){var me=R[ze];for(ee in me)me.hasOwnProperty(ee)&&(S||(S={}),S[ee]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(i.hasOwnProperty(ze)?F||(F=[]):(F=F||[]).push(ze,null));for(ze in N){var Se=N[ze];if(me=R!=null?R[ze]:void 0,N.hasOwnProperty(ze)&&Se!==me&&(Se!=null||me!=null))if(ze==="style")if(me){for(ee in me)!me.hasOwnProperty(ee)||Se&&Se.hasOwnProperty(ee)||(S||(S={}),S[ee]="");for(ee in Se)Se.hasOwnProperty(ee)&&me[ee]!==Se[ee]&&(S||(S={}),S[ee]=Se[ee])}else S||(F||(F=[]),F.push(ze,S)),S=Se;else ze==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,me=me?me.__html:void 0,Se!=null&&me!==Se&&(F=F||[]).push(ze,Se)):ze==="children"?typeof Se!="string"&&typeof Se!="number"||(F=F||[]).push(ze,""+Se):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(i.hasOwnProperty(ze)?(Se!=null&&ze==="onScroll"&&Sr("scroll",m),F||me===Se||(F=[])):(F=F||[]).push(ze,Se))}S&&(F=F||[]).push("style",S);var ze=F;(g.updateQueue=ze)&&(g.flags|=4)}},C9=function(m,g,S,N){S!==N&&(g.flags|=4)};function f1(m,g){if(!Pr)switch(m.tailMode){case"hidden":g=m.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?m.tail=null:S.sibling=null;break;case"collapsed":S=m.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:N.sibling=null}}function bs(m){var g=m.alternate!==null&&m.alternate.child===m.child,S=0,N=0;if(g)for(var R=m.child;R!==null;)S|=R.lanes|R.childLanes,N|=R.subtreeFlags&14680064,N|=R.flags&14680064,R.return=m,R=R.sibling;else for(R=m.child;R!==null;)S|=R.lanes|R.childLanes,N|=R.subtreeFlags,N|=R.flags,R.return=m,R=R.sibling;return m.subtreeFlags|=N,m.childLanes=S,g}function Yme(m,g,S){var N=g.pendingProps;switch(B_(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(g),null;case 1:return ra(g.type)&&Mb(),bs(g),null;case 3:return N=g.stateNode,lm(),kr(na),kr(ys),eC(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(m===null||m.child===null)&&($b(g)?g.flags|=4:m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Ko!==null&&(jC(Ko),Ko=null))),xC(m,g),bs(g),null;case 5:Z_(g);var R=Yf(o1.current);if(S=g.type,m!==null&&g.stateNode!=null)_9(m,g,S,N,R),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(n(166));return bs(g),null}if(m=Yf(zl.current),$b(g)){N=g.stateNode,S=g.type;var F=g.memoizedProps;switch(N[$l]=g,N[n1]=F,m=(g.mode&1)!==0,S){case"dialog":Sr("cancel",N),Sr("close",N);break;case"iframe":case"object":case"embed":Sr("load",N);break;case"video":case"audio":for(R=0;R<Jg.length;R++)Sr(Jg[R],N);break;case"source":Sr("error",N);break;case"img":case"image":case"link":Sr("error",N),Sr("load",N);break;case"details":Sr("toggle",N);break;case"input":Ge(N,F),Sr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!F.multiple},Sr("invalid",N);break;case"textarea":Be(N,F),Sr("invalid",N)}Et(S,F),R=null;for(var ee in F)if(F.hasOwnProperty(ee)){var me=F[ee];ee==="children"?typeof me=="string"?N.textContent!==me&&(F.suppressHydrationWarning!==!0&&Pb(N.textContent,me,m),R=["children",me]):typeof me=="number"&&N.textContent!==""+me&&(F.suppressHydrationWarning!==!0&&Pb(N.textContent,me,m),R=["children",""+me]):i.hasOwnProperty(ee)&&me!=null&&ee==="onScroll"&&Sr("scroll",N)}switch(S){case"input":he(N),Ct(N,F,!0);break;case"textarea":he(N),qe(N);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(N.onclick=Ib)}N=R,g.updateQueue=N,N!==null&&(g.flags|=4)}else{ee=R.nodeType===9?R:R.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=Ee(S)),m==="http://www.w3.org/1999/xhtml"?S==="script"?(m=ee.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof N.is=="string"?m=ee.createElement(S,{is:N.is}):(m=ee.createElement(S),S==="select"&&(ee=m,N.multiple?ee.multiple=!0:N.size&&(ee.size=N.size))):m=ee.createElementNS(m,S),m[$l]=g,m[n1]=N,k9(m,g,!1,!1),g.stateNode=m;e:{switch(ee=gn(S,N),S){case"dialog":Sr("cancel",m),Sr("close",m),R=N;break;case"iframe":case"object":case"embed":Sr("load",m),R=N;break;case"video":case"audio":for(R=0;R<Jg.length;R++)Sr(Jg[R],m);R=N;break;case"source":Sr("error",m),R=N;break;case"img":case"image":case"link":Sr("error",m),Sr("load",m),R=N;break;case"details":Sr("toggle",m),R=N;break;case"input":Ge(m,N),R=Te(m,N),Sr("invalid",m);break;case"option":R=N;break;case"select":m._wrapperState={wasMultiple:!!N.multiple},R=j({},N,{value:void 0}),Sr("invalid",m);break;case"textarea":Be(m,N),R=Ae(m,N),Sr("invalid",m);break;default:R=N}Et(S,R),me=R;for(F in me)if(me.hasOwnProperty(F)){var Se=me[F];F==="style"?Je(m,Se):F==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&bt(m,Se)):F==="children"?typeof Se=="string"?(S!=="textarea"||Se!=="")&&Ue(m,Se):typeof Se=="number"&&Ue(m,""+Se):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?Se!=null&&F==="onScroll"&&Sr("scroll",m):Se!=null&&k(m,F,Se,ee))}switch(S){case"input":he(m),Ct(m,N,!1);break;case"textarea":he(m),qe(m);break;case"option":N.value!=null&&m.setAttribute("value",""+te(N.value));break;case"select":m.multiple=!!N.multiple,F=N.value,F!=null?_e(m,!!N.multiple,F,!1):N.defaultValue!=null&&_e(m,!!N.multiple,N.defaultValue,!0);break;default:typeof R.onClick=="function"&&(m.onclick=Ib)}switch(S){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return bs(g),null;case 6:if(m&&g.stateNode!=null)C9(m,g,m.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(n(166));if(S=Yf(o1.current),Yf(zl.current),$b(g)){if(N=g.stateNode,S=g.memoizedProps,N[$l]=g,(F=N.nodeValue!==S)&&(m=Aa,m!==null))switch(m.tag){case 3:Pb(N.nodeValue,S,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&Pb(N.nodeValue,S,(m.mode&1)!==0)}F&&(g.flags|=4)}else N=(S.nodeType===9?S:S.ownerDocument).createTextNode(N),N[$l]=g,g.stateNode=N}return bs(g),null;case 13:if(kr(Br),N=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(Pr&&ja!==null&&(g.mode&1)!==0&&(g.flags&128)===0)AD(),im(),g.flags|=98560,F=!1;else if(F=$b(g),N!==null&&N.dehydrated!==null){if(m===null){if(!F)throw Error(n(318));if(F=g.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[$l]=g}else im(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;bs(g),F=!1}else Ko!==null&&(jC(Ko),Ko=null),F=!0;if(!F)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(N=N!==null,N!==(m!==null&&m.memoizedState!==null)&&N&&(g.child.flags|=8192,(g.mode&1)!==0&&(m===null||(Br.current&1)!==0?ji===0&&(ji=3):RC())),g.updateQueue!==null&&(g.flags|=4),bs(g),null);case 4:return lm(),xC(m,g),m===null&&e1(g.stateNode.containerInfo),bs(g),null;case 10:return G_(g.type._context),bs(g),null;case 17:return ra(g.type)&&Mb(),bs(g),null;case 19:if(kr(Br),F=g.memoizedState,F===null)return bs(g),null;if(N=(g.flags&128)!==0,ee=F.rendering,ee===null)if(N)f1(F,!1);else{if(ji!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if(ee=qb(m),ee!==null){for(g.flags|=128,f1(F,!1),N=ee.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),g.subtreeFlags=0,N=S,S=g.child;S!==null;)F=S,m=N,F.flags&=14680066,ee=F.alternate,ee===null?(F.childLanes=0,F.lanes=m,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=ee.childLanes,F.lanes=ee.lanes,F.child=ee.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=ee.memoizedProps,F.memoizedState=ee.memoizedState,F.updateQueue=ee.updateQueue,F.type=ee.type,m=ee.dependencies,F.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),S=S.sibling;return vr(Br,Br.current&1|2),g.child}m=m.sibling}F.tail!==null&&Ln()>fm&&(g.flags|=128,N=!0,f1(F,!1),g.lanes=4194304)}else{if(!N)if(m=qb(ee),m!==null){if(g.flags|=128,N=!0,S=m.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),f1(F,!0),F.tail===null&&F.tailMode==="hidden"&&!ee.alternate&&!Pr)return bs(g),null}else 2*Ln()-F.renderingStartTime>fm&&S!==1073741824&&(g.flags|=128,N=!0,f1(F,!1),g.lanes=4194304);F.isBackwards?(ee.sibling=g.child,g.child=ee):(S=F.last,S!==null?S.sibling=ee:g.child=ee,F.last=ee)}return F.tail!==null?(g=F.tail,F.rendering=g,F.tail=g.sibling,F.renderingStartTime=Ln(),g.sibling=null,S=Br.current,vr(Br,N?S&1|2:S&1),g):(bs(g),null);case 22:case 23:return IC(),N=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==N&&(g.flags|=8192),N&&(g.mode&1)!==0?(Pa&1073741824)!==0&&(bs(g),g.subtreeFlags&6&&(g.flags|=8192)):bs(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function Xme(m,g){switch(B_(g),g.tag){case 1:return ra(g.type)&&Mb(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return lm(),kr(na),kr(ys),eC(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 5:return Z_(g),null;case 13:if(kr(Br),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(n(340));im()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return kr(Br),null;case 4:return lm(),null;case 10:return G_(g.type._context),null;case 22:case 23:return IC(),null;case 24:return null;default:return null}}var ew=!1,ws=!1,Qme=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function um(m,g){var S=m.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){Xr(m,g,N)}else S.current=null}function bC(m,g,S){try{S()}catch(N){Xr(m,g,N)}}var N9=!1;function Zme(m,g){if(I_=bb,m=sD(),k_(m)){if("selectionStart"in m)var S={start:m.selectionStart,end:m.selectionEnd};else e:{S=(S=m.ownerDocument)&&S.defaultView||window;var N=S.getSelection&&S.getSelection();if(N&&N.rangeCount!==0){S=N.anchorNode;var R=N.anchorOffset,F=N.focusNode;N=N.focusOffset;try{S.nodeType,F.nodeType}catch{S=null;break e}var ee=0,me=-1,Se=-1,ze=0,it=0,at=m,et=null;t:for(;;){for(var _t;at!==S||R!==0&&at.nodeType!==3||(me=ee+R),at!==F||N!==0&&at.nodeType!==3||(Se=ee+N),at.nodeType===3&&(ee+=at.nodeValue.length),(_t=at.firstChild)!==null;)et=at,at=_t;for(;;){if(at===m)break t;if(et===S&&++ze===R&&(me=ee),et===F&&++it===N&&(Se=ee),(_t=at.nextSibling)!==null)break;at=et,et=at.parentNode}at=_t}S=me===-1||Se===-1?null:{start:me,end:Se}}else S=null}S=S||{start:0,end:0}}else S=null;for(R_={focusedElem:m,selectionRange:S},bb=!1,Rt=g;Rt!==null;)if(g=Rt,m=g.child,(g.subtreeFlags&1028)!==0&&m!==null)m.return=g,Rt=m;else for(;Rt!==null;){g=Rt;try{var $t=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var qt=$t.memoizedProps,ii=$t.memoizedState,Re=g.stateNode,Ne=Re.getSnapshotBeforeUpdate(g.elementType===g.type?qt:Yo(g.type,qt),ii);Re.__reactInternalSnapshotBeforeUpdate=Ne}break;case 3:var Fe=g.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ht){Xr(g,g.return,ht)}if(m=g.sibling,m!==null){m.return=g.return,Rt=m;break}Rt=g.return}return $t=N9,N9=!1,$t}function h1(m,g,S){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var R=N=N.next;do{if((R.tag&m)===m){var F=R.destroy;R.destroy=void 0,F!==void 0&&bC(g,S,F)}R=R.next}while(R!==N)}}function tw(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&m)===m){var N=S.create;S.destroy=N()}S=S.next}while(S!==g)}}function wC(m){var g=m.ref;if(g!==null){var S=m.stateNode;switch(m.tag){case 5:m=S;break;default:m=S}typeof g=="function"?g(m):g.current=m}}function T9(m){var g=m.alternate;g!==null&&(m.alternate=null,T9(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&(delete g[$l],delete g[n1],delete g[L_],delete g[Mme],delete g[Ome])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function A9(m){return m.tag===5||m.tag===3||m.tag===4}function j9(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||A9(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function EC(m,g,S){var N=m.tag;if(N===5||N===6)m=m.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(m,g):S.insertBefore(m,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(m,S)):(g=S,g.appendChild(m)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Ib));else if(N!==4&&(m=m.child,m!==null))for(EC(m,g,S),m=m.sibling;m!==null;)EC(m,g,S),m=m.sibling}function SC(m,g,S){var N=m.tag;if(N===5||N===6)m=m.stateNode,g?S.insertBefore(m,g):S.appendChild(m);else if(N!==4&&(m=m.child,m!==null))for(SC(m,g,S),m=m.sibling;m!==null;)SC(m,g,S),m=m.sibling}var os=null,Xo=!1;function md(m,g,S){for(S=S.child;S!==null;)P9(m,g,S),S=S.sibling}function P9(m,g,S){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(fn,S)}catch{}switch(S.tag){case 5:ws||um(S,g);case 6:var N=os,R=Xo;os=null,md(m,g,S),os=N,Xo=R,os!==null&&(Xo?(m=os,S=S.stateNode,m.nodeType===8?m.parentNode.removeChild(S):m.removeChild(S)):os.removeChild(S.stateNode));break;case 18:os!==null&&(Xo?(m=os,S=S.stateNode,m.nodeType===8?D_(m.parentNode,S):m.nodeType===1&&D_(m,S),qg(m)):D_(os,S.stateNode));break;case 4:N=os,R=Xo,os=S.stateNode.containerInfo,Xo=!0,md(m,g,S),os=N,Xo=R;break;case 0:case 11:case 14:case 15:if(!ws&&(N=S.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){R=N=N.next;do{var F=R,ee=F.destroy;F=F.tag,ee!==void 0&&((F&2)!==0||(F&4)!==0)&&bC(S,g,ee),R=R.next}while(R!==N)}md(m,g,S);break;case 1:if(!ws&&(um(S,g),N=S.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=S.memoizedProps,N.state=S.memoizedState,N.componentWillUnmount()}catch(me){Xr(S,g,me)}md(m,g,S);break;case 21:md(m,g,S);break;case 22:S.mode&1?(ws=(N=ws)||S.memoizedState!==null,md(m,g,S),ws=N):md(m,g,S);break;default:md(m,g,S)}}function I9(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var S=m.stateNode;S===null&&(S=m.stateNode=new Qme),g.forEach(function(N){var R=ope.bind(null,m,N);S.has(N)||(S.add(N),N.then(R,R))})}}function Qo(m,g){var S=g.deletions;if(S!==null)for(var N=0;N<S.length;N++){var R=S[N];try{var F=m,ee=g,me=ee;e:for(;me!==null;){switch(me.tag){case 5:os=me.stateNode,Xo=!1;break e;case 3:os=me.stateNode.containerInfo,Xo=!0;break e;case 4:os=me.stateNode.containerInfo,Xo=!0;break e}me=me.return}if(os===null)throw Error(n(160));P9(F,ee,R),os=null,Xo=!1;var Se=R.alternate;Se!==null&&(Se.return=null),R.return=null}catch(ze){Xr(R,g,ze)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)R9(g,m),g=g.sibling}function R9(m,g){var S=m.alternate,N=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Qo(g,m),Ul(m),N&4){try{h1(3,m,m.return),tw(3,m)}catch(qt){Xr(m,m.return,qt)}try{h1(5,m,m.return)}catch(qt){Xr(m,m.return,qt)}}break;case 1:Qo(g,m),Ul(m),N&512&&S!==null&&um(S,S.return);break;case 5:if(Qo(g,m),Ul(m),N&512&&S!==null&&um(S,S.return),m.flags&32){var R=m.stateNode;try{Ue(R,"")}catch(qt){Xr(m,m.return,qt)}}if(N&4&&(R=m.stateNode,R!=null)){var F=m.memoizedProps,ee=S!==null?S.memoizedProps:F,me=m.type,Se=m.updateQueue;if(m.updateQueue=null,Se!==null)try{me==="input"&&F.type==="radio"&&F.name!=null&&nt(R,F),gn(me,ee);var ze=gn(me,F);for(ee=0;ee<Se.length;ee+=2){var it=Se[ee],at=Se[ee+1];it==="style"?Je(R,at):it==="dangerouslySetInnerHTML"?bt(R,at):it==="children"?Ue(R,at):k(R,it,at,ze)}switch(me){case"input":vt(R,F);break;case"textarea":We(R,F);break;case"select":var et=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!F.multiple;var _t=F.value;_t!=null?_e(R,!!F.multiple,_t,!1):et!==!!F.multiple&&(F.defaultValue!=null?_e(R,!!F.multiple,F.defaultValue,!0):_e(R,!!F.multiple,F.multiple?[]:"",!1))}R[n1]=F}catch(qt){Xr(m,m.return,qt)}}break;case 6:if(Qo(g,m),Ul(m),N&4){if(m.stateNode===null)throw Error(n(162));R=m.stateNode,F=m.memoizedProps;try{R.nodeValue=F}catch(qt){Xr(m,m.return,qt)}}break;case 3:if(Qo(g,m),Ul(m),N&4&&S!==null&&S.memoizedState.isDehydrated)try{qg(g.containerInfo)}catch(qt){Xr(m,m.return,qt)}break;case 4:Qo(g,m),Ul(m);break;case 13:Qo(g,m),Ul(m),R=m.child,R.flags&8192&&(F=R.memoizedState!==null,R.stateNode.isHidden=F,!F||R.alternate!==null&&R.alternate.memoizedState!==null||(CC=Ln())),N&4&&I9(m);break;case 22:if(it=S!==null&&S.memoizedState!==null,m.mode&1?(ws=(ze=ws)||it,Qo(g,m),ws=ze):Qo(g,m),Ul(m),N&8192){if(ze=m.memoizedState!==null,(m.stateNode.isHidden=ze)&&!it&&(m.mode&1)!==0)for(Rt=m,it=m.child;it!==null;){for(at=Rt=it;Rt!==null;){switch(et=Rt,_t=et.child,et.tag){case 0:case 11:case 14:case 15:h1(4,et,et.return);break;case 1:um(et,et.return);var $t=et.stateNode;if(typeof $t.componentWillUnmount=="function"){N=et,S=et.return;try{g=N,$t.props=g.memoizedProps,$t.state=g.memoizedState,$t.componentWillUnmount()}catch(qt){Xr(N,S,qt)}}break;case 5:um(et,et.return);break;case 22:if(et.memoizedState!==null){D9(at);continue}}_t!==null?(_t.return=et,Rt=_t):D9(at)}it=it.sibling}e:for(it=null,at=m;;){if(at.tag===5){if(it===null){it=at;try{R=at.stateNode,ze?(F=R.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(me=at.stateNode,Se=at.memoizedProps.style,ee=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,me.style.display=je("display",ee))}catch(qt){Xr(m,m.return,qt)}}}else if(at.tag===6){if(it===null)try{at.stateNode.nodeValue=ze?"":at.memoizedProps}catch(qt){Xr(m,m.return,qt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===m)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===m)break e;for(;at.sibling===null;){if(at.return===null||at.return===m)break e;it===at&&(it=null),at=at.return}it===at&&(it=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:Qo(g,m),Ul(m),N&4&&I9(m);break;case 21:break;default:Qo(g,m),Ul(m)}}function Ul(m){var g=m.flags;if(g&2){try{e:{for(var S=m.return;S!==null;){if(A9(S)){var N=S;break e}S=S.return}throw Error(n(160))}switch(N.tag){case 5:var R=N.stateNode;N.flags&32&&(Ue(R,""),N.flags&=-33);var F=j9(m);SC(m,F,R);break;case 3:case 4:var ee=N.stateNode.containerInfo,me=j9(m);EC(m,me,ee);break;default:throw Error(n(161))}}catch(Se){Xr(m,m.return,Se)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function Jme(m,g,S){Rt=m,M9(m)}function M9(m,g,S){for(var N=(m.mode&1)!==0;Rt!==null;){var R=Rt,F=R.child;if(R.tag===22&&N){var ee=R.memoizedState!==null||ew;if(!ee){var me=R.alternate,Se=me!==null&&me.memoizedState!==null||ws;me=ew;var ze=ws;if(ew=ee,(ws=Se)&&!ze)for(Rt=R;Rt!==null;)ee=Rt,Se=ee.child,ee.tag===22&&ee.memoizedState!==null?L9(R):Se!==null?(Se.return=ee,Rt=Se):L9(R);for(;F!==null;)Rt=F,M9(F),F=F.sibling;Rt=R,ew=me,ws=ze}O9(m)}else(R.subtreeFlags&8772)!==0&&F!==null?(F.return=R,Rt=F):O9(m)}}function O9(m){for(;Rt!==null;){var g=Rt;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:ws||tw(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!ws)if(S===null)N.componentDidMount();else{var R=g.elementType===g.type?S.memoizedProps:Yo(g.type,S.memoizedProps);N.componentDidUpdate(R,S.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var F=g.updateQueue;F!==null&&DD(g,F,N);break;case 3:var ee=g.updateQueue;if(ee!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}DD(g,ee,S)}break;case 5:var me=g.stateNode;if(S===null&&g.flags&4){S=me;var Se=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&S.focus();break;case"img":Se.src&&(S.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var ze=g.alternate;if(ze!==null){var it=ze.memoizedState;if(it!==null){var at=it.dehydrated;at!==null&&qg(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ws||g.flags&512&&wC(g)}catch(et){Xr(g,g.return,et)}}if(g===m){Rt=null;break}if(S=g.sibling,S!==null){S.return=g.return,Rt=S;break}Rt=g.return}}function D9(m){for(;Rt!==null;){var g=Rt;if(g===m){Rt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,Rt=S;break}Rt=g.return}}function L9(m){for(;Rt!==null;){var g=Rt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{tw(4,g)}catch(Se){Xr(g,S,Se)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var R=g.return;try{N.componentDidMount()}catch(Se){Xr(g,R,Se)}}var F=g.return;try{wC(g)}catch(Se){Xr(g,F,Se)}break;case 5:var ee=g.return;try{wC(g)}catch(Se){Xr(g,ee,Se)}}}catch(Se){Xr(g,g.return,Se)}if(g===m){Rt=null;break}var me=g.sibling;if(me!==null){me.return=g.return,Rt=me;break}Rt=g.return}}var epe=Math.ceil,nw=_.ReactCurrentDispatcher,kC=_.ReactCurrentOwner,oo=_.ReactCurrentBatchConfig,zn=0,qi=null,mi=null,ls=0,Pa=0,dm=cd(0),ji=0,m1=null,Qf=0,rw=0,_C=0,p1=null,sa=null,CC=0,fm=1/0,Hc=null,iw=!1,NC=null,pd=null,sw=!1,gd=null,aw=0,g1=0,TC=null,ow=-1,lw=0;function Ls(){return(zn&6)!==0?Ln():ow!==-1?ow:ow=Ln()}function vd(m){return(m.mode&1)===0?1:(zn&2)!==0&&ls!==0?ls&-ls:Lme.transition!==null?(lw===0&&(lw=q0()),lw):(m=nr,m!==0||(m=window.event,m=m===void 0?16:$O(m.type)),m)}function Zo(m,g,S,N){if(50<g1)throw g1=0,TC=null,Error(n(185));Hf(m,S,N),((zn&2)===0||m!==qi)&&(m===qi&&((zn&2)===0&&(rw|=S),ji===4&&yd(m,ls)),aa(m,N),S===1&&zn===0&&(g.mode&1)===0&&(fm=Ln()+500,Db&&dd()))}function aa(m,g){var S=m.callbackNode;Wo(m,g);var N=jt(m,m===qi?ls:0);if(N===0)S!==null&&qn(S),m.callbackNode=null,m.callbackPriority=0;else if(g=N&-N,m.callbackPriority!==g){if(S!=null&&qn(S),g===1)m.tag===0?Dme($9.bind(null,m)):kD($9.bind(null,m)),Ime(function(){(zn&6)===0&&dd()}),S=null;else{switch(PO(N)){case 1:S=eo;break;case 4:S=to;break;case 16:S=as;break;case 536870912:S=no;break;default:S=as}S=G9(S,F9.bind(null,m))}m.callbackPriority=g,m.callbackNode=S}}function F9(m,g){if(ow=-1,lw=0,(zn&6)!==0)throw Error(n(327));var S=m.callbackNode;if(hm()&&m.callbackNode!==S)return null;var N=jt(m,m===qi?ls:0);if(N===0)return null;if((N&30)!==0||(N&m.expiredLanes)!==0||g)g=cw(m,N);else{g=N;var R=zn;zn|=2;var F=B9();(qi!==m||ls!==g)&&(Hc=null,fm=Ln()+500,Jf(m,g));do try{rpe();break}catch(me){z9(m,me)}while(!0);W_(),nw.current=F,zn=R,mi!==null?g=0:(qi=null,ls=0,g=ji)}if(g!==0){if(g===2&&(R=$g(m),R!==0&&(N=R,g=AC(m,R))),g===1)throw S=m1,Jf(m,0),yd(m,N),aa(m,Ln()),S;if(g===6)yd(m,N);else{if(R=m.current.alternate,(N&30)===0&&!tpe(R)&&(g=cw(m,N),g===2&&(F=$g(m),F!==0&&(N=F,g=AC(m,F))),g===1))throw S=m1,Jf(m,0),yd(m,N),aa(m,Ln()),S;switch(m.finishedWork=R,m.finishedLanes=N,g){case 0:case 1:throw Error(n(345));case 2:eh(m,sa,Hc);break;case 3:if(yd(m,N),(N&130023424)===N&&(g=CC+500-Ln(),10<g)){if(jt(m,0)!==0)break;if(R=m.suspendedLanes,(R&N)!==N){Ls(),m.pingedLanes|=m.suspendedLanes&R;break}m.timeoutHandle=O_(eh.bind(null,m,sa,Hc),g);break}eh(m,sa,Hc);break;case 4:if(yd(m,N),(N&4194240)===N)break;for(g=m.eventTimes,R=-1;0<N;){var ee=31-jr(N);F=1<<ee,ee=g[ee],ee>R&&(R=ee),N&=~F}if(N=R,N=Ln()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*epe(N/1960))-N,10<N){m.timeoutHandle=O_(eh.bind(null,m,sa,Hc),N);break}eh(m,sa,Hc);break;case 5:eh(m,sa,Hc);break;default:throw Error(n(329))}}}return aa(m,Ln()),m.callbackNode===S?F9.bind(null,m):null}function AC(m,g){var S=p1;return m.current.memoizedState.isDehydrated&&(Jf(m,g).flags|=256),m=cw(m,g),m!==2&&(g=sa,sa=S,g!==null&&jC(g)),m}function jC(m){sa===null?sa=m:sa.push.apply(sa,m)}function tpe(m){for(var g=m;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var N=0;N<S.length;N++){var R=S[N],F=R.getSnapshot;R=R.value;try{if(!Go(F(),R))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function yd(m,g){for(g&=~_C,g&=~rw,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var S=31-jr(g),N=1<<S;m[S]=-1,g&=~N}}function $9(m){if((zn&6)!==0)throw Error(n(327));hm();var g=jt(m,0);if((g&1)===0)return aa(m,Ln()),null;var S=cw(m,g);if(m.tag!==0&&S===2){var N=$g(m);N!==0&&(g=N,S=AC(m,N))}if(S===1)throw S=m1,Jf(m,0),yd(m,g),aa(m,Ln()),S;if(S===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,eh(m,sa,Hc),aa(m,Ln()),null}function PC(m,g){var S=zn;zn|=1;try{return m(g)}finally{zn=S,zn===0&&(fm=Ln()+500,Db&&dd())}}function Zf(m){gd!==null&&gd.tag===0&&(zn&6)===0&&hm();var g=zn;zn|=1;var S=oo.transition,N=nr;try{if(oo.transition=null,nr=1,m)return m()}finally{nr=N,oo.transition=S,zn=g,(zn&6)===0&&dd()}}function IC(){Pa=dm.current,kr(dm)}function Jf(m,g){m.finishedWork=null,m.finishedLanes=0;var S=m.timeoutHandle;if(S!==-1&&(m.timeoutHandle=-1,Pme(S)),mi!==null)for(S=mi.return;S!==null;){var N=S;switch(B_(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Mb();break;case 3:lm(),kr(na),kr(ys),eC();break;case 5:Z_(N);break;case 4:lm();break;case 13:kr(Br);break;case 19:kr(Br);break;case 10:G_(N.type._context);break;case 22:case 23:IC()}S=S.return}if(qi=m,mi=m=xd(m.current,null),ls=Pa=g,ji=0,m1=null,_C=rw=Qf=0,sa=p1=null,Kf!==null){for(g=0;g<Kf.length;g++)if(S=Kf[g],N=S.interleaved,N!==null){S.interleaved=null;var R=N.next,F=S.pending;if(F!==null){var ee=F.next;F.next=R,N.next=ee}S.pending=N}Kf=null}return m}function z9(m,g){do{var S=mi;try{if(W_(),Wb.current=Xb,Gb){for(var N=Ur.memoizedState;N!==null;){var R=N.queue;R!==null&&(R.pending=null),N=N.next}Gb=!1}if(Xf=0,Vi=Ai=Ur=null,l1=!1,c1=0,kC.current=null,S===null||S.return===null){ji=1,m1=g,mi=null;break}e:{var F=m,ee=S.return,me=S,Se=g;if(g=ls,me.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ze=Se,it=me,at=it.tag;if((it.mode&1)===0&&(at===0||at===11||at===15)){var et=it.alternate;et?(it.updateQueue=et.updateQueue,it.memoizedState=et.memoizedState,it.lanes=et.lanes):(it.updateQueue=null,it.memoizedState=null)}var _t=d9(ee);if(_t!==null){_t.flags&=-257,f9(_t,ee,me,F,g),_t.mode&1&&u9(F,ze,g),g=_t,Se=ze;var $t=g.updateQueue;if($t===null){var qt=new Set;qt.add(Se),g.updateQueue=qt}else $t.add(Se);break e}else{if((g&1)===0){u9(F,ze,g),RC();break e}Se=Error(n(426))}}else if(Pr&&me.mode&1){var ii=d9(ee);if(ii!==null){(ii.flags&65536)===0&&(ii.flags|=256),f9(ii,ee,me,F,g),V_(cm(Se,me));break e}}F=Se=cm(Se,me),ji!==4&&(ji=2),p1===null?p1=[F]:p1.push(F),F=ee;do{switch(F.tag){case 3:F.flags|=65536,g&=-g,F.lanes|=g;var Re=l9(F,Se,g);OD(F,Re);break e;case 1:me=Se;var Ne=F.type,Fe=F.stateNode;if((F.flags&128)===0&&(typeof Ne.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(pd===null||!pd.has(Fe)))){F.flags|=65536,g&=-g,F.lanes|=g;var ht=c9(F,me,g);OD(F,ht);break e}}F=F.return}while(F!==null)}H9(S)}catch(Yt){g=Yt,mi===S&&S!==null&&(mi=S=S.return);continue}break}while(!0)}function B9(){var m=nw.current;return nw.current=Xb,m===null?Xb:m}function RC(){(ji===0||ji===3||ji===2)&&(ji=4),qi===null||(Qf&268435455)===0&&(rw&268435455)===0||yd(qi,ls)}function cw(m,g){var S=zn;zn|=2;var N=B9();(qi!==m||ls!==g)&&(Hc=null,Jf(m,g));do try{npe();break}catch(R){z9(m,R)}while(!0);if(W_(),zn=S,nw.current=N,mi!==null)throw Error(n(261));return qi=null,ls=0,ji}function npe(){for(;mi!==null;)U9(mi)}function rpe(){for(;mi!==null&&!ta();)U9(mi)}function U9(m){var g=W9(m.alternate,m,Pa);m.memoizedProps=m.pendingProps,g===null?H9(m):mi=g,kC.current=null}function H9(m){var g=m;do{var S=g.alternate;if(m=g.return,(g.flags&32768)===0){if(S=Yme(S,g,Pa),S!==null){mi=S;return}}else{if(S=Xme(S,g),S!==null){S.flags&=32767,mi=S;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{ji=6,mi=null;return}}if(g=g.sibling,g!==null){mi=g;return}mi=g=m}while(g!==null);ji===0&&(ji=5)}function eh(m,g,S){var N=nr,R=oo.transition;try{oo.transition=null,nr=1,ipe(m,g,S,N)}finally{oo.transition=R,nr=N}return null}function ipe(m,g,S,N){do hm();while(gd!==null);if((zn&6)!==0)throw Error(n(327));S=m.finishedWork;var R=m.finishedLanes;if(S===null)return null;if(m.finishedWork=null,m.finishedLanes=0,S===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var F=S.lanes|S.childLanes;if(vb(m,F),m===qi&&(mi=qi=null,ls=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||sw||(sw=!0,G9(as,function(){return hm(),null})),F=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||F){F=oo.transition,oo.transition=null;var ee=nr;nr=1;var me=zn;zn|=4,kC.current=null,Zme(m,S),R9(S,m),kme(R_),bb=!!I_,R_=I_=null,m.current=S,Jme(S),Ja(),zn=me,nr=ee,oo.transition=F}else m.current=S;if(sw&&(sw=!1,gd=m,aw=R),F=m.pendingLanes,F===0&&(pd=null),Na(S.stateNode),aa(m,Ln()),g!==null)for(N=m.onRecoverableError,S=0;S<g.length;S++)R=g[S],N(R.value,{componentStack:R.stack,digest:R.digest});if(iw)throw iw=!1,m=NC,NC=null,m;return(aw&1)!==0&&m.tag!==0&&hm(),F=m.pendingLanes,(F&1)!==0?m===TC?g1++:(g1=0,TC=m):g1=0,dd(),null}function hm(){if(gd!==null){var m=PO(aw),g=oo.transition,S=nr;try{if(oo.transition=null,nr=16>m?16:m,gd===null)var N=!1;else{if(m=gd,gd=null,aw=0,(zn&6)!==0)throw Error(n(331));var R=zn;for(zn|=4,Rt=m.current;Rt!==null;){var F=Rt,ee=F.child;if((Rt.flags&16)!==0){var me=F.deletions;if(me!==null){for(var Se=0;Se<me.length;Se++){var ze=me[Se];for(Rt=ze;Rt!==null;){var it=Rt;switch(it.tag){case 0:case 11:case 15:h1(8,it,F)}var at=it.child;if(at!==null)at.return=it,Rt=at;else for(;Rt!==null;){it=Rt;var et=it.sibling,_t=it.return;if(T9(it),it===ze){Rt=null;break}if(et!==null){et.return=_t,Rt=et;break}Rt=_t}}}var $t=F.alternate;if($t!==null){var qt=$t.child;if(qt!==null){$t.child=null;do{var ii=qt.sibling;qt.sibling=null,qt=ii}while(qt!==null)}}Rt=F}}if((F.subtreeFlags&2064)!==0&&ee!==null)ee.return=F,Rt=ee;else e:for(;Rt!==null;){if(F=Rt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:h1(9,F,F.return)}var Re=F.sibling;if(Re!==null){Re.return=F.return,Rt=Re;break e}Rt=F.return}}var Ne=m.current;for(Rt=Ne;Rt!==null;){ee=Rt;var Fe=ee.child;if((ee.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=ee,Rt=Fe;else e:for(ee=Ne;Rt!==null;){if(me=Rt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:tw(9,me)}}catch(Yt){Xr(me,me.return,Yt)}if(me===ee){Rt=null;break e}var ht=me.sibling;if(ht!==null){ht.return=me.return,Rt=ht;break e}Rt=me.return}}if(zn=R,dd(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(fn,m)}catch{}N=!0}return N}finally{nr=S,oo.transition=g}}return!1}function V9(m,g,S){g=cm(S,g),g=l9(m,g,1),m=hd(m,g,1),g=Ls(),m!==null&&(Hf(m,1,g),aa(m,g))}function Xr(m,g,S){if(m.tag===3)V9(m,m,S);else for(;g!==null;){if(g.tag===3){V9(g,m,S);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(pd===null||!pd.has(N))){m=cm(S,m),m=c9(g,m,1),g=hd(g,m,1),m=Ls(),g!==null&&(Hf(g,1,m),aa(g,m));break}}g=g.return}}function spe(m,g,S){var N=m.pingCache;N!==null&&N.delete(g),g=Ls(),m.pingedLanes|=m.suspendedLanes&S,qi===m&&(ls&S)===S&&(ji===4||ji===3&&(ls&130023424)===ls&&500>Ln()-CC?Jf(m,0):_C|=S),aa(m,g)}function q9(m,g){g===0&&((m.mode&1)===0?g=1:(g=pt,pt<<=1,(pt&130023424)===0&&(pt=4194304)));var S=Ls();m=zc(m,g),m!==null&&(Hf(m,g,S),aa(m,S))}function ape(m){var g=m.memoizedState,S=0;g!==null&&(S=g.retryLane),q9(m,S)}function ope(m,g){var S=0;switch(m.tag){case 13:var N=m.stateNode,R=m.memoizedState;R!==null&&(S=R.retryLane);break;case 19:N=m.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(g),q9(m,S)}var W9;W9=function(m,g,S){if(m!==null)if(m.memoizedProps!==g.pendingProps||na.current)ia=!0;else{if((m.lanes&S)===0&&(g.flags&128)===0)return ia=!1,Kme(m,g,S);ia=(m.flags&131072)!==0}else ia=!1,Pr&&(g.flags&1048576)!==0&&_D(g,Fb,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;Jb(m,g),m=g.pendingProps;var R=tm(g,ys.current);om(g,S),R=rC(null,g,N,m,R,S);var F=iC();return g.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,ra(N)?(F=!0,Ob(g)):F=!1,g.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,X_(g),R.updater=Qb,g.stateNode=R,R._reactInternals=g,uC(g,N,m,S),g=mC(null,g,N,!0,F,S)):(g.tag=0,Pr&&F&&z_(g),Ds(null,g,R,S),g=g.child),g;case 16:N=g.elementType;e:{switch(Jb(m,g),m=g.pendingProps,R=N._init,N=R(N._payload),g.type=N,R=g.tag=cpe(N),m=Yo(N,m),R){case 0:g=hC(null,g,N,m,S);break e;case 1:g=y9(null,g,N,m,S);break e;case 11:g=h9(null,g,N,m,S);break e;case 14:g=m9(null,g,N,Yo(N.type,m),S);break e}throw Error(n(306,N,""))}return g;case 0:return N=g.type,R=g.pendingProps,R=g.elementType===N?R:Yo(N,R),hC(m,g,N,R,S);case 1:return N=g.type,R=g.pendingProps,R=g.elementType===N?R:Yo(N,R),y9(m,g,N,R,S);case 3:e:{if(x9(g),m===null)throw Error(n(387));N=g.pendingProps,F=g.memoizedState,R=F.element,MD(m,g),Vb(g,N,null,S);var ee=g.memoizedState;if(N=ee.element,F.isDehydrated)if(F={element:N,isDehydrated:!1,cache:ee.cache,pendingSuspenseBoundaries:ee.pendingSuspenseBoundaries,transitions:ee.transitions},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){R=cm(Error(n(423)),g),g=b9(m,g,N,S,R);break e}else if(N!==R){R=cm(Error(n(424)),g),g=b9(m,g,N,S,R);break e}else for(ja=ld(g.stateNode.containerInfo.firstChild),Aa=g,Pr=!0,Ko=null,S=ID(g,null,N,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(im(),N===R){g=Uc(m,g,S);break e}Ds(m,g,N,S)}g=g.child}return g;case 5:return LD(g),m===null&&H_(g),N=g.type,R=g.pendingProps,F=m!==null?m.memoizedProps:null,ee=R.children,M_(N,R)?ee=null:F!==null&&M_(N,F)&&(g.flags|=32),v9(m,g),Ds(m,g,ee,S),g.child;case 6:return m===null&&H_(g),null;case 13:return w9(m,g,S);case 4:return Q_(g,g.stateNode.containerInfo),N=g.pendingProps,m===null?g.child=sm(g,null,N,S):Ds(m,g,N,S),g.child;case 11:return N=g.type,R=g.pendingProps,R=g.elementType===N?R:Yo(N,R),h9(m,g,N,R,S);case 7:return Ds(m,g,g.pendingProps,S),g.child;case 8:return Ds(m,g,g.pendingProps.children,S),g.child;case 12:return Ds(m,g,g.pendingProps.children,S),g.child;case 10:e:{if(N=g.type._context,R=g.pendingProps,F=g.memoizedProps,ee=R.value,vr(Bb,N._currentValue),N._currentValue=ee,F!==null)if(Go(F.value,ee)){if(F.children===R.children&&!na.current){g=Uc(m,g,S);break e}}else for(F=g.child,F!==null&&(F.return=g);F!==null;){var me=F.dependencies;if(me!==null){ee=F.child;for(var Se=me.firstContext;Se!==null;){if(Se.context===N){if(F.tag===1){Se=Bc(-1,S&-S),Se.tag=2;var ze=F.updateQueue;if(ze!==null){ze=ze.shared;var it=ze.pending;it===null?Se.next=Se:(Se.next=it.next,it.next=Se),ze.pending=Se}}F.lanes|=S,Se=F.alternate,Se!==null&&(Se.lanes|=S),K_(F.return,S,g),me.lanes|=S;break}Se=Se.next}}else if(F.tag===10)ee=F.type===g.type?null:F.child;else if(F.tag===18){if(ee=F.return,ee===null)throw Error(n(341));ee.lanes|=S,me=ee.alternate,me!==null&&(me.lanes|=S),K_(ee,S,g),ee=F.sibling}else ee=F.child;if(ee!==null)ee.return=F;else for(ee=F;ee!==null;){if(ee===g){ee=null;break}if(F=ee.sibling,F!==null){F.return=ee.return,ee=F;break}ee=ee.return}F=ee}Ds(m,g,R.children,S),g=g.child}return g;case 9:return R=g.type,N=g.pendingProps.children,om(g,S),R=so(R),N=N(R),g.flags|=1,Ds(m,g,N,S),g.child;case 14:return N=g.type,R=Yo(N,g.pendingProps),R=Yo(N.type,R),m9(m,g,N,R,S);case 15:return p9(m,g,g.type,g.pendingProps,S);case 17:return N=g.type,R=g.pendingProps,R=g.elementType===N?R:Yo(N,R),Jb(m,g),g.tag=1,ra(N)?(m=!0,Ob(g)):m=!1,om(g,S),a9(g,N,R),uC(g,N,R,S),mC(null,g,N,!0,m,S);case 19:return S9(m,g,S);case 22:return g9(m,g,S)}throw Error(n(156,g.tag))};function G9(m,g){return Vn(m,g)}function lpe(m,g,S,N){this.tag=m,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(m,g,S,N){return new lpe(m,g,S,N)}function MC(m){return m=m.prototype,!(!m||!m.isReactComponent)}function cpe(m){if(typeof m=="function")return MC(m)?1:0;if(m!=null){if(m=m.$$typeof,m===U)return 11;if(m===K)return 14}return 2}function xd(m,g){var S=m.alternate;return S===null?(S=lo(m.tag,g,m.key,m.mode),S.elementType=m.elementType,S.type=m.type,S.stateNode=m.stateNode,S.alternate=m,m.alternate=S):(S.pendingProps=g,S.type=m.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=m.flags&14680064,S.childLanes=m.childLanes,S.lanes=m.lanes,S.child=m.child,S.memoizedProps=m.memoizedProps,S.memoizedState=m.memoizedState,S.updateQueue=m.updateQueue,g=m.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=m.sibling,S.index=m.index,S.ref=m.ref,S}function uw(m,g,S,N,R,F){var ee=2;if(N=m,typeof m=="function")MC(m)&&(ee=1);else if(typeof m=="string")ee=5;else e:switch(m){case C:return th(S.children,R,F,g);case I:ee=8,R|=8;break;case B:return m=lo(12,S,g,R|2),m.elementType=B,m.lanes=F,m;case Y:return m=lo(13,S,g,R),m.elementType=Y,m.lanes=F,m;case V:return m=lo(19,S,g,R),m.elementType=V,m.lanes=F,m;case J:return dw(S,R,F,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case $:ee=10;break e;case L:ee=9;break e;case U:ee=11;break e;case K:ee=14;break e;case W:ee=16,N=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return g=lo(ee,S,g,R),g.elementType=m,g.type=N,g.lanes=F,g}function th(m,g,S,N){return m=lo(7,m,N,g),m.lanes=S,m}function dw(m,g,S,N){return m=lo(22,m,N,g),m.elementType=J,m.lanes=S,m.stateNode={isHidden:!1},m}function OC(m,g,S){return m=lo(6,m,null,g),m.lanes=S,m}function DC(m,g,S){return g=lo(4,m.children!==null?m.children:[],m.key,g),g.lanes=S,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function upe(m,g,S,N,R){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zg(0),this.expirationTimes=zg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.identifierPrefix=N,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function LC(m,g,S,N,R,F,ee,me,Se){return m=new upe(m,g,S,me,Se),g===1?(g=1,F===!0&&(g|=8)):g=0,F=lo(3,null,null,g),m.current=F,F.stateNode=m,F.memoizedState={element:N,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},X_(F),m}function dpe(m,g,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:N==null?null:""+N,children:m,containerInfo:g,implementation:S}}function K9(m){if(!m)return ud;m=m._reactInternals;e:{if(Wt(m)!==m||m.tag!==1)throw Error(n(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ra(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(m.tag===1){var S=m.type;if(ra(S))return ED(m,S,g)}return g}function Y9(m,g,S,N,R,F,ee,me,Se){return m=LC(S,N,!0,m,R,F,ee,me,Se),m.context=K9(null),S=m.current,N=Ls(),R=vd(S),F=Bc(N,R),F.callback=g??null,hd(S,F,R),m.current.lanes=R,Hf(m,R,N),aa(m,N),m}function fw(m,g,S,N){var R=g.current,F=Ls(),ee=vd(R);return S=K9(S),g.context===null?g.context=S:g.pendingContext=S,g=Bc(F,ee),g.payload={element:m},N=N===void 0?null:N,N!==null&&(g.callback=N),m=hd(R,g,ee),m!==null&&(Zo(m,R,ee,F),Hb(m,R,ee)),ee}function hw(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function X9(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var S=m.retryLane;m.retryLane=S!==0&&S<g?S:g}}function FC(m,g){X9(m,g),(m=m.alternate)&&X9(m,g)}function fpe(){return null}var Q9=typeof reportError=="function"?reportError:function(m){console.error(m)};function $C(m){this._internalRoot=m}mw.prototype.render=$C.prototype.render=function(m){var g=this._internalRoot;if(g===null)throw Error(n(409));fw(m,g,null,null)},mw.prototype.unmount=$C.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var g=m.containerInfo;Zf(function(){fw(null,m,null,null)}),g[Dc]=null}};function mw(m){this._internalRoot=m}mw.prototype.unstable_scheduleHydration=function(m){if(m){var g=MO();m={blockedOn:null,target:m,priority:g};for(var S=0;S<sd.length&&g!==0&&g<sd[S].priority;S++);sd.splice(S,0,m),S===0&&LO(m)}};function zC(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function pw(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function Z9(){}function hpe(m,g,S,N,R){if(R){if(typeof N=="function"){var F=N;N=function(){var ze=hw(ee);F.call(ze)}}var ee=Y9(g,N,m,0,null,!1,!1,"",Z9);return m._reactRootContainer=ee,m[Dc]=ee.current,e1(m.nodeType===8?m.parentNode:m),Zf(),ee}for(;R=m.lastChild;)m.removeChild(R);if(typeof N=="function"){var me=N;N=function(){var ze=hw(Se);me.call(ze)}}var Se=LC(m,0,!1,null,null,!1,!1,"",Z9);return m._reactRootContainer=Se,m[Dc]=Se.current,e1(m.nodeType===8?m.parentNode:m),Zf(function(){fw(g,Se,S,N)}),Se}function gw(m,g,S,N,R){var F=S._reactRootContainer;if(F){var ee=F;if(typeof R=="function"){var me=R;R=function(){var Se=hw(ee);me.call(Se)}}fw(g,ee,m,R)}else ee=hpe(S,g,m,R,N);return hw(ee)}IO=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var S=Zt(g.pendingLanes);S!==0&&(u_(g,S|1),aa(g,Ln()),(zn&6)===0&&(fm=Ln()+500,dd()))}break;case 13:Zf(function(){var N=zc(m,1);if(N!==null){var R=Ls();Zo(N,m,1,R)}}),FC(m,1)}},d_=function(m){if(m.tag===13){var g=zc(m,134217728);if(g!==null){var S=Ls();Zo(g,m,134217728,S)}FC(m,134217728)}},RO=function(m){if(m.tag===13){var g=vd(m),S=zc(m,g);if(S!==null){var N=Ls();Zo(S,m,g,N)}FC(m,g)}},MO=function(){return nr},OO=function(m,g){var S=nr;try{return nr=m,g()}finally{nr=S}},fi=function(m,g,S){switch(g){case"input":if(vt(m,S),g=S.name,S.type==="radio"&&g!=null){for(S=m;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var N=S[g];if(N!==m&&N.form===m.form){var R=Rb(N);if(!R)throw Error(n(90));ae(N),vt(N,R)}}}break;case"textarea":We(m,S);break;case"select":g=S.value,g!=null&&_e(m,!!S.multiple,g,!1)}},Qn=PC,lr=Zf;var mpe={usingClientEntryPoint:!1,Events:[r1,J0,Rb,Pt,En,PC]},v1={findFiberByHostInstance:Vf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ppe={bundleType:v1.bundleType,version:v1.version,rendererPackageName:v1.rendererPackageName,rendererConfig:v1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=gr(m),m===null?null:m.stateNode},findFiberByHostInstance:v1.findFiberByHostInstance||fpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vw.isDisabled&&vw.supportsFiber)try{fn=vw.inject(ppe),Wn=vw}catch{}}return oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mpe,oa.createPortal=function(m,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zC(g))throw Error(n(200));return dpe(m,g,null,S)},oa.createRoot=function(m,g){if(!zC(m))throw Error(n(299));var S=!1,N="",R=Q9;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(R=g.onRecoverableError)),g=LC(m,1,!1,null,null,S,!1,N,R),m[Dc]=g.current,e1(m.nodeType===8?m.parentNode:m),new $C(g)},oa.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=gr(g),m=m===null?null:m.stateNode,m},oa.flushSync=function(m){return Zf(m)},oa.hydrate=function(m,g,S){if(!pw(g))throw Error(n(200));return gw(null,m,g,!0,S)},oa.hydrateRoot=function(m,g,S){if(!zC(m))throw Error(n(405));var N=S!=null&&S.hydratedSources||null,R=!1,F="",ee=Q9;if(S!=null&&(S.unstable_strictMode===!0&&(R=!0),S.identifierPrefix!==void 0&&(F=S.identifierPrefix),S.onRecoverableError!==void 0&&(ee=S.onRecoverableError)),g=Y9(g,null,m,1,S??null,R,!1,F,ee),m[Dc]=g.current,e1(m),N)for(m=0;m<N.length;m++)S=N[m],R=S._getVersion,R=R(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,R]:g.mutableSourceEagerHydrationData.push(S,R);return new mw(g)},oa.render=function(m,g,S){if(!pw(g))throw Error(n(200));return gw(null,m,g,!1,S)},oa.unmountComponentAtNode=function(m){if(!pw(m))throw Error(n(40));return m._reactRootContainer?(Zf(function(){gw(null,null,m,!1,function(){m._reactRootContainer=null,m[Dc]=null})}),!0):!1},oa.unstable_batchedUpdates=PC,oa.unstable_renderSubtreeIntoContainer=function(m,g,S,N){if(!pw(S))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return gw(m,g,S,!1,N)},oa.version="18.3.1-next-f1338f8080-20240426",oa}var lL;function AK(){if(lL)return VC.exports;lL=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),VC.exports=Cpe(),VC.exports}var cL;function Npe(){if(cL)return xw;cL=1;var e=AK();return xw.createRoot=e.createRoot,xw.hydrateRoot=e.hydrateRoot,xw}var Tpe=Npe(),tg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ape={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Hd,jj,hK,jpe=(hK=class{constructor(){Gt(this,Hd,Ape);Gt(this,jj,!1)}setTimeoutProvider(e){xt(this,Hd,e)}setTimeout(e,t){return be(this,Hd).setTimeout(e,t)}clearTimeout(e){be(this,Hd).clearTimeout(e)}setInterval(e,t){return be(this,Hd).setInterval(e,t)}clearInterval(e){be(this,Hd).clearInterval(e)}},Hd=new WeakMap,jj=new WeakMap,hK),ph=new jpe;function Ppe(e){setTimeout(e,0)}var Kh=typeof window>"u"||"Deno"in globalThis;function Bs(){}function Ipe(e,t){return typeof e=="function"?e(t):e}function i6(e){return typeof e=="number"&&e>=0&&e!==1/0}function jK(e,t){return Math.max(e+(t||0)-Date.now(),0)}function of(e,t){return typeof e=="function"?e(t):e}function yo(e,t){return typeof e=="function"?e(t):e}function uL(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Ij(a,t.options))return!1}else if(!Lv(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function dL(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Yh(t.options.mutationKey)!==Yh(s))return!1}else if(!Lv(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Ij(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yh)(e)}function Yh(e){return JSON.stringify(e,(t,n)=>s6(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Lv(e[n],t[n])):!1}var Rpe=Object.prototype.hasOwnProperty;function PK(e,t){if(e===t)return e;const n=fL(e)&&fL(t);if(!n&&!(s6(e)&&s6(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),a=s.length,o=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u],f=e[d],h=t[d];if(f===h){o[d]=f,(n?u<i:Rpe.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=PK(f,h);o[d]=p,p===f&&c++}return i===a&&c===i?e:o}function p4(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function fL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function s6(e){if(!hL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hL(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mpe(e){return new Promise(t=>{ph.setTimeout(t,e)})}function a6(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?PK(e,t):t}function Ope(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Dpe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Rj=Symbol();function IK(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function RK(e,t){return typeof e=="function"?e(...t):!!e}var Ch,Vd,fp,mK,Lpe=(mK=class extends tg{constructor(){super();Gt(this,Ch);Gt(this,Vd);Gt(this,fp);xt(this,fp,t=>{if(!Kh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,Vd)||this.setEventListener(be(this,fp))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,Vd))==null||t.call(this),xt(this,Vd,void 0))}setEventListener(t){var n;xt(this,fp,t),(n=be(this,Vd))==null||n.call(this),xt(this,Vd,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){be(this,Ch)!==t&&(xt(this,Ch,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof be(this,Ch)=="boolean"?be(this,Ch):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ch=new WeakMap,Vd=new WeakMap,fp=new WeakMap,mK),Mj=new Lpe;function o6(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var Fpe=Ppe;function $pe(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=Fpe;const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Di=$pe(),hp,qd,mp,pK,zpe=(pK=class extends tg{constructor(){super();Gt(this,hp,!0);Gt(this,qd);Gt(this,mp);xt(this,mp,t=>{if(!Kh&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){be(this,qd)||this.setEventListener(be(this,mp))}onUnsubscribe(){var t;this.hasListeners()||((t=be(this,qd))==null||t.call(this),xt(this,qd,void 0))}setEventListener(t){var n;xt(this,mp,t),(n=be(this,qd))==null||n.call(this),xt(this,qd,t(this.setOnline.bind(this)))}setOnline(t){be(this,hp)!==t&&(xt(this,hp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return be(this,hp)}},hp=new WeakMap,qd=new WeakMap,mp=new WeakMap,pK),g4=new zpe;function Bpe(e){return Math.min(1e3*2**e,3e4)}function MK(e){return(e??"online")==="online"?g4.isOnline():!0}var l6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function OK(e){let t=!1,n=0,r;const i=o6(),s=()=>i.status!=="pending",a=x=>{var b;if(!s()){const w=new l6(x);h(w),(b=e.onCancel)==null||b.call(e,w)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>Mj.isFocused()&&(e.networkMode==="always"||g4.isOnline())&&e.canRun(),d=()=>MK(e.networkMode)&&e.canRun(),f=x=>{s()||(r==null||r(),i.resolve(x))},h=x=>{s()||(r==null||r(),i.reject(x))},p=()=>new Promise(x=>{var b;r=w=>{(s()||u())&&x(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;r=void 0,s()||(x=e.onContinue)==null||x.call(e)}),v=()=>{if(s())return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var T;if(s())return;const E=e.retry??(Kh?0:3),k=e.retryDelay??Bpe,_=typeof k=="function"?k(n,w):k,A=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,w);if(t||!A){h(w);return}n++,(T=e.onFail)==null||T.call(e,n,w),Mpe(_).then(()=>u()?void 0:p()).then(()=>{t?h(w):v()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),i)}}var Nh,gK,DK=(gK=class{constructor(){Gt(this,Nh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i6(this.gcTime)&&xt(this,Nh,ph.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kh?1/0:300*1e3))}clearGcTimeout(){be(this,Nh)&&(ph.clearTimeout(be(this,Nh)),xt(this,Nh,void 0))}},Nh=new WeakMap,gK),Th,pp,go,Ah,Qi,Uy,jh,rl,Jc,vK,Upe=(vK=class extends DK{constructor(t){super();Gt(this,rl);Gt(this,Th);Gt(this,pp);Gt(this,go);Gt(this,Ah);Gt(this,Qi);Gt(this,Uy);Gt(this,jh);xt(this,jh,!1),xt(this,Uy,t.defaultOptions),this.setOptions(t.options),this.observers=[],xt(this,Ah,t.client),xt(this,go,be(this,Ah).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xt(this,Th,mL(this.options)),this.state=t.state??be(this,Th),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=be(this,Qi))==null?void 0:t.promise}setOptions(t){if(this.options={...be(this,Uy),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=mL(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),xt(this,Th,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,go).remove(this)}setData(t,n){const r=a6(this.state.data,t,this.options);return mn(this,rl,Jc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mn(this,rl,Jc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=be(this,Qi))==null?void 0:r.promise;return(i=be(this,Qi))==null||i.cancel(t),n?n.then(Bs).catch(Bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,Th))}isActive(){return this.observers.some(t=>yo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>of(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jK(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=be(this,Qi))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=be(this,Qi))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),be(this,go).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(be(this,Qi)&&(be(this,jh)?be(this,Qi).cancel({revert:!0}):be(this,Qi).cancelRetry()),this.scheduleGc()),be(this,go).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,rl,Jc).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,p,v,x,b,w,E,k;if(this.state.fetchStatus!=="idle"&&((c=be(this,Qi))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,Qi))return be(this,Qi).continueRetry(),be(this,Qi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(A=>A.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(xt(this,jh,!0),r.signal)})},s=()=>{const _=IK(this.options,n),T=(()=>{const C={client:be(this,Ah),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return xt(this,jh,!1),this.options.persister?this.options.persister(_,T,this):_(T)},o=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:be(this,Ah),state:this.state,fetchFn:s};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),xt(this,pp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&mn(this,rl,Jc).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),xt(this,Qi,OK({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof l6&&_.revert&&this.setState({...be(this,pp),fetchStatus:"idle"}),r.abort()},onFail:(_,A)=>{mn(this,rl,Jc).call(this,{type:"failed",failureCount:_,error:A})},onPause:()=>{mn(this,rl,Jc).call(this,{type:"pause"})},onContinue:()=>{mn(this,rl,Jc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await be(this,Qi).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=be(this,go).config).onSuccess)==null||p.call(h,_,this),(x=(v=be(this,go).config).onSettled)==null||x.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof l6){if(_.silent)return be(this,Qi).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw mn(this,rl,Jc).call(this,{type:"error",error:_}),(w=(b=be(this,go).config).onError)==null||w.call(b,_,this),(k=(E=be(this,go).config).onSettled)==null||k.call(E,this.state.data,_,this),_}finally{this.scheduleGc()}}},Th=new WeakMap,pp=new WeakMap,go=new WeakMap,Ah=new WeakMap,Qi=new WeakMap,Uy=new WeakMap,jh=new WeakMap,rl=new WeakSet,Jc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LK(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xt(this,pp,t.manual?i:void 0),i;case"error":const s=t.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Di.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),be(this,go).notify({query:this,type:"updated",action:t})})},vK);function LK(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MK(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ua,Dn,Hy,$s,Ph,gp,iu,Wd,Vy,vp,yp,Ih,Rh,Gd,xp,er,K1,c6,u6,d6,f6,h6,m6,p6,$K,yK,FK=(yK=class extends tg{constructor(t,n){super();Gt(this,er);Gt(this,ua);Gt(this,Dn);Gt(this,Hy);Gt(this,$s);Gt(this,Ph);Gt(this,gp);Gt(this,iu);Gt(this,Wd);Gt(this,Vy);Gt(this,vp);Gt(this,yp);Gt(this,Ih);Gt(this,Rh);Gt(this,Gd);Gt(this,xp,new Set);this.options=n,xt(this,ua,t),xt(this,Wd,null),xt(this,iu,o6()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(be(this,Dn).addObserver(this),pL(be(this,Dn),this.options)?mn(this,er,K1).call(this):this.updateResult(),mn(this,er,f6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g6(be(this,Dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g6(be(this,Dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mn(this,er,h6).call(this),mn(this,er,m6).call(this),be(this,Dn).removeObserver(this)}setOptions(t){const n=this.options,r=be(this,Dn);if(this.options=be(this,ua).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yo(this.options.enabled,be(this,Dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mn(this,er,p6).call(this),be(this,Dn).setOptions(this.options),n._defaulted&&!p4(this.options,n)&&be(this,ua).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,Dn),observer:this});const i=this.hasListeners();i&&gL(be(this,Dn),r,this.options,n)&&mn(this,er,K1).call(this),this.updateResult(),i&&(be(this,Dn)!==r||yo(this.options.enabled,be(this,Dn))!==yo(n.enabled,be(this,Dn))||of(this.options.staleTime,be(this,Dn))!==of(n.staleTime,be(this,Dn)))&&mn(this,er,c6).call(this);const s=mn(this,er,u6).call(this);i&&(be(this,Dn)!==r||yo(this.options.enabled,be(this,Dn))!==yo(n.enabled,be(this,Dn))||s!==be(this,Gd))&&mn(this,er,d6).call(this,s)}getOptimisticResult(t){const n=be(this,ua).getQueryCache().build(be(this,ua),t),r=this.createResult(n,t);return Vpe(this,r)&&(xt(this,$s,r),xt(this,gp,this.options),xt(this,Ph,be(this,Dn).state)),r}getCurrentResult(){return be(this,$s)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&!this.options.experimental_prefetchInRender&&be(this,iu).status==="pending"&&be(this,iu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,i))})}trackProp(t){be(this,xp).add(t)}getCurrentQuery(){return be(this,Dn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=be(this,ua).defaultQueryOptions(t),r=be(this,ua).getQueryCache().build(be(this,ua),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return mn(this,er,K1).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,$s)))}createResult(t,n){var B;const r=be(this,Dn),i=this.options,s=be(this,$s),a=be(this,Ph),o=be(this,gp),u=t!==r?t.state:be(this,Hy),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const $=this.hasListeners(),L=!$&&pL(t,n),U=$&&gL(t,r,n,i);(L||U)&&(f={...f,...LK(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:b}=f;p=f.data;let w=!1;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let $;s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?($=s.data,w=!0):$=typeof n.placeholderData=="function"?n.placeholderData((B=be(this,yp))==null?void 0:B.state.data,be(this,yp)):n.placeholderData,$!==void 0&&(b="success",p=a6(s==null?void 0:s.data,$,n),h=!0)}if(n.select&&p!==void 0&&!w)if(s&&p===(a==null?void 0:a.data)&&n.select===be(this,Vy))p=be(this,vp);else try{xt(this,Vy,n.select),p=n.select(p),p=a6(s==null?void 0:s.data,p,n),xt(this,vp,p),xt(this,Wd,null)}catch($){xt(this,Wd,$)}be(this,Wd)&&(v=be(this,Wd),p=be(this,vp),x=Date.now(),b="error");const E=f.fetchStatus==="fetching",k=b==="pending",_=b==="error",A=k&&E,T=p!==void 0,I={status:b,fetchStatus:f.fetchStatus,isPending:k,isSuccess:b==="success",isError:_,isInitialLoading:A,isLoading:A,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!k,isLoadingError:_&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&T,isStale:Oj(t,n),refetch:this.refetch,promise:be(this,iu),isEnabled:yo(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=Y=>{I.status==="error"?Y.reject(I.error):I.data!==void 0&&Y.resolve(I.data)},L=()=>{const Y=xt(this,iu,I.promise=o6());$(Y)},U=be(this,iu);switch(U.status){case"pending":t.queryHash===r.queryHash&&$(U);break;case"fulfilled":(I.status==="error"||I.data!==U.value)&&L();break;case"rejected":(I.status!=="error"||I.error!==U.reason)&&L();break}}return I}updateResult(){const t=be(this,$s),n=this.createResult(be(this,Dn),this.options);if(xt(this,Ph,be(this,Dn).state),xt(this,gp,this.options),be(this,Ph).data!==void 0&&xt(this,yp,be(this,Dn)),p4(n,t))return;xt(this,$s,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!be(this,xp).size)return!0;const a=new Set(s??be(this,xp));return this.options.throwOnError&&a.add("error"),Object.keys(be(this,$s)).some(o=>{const c=o;return be(this,$s)[c]!==t[c]&&a.has(c)})};mn(this,er,$K).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mn(this,er,f6).call(this)}},ua=new WeakMap,Dn=new WeakMap,Hy=new WeakMap,$s=new WeakMap,Ph=new WeakMap,gp=new WeakMap,iu=new WeakMap,Wd=new WeakMap,Vy=new WeakMap,vp=new WeakMap,yp=new WeakMap,Ih=new WeakMap,Rh=new WeakMap,Gd=new WeakMap,xp=new WeakMap,er=new WeakSet,K1=function(t){mn(this,er,p6).call(this);let n=be(this,Dn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Bs)),n},c6=function(){mn(this,er,h6).call(this);const t=of(this.options.staleTime,be(this,Dn));if(Kh||be(this,$s).isStale||!i6(t))return;const r=jK(be(this,$s).dataUpdatedAt,t)+1;xt(this,Ih,ph.setTimeout(()=>{be(this,$s).isStale||this.updateResult()},r))},u6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(be(this,Dn)):this.options.refetchInterval)??!1},d6=function(t){mn(this,er,m6).call(this),xt(this,Gd,t),!(Kh||yo(this.options.enabled,be(this,Dn))===!1||!i6(be(this,Gd))||be(this,Gd)===0)&&xt(this,Rh,ph.setInterval(()=>{(this.options.refetchIntervalInBackground||Mj.isFocused())&&mn(this,er,K1).call(this)},be(this,Gd)))},f6=function(){mn(this,er,c6).call(this),mn(this,er,d6).call(this,mn(this,er,u6).call(this))},h6=function(){be(this,Ih)&&(ph.clearTimeout(be(this,Ih)),xt(this,Ih,void 0))},m6=function(){be(this,Rh)&&(ph.clearInterval(be(this,Rh)),xt(this,Rh,void 0))},p6=function(){const t=be(this,ua).getQueryCache().build(be(this,ua),this.options);if(t===be(this,Dn))return;const n=be(this,Dn);xt(this,Dn,t),xt(this,Hy,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$K=function(t){Di.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(be(this,$s))}),be(this,ua).getQueryCache().notify({query:be(this,Dn),type:"observerResultsUpdated"})})},yK);function Hpe(e,t){return yo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pL(e,t){return Hpe(e,t)||e.state.data!==void 0&&g6(e,t,t.refetchOnMount)}function g6(e,t,n){if(yo(t.enabled,e)!==!1&&of(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Oj(e,t)}return!1}function gL(e,t,n,r){return(e!==t||yo(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Oj(e,n)}function Oj(e,t){return yo(t.enabled,e)!==!1&&e.isStaleByTime(of(t.staleTime,e))}function Vpe(e,t){return!p4(e.getCurrentResult(),t)}function v4(e){return{onFetch:(t,n)=>{var d,f,h,p,v;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=IK(t.options,t.fetchOptions),E=async(k,_,A)=>{if(x)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const C=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:_,direction:A?"backward":"forward",meta:t.options.meta};return b(L),L})(),I=await w(C),{maxPages:B}=t.options,$=A?Dpe:Ope;return{pages:$(k.pages,I,B),pageParams:$(k.pageParams,_,B)}};if(i&&s.length){const k=i==="backward",_=k?zK:v6,A={pages:s,pageParams:a},T=_(r,A);o=await E(A,T,k)}else{const k=e??s.length;do{const _=c===0?a[0]??r.initialPageParam:v6(r,o);if(c>0&&_==null)break;o=await E(o,_),c++}while(c<k)}return o};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function v6(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function zK(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function qpe(e,t){return t?v6(e,t)!=null:!1}function Wpe(e,t){return!t||!e.getPreviousPageParam?!1:zK(e,t)!=null}var Gpe=class extends FK{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:v4()})}getOptimisticResult(e){return e.behavior=v4(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var v,x;const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:a,isRefetchError:o}=r,c=(x=(v=n.fetchMeta)==null?void 0:v.fetchMore)==null?void 0:x.direction,u=a&&c==="forward",d=i&&c==="forward",f=a&&c==="backward",h=i&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:qpe(t,n.data),hasPreviousPage:Wpe(t,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:h,isRefetchError:o&&!u&&!f,isRefetching:s&&!d&&!h}}},Xl,zs,Mh,Ql,Td,xK,Kpe=(xK=class extends DK{constructor(t){super();Gt(this,Ql);Gt(this,Xl);Gt(this,zs);Gt(this,Mh);this.mutationId=t.mutationId,xt(this,zs,t.mutationCache),xt(this,Xl,[]),this.state=t.state||BK(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){be(this,Xl).includes(t)||(be(this,Xl).push(t),this.clearGcTimeout(),be(this,zs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xt(this,Xl,be(this,Xl).filter(n=>n!==t)),this.scheduleGc(),be(this,zs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){be(this,Xl).length||(this.state.status==="pending"?this.scheduleGc():be(this,zs).remove(this))}continue(){var t;return((t=be(this,Mh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,c,u,d,f,h,p,v,x,b,w,E,k,_,A,T,C,I;const n=()=>{mn(this,Ql,Td).call(this,{type:"continue"})};xt(this,Mh,OK({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(B,$)=>{mn(this,Ql,Td).call(this,{type:"failed",failureCount:B,error:$})},onPause:()=>{mn(this,Ql,Td).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,zs).canRun(this)}));const r=this.state.status==="pending",i=!be(this,Mh).canStart();try{if(r)n();else{mn(this,Ql,Td).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(s=be(this,zs).config).onMutate)==null?void 0:a.call(s,t,this));const $=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));$!==this.state.context&&mn(this,Ql,Td).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const B=await be(this,Mh).start();return await((d=(u=be(this,zs).config).onSuccess)==null?void 0:d.call(u,B,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,B,t,this.state.context)),await((v=(p=be(this,zs).config).onSettled)==null?void 0:v.call(p,B,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,B,null,t,this.state.context)),mn(this,Ql,Td).call(this,{type:"success",data:B}),B}catch(B){try{throw await((E=(w=be(this,zs).config).onError)==null?void 0:E.call(w,B,t,this.state.context,this)),await((_=(k=this.options).onError)==null?void 0:_.call(k,B,t,this.state.context)),await((T=(A=be(this,zs).config).onSettled)==null?void 0:T.call(A,void 0,B,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,B,t,this.state.context)),B}finally{mn(this,Ql,Td).call(this,{type:"error",error:B})}}finally{be(this,zs).runNext(this)}}},Xl=new WeakMap,zs=new WeakMap,Mh=new WeakMap,Ql=new WeakSet,Td=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Di.batch(()=>{be(this,Xl).forEach(r=>{r.onMutationUpdate(t)}),be(this,zs).notify({mutation:this,type:"updated",action:t})})},xK);function BK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var su,il,qy,bK,Ype=(bK=class extends tg{constructor(t={}){super();Gt(this,su);Gt(this,il);Gt(this,qy);this.config=t,xt(this,su,new Set),xt(this,il,new Map),xt(this,qy,0)}build(t,n,r){const i=new Kpe({mutationCache:this,mutationId:++yw(this,qy)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){be(this,su).add(t);const n=bw(t);if(typeof n=="string"){const r=be(this,il).get(n);r?r.push(t):be(this,il).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(be(this,su).delete(t)){const n=bw(t);if(typeof n=="string"){const r=be(this,il).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&be(this,il).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bw(t);if(typeof n=="string"){const r=be(this,il).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=bw(t);if(typeof n=="string"){const i=(r=be(this,il).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Di.batch(()=>{be(this,su).forEach(t=>{this.notify({type:"removed",mutation:t})}),be(this,su).clear(),be(this,il).clear()})}getAll(){return Array.from(be(this,su))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>dL(n,r))}findAll(t={}){return this.getAll().filter(n=>dL(t,n))}notify(t){Di.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Di.batch(()=>Promise.all(t.map(n=>n.continue().catch(Bs))))}},su=new WeakMap,il=new WeakMap,qy=new WeakMap,bK);function bw(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Kd,Yd,da,au,_u,B2,y6,wK,Xpe=(wK=class extends tg{constructor(n,r){super();Gt(this,_u);Gt(this,Kd);Gt(this,Yd);Gt(this,da);Gt(this,au);xt(this,Kd,n),this.setOptions(r),this.bindMethods(),mn(this,_u,B2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=be(this,Kd).defaultMutationOptions(n),p4(this.options,r)||be(this,Kd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:be(this,da),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Yh(r.mutationKey)!==Yh(this.options.mutationKey)?this.reset():((i=be(this,da))==null?void 0:i.state.status)==="pending"&&be(this,da).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=be(this,da))==null||n.removeObserver(this)}onMutationUpdate(n){mn(this,_u,B2).call(this),mn(this,_u,y6).call(this,n)}getCurrentResult(){return be(this,Yd)}reset(){var n;(n=be(this,da))==null||n.removeObserver(this),xt(this,da,void 0),mn(this,_u,B2).call(this),mn(this,_u,y6).call(this)}mutate(n,r){var i;return xt(this,au,r),(i=be(this,da))==null||i.removeObserver(this),xt(this,da,be(this,Kd).getMutationCache().build(be(this,Kd),this.options)),be(this,da).addObserver(this),be(this,da).execute(n)}},Kd=new WeakMap,Yd=new WeakMap,da=new WeakMap,au=new WeakMap,_u=new WeakSet,B2=function(){var r;const n=((r=be(this,da))==null?void 0:r.state)??BK();xt(this,Yd,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},y6=function(n){Di.batch(()=>{var r,i,s,a,o,c,u,d;if(be(this,au)&&this.hasListeners()){const f=be(this,Yd).variables,h=be(this,Yd).context;(n==null?void 0:n.type)==="success"?((i=(r=be(this,au)).onSuccess)==null||i.call(r,n.data,f,h),(a=(s=be(this,au)).onSettled)==null||a.call(s,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(o=be(this,au)).onError)==null||c.call(o,n.error,f,h),(d=(u=be(this,au)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(be(this,Yd))})})},wK),Zl,EK,Qpe=(EK=class extends tg{constructor(t={}){super();Gt(this,Zl);this.config=t,xt(this,Zl,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Ij(i,n);let a=this.get(s);return a||(a=new Upe({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){be(this,Zl).has(t.queryHash)||(be(this,Zl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=be(this,Zl).get(t.queryHash);n&&(t.destroy(),n===t&&be(this,Zl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Di.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return be(this,Zl).get(t)}getAll(){return[...be(this,Zl).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>uL(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>uL(t,r)):n}notify(t){Di.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Di.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Di.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zl=new WeakMap,EK),Zr,Xd,Qd,bp,wp,Zd,Ep,Sp,SK,Zpe=(SK=class{constructor(e={}){Gt(this,Zr);Gt(this,Xd);Gt(this,Qd);Gt(this,bp);Gt(this,wp);Gt(this,Zd);Gt(this,Ep);Gt(this,Sp);xt(this,Zr,e.queryCache||new Qpe),xt(this,Xd,e.mutationCache||new Ype),xt(this,Qd,e.defaultOptions||{}),xt(this,bp,new Map),xt(this,wp,new Map),xt(this,Zd,0)}mount(){yw(this,Zd)._++,be(this,Zd)===1&&(xt(this,Ep,Mj.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Zr).onFocus())})),xt(this,Sp,g4.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Zr).onOnline())})))}unmount(){var e,t;yw(this,Zd)._--,be(this,Zd)===0&&((e=be(this,Ep))==null||e.call(this),xt(this,Ep,void 0),(t=be(this,Sp))==null||t.call(this),xt(this,Sp,void 0))}isFetching(e){return be(this,Zr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,Xd).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=be(this,Zr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=be(this,Zr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(of(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return be(this,Zr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=be(this,Zr).get(r.queryHash),s=i==null?void 0:i.state.data,a=Ipe(t,s);if(a!==void 0)return be(this,Zr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Di.batch(()=>be(this,Zr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=be(this,Zr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=be(this,Zr);Di.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=be(this,Zr);return Di.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Di.batch(()=>be(this,Zr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Bs).catch(Bs)}invalidateQueries(e,t={}){return Di.batch(()=>(be(this,Zr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Di.batch(()=>be(this,Zr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Bs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Bs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=be(this,Zr).build(this,t);return n.isStaleByTime(of(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bs).catch(Bs)}fetchInfiniteQuery(e){return e.behavior=v4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bs).catch(Bs)}ensureInfiniteQueryData(e){return e.behavior=v4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return g4.isOnline()?be(this,Xd).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,Zr)}getMutationCache(){return be(this,Xd)}getDefaultOptions(){return be(this,Qd)}setDefaultOptions(e){xt(this,Qd,e)}setQueryDefaults(e,t){be(this,bp).set(Yh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...be(this,bp).values()],n={};return t.forEach(r=>{Lv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){be(this,wp).set(Yh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...be(this,wp).values()],n={};return t.forEach(r=>{Lv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...be(this,Qd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ij(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...be(this,Qd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,Zr).clear(),be(this,Xd).clear()}},Zr=new WeakMap,Xd=new WeakMap,Qd=new WeakMap,bp=new WeakMap,wp=new WeakMap,Zd=new WeakMap,Ep=new WeakMap,Sp=new WeakMap,SK),UK=y.createContext(void 0),ir=e=>{const t=y.useContext(UK);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Jpe=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(UK.Provider,{value:e,children:t})),HK=y.createContext(!1),ege=()=>y.useContext(HK);HK.Provider;function tge(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var nge=y.createContext(tge()),rge=()=>y.useContext(nge),ige=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sge=e=>{y.useEffect(()=>{e.clearReset()},[e])},age=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||RK(n,[e.error,r])),oge=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},lge=(e,t)=>e.isLoading&&e.isFetching&&!t,cge=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vL=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function VK(e,t,n){var f,h,p,v,x;const r=ege(),i=rge(),s=ir(),a=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",oge(a),ige(a,i),sge(i);const o=!s.getQueryCache().get(a.queryHash),[c]=y.useState(()=>new t(s,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(b=>{const w=d?c.subscribe(Di.batchCalls(b)):Bs;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(a)},[a,c]),cge(a,u))throw vL(a,c,i);if(age({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,a,u),a.experimental_prefetchInRender&&!Kh&&lge(u,r)){const b=o?vL(a,c,i):(x=s.getQueryCache().get(a.queryHash))==null?void 0:x.promise;b==null||b.catch(Bs).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Uu(e,t){return VK(e,FK)}function Lr(e,t){const n=ir(),[r]=y.useState(()=>new Xpe(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const i=y.useSyncExternalStore(y.useCallback(a=>r.subscribe(Di.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=y.useCallback((a,o)=>{r.mutate(a,o).catch(Bs)},[r]);if(i.error&&RK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function uge(e,t){return VK(e,Gpe)}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fge=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),yL=e=>{const t=fge(e);return t.charAt(0).toUpperCase()+t.slice(1)},qK=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),hge=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pge=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>y.createElement("svg",{ref:c,...mge,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qK("lucide",i),...!s&&!hge(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(pge,{ref:s,iconNode:t,className:qK(`lucide-${dge(yL(e))}`,`lucide-${e}`,r),...i}));return n.displayName=yL(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gge=[["path",{d:"m15 16 2.536-7.328a1.02 1.02 1 0 1 1.928 0L22 16",key:"xik6mr"}],["path",{d:"M15.697 14h5.606",key:"1stdlc"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],vge=Ye("a-large-small",gge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yge=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xge=Ye("arrow-down",yge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bge=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lh=Ye("arrow-left",bge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dj=Ye("arrow-right",wge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ege=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],y4=Ye("arrow-up-down",Ege);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sge=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],kge=Ye("award",Sge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cge=Ye("ban",_ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nge=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xm=Ye("book-open",Nge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tge=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_o=Ye("bot",Tge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],jge=Ye("briefcase",Age);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pge=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ige=Ye("calendar",Pge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Mge=Ye("chart-line",Rge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],or=Ye("check",Oge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ri=Ye("chevron-down",Dge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WK=Ye("chevron-left",Lge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bl=Ye("chevron-right",Fge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zge=Ye("chevron-up",$ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nf=Ye("circle-alert",Bge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GK=Ye("circle-check-big",Uge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gy=Ye("circle-check",Hge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lj=Ye("circle-question-mark",Vge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fh=Ye("circle-x",qge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Gge=Ye("clipboard-list",Wge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fj=Ye("clock",Kge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],KK=Ye("code",Yge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Qge=Ye("coffee",Xge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jS=Ye("copy",Zge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],e1e=Ye("crown",Jge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],$j=Ye("database",t1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],r1e=Ye("download",n1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],s1e=Ye("ellipsis-vertical",i1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Hu=Ye("ellipsis",a1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YK=Ye("external-link",o1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],c1e=Ye("eye-off",l1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],XK=Ye("eye",u1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1e=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],QK=Ye("file-question-mark",d1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cs=Ye("file-text",f1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ZK=Ye("file",h1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1e=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],JK=Ye("flag",m1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1e=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],g1e=Ye("folder",p1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1e=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Fv=Ye("git-branch",v1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zj=Ye("globe",y1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],b1e=Ye("graduation-cap",x1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1e=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Bj=Ye("headphones",w1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],S1e=Ye("heart",E1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_1e=Ye("history",k1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Uj=Ye("house",C1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],PS=Ye("info",N1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Hj=Ye("key",T1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],j1e=Ye("landmark",A1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],eY=Ye("layers",P1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],R1e=Ye("layout-grid",I1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],O1e=Ye("lightbulb",M1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Vj=Ye("link-2",D1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],F1e=Ye("list-checks",L1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ds=Ye("loader-circle",$1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gu=Ye("loader",z1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tY=Ye("lock",B1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],H1e=Ye("log-out",U1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1e=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],nY=Ye("mail-open",V1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1e=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W1e=Ye("mail",q1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],K1e=Ye("map",G1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1e=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ks=Ye("message-square",Y1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1e=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],Q1e=Ye("move-down",X1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1e=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],J1e=Ye("move-up",Z1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],tve=Ye("network",eve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rve=Ye("package",nve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],sve=Ye("panel-left",ive);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],ove=Ye("paperclip",ave);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rY=Ye("pen",lve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uve=Ye("pencil-ruler",cve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],x6=Ye("pencil",dve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hve=Ye("phone",fve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$v=Ye("play",mve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],gve=Ye("plug",pve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ts=Ye("plus",vve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],iY=Ye("rectangle-ellipsis",yve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],bve=Ye("redo-2",xve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],x4=Ye("refresh-cw",wve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eve=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Xh=Ye("rocket",Eve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sve=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kve=Ye("rotate-ccw",Sve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ve=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qj=Ye("save",_ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cve=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$h=Ye("search",Cve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vu=Ye("send",Nve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ng=Ye("settings",Tve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ave=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Wj=Ye("shield-check",Ave);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sY=Ye("shield",jve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pve=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ive=Ye("shopping-cart",Pve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rg=Ye("sparkles",Rve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mve=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xL=Ye("square-pen",Mve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],IS=Ye("square",Ove);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=[["path",{d:"M15.236 22a3 3 0 0 0-2.2-5",key:"21bitc"}],["path",{d:"M16 20a3 3 0 0 1 3-3h1a2 2 0 0 0 2-2v-2a4 4 0 0 0-4-4V4",key:"oh0fg0"}],["path",{d:"M18 13h.01",key:"9veqaj"}],["path",{d:"M18 6a4 4 0 0 0-4 4 7 7 0 0 0-7 7c0-5 4-5 4-10.5a4.5 4.5 0 1 0-9 0 2.5 2.5 0 0 0 5 0C7 10 3 11 3 17c0 2.8 2.2 5 5 5h10",key:"980v8a"}]],b0=Ye("squirrel",Dve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],aY=Ye("stamp",Lve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$ve=Ye("star",Fve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],oY=Ye("sticky-note",zve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Uve=Ye("target",Bve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hve=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],b6=Ye("test-tube",Hve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],lY=Ye("thumbs-down",Vve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qve=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Gj=Ye("thumbs-up",qve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wve=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Gve=Ye("ticket",Wve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Yve=Ye("toggle-right",Kve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xve=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hf=Ye("trash-2",Xve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qve=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cY=Ye("trending-up",Qve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zve=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uY=Ye("triangle-alert",Zve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],eye=Ye("truck",Jve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],nye=Ye("undo-2",tye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w0=Ye("upload",rye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iye=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sye=Ye("user-plus",iye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oye=Ye("users",aye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],dY=Ye("wand-sparkles",lye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],xo=Ye("workflow",cye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],dye=Ye("wrench",uye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],li=Ye("x",fye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hye=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Il=Ye("zap",hye);var mye=(e,t,n,r,i,s,a,o)=>{let c=document.documentElement,u=["light","dark"];function d(p){(Array.isArray(e)?e:[e]).forEach(v=>{let x=v==="class",b=x&&s?i.map(w=>s[w]||w):i;x?(c.classList.remove(...b),c.classList.add(s&&s[p]?s[p]:p)):c.setAttribute(v,p)}),f(p)}function f(p){o&&u.includes(p)&&(c.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let p=localStorage.getItem(t)||n,v=a&&p==="system"?h():p;d(v)}catch{}},pye=y.createContext(void 0),gye={setTheme:e=>{},themes:[]},vye=()=>{var e;return(e=y.useContext(pye))!=null?e:gye};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,t,s,e,o,a,r,i]).slice(1,-1);return y.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${mye.toString()})(${d})`}})});var E0=AK();const fY=Xa(E0);function yye(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const xye=e=>{switch(e){case"success":return Eye;case"info":return kye;case"warning":return Sye;case"error":return _ye;default:return null}},bye=Array(12).fill(0),wye=({visible:e,className:t})=>Xe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Xe.createElement("div",{className:"sonner-spinner"},bye.map((n,r)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Eye=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sye=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kye=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_ye=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cye=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Nye=()=>{const[e,t]=Xe.useState(document.hidden);return Xe.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let w6=1;class Tye{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:w6++,a=this.toasts.find(c=>c.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:r}),{...c,...t,id:s,dismissible:o,title:r}):c):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],Xe.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(jye(u)&&!u.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,v=typeof f=="object"&&!Xe.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...v})}else if(u instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,v=typeof f=="object"&&!Xe.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description,v=typeof f=="object"&&!Xe.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:h,...v})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;const d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,p=typeof d=="object"&&!Xe.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...p})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||w6++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ma=new Tye,Aye=(e,t)=>{const n=(t==null?void 0:t.id)||w6++;return ma.addToast({title:e,...t,id:n}),n},jye=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Pye=Aye,Iye=()=>ma.toasts,Rye=()=>ma.getActiveToasts(),tf=Object.assign(Pye,{success:ma.success,info:ma.info,warning:ma.warning,error:ma.error,custom:ma.custom,message:ma.message,promise:ma.promise,dismiss:ma.dismiss,loading:ma.loading},{getHistory:Iye,getToasts:Rye});yye("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ww(e){return e.label!==void 0}const Mye=3,Oye="24px",Dye="16px",bL=4e3,Lye=356,Fye=14,$ye=45,zye=200;function Hl(...e){return e.filter(Boolean).join(" ")}function Bye(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Uye=e=>{var t,n,r,i,s,a,o,c,u;const{invert:d,toast:f,unstyled:h,interacting:p,setHeights:v,visibleToasts:x,heights:b,index:w,toasts:E,expanded:k,removeToast:_,defaultRichColors:A,closeButton:T,style:C,cancelButtonStyle:I,actionButtonStyle:B,className:$="",descriptionClassName:L="",duration:U,position:Y,gap:V,expandByDefault:K,classNames:W,icons:J,closeButtonAriaLabel:q="Close toast"}=e,[G,j]=Xe.useState(null),[M,z]=Xe.useState(null),[O,X]=Xe.useState(!1),[ne,re]=Xe.useState(!1),[Q,te]=Xe.useState(!1),[ie,fe]=Xe.useState(!1),[he,ae]=Xe.useState(!1),[Pe,Te]=Xe.useState(0),[Ge,nt]=Xe.useState(0),vt=Xe.useRef(f.duration||U||bL),Ct=Xe.useRef(null),Tt=Xe.useRef(null),ue=w===0,_e=w+1<=x,Ae=f.type,Be=f.dismissible!==!1,We=f.className||"",qe=f.descriptionClassName||"",Ee=Xe.useMemo(()=>b.findIndex(Pt=>Pt.toastId===f.id)||0,[b,f.id]),$e=Xe.useMemo(()=>{var Pt;return(Pt=f.closeButton)!=null?Pt:T},[f.closeButton,T]),Ze=Xe.useMemo(()=>f.duration||U||bL,[f.duration,U]),bt=Xe.useRef(0),Ue=Xe.useRef(0),St=Xe.useRef(0),At=Xe.useRef(null),[je,Je]=Y.split("-"),wt=Xe.useMemo(()=>b.reduce((Pt,En,Qn)=>Qn>=Ee?Pt:Pt+En.height,0),[b,Ee]),Et=Nye(),gn=f.invert||d,dn=Ae==="loading";Ue.current=Xe.useMemo(()=>Ee*V+wt,[Ee,wt]),Xe.useEffect(()=>{vt.current=Ze},[Ze]),Xe.useEffect(()=>{X(!0)},[]),Xe.useEffect(()=>{const Pt=Tt.current;if(Pt){const En=Pt.getBoundingClientRect().height;return nt(En),v(Qn=>[{toastId:f.id,height:En,position:f.position},...Qn]),()=>v(Qn=>Qn.filter(lr=>lr.toastId!==f.id))}},[v,f.id]),Xe.useLayoutEffect(()=>{if(!O)return;const Pt=Tt.current,En=Pt.style.height;Pt.style.height="auto";const Qn=Pt.getBoundingClientRect().height;Pt.style.height=En,nt(Qn),v(lr=>lr.find(pr=>pr.toastId===f.id)?lr.map(pr=>pr.toastId===f.id?{...pr,height:Qn}:pr):[{toastId:f.id,height:Qn,position:f.position},...lr])},[O,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const In=Xe.useCallback(()=>{re(!0),Te(Ue.current),v(Pt=>Pt.filter(En=>En.toastId!==f.id)),setTimeout(()=>{_(f)},zye)},[f,_,v,Ue]);Xe.useEffect(()=>{if(f.promise&&Ae==="loading"||f.duration===1/0||f.type==="loading")return;let Pt;return k||p||Et?(()=>{if(St.current<bt.current){const lr=new Date().getTime()-bt.current;vt.current=vt.current-lr}St.current=new Date().getTime()})():(()=>{vt.current!==1/0&&(bt.current=new Date().getTime(),Pt=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),In()},vt.current))})(),()=>clearTimeout(Pt)},[k,p,f,Ae,Et,In]),Xe.useEffect(()=>{f.delete&&(In(),f.onDismiss==null||f.onDismiss.call(f,f))},[In,f.delete]);function fi(){var Pt;if(J!=null&&J.loading){var En;return Xe.createElement("div",{className:Hl(W==null?void 0:W.loader,f==null||(En=f.classNames)==null?void 0:En.loader,"sonner-loader"),"data-visible":Ae==="loading"},J.loading)}return Xe.createElement(wye,{className:Hl(W==null?void 0:W.loader,f==null||(Pt=f.classNames)==null?void 0:Pt.loader),visible:Ae==="loading"})}const Un=f.icon||(J==null?void 0:J[Ae])||xye(Ae);var Tn,Ut;return Xe.createElement("li",{tabIndex:0,ref:Tt,className:Hl($,We,W==null?void 0:W.toast,f==null||(t=f.classNames)==null?void 0:t.toast,W==null?void 0:W.default,W==null?void 0:W[Ae],f==null||(n=f.classNames)==null?void 0:n[Ae]),"data-sonner-toast":"","data-rich-colors":(Tn=f.richColors)!=null?Tn:A,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":O,"data-promise":!!f.promise,"data-swiped":he,"data-removed":ne,"data-visible":_e,"data-y-position":je,"data-x-position":Je,"data-index":w,"data-front":ue,"data-swiping":Q,"data-dismissible":Be,"data-type":Ae,"data-invert":gn,"data-swipe-out":ie,"data-swipe-direction":M,"data-expanded":!!(k||K&&O),"data-testid":f.testId,style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${ne?Pe:Ue.current}px`,"--initial-height":K?"auto":`${Ge}px`,...C,...f.style},onDragEnd:()=>{te(!1),j(null),At.current=null},onPointerDown:Pt=>{Pt.button!==2&&(dn||!Be||(Ct.current=new Date,Te(Ue.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(te(!0),At.current={x:Pt.clientX,y:Pt.clientY})))},onPointerUp:()=>{var Pt,En,Qn;if(ie||!Be)return;At.current=null;const lr=Number(((Pt=Tt.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Os=Number(((En=Tt.current)==null?void 0:En.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pr=new Date().getTime()-((Qn=Ct.current)==null?void 0:Qn.getTime()),Ar=G==="x"?lr:Os,ye=Math.abs(Ar)/pr;if(Math.abs(Ar)>=$ye||ye>.11){Te(Ue.current),f.onDismiss==null||f.onDismiss.call(f,f),z(G==="x"?lr>0?"right":"left":Os>0?"down":"up"),In(),fe(!0);return}else{var ke,De;(ke=Tt.current)==null||ke.style.setProperty("--swipe-amount-x","0px"),(De=Tt.current)==null||De.style.setProperty("--swipe-amount-y","0px")}ae(!1),te(!1),j(null)},onPointerMove:Pt=>{var En,Qn,lr;if(!At.current||!Be||((En=window.getSelection())==null?void 0:En.toString().length)>0)return;const pr=Pt.clientY-At.current.y,Ar=Pt.clientX-At.current.x;var ye;const ke=(ye=e.swipeDirections)!=null?ye:Bye(Y);!G&&(Math.abs(Ar)>1||Math.abs(pr)>1)&&j(Math.abs(Ar)>Math.abs(pr)?"x":"y");let De={x:0,y:0};const Ke=st=>1/(1.5+Math.abs(st)/20);if(G==="y"){if(ke.includes("top")||ke.includes("bottom"))if(ke.includes("top")&&pr<0||ke.includes("bottom")&&pr>0)De.y=pr;else{const st=pr*Ke(pr);De.y=Math.abs(st)<Math.abs(pr)?st:pr}}else if(G==="x"&&(ke.includes("left")||ke.includes("right")))if(ke.includes("left")&&Ar<0||ke.includes("right")&&Ar>0)De.x=Ar;else{const st=Ar*Ke(Ar);De.x=Math.abs(st)<Math.abs(Ar)?st:Ar}(Math.abs(De.x)>0||Math.abs(De.y)>0)&&ae(!0),(Qn=Tt.current)==null||Qn.style.setProperty("--swipe-amount-x",`${De.x}px`),(lr=Tt.current)==null||lr.style.setProperty("--swipe-amount-y",`${De.y}px`)}},$e&&!f.jsx&&Ae!=="loading"?Xe.createElement("button",{"aria-label":q,"data-disabled":dn,"data-close-button":!0,onClick:dn||!Be?()=>{}:()=>{In(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Hl(W==null?void 0:W.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(Ut=J==null?void 0:J.close)!=null?Ut:Cye):null,(Ae||f.icon||f.promise)&&f.icon!==null&&((J==null?void 0:J[Ae])!==null||f.icon)?Xe.createElement("div",{"data-icon":"",className:Hl(W==null?void 0:W.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fi():null,f.type!=="loading"?Un:null):null,Xe.createElement("div",{"data-content":"",className:Hl(W==null?void 0:W.content,f==null||(s=f.classNames)==null?void 0:s.content)},Xe.createElement("div",{"data-title":"",className:Hl(W==null?void 0:W.title,f==null||(a=f.classNames)==null?void 0:a.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?Xe.createElement("div",{"data-description":"",className:Hl(L,qe,W==null?void 0:W.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),Xe.isValidElement(f.cancel)?f.cancel:f.cancel&&ww(f.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:Pt=>{ww(f.cancel)&&Be&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Pt),In())},className:Hl(W==null?void 0:W.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,Xe.isValidElement(f.action)?f.action:f.action&&ww(f.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||B,onClick:Pt=>{ww(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Pt),!Pt.defaultPrevented&&In())},className:Hl(W==null?void 0:W.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function wL(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Hye(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Dye:Oye;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}const Vye=Xe.forwardRef(function(t,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:d,mobileOffset:f,theme:h="light",richColors:p,duration:v,style:x,visibleToasts:b=Mye,toastOptions:w,dir:E=wL(),gap:k=Fye,icons:_,containerAriaLabel:A="Notifications"}=t,[T,C]=Xe.useState([]),I=Xe.useMemo(()=>r?T.filter(O=>O.toasterId===r):T.filter(O=>!O.toasterId),[T,r]),B=Xe.useMemo(()=>Array.from(new Set([s].concat(I.filter(O=>O.position).map(O=>O.position)))),[I,s]),[$,L]=Xe.useState([]),[U,Y]=Xe.useState(!1),[V,K]=Xe.useState(!1),[W,J]=Xe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Xe.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=Xe.useRef(null),M=Xe.useRef(!1),z=Xe.useCallback(O=>{C(X=>{var ne;return(ne=X.find(re=>re.id===O.id))!=null&&ne.delete||ma.dismiss(O.id),X.filter(({id:re})=>re!==O.id)})},[]);return Xe.useEffect(()=>ma.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{C(X=>X.map(ne=>ne.id===O.id?{...ne,delete:!0}:ne))});return}setTimeout(()=>{fY.flushSync(()=>{C(X=>{const ne=X.findIndex(re=>re.id===O.id);return ne!==-1?[...X.slice(0,ne),{...X[ne],...O},...X.slice(ne+1)]:[O,...X]})})})}),[T]),Xe.useEffect(()=>{if(h!=="system"){J(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:X})=>{J(X?"dark":"light")})}catch{O.addListener(({matches:ne})=>{try{J(ne?"dark":"light")}catch(re){console.error(re)}})}},[h]),Xe.useEffect(()=>{T.length<=1&&Y(!1)},[T]),Xe.useEffect(()=>{const O=X=>{var ne;if(a.every(te=>X[te]||X.code===te)){var Q;Y(!0),(Q=q.current)==null||Q.focus()}X.code==="Escape"&&(document.activeElement===q.current||(ne=q.current)!=null&&ne.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[a]),Xe.useEffect(()=>{if(q.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,M.current=!1)}},[q.current]),Xe.createElement("section",{ref:n,"aria-label":`${A} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((O,X)=>{var ne;const[re,Q]=O.split("-");return I.length?Xe.createElement("ol",{key:O,dir:E==="auto"?wL():E,tabIndex:-1,ref:q,className:u,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":re,"data-x-position":Q,style:{"--front-toast-height":`${((ne=$[0])==null?void 0:ne.height)||0}px`,"--width":`${Lye}px`,"--gap":`${k}px`,...x,...Hye(d,f)},onBlur:te=>{M.current&&!te.currentTarget.contains(te.relatedTarget)&&(M.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||M.current||(M.current=!0,j.current=te.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{V||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},I.filter(te=>!te.position&&X===0||te.position===O).map((te,ie)=>{var fe,he;return Xe.createElement(Uye,{key:te.id,icons:_,index:ie,toast:te,defaultRichColors:p,duration:(fe=w==null?void 0:w.duration)!=null?fe:v,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:i,visibleToasts:b,closeButton:(he=w==null?void 0:w.closeButton)!=null?he:c,interacting:V,position:O,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:z,toasts:I.filter(ae=>ae.position==te.position),heights:$.filter(ae=>ae.position==te.position),setHeights:L,expandByDefault:o,gap:k,expanded:U,swipeDirections:t.swipeDirections})})):null}))}),qye=({...e})=>{const{theme:t="system"}=vye();return l.jsx(Vye,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function hY(e){if(!(this instanceof hY))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");if(typeof e!="string"&&!KC(e))throw new Error("The 'Keycloak' constructor must be provided with a configuration object, or a URL to a JSON configuration file.");if(KC(e)){const j="oidcProvider"in e?["clientId"]:["url","realm","clientId"];for(const M of j)if(!e[M])throw new Error(`The configuration object is missing the required '${M}' property.`)}var t=this,n,r=[],i,s={enable:!0,callbackList:[],interval:5};t.didInitialize=!1;var a=!0,o=G(console.info),c=G(console.warn);globalThis.isSecureContext||c(`[KEYCLOAK] Keycloak JS must be used in a 'secure context' to function properly as it relies on browser APIs that are otherwise not available.
Continuing to run your application insecurely will lead to unexpected behavior and breakage.

For more information see: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`),t.init=function(j={}){if(t.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");t.didInitialize=!0,t.authenticated=!1,i=q();var M=["default","cordova","cordova-native"];if(M.indexOf(j.adapter)>-1?n=V(j.adapter):typeof j.adapter=="object"?n=j.adapter:window.Cordova||window.cordova?n=V("cordova"):n=V(),typeof j.useNonce<"u"&&(a=j.useNonce),typeof j.checkLoginIframe<"u"&&(s.enable=j.checkLoginIframe),j.checkLoginIframeInterval&&(s.interval=j.checkLoginIframeInterval),j.onLoad==="login-required"&&(t.loginRequired=!0),j.responseMode)if(j.responseMode==="query"||j.responseMode==="fragment")t.responseMode=j.responseMode;else throw"Invalid value for responseMode";if(j.flow){switch(j.flow){case"standard":t.responseType="code";break;case"implicit":t.responseType="id_token token";break;case"hybrid":t.responseType="code id_token token";break;default:throw"Invalid value for flow"}t.flow=j.flow}if(j.timeSkew!=null&&(t.timeSkew=j.timeSkew),j.redirectUri&&(t.redirectUri=j.redirectUri),j.silentCheckSsoRedirectUri&&(t.silentCheckSsoRedirectUri=j.silentCheckSsoRedirectUri),typeof j.silentCheckSsoFallback=="boolean"?t.silentCheckSsoFallback=j.silentCheckSsoFallback:t.silentCheckSsoFallback=!0,typeof j.pkceMethod<"u"){if(j.pkceMethod!=="S256"&&j.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${j.pkceMethod}.`);t.pkceMethod=j.pkceMethod}else t.pkceMethod="S256";typeof j.enableLogging=="boolean"?t.enableLogging=j.enableLogging:t.enableLogging=!1,j.logoutMethod==="POST"?t.logoutMethod="POST":t.logoutMethod="GET",typeof j.scope=="string"&&(t.scope=j.scope),typeof j.acrValues=="string"&&(t.acrValues=j.acrValues),typeof j.messageReceiveTimeout=="number"&&j.messageReceiveTimeout>0?t.messageReceiveTimeout=j.messageReceiveTimeout:t.messageReceiveTimeout=1e4,t.responseMode||(t.responseMode="fragment"),t.responseType||(t.responseType="code",t.flow="standard");var z=I(),O=I();O.promise.then(function(){t.onReady&&t.onReady(t.authenticated),z.setSuccess(t.authenticated)}).catch(function(Q){z.setError(Q)});var X=w();function ne(){var Q=function(fe){fe||(ie.prompt="none"),j.locale&&(ie.locale=j.locale),t.login(ie).then(function(){O.setSuccess()}).catch(function(he){O.setError(he)})},te=async function(){var fe=document.createElement("iframe"),he=await t.createLoginUrl({prompt:"none",redirectUri:t.silentCheckSsoRedirectUri});fe.setAttribute("src",he),fe.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),fe.setAttribute("title","keycloak-silent-check-sso"),fe.style.display="none",document.body.appendChild(fe);var ae=function(Pe){if(!(Pe.origin!==window.location.origin||fe.contentWindow!==Pe.source)){var Te=A(Pe.data);b(Te,O),document.body.removeChild(fe),window.removeEventListener("message",ae)}};window.addEventListener("message",ae)},ie={};switch(j.onLoad){case"check-sso":s.enable?$().then(function(){U().then(function(fe){fe?O.setSuccess():t.silentCheckSsoRedirectUri?te():Q(!1)}).catch(function(fe){O.setError(fe)})}):t.silentCheckSsoRedirectUri?te():Q(!1);break;case"login-required":Q(!0);break;default:throw"Invalid value for onLoad"}}function re(){var Q=A(window.location.href);if(Q&&window.history.replaceState(window.history.state,null,Q.newUrl),Q&&Q.valid)return $().then(function(){b(Q,O)}).catch(function(te){O.setError(te)});j.token&&j.refreshToken?(k(j.token,j.refreshToken,j.idToken),s.enable?$().then(function(){U().then(function(te){te?(t.onAuthSuccess&&t.onAuthSuccess(),O.setSuccess(),L()):O.setSuccess()}).catch(function(te){O.setError(te)})}):t.updateToken(-1).then(function(){t.onAuthSuccess&&t.onAuthSuccess(),O.setSuccess()}).catch(function(te){t.onAuthError&&t.onAuthError(),j.onLoad?ne():O.setError(te)})):j.onLoad?ne():O.setSuccess()}return X.then(function(){Y().then(re).catch(function(Q){z.setError(Q)})}),X.catch(function(Q){z.setError(Q)}),z.promise},t.login=function(j){return n.login(j)};function u(j){if(typeof crypto>"u"||typeof crypto.getRandomValues>"u")throw new Error("Web Crypto API is not available.");return crypto.getRandomValues(new Uint8Array(j))}function d(j){return f(j,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function f(j,M){for(var z=u(j),O=new Array(j),X=0;X<j;X++)O[X]=M.charCodeAt(z[X]%M.length);return String.fromCharCode.apply(null,O)}async function h(j,M){if(j!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${j}'.`);const z=new Uint8Array(await Gye(M));return Wye(z).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function p(j){var M={id_token:{acr:j}};return JSON.stringify(M)}t.createLoginUrl=async function(j){var M=_(),z=_(),O=n.redirectUri(j),X={state:M,nonce:z,redirectUri:encodeURIComponent(O),loginOptions:j};j&&j.prompt&&(X.prompt=j.prompt);var ne;j&&j.action=="register"?ne=t.endpoints.register():ne=t.endpoints.authorize();var re=j&&j.scope||t.scope;re?re.indexOf("openid")===-1&&(re="openid "+re):re="openid";var Q=ne+"?client_id="+encodeURIComponent(t.clientId)+"&redirect_uri="+encodeURIComponent(O)+"&state="+encodeURIComponent(M)+"&response_mode="+encodeURIComponent(t.responseMode)+"&response_type="+encodeURIComponent(t.responseType)+"&scope="+encodeURIComponent(re);if(a&&(Q=Q+"&nonce="+encodeURIComponent(z)),j&&j.prompt&&(Q+="&prompt="+encodeURIComponent(j.prompt)),j&&typeof j.maxAge=="number"&&(Q+="&max_age="+encodeURIComponent(j.maxAge)),j&&j.loginHint&&(Q+="&login_hint="+encodeURIComponent(j.loginHint)),j&&j.idpHint&&(Q+="&kc_idp_hint="+encodeURIComponent(j.idpHint)),j&&j.action&&j.action!="register"&&(Q+="&kc_action="+encodeURIComponent(j.action)),j&&j.locale&&(Q+="&ui_locales="+encodeURIComponent(j.locale)),j&&j.acr){var te=p(j.acr);Q+="&claims="+encodeURIComponent(te)}if((j&&j.acrValues||t.acrValues)&&(Q+="&acr_values="+encodeURIComponent(j.acrValues||t.acrValues)),t.pkceMethod)try{const ie=d(96),fe=await h(t.pkceMethod,ie);X.pkceCodeVerifier=ie,Q+="&code_challenge="+fe,Q+="&code_challenge_method="+t.pkceMethod}catch(ie){throw new Error("Failed to generate PKCE challenge.",{cause:ie})}return i.add(X),Q},t.logout=function(j){return n.logout(j)},t.createLogoutUrl=function(j){if(((j==null?void 0:j.logoutMethod)??t.logoutMethod)==="POST")return t.endpoints.logout();var z=t.endpoints.logout()+"?client_id="+encodeURIComponent(t.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(n.redirectUri(j,!1));return t.idToken&&(z+="&id_token_hint="+encodeURIComponent(t.idToken)),z},t.register=function(j){return n.register(j)},t.createRegisterUrl=async function(j){return j||(j={}),j.action="register",await t.createLoginUrl(j)},t.createAccountUrl=function(j){var M=v(),z=void 0;return typeof M<"u"&&(z=M+"/account?referrer="+encodeURIComponent(t.clientId)+"&referrer_uri="+encodeURIComponent(n.redirectUri(j))),z},t.accountManagement=function(){return n.accountManagement()},t.hasRealmRole=function(j){var M=t.realmAccess;return!!M&&M.roles.indexOf(j)>=0},t.hasResourceRole=function(j,M){if(!t.resourceAccess)return!1;var z=t.resourceAccess[M||t.clientId];return!!z&&z.roles.indexOf(j)>=0},t.loadUserProfile=function(){var j=v()+"/account",M=new XMLHttpRequest;M.open("GET",j,!0),M.setRequestHeader("Accept","application/json"),M.setRequestHeader("Authorization","bearer "+t.token);var z=I();return M.onreadystatechange=function(){M.readyState==4&&(M.status==200?(t.profile=JSON.parse(M.responseText),z.setSuccess(t.profile)):z.setError())},M.send(),z.promise},t.loadUserInfo=function(){var j=t.endpoints.userinfo(),M=new XMLHttpRequest;M.open("GET",j,!0),M.setRequestHeader("Accept","application/json"),M.setRequestHeader("Authorization","bearer "+t.token);var z=I();return M.onreadystatechange=function(){M.readyState==4&&(M.status==200?(t.userInfo=JSON.parse(M.responseText),z.setSuccess(t.userInfo)):z.setError())},M.send(),z.promise},t.isTokenExpired=function(j){if(!t.tokenParsed||!t.refreshToken&&t.flow!="implicit")throw"Not authenticated";if(t.timeSkew==null)return o("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var M=t.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+t.timeSkew;if(j){if(isNaN(j))throw"Invalid minValidity";M-=j}return M<0},t.updateToken=function(j){var M=I();if(!t.refreshToken)return M.setError(),M.promise;j=j||5;var z=function(){var X=!1;if(j==-1?(X=!0,o("[KEYCLOAK] Refreshing token: forced refresh")):(!t.tokenParsed||t.isTokenExpired(j))&&(X=!0,o("[KEYCLOAK] Refreshing token: token expired")),!X)M.setSuccess(!1);else{var ne="grant_type=refresh_token&refresh_token="+t.refreshToken,re=t.endpoints.token();if(r.push(M),r.length==1){var Q=new XMLHttpRequest;Q.open("POST",re,!0),Q.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Q.withCredentials=!0,ne+="&client_id="+encodeURIComponent(t.clientId);var te=new Date().getTime();Q.onreadystatechange=function(){if(Q.readyState==4)if(Q.status==200){o("[KEYCLOAK] Token refreshed"),te=(te+new Date().getTime())/2;var ie=JSON.parse(Q.responseText);k(ie.access_token,ie.refresh_token,ie.id_token,te),t.onAuthRefreshSuccess&&t.onAuthRefreshSuccess();for(var fe=r.pop();fe!=null;fe=r.pop())fe.setSuccess(!0)}else{c("[KEYCLOAK] Failed to refresh token"),Q.status==400&&t.clearToken(),t.onAuthRefreshError&&t.onAuthRefreshError();for(var fe=r.pop();fe!=null;fe=r.pop())fe.setError("Failed to refresh token: An unexpected HTTP error occurred while attempting to refresh the token.")}},Q.send(ne)}}};if(s.enable){var O=U();O.then(function(){z()}).catch(function(X){M.setError(X)})}else z();return M.promise},t.clearToken=function(){t.token&&(k(null,null,null),t.onAuthLogout&&t.onAuthLogout(),t.loginRequired&&t.login())};function v(){if(typeof t.authServerUrl<"u")return t.authServerUrl.charAt(t.authServerUrl.length-1)=="/"?t.authServerUrl+"realms/"+encodeURIComponent(t.realm):t.authServerUrl+"/realms/"+encodeURIComponent(t.realm)}function x(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function b(j,M){var z=j.code,O=j.error,X=j.prompt,ne=new Date().getTime();if(j.kc_action_status&&t.onActionUpdate&&t.onActionUpdate(j.kc_action_status,j.kc_action),O){if(X!="none")if(j.error_description&&j.error_description==="authentication_expired")t.login(j.loginOptions);else{var re={error:O,error_description:j.error_description};t.onAuthError&&t.onAuthError(re),M&&M.setError(re)}else M&&M.setSuccess();return}else t.flow!="standard"&&(j.access_token||j.id_token)&&fe(j.access_token,null,j.id_token,!0);if(t.flow!="implicit"&&z){var Q="code="+z+"&grant_type=authorization_code",te=t.endpoints.token(),ie=new XMLHttpRequest;ie.open("POST",te,!0),ie.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Q+="&client_id="+encodeURIComponent(t.clientId),Q+="&redirect_uri="+j.redirectUri,j.pkceCodeVerifier&&(Q+="&code_verifier="+j.pkceCodeVerifier),ie.withCredentials=!0,ie.onreadystatechange=function(){if(ie.readyState==4)if(ie.status==200){var he=JSON.parse(ie.responseText);fe(he.access_token,he.refresh_token,he.id_token,t.flow==="standard"),L()}else t.onAuthError&&t.onAuthError(),M&&M.setError()},ie.send(Q)}function fe(he,ae,Pe,Te){ne=(ne+new Date().getTime())/2,k(he,ae,Pe,ne),a&&t.idTokenParsed&&t.idTokenParsed.nonce!=j.storedNonce?(o("[KEYCLOAK] Invalid nonce, clearing token"),t.clearToken(),M&&M.setError()):Te&&(t.onAuthSuccess&&t.onAuthSuccess(),M&&M.setSuccess())}}function w(){var j=I(),M;typeof e=="string"&&(M=e);function z(re){re?t.endpoints={authorize:function(){return re.authorization_endpoint},token:function(){return re.token_endpoint},logout:function(){if(!re.end_session_endpoint)throw"Not supported by the OIDC server";return re.end_session_endpoint},checkSessionIframe:function(){if(!re.check_session_iframe)throw"Not supported by the OIDC server";return re.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!re.userinfo_endpoint)throw"Not supported by the OIDC server";return re.userinfo_endpoint}}:t.endpoints={authorize:function(){return v()+"/protocol/openid-connect/auth"},token:function(){return v()+"/protocol/openid-connect/token"},logout:function(){return v()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){return v()+"/protocol/openid-connect/login-status-iframe.html"},thirdPartyCookiesIframe:function(){return v()+"/protocol/openid-connect/3p-cookies/step1.html"},register:function(){return v()+"/protocol/openid-connect/registrations"},userinfo:function(){return v()+"/protocol/openid-connect/userinfo"}}}if(M){var O=new XMLHttpRequest;O.open("GET",M,!0),O.setRequestHeader("Accept","application/json"),O.onreadystatechange=function(){if(O.readyState==4)if(O.status==200||E(O)){var re=JSON.parse(O.responseText);t.authServerUrl=re["auth-server-url"],t.realm=re.realm,t.clientId=re.resource,z(null),j.setSuccess()}else j.setError()},O.send()}else{t.clientId=e.clientId;var X=e.oidcProvider;if(!X)t.authServerUrl=e.url,t.realm=e.realm,z(null),j.setSuccess();else if(typeof X=="string"){var ne;X.charAt(X.length-1)=="/"?ne=X+".well-known/openid-configuration":ne=X+"/.well-known/openid-configuration";var O=new XMLHttpRequest;O.open("GET",ne,!0),O.setRequestHeader("Accept","application/json"),O.onreadystatechange=function(){if(O.readyState==4)if(O.status==200||E(O)){var Q=JSON.parse(O.responseText);z(Q),j.setSuccess()}else j.setError()},O.send()}else z(X),j.setSuccess()}return j.promise}function E(j){return j.status==0&&j.responseText&&j.responseURL.startsWith("file:")}function k(j,M,z,O){if(t.tokenTimeoutHandle&&(clearTimeout(t.tokenTimeoutHandle),t.tokenTimeoutHandle=null),M?(t.refreshToken=M,t.refreshTokenParsed=GC(M)):(delete t.refreshToken,delete t.refreshTokenParsed),z?(t.idToken=z,t.idTokenParsed=GC(z)):(delete t.idToken,delete t.idTokenParsed),j){if(t.token=j,t.tokenParsed=GC(j),t.sessionId=t.tokenParsed.sid,t.authenticated=!0,t.subject=t.tokenParsed.sub,t.realmAccess=t.tokenParsed.realm_access,t.resourceAccess=t.tokenParsed.resource_access,O&&(t.timeSkew=Math.floor(O/1e3)-t.tokenParsed.iat),t.timeSkew!=null&&(o("[KEYCLOAK] Estimated time difference between browser and server is "+t.timeSkew+" seconds"),t.onTokenExpired)){var X=(t.tokenParsed.exp-new Date().getTime()/1e3+t.timeSkew)*1e3;o("[KEYCLOAK] Token expires in "+Math.round(X/1e3)+" s"),X<=0?t.onTokenExpired():t.tokenTimeoutHandle=setTimeout(t.onTokenExpired,X)}}else delete t.token,delete t.tokenParsed,delete t.subject,delete t.realmAccess,delete t.resourceAccess,t.authenticated=!1}function _(){if(typeof crypto>"u"||typeof crypto.randomUUID>"u")throw new Error("Web Crypto API is not available.");return crypto.randomUUID()}function A(j){var M=T(j);if(M){var z=i.get(M.state);return z&&(M.valid=!0,M.redirectUri=z.redirectUri,M.storedNonce=z.nonce,M.prompt=z.prompt,M.pkceCodeVerifier=z.pkceCodeVerifier,M.loginOptions=z.loginOptions),M}}function T(j){var M;switch(t.flow){case"standard":M=["code","state","session_state","kc_action_status","kc_action","iss"];break;case"implicit":M=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","kc_action","iss"];break;case"hybrid":M=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","kc_action","iss"];break}M.push("error"),M.push("error_description"),M.push("error_uri");var z=j.indexOf("?"),O=j.indexOf("#"),X,ne;if(t.responseMode==="query"&&z!==-1?(X=j.substring(0,z),ne=C(j.substring(z+1,O!==-1?O:j.length),M),ne.paramsString!==""&&(X+="?"+ne.paramsString),O!==-1&&(X+=j.substring(O))):t.responseMode==="fragment"&&O!==-1&&(X=j.substring(0,O),ne=C(j.substring(O+1),M),ne.paramsString!==""&&(X+="#"+ne.paramsString)),ne&&ne.oauthParams){if(t.flow==="standard"||t.flow==="hybrid"){if((ne.oauthParams.code||ne.oauthParams.error)&&ne.oauthParams.state)return ne.oauthParams.newUrl=X,ne.oauthParams}else if(t.flow==="implicit"&&(ne.oauthParams.access_token||ne.oauthParams.error)&&ne.oauthParams.state)return ne.oauthParams.newUrl=X,ne.oauthParams}}function C(j,M){for(var z=j.split("&"),O={paramsString:"",oauthParams:{}},X=0;X<z.length;X++){var ne=z[X].indexOf("="),re=z[X].slice(0,ne);M.indexOf(re)!==-1?O.oauthParams[re]=z[X].slice(ne+1):(O.paramsString!==""&&(O.paramsString+="&"),O.paramsString+=z[X])}return O}function I(){var j={setSuccess:function(M){j.resolve(M)},setError:function(M){j.reject(M)}};return j.promise=new Promise(function(M,z){j.resolve=M,j.reject=z}),j}function B(j,M,z){var O=null,X=new Promise(function(ne,re){O=setTimeout(function(){re({error:z})},M)});return Promise.race([j,X]).finally(function(){clearTimeout(O)})}function $(){var j=I();if(!s.enable||s.iframe)return j.setSuccess(),j.promise;var M=document.createElement("iframe");s.iframe=M,M.onload=function(){var X=t.endpoints.authorize();X.charAt(0)==="/"?s.iframeOrigin=x():s.iframeOrigin=X.substring(0,X.indexOf("/",8)),j.setSuccess()};var z=t.endpoints.checkSessionIframe();M.setAttribute("src",z),M.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),M.setAttribute("title","keycloak-session-iframe"),M.style.display="none",document.body.appendChild(M);var O=function(X){if(!(X.origin!==s.iframeOrigin||s.iframe.contentWindow!==X.source)&&(X.data=="unchanged"||X.data=="changed"||X.data=="error")){X.data!="unchanged"&&t.clearToken();for(var ne=s.callbackList.splice(0,s.callbackList.length),re=ne.length-1;re>=0;--re){var Q=ne[re];X.data=="error"?Q.setError():Q.setSuccess(X.data=="unchanged")}}};return window.addEventListener("message",O,!1),j.promise}function L(){s.enable&&t.token&&setTimeout(function(){U().then(function(j){j&&L()})},s.interval*1e3)}function U(){var j=I();if(s.iframe&&s.iframeOrigin){var M=t.clientId+" "+(t.sessionId?t.sessionId:"");s.callbackList.push(j);var z=s.iframeOrigin;s.callbackList.length==1&&s.iframe.contentWindow.postMessage(M,z)}else j.setSuccess();return j.promise}function Y(){var j=I();if((s.enable||t.silentCheckSsoRedirectUri)&&typeof t.endpoints.thirdPartyCookiesIframe=="function"){var M=document.createElement("iframe");M.setAttribute("src",t.endpoints.thirdPartyCookiesIframe()),M.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),M.setAttribute("title","keycloak-3p-check-iframe"),M.style.display="none",document.body.appendChild(M);var z=function(O){M.contentWindow===O.source&&(O.data!=="supported"&&O.data!=="unsupported"||(O.data==="unsupported"&&(c(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/securing-apps/javascript-adapter#_modern_browsers`),s.enable=!1,t.silentCheckSsoFallback&&(t.silentCheckSsoRedirectUri=!1)),document.body.removeChild(M),window.removeEventListener("message",z),j.setSuccess()))};window.addEventListener("message",z,!1)}else j.setSuccess();return B(j.promise,t.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function V(j){if(!j||j=="default")return{login:async function(re){return window.location.assign(await t.createLoginUrl(re)),I().promise},logout:async function(re){if(((re==null?void 0:re.logoutMethod)??t.logoutMethod)==="GET"){window.location.replace(t.createLogoutUrl(re));return}const te=document.createElement("form");te.setAttribute("method","POST"),te.setAttribute("action",t.createLogoutUrl(re)),te.style.display="none";const ie={id_token_hint:t.idToken,client_id:t.clientId,post_logout_redirect_uri:n.redirectUri(re,!1)};for(const[fe,he]of Object.entries(ie)){const ae=document.createElement("input");ae.setAttribute("type","hidden"),ae.setAttribute("name",fe),ae.setAttribute("value",he),te.appendChild(ae)}document.body.appendChild(te),te.submit()},register:async function(re){return window.location.assign(await t.createRegisterUrl(re)),I().promise},accountManagement:function(){var re=t.createAccountUrl();if(typeof re<"u")window.location.href=re;else throw"Not supported by the OIDC server";return I().promise},redirectUri:function(re,Q){return re&&re.redirectUri?re.redirectUri:t.redirectUri?t.redirectUri:location.href}};if(j=="cordova"){s.enable=!1;var M=function(re,Q,te){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(re,Q,te):window.open(re,Q,te)},z=function(re){return re&&re.cordovaOptions?Object.keys(re.cordovaOptions).reduce(function(Q,te){return Q[te]=re.cordovaOptions[te],Q},{}):{}},O=function(re){return Object.keys(re).reduce(function(Q,te){return Q.push(te+"="+re[te]),Q},[]).join(",")},X=function(re){var Q=z(re);return Q.location="no",re&&re.prompt=="none"&&(Q.hidden="yes"),O(Q)},ne=function(){return t.redirectUri||"http://localhost"};return{login:async function(re){var Q=I(),te=X(re),ie=await t.createLoginUrl(re),fe=M(ie,"_blank",te),he=!1,ae=!1,Pe=function(){ae=!0,fe.close()};return fe.addEventListener("loadstart",function(Te){if(Te.url.indexOf(ne())==0){var Ge=A(Te.url);b(Ge,Q),Pe(),he=!0}}),fe.addEventListener("loaderror",function(Te){if(!he)if(Te.url.indexOf(ne())==0){var Ge=A(Te.url);b(Ge,Q),Pe(),he=!0}else Q.setError(),Pe()}),fe.addEventListener("exit",function(Te){ae||Q.setError({reason:"closed_by_user"})}),Q.promise},logout:function(re){var Q=I(),te=t.createLogoutUrl(re),ie=M(te,"_blank","location=no,hidden=yes,clearcache=yes"),fe;return ie.addEventListener("loadstart",function(he){he.url.indexOf(ne())==0&&ie.close()}),ie.addEventListener("loaderror",function(he){he.url.indexOf(ne())==0||(fe=!0),ie.close()}),ie.addEventListener("exit",function(he){fe?Q.setError():(t.clearToken(),Q.setSuccess())}),Q.promise},register:async function(re){var Q=I(),te=await t.createRegisterUrl(),ie=X(re),fe=M(te,"_blank",ie);return fe.addEventListener("loadstart",function(he){if(he.url.indexOf(ne())==0){fe.close();var ae=A(he.url);b(ae,Q)}}),Q.promise},accountManagement:function(){var re=t.createAccountUrl();if(typeof re<"u"){var Q=M(re,"_blank","location=no");Q.addEventListener("loadstart",function(te){te.url.indexOf(ne())==0&&Q.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(re){return ne()}}}if(j=="cordova-native")return s.enable=!1,{login:async function(re){var Q=I(),te=await t.createLoginUrl(re);return universalLinks.subscribe("keycloak",function(ie){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var fe=A(ie.url);b(fe,Q)}),window.cordova.plugins.browsertab.openUrl(te),Q.promise},logout:function(re){var Q=I(),te=t.createLogoutUrl(re);return universalLinks.subscribe("keycloak",function(ie){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),t.clearToken(),Q.setSuccess()}),window.cordova.plugins.browsertab.openUrl(te),Q.promise},register:async function(re){var Q=I(),te=await t.createRegisterUrl(re);return universalLinks.subscribe("keycloak",function(ie){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var fe=A(ie.url);b(fe,Q)}),window.cordova.plugins.browsertab.openUrl(te),Q.promise},accountManagement:function(){var re=t.createAccountUrl();if(typeof re<"u")window.cordova.plugins.browsertab.openUrl(re);else throw"Not supported by the OIDC server"},redirectUri:function(re){return re&&re.redirectUri?re.redirectUri:t.redirectUri?t.redirectUri:"http://localhost"}};throw"invalid adapter type: "+j}const K="kc-callback-";var W=function(){if(!(this instanceof W))return new W;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var j=this;function M(){const ne=Date.now();for(const[re,Q]of O()){const te=X(Q);(te===null||te<ne)&&localStorage.removeItem(re)}}function z(){for(const[ne]of O())localStorage.removeItem(ne)}function O(){return Object.entries(localStorage).filter(([ne])=>ne.startsWith(K))}function X(ne){let re;try{re=JSON.parse(ne)}catch{return null}return KC(re)&&"expires"in re&&typeof re.expires=="number"?re.expires:null}j.get=function(ne){if(ne){var re=K+ne,Q=localStorage.getItem(re);return Q&&(localStorage.removeItem(re),Q=JSON.parse(Q)),M(),Q}},j.add=function(ne){M();const re=K+ne.state,Q=JSON.stringify({...ne,expires:Date.now()+3600*1e3});try{localStorage.setItem(re,Q)}catch{z(),localStorage.setItem(re,Q)}}},J=function(){if(!(this instanceof J))return new J;var j=this;j.get=function(X){if(X){var ne=z(K+X);if(O(K+X,"",M(-100)),ne)return JSON.parse(ne)}},j.add=function(X){O(K+X.state,JSON.stringify(X),M(60))},j.removeItem=function(X){O(X,"",M(-100))};var M=function(X){var ne=new Date;return ne.setTime(ne.getTime()+X*60*1e3),ne},z=function(X){for(var ne=X+"=",re=document.cookie.split(";"),Q=0;Q<re.length;Q++){for(var te=re[Q];te.charAt(0)==" ";)te=te.substring(1);if(te.indexOf(ne)==0)return te.substring(ne.length,te.length)}return""},O=function(X,ne,re){var Q=X+"="+ne+"; expires="+re.toUTCString()+"; ";document.cookie=Q}};function q(){try{return new W}catch{}return new J}function G(j){return function(){t.enableLogging&&j.apply(console,Array.prototype.slice.call(arguments))}}}function Wye(e){const t=String.fromCodePoint(...e);return btoa(t)}async function Gye(e){const n=new TextEncoder().encode(e);if(typeof crypto>"u"||typeof crypto.subtle>"u")throw new Error("Web Crypto API is not available.");return await crypto.subtle.digest("SHA-256",n)}function GC(e){const[t,n]=e.split(".");if(typeof n!="string")throw new Error("Unable to decode token, payload not found.");let r;try{r=Kye(n)}catch(i){throw new Error("Unable to decode token, payload is not a valid Base64URL value.",{cause:i})}try{return JSON.parse(r)}catch(i){throw new Error("Unable to decode token, payload is not a valid JSON value.",{cause:i})}}function Kye(e){let t=e.replaceAll("-","+").replaceAll("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Input is not of the correct length.")}try{return Yye(t)}catch{return atob(t)}}function Yye(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function KC(e){return typeof e=="object"&&e!==null}const ic=new hY({url:"http://localhost:8080",realm:"rita-chat-realm",clientId:"rita-chat-client"}),E6="";class b4 extends Error{constructor(t,n,r){super(n),this.status=t,this.data=r,this.name="ApiError"}}async function Zn(e,t={}){const{method:n="GET",headers:r={},body:i}=t,s={method:n,headers:{"Content-Type":"application/json",...r},credentials:"include"};if(ic.authenticated&&ic.token)try{await ic.updateToken(5)}catch(o){console.error("Failed to refresh Keycloak token, logging out.",o),ic.logout()}i&&n!=="GET"&&(s.body=JSON.stringify(i));const a=await fetch(`${E6}${e}`,s);if(!a.ok){const o=await a.json().catch(()=>({}));throw a.status===401&&console.error("API request returned 401. Session may have expired."),a.status===502&&(console.error("API request returned 502. Backend is down."),ic.logout()),new b4(a.status,o.error||o.message||`HTTP ${a.status}: ${a.statusText}`,o)}return a.status===204?{}:a.json()}const S0={getConversations:()=>Zn("/api/conversations"),createConversation:e=>Zn("/api/conversations",{method:"POST",body:e}),getConversationMessages:(e,t)=>{const n=t?Object.entries(t).filter(([i,s])=>s!=null&&s!=="").reduce((i,[s,a])=>({...i,[s]:String(a)}),{}):{},r=Object.keys(n).length>0?`?${new URLSearchParams(n).toString()}`:"";return Zn(`/api/conversations/${e}/messages${r}`)},sendMessage:(e,t)=>Zn(`/api/conversations/${e}/messages`,{method:"POST",body:t}),updateConversation:(e,t)=>Zn(`/api/conversations/${e}`,{method:"PATCH",body:t}),deleteConversation:e=>Zn(`/api/conversations/${e}`,{method:"DELETE"}),getMessage:e=>Zn(`/api/messages/${e}`)},Kj={getCurrentOrganization:()=>Zn("/api/organizations/current"),updateOrganization:(e,t)=>Zn(`/api/organizations/${e}`,{method:"PATCH",body:t}),switchOrganization:e=>Zn("/api/organizations/switch",{method:"POST",body:{organizationId:e}})},k0={uploadFile:async e=>{const t=new FormData;t.append("file",e),t.append("filename",e.name);const n=await fetch(`${E6}/api/files/upload`,{method:"POST",credentials:"include",body:t});if(!n.ok){const r=await n.json().catch(()=>({}));throw new b4(n.status,r.error||`Upload failed: ${n.statusText}`,r)}return n.json()},createContent:e=>Zn("/api/files/content",{method:"POST",body:e}),downloadFile:async e=>{const t=await fetch(`${E6}/api/files/${e}/download`,{method:"GET",credentials:"include"});if(!t.ok){const n=await t.json().catch(()=>({}));throw new b4(t.status,n.error||`Download failed: ${t.statusText}`,n)}return t},listDocuments:(e=250,t=0,n="created_at",r="desc",i,s,a)=>{const o=new URLSearchParams({limit:e.toString(),offset:t.toString(),sort_by:n,sort_order:r});return i&&i.trim()&&o.append("search",i.trim()),s&&s.toLowerCase()!=="all"&&o.append("status",s.toLowerCase()),a&&a.toLowerCase()!=="all"&&o.append("source",a),Zn(`/api/files?${o.toString()}`)},deleteDocument:e=>Zn(`/api/files/${e}`,{method:"DELETE"}),reprocessDocument:e=>Zn(`/api/files/${e}/process`,{method:"POST",body:{enable_processing:!0}}),getDocumentMetadata:e=>Zn(`/api/files/${e}/metadata`,{method:"GET"})},Vu={list:()=>Zn("/api/data-sources"),get:e=>Zn(`/api/data-sources/${e}`),seed:()=>Zn("/api/data-sources/seed",{method:"POST"}),update:(e,t)=>Zn(`/api/data-sources/${e}`,{method:"PUT",body:t}),verify:(e,t)=>Zn(`/api/data-sources/${e}/verify`,{method:"POST",body:t}),sync:e=>Zn(`/api/data-sources/${e}/sync`,{method:"POST"}),cancelSync:e=>Zn(`/api/data-sources/${e}/cancel-sync`,{method:"POST"}),syncTickets:(e,t)=>Zn(`/api/data-sources/${e}/sync-tickets`,{method:"POST",body:t})},ig={listMembers:async e=>{const t=new URLSearchParams;e!=null&&e.role&&t.append("role",e.role),e!=null&&e.status&&t.append("status",e.status),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.offset&&t.append("offset",e.offset.toString()),e!=null&&e.sortBy&&t.append("sortBy",e.sortBy),e!=null&&e.sortOrder&&t.append("sortOrder",e.sortOrder);const n=t.toString(),r=`/api/organizations/members${n?`?${n}`:""}`;return Zn(r,{method:"GET"})},getMember:async e=>Zn(`/api/organizations/members/${e}`,{method:"GET"}),updateMemberRole:async(e,t)=>Zn(`/api/organizations/members/${e}/role`,{method:"PATCH",body:{role:t}}),updateMemberStatus:async(e,t)=>Zn(`/api/organizations/members/${e}/status`,{method:"PATCH",body:{isActive:t}}),removeMember:async e=>Zn(`/api/organizations/members/${e}`,{method:"DELETE"}),deleteMemberPermanent:async(e,t)=>{const n=new URLSearchParams;t&&n.append("reason",t);const r=n.toString(),i=`/api/organizations/members/${e}/permanent${r?`?${r}`:""}`;return Zn(i,{method:"DELETE"})},deleteOwnAccount:async e=>{const t=new URLSearchParams;e&&t.append("reason",e);const n=t.toString(),r=`/api/organizations/members/self/permanent${n?`?${n}`:""}`;return Zn(r,{method:"DELETE"})},updateMemberProfile:async(e,t)=>Zn(`/api/organizations/members/${e}/profile`,{method:"PATCH",body:t})},mY=Object.freeze(Object.defineProperty({__proto__:null,ApiError:b4,conversationApi:S0,dataSourcesApi:Vu,fileApi:k0,memberApi:ig,organizationApi:Kj},Symbol.toStringTag,{value:"Module"})),EL=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,i,o);return o},Xye=(e=>e?EL(e):EL),Qye=e=>e;function Zye(e,t=Qye){const n=Xe.useSyncExternalStore(e.subscribe,Xe.useCallback(()=>t(e.getState()),[e,t]),Xe.useCallback(()=>t(e.getInitialState()),[e,t]));return Xe.useDebugValue(n),n}const Jye=e=>{const t=Xye(e),n=r=>Zye(t,r);return Object.assign(n,t),n},Yj=(e=>Jye),SL={BASE_URL:"/demo-agentic-builder/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEMO_MODE:"true"},zv=new Map,Ew=e=>{const t=zv.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},exe=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=zv.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return zv.set(n.name,i),{type:"tracked",store:e,...i}},txe=(e,t)=>{if(t===void 0)return;const n=zv.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&zv.delete(e))},nxe=e=>{var t,n;if(!e)return;const r=e.split(`
`),i=r.findIndex(a=>a.includes("api.setState"));if(i<0)return;const s=((t=r[i+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(s))==null?void 0:n[1]},rxe=(e,t={})=>(n,r,i)=>{const{enabled:s,anonymousActionType:a,store:o,...c}=t;let u;try{u=(s??(SL?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,i);const{connection:d,...f}=exe(o,u,c);let h=!0;i.setState=((x,b,w)=>{const E=n(x,b);if(!h)return E;const k=w===void 0?{type:a||nxe(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return o===void 0?(d==null||d.send(k,r()),E):(d==null||d.send({...k,type:`${o}/${k.type}`},{...Ew(c.name),[o]:i.getState()}),E)}),i.devtools={cleanup:()=>{d&&typeof d.unsubscribe=="function"&&d.unsubscribe(),txe(c.name,o)}};const p=(...x)=>{const b=h;h=!1,n(...x),h=b},v=e(i.setState,r,i);if(f.type==="untracked"?d==null||d.init(v):(f.stores[f.store]=i,d==null||d.init(Object.fromEntries(Object.entries(f.stores).map(([x,b])=>[x,x===f.store?v:b.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const b=i.dispatch;i.dispatch=(...w)=>{(SL?"production":void 0)!=="production"&&w[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),b(...w)}}return d.subscribe(x=>{var b;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return YC(x.payload,w=>{if(w.type==="__setState"){if(o===void 0){p(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=w.state[o];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&p(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(x.payload.type){case"RESET":return p(v),o===void 0?d==null?void 0:d.init(i.getState()):d==null?void 0:d.init(Ew(c.name));case"COMMIT":if(o===void 0){d==null||d.init(i.getState());return}return d==null?void 0:d.init(Ew(c.name));case"ROLLBACK":return YC(x.state,w=>{if(o===void 0){p(w),d==null||d.init(i.getState());return}p(w[o]),d==null||d.init(Ew(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return YC(x.state,w=>{if(o===void 0){p(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[o])&&p(w[o])});case"IMPORT_STATE":{const{nextLiftedState:w}=x.payload,E=(b=w.computedStates.slice(-1)[0])==null?void 0:b.state;if(!E)return;p(o===void 0?E:E[o]),d==null||d.send(null,w);return}case"PAUSE_RECORDING":return h=!h}return}}),v},ixe=rxe,YC=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function pY(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const S6=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return S6(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return S6(r)(n)}}}},sxe=(e,t)=>(n,r,i)=>{let s={storage:pY(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},a=!1;const o=new Set,c=new Set;let u=s.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const d=()=>{const x=s.partialize({...r()});return u.setItem(s.name,{state:x,version:s.version})},f=i.setState;i.setState=(x,b)=>(f(x,b),d());const h=e((...x)=>(n(...x),d()),r,i);i.getInitialState=()=>h;let p;const v=()=>{var x,b;if(!u)return;a=!1,o.forEach(E=>{var k;return E((k=r())!=null?k:h)});const w=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(x=r())!=null?x:h))||void 0;return S6(u.getItem.bind(u))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate){const k=s.migrate(E.state,E.version);return k instanceof Promise?k.then(_=>[!0,_]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var k;const[_,A]=E;if(p=s.merge(A,(k=r())!=null?k:h),n(p,!0),_)return d()}).then(()=>{w==null||w(p,void 0),p=r(),a=!0,c.forEach(E=>E(p))}).catch(E=>{w==null||w(void 0,E)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||v(),p||h},gY=sxe;var vY=Symbol.for("immer-nothing"),kL=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function dl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kp=Object.getPrototypeOf;function _p(e){return!!e&&!!e[Ka]}function Qh(e){var t;return e?yY(e)||Array.isArray(e)||!!e[kL]||!!((t=e.constructor)!=null&&t[kL])||Ky(e)||MS(e):!1}var axe=Object.prototype.constructor.toString();function yY(e){if(!e||typeof e!="object")return!1;const t=kp(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===axe}function w4(e,t){RS(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function RS(e){const t=e[Ka];return t?t.type_:Array.isArray(e)?1:Ky(e)?2:MS(e)?3:0}function k6(e,t){return RS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xY(e,t,n){const r=RS(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function oxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ky(e){return e instanceof Map}function MS(e){return e instanceof Set}function ch(e){return e.copy_||e.base_}function _6(e,t){if(Ky(e))return new Map(e);if(MS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=yY(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ka];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(kp(e),r)}else{const r=kp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Xj(e,t=!1){return OS(e)||_p(e)||!Qh(e)||(RS(e)>1&&Object.defineProperties(e,{set:{value:Sw},add:{value:Sw},clear:{value:Sw},delete:{value:Sw}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Xj(n,!0))),e}function Sw(){dl(2)}function OS(e){return Object.isFrozen(e)}var lxe={};function Zh(e){const t=lxe[e];return t||dl(0,e),t}var Bv;function bY(){return Bv}function cxe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _L(e,t){t&&(Zh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C6(e){N6(e),e.drafts_.forEach(uxe),e.drafts_=null}function N6(e){e===Bv&&(Bv=e.parent_)}function CL(e){return Bv=cxe(Bv,e)}function uxe(e){const t=e[Ka];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ka].modified_&&(C6(t),dl(4)),Qh(e)&&(e=E4(t,e),t.parent_||S4(t,e)),t.patches_&&Zh("Patches").generateReplacementPatches_(n[Ka].base_,e,t.patches_,t.inversePatches_)):e=E4(t,n,[]),C6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vY?e:void 0}function E4(e,t,n){if(OS(t))return t;const r=t[Ka];if(!r)return w4(t,(i,s)=>TL(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return S4(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),w4(s,(o,c)=>TL(e,r,i,o,c,n,a)),S4(e,i,!1),n&&e.patches_&&Zh("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function TL(e,t,n,r,i,s,a){if(_p(i)){const o=s&&t&&t.type_!==3&&!k6(t.assigned_,r)?s.concat(r):void 0,c=E4(e,i,o);if(xY(n,r,c),_p(c))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Qh(i)&&!OS(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;E4(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ky(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&S4(e,i)}}function S4(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xj(t,n)}function dxe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:bY(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Qj;n&&(i=[r],s=Uv);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Qj={get(e,t){if(t===Ka)return e;const n=ch(e);if(!k6(n,t))return fxe(e,n,t);const r=n[t];return e.finalized_||!Qh(r)?r:r===XC(e.base_,t)?(QC(e),e.copy_[t]=A6(r,e)):r},has(e,t){return t in ch(e)},ownKeys(e){return Reflect.ownKeys(ch(e))},set(e,t,n){const r=wY(ch(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=XC(ch(e),t),s=i==null?void 0:i[Ka];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(oxe(n,i)&&(n!==void 0||k6(e.base_,t)))return!0;QC(e),T6(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return XC(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,QC(e),T6(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ch(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){dl(11)},getPrototypeOf(e){return kp(e.base_)},setPrototypeOf(){dl(12)}},Uv={};w4(Qj,(e,t)=>{Uv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Uv.deleteProperty=function(e,t){return Uv.set.call(this,e,t,void 0)};Uv.set=function(e,t,n){return Qj.set.call(this,e[0],t,n,e[0])};function XC(e,t){const n=e[Ka];return(n?ch(n):e)[t]}function fxe(e,t,n){var i;const r=wY(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function wY(e,t){if(!(t in e))return;let n=kp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=kp(n)}}function T6(e){e.modified_||(e.modified_=!0,e.parent_&&T6(e.parent_))}function QC(e){e.copy_||(e.copy_=_6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const a=r;r=n;const o=this;return function(u=a,...d){return o.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&dl(6),i!==void 0&&typeof i!="function"&&dl(7);let s;if(Qh(n)){const a=CL(this),o=A6(n,void 0);let c=!0;try{s=r(o),c=!1}finally{c?C6(a):N6(a)}return _L(a,i),NL(s,a)}else if(!n||typeof n!="object"){if(s=r(n),s===void 0&&(s=n),s===vY&&(s=void 0),this.autoFreeze_&&Xj(s,!0),i){const a=[],o=[];Zh("Patches").generateReplacementPatches_(n,s,a,o),i(a,o)}return s}else dl(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...c)=>this.produceWithPatches(o,u=>n(u,...c));let i,s;return[this.produce(n,r,(o,c)=>{i=o,s=c}),i,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qh(t)||dl(8),_p(t)&&(t=mxe(t));const n=CL(this),r=A6(t,void 0);return r[Ka].isManual_=!0,N6(n),r}finishDraft(t,n){const r=t&&t[Ka];(!r||!r.isManual_)&&dl(9);const{scope_:i}=r;return _L(i,n),NL(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Zh("Patches").applyPatches_;return _p(t)?i(t,n):this.produce(t,s=>i(s,n))}};function A6(e,t){const n=Ky(e)?Zh("MapSet").proxyMap_(e,t):MS(e)?Zh("MapSet").proxySet_(e,t):dxe(e,t);return(t?t.scope_:bY()).drafts_.push(n),n}function mxe(e){return _p(e)||dl(10,e),EY(e)}function EY(e){if(!Qh(e)||OS(e))return e;const t=e[Ka];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=_6(e,t.scope_.immer_.useStrictShallowCopy_)}else n=_6(e,!0);return w4(n,(r,i)=>{xY(n,r,EY(i))}),t&&(t.finalized_=!1),n}var pxe=new hxe,gxe=pxe.produce;const vxe=e=>(t,n,r)=>(r.setState=(i,s,...a)=>{const o=typeof i=="function"?gxe(i):i;return t(o,s,...a)},e(r.setState,n,r)),yxe=vxe;function xxe(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}class sl extends Error{constructor(t,n,r){super(n),this.code=t,this.cause=r,this.name="AuthError"}}function bxe(e){return{id:e.id||"",email:e.email||"",firstName:e.firstName,lastName:e.lastName,username:e.username}}const wxe="";class Exe{constructor(){Oe(this,"keycloak");Oe(this,"eventBus");Oe(this,"initialized",!1);Oe(this,"refreshTimer",null);Oe(this,"refreshInterval",6e4);Oe(this,"refreshThreshold",300);this.eventBus=xxe(),this.keycloak=ic,this.setupEventHandlers()}async initialize(){var t;if(this.initialized)return this.getCurrentState();try{const n=await this.keycloak.init({onLoad:"check-sso",silentCheckSsoRedirectUri:`${window.location.origin}/silent-check-sso.html`,pkceMethod:"S256"});this.initialized=!0;const r={authenticated:n,user:this.keycloak.profile||null,token:this.keycloak.token||null,refreshToken:this.keycloak.refreshToken||null,tokenExpiry:((t=this.keycloak.tokenParsed)==null?void 0:t.exp)||null};return n&&this.keycloak.token&&(await this.loadUserProfile(),await this.createBackendSession(),this.startTokenRefreshTimer(),r.sessionReady=!0,r.user=this.keycloak.profile||null,this.setReturningUserFlag()),r}catch(n){throw console.error("AuthManager: Keycloak initialization failed:",n),this.initialized=!0,new sl("INIT_FAILED",n instanceof Error?n.message:"Unknown error")}}async login(t){await this.keycloak.login(t)}async logout(t){this.stopTokenRefreshTimer(),await this.keycloak.logout(t)}startTokenRefreshTimer(){this.stopTokenRefreshTimer(),this.refreshTimer=setInterval(async()=>{await this.checkAndRefreshToken()},this.refreshInterval)}stopTokenRefreshTimer(){this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)}async checkAndRefreshToken(){var n,r;if(!this.keycloak.token||!((n=this.keycloak.tokenParsed)!=null&&n.exp))return;if(this.keycloak.tokenParsed.exp-Date.now()/1e3<this.refreshThreshold)try{await this.keycloak.updateToken(30)&&this.eventBus.emit("token:refreshed",{token:this.keycloak.token,refreshToken:this.keycloak.refreshToken,tokenExpiry:(r=this.keycloak.tokenParsed)==null?void 0:r.exp})}catch(i){console.error("AuthManager: Token refresh failed:",i),this.eventBus.emit("auth:error",new sl("TOKEN_REFRESH_FAILED",i instanceof Error?i.message:"Unknown error")),this.stopTokenRefreshTimer(),this.eventBus.emit("auth:force-logout",void 0)}}setupEventHandlers(){this.keycloak.onAuthSuccess=()=>{this.startTokenRefreshTimer(),this.eventBus.emit("auth:success",this.getCurrentState())},this.keycloak.onAuthError=t=>{console.error("AuthManager: Keycloak onAuthError:",t),this.stopTokenRefreshTimer(),this.eventBus.emit("auth:error",new sl("AUTH_FAILED",typeof t=="string"?t:"Authentication failed"))},this.keycloak.onTokenExpired=()=>{this.eventBus.emit("token:expired",void 0)},this.keycloak.onAuthRefreshSuccess=()=>{var t;this.eventBus.emit("token:refreshed",{token:this.keycloak.token,refreshToken:this.keycloak.refreshToken,tokenExpiry:(t=this.keycloak.tokenParsed)==null?void 0:t.exp})},this.keycloak.onAuthRefreshError=()=>{console.error("AuthManager: Keycloak onAuthRefreshError"),this.stopTokenRefreshTimer(),this.eventBus.emit("auth:force-logout",void 0)}}async loadUserProfile(){try{await this.keycloak.loadUserProfile()}catch(t){console.warn("AuthManager: Failed to load user profile:",t)}}async createBackendSession(){var t;if(!this.keycloak.token){console.warn("AuthManager: Cannot create session - no token available");return}try{const n=await fetch(`${wxe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:this.keycloak.token}),credentials:"include"});if(!n.ok)throw new Error(`Session creation failed: ${n.status}`);const r=await n.json();r.success&&r.user&&this.eventBus.emit("auth:success",{authenticated:!0,user:r.user,token:this.keycloak.token,refreshToken:this.keycloak.refreshToken,tokenExpiry:((t=this.keycloak.tokenParsed)==null?void 0:t.exp)||null,sessionReady:!0}),this.eventBus.emit("session:ready",void 0)}catch(n){console.error("AuthManager: Failed to create backend session:",n),this.eventBus.emit("session:error",n instanceof Error?n:new Error("Unknown session error"))}}setReturningUserFlag(){const t="rita_returning_user",n="true";localStorage.setItem(t,n);const i=new Date;i.setDate(i.getDate()+365);const s=window.location.protocol==="https:"?"; Secure":"";document.cookie=`${t}=${n}; expires=${i.toUTCString()}; path=/; SameSite=Lax${s}`}getCurrentState(){var t;return{authenticated:this.keycloak.authenticated||!1,user:this.keycloak.profile||null,token:this.keycloak.token||null,refreshToken:this.keycloak.refreshToken||null,tokenExpiry:((t=this.keycloak.tokenParsed)==null?void 0:t.exp)||null}}async refreshToken(){try{return await this.keycloak.updateToken(30)}catch(t){throw console.error("AuthManager: Manual token refresh failed:",t),new sl("TOKEN_REFRESH_FAILED",t instanceof Error?t.message:"Unknown error")}}destroy(){this.stopTokenRefreshTimer(),this.eventBus.all.clear()}on(t,n){this.eventBus.on(t,n)}off(t,n){this.eventBus.off(t,n)}}const Jo=new Exe,Sxe="",kxe=e=>e?"id"in e&&typeof e.id=="string"?e:bxe(e):null,Yy=Yj()(gY(yxe((e,t)=>((()=>{Jo.on("auth:success",r=>{e(i=>{i.authenticated=r.authenticated,i.user=kxe(r.user),i.token=r.token,i.refreshToken=r.refreshToken,i.tokenExpiry=r.tokenExpiry,r.sessionReady&&(i.sessionReady=!0),i.error=null,i.retryCount=0})}),Jo.on("auth:error",r=>{console.log("AuthStore: Received auth:error event",r),e(i=>{i.error=r,i.loading=!1})}),Jo.on("auth:force-logout",()=>{console.log("AuthStore: Received auth:force-logout event"),t().logout()}),Jo.on("token:refreshed",({token:r,refreshToken:i,tokenExpiry:s})=>{console.log("AuthStore: Received token:refreshed event"),e(a=>{a.token=r,a.refreshToken=i,a.tokenExpiry=s})}),Jo.on("session:ready",()=>{e(r=>{r.sessionReady=!0})}),Jo.on("session:error",r=>{console.warn("AuthStore: Session error:",r)})})(),{authenticated:!1,loading:!0,initialized:!1,user:null,token:null,refreshToken:null,tokenExpiry:null,sessionReady:!1,sessionExpiry:null,loginRedirectPath:null,error:null,retryCount:0,initialize:async()=>{if(t().initialized){console.log("AuthStore: Already initialized");return}console.log("AuthStore: Starting initialization"),e(i=>{i.loading=!0,i.error=null});try{const i=await Jo.initialize();e(s=>{s.authenticated=i.authenticated,s.token=i.token,s.refreshToken=i.refreshToken,s.tokenExpiry=i.tokenExpiry,s.initialized=!0,s.loading=!1,i.sessionReady&&(s.sessionReady=!0)})}catch(i){console.error("AuthStore: Initialization failed:",i),e(s=>{s.error=i instanceof sl?i:new sl("INIT_FAILED","Unknown error"),s.loading=!1,s.initialized=!0})}},reset:()=>{console.log("AuthStore: Resetting state"),e(r=>{r.authenticated=!1,r.loading=!0,r.initialized=!1,r.user=null,r.token=null,r.refreshToken=null,r.tokenExpiry=null,r.sessionReady=!1,r.sessionExpiry=null,r.loginRedirectPath=null,r.error=null,r.retryCount=0})},login:async r=>{console.log("AuthStore: Starting login with redirect:",r),e(i=>{i.loginRedirectPath=r||null,i.error=null});try{await Jo.login({redirectUri:`${window.location.origin}${r||"/chat"}`})}catch(i){console.error("AuthStore: Login failed:",i),e(s=>{s.error=i instanceof sl?i:new sl("LOGIN_FAILED","Login failed")})}},logout:async r=>{console.log("AuthStore: Starting logout"),e(s=>{s.sessionReady=!1,s.loading=!0});try{await fetch(`${Sxe}/auth/logout`,{method:"DELETE",credentials:"include"})}catch(s){console.warn("AuthStore: Backend logout failed:",s)}try{await Jo.logout({redirectUri:r||window.location.origin})}catch(s){console.error("AuthStore: Keycloak logout failed:",s)}const i="rita_returning_user";localStorage.removeItem(i),document.cookie=`${i}=; Max-Age=0; path=/; SameSite=Lax`,e(s=>{s.authenticated=!1,s.user=null,s.token=null,s.refreshToken=null,s.tokenExpiry=null,s.sessionReady=!1,s.sessionExpiry=null,s.loginRedirectPath=null,s.error=null,s.retryCount=0,s.loading=!1})},silentLogin:async()=>{console.log("AuthStore: Attempting silent login");try{return(await Jo.initialize()).authenticated}catch(r){return console.error("AuthStore: Silent login failed:",r),!1}},refreshAuthToken:async()=>{console.log("AuthStore: Manual token refresh requested");try{return await Jo.refreshToken()}catch(r){return console.error("AuthStore: Token refresh failed:",r),e(i=>{i.error=r instanceof sl?r:new sl("TOKEN_REFRESH_FAILED","Token refresh failed")}),!1}},clearTokens:()=>{console.log("AuthStore: Clearing tokens"),e(r=>{r.token=null,r.refreshToken=null,r.tokenExpiry=null})},createSession:async()=>(console.log("AuthStore: Creating session (handled by AuthManager)"),t().sessionReady),clearSession:()=>{console.log("AuthStore: Clearing session"),e(r=>{r.sessionReady=!1,r.sessionExpiry=null})},setUser:r=>{e(i=>{i.user=r})},setError:r=>{console.log("AuthStore: Setting error:",r),e(i=>{i.error=r})},clearError:()=>{console.log("AuthStore: Clearing error"),e(r=>{r.error=null,r.retryCount=0})},retry:async()=>{const r=t();if(console.log("AuthStore: Retrying initialization, attempt:",r.retryCount+1),r.retryCount>=3){e(s=>{s.error=new sl("MAX_RETRIES","Maximum retry attempts exceeded")});return}const i=2**r.retryCount*1e3;await new Promise(s=>setTimeout(s,i)),e(s=>{s.retryCount+=1,s.initialized=!1}),await t().initialize()}})),{name:"auth-storage",storage:pY(()=>sessionStorage),partialize:e=>({loginRedirectPath:e.loginRedirectPath})})),bo={all:["profile"],detail:()=>[...bo.all,"detail"]};function Xy(){const{user:e,authenticated:t,sessionReady:n}=Yy(),r=ir();return y.useEffect(()=>{t||r.removeQueries({queryKey:bo.all})},[t,r]),Uu({queryKey:bo.detail(),queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{organization:i}=await Kj.getCurrentOrganization();return{user:{id:e.id||"",email:e.email||"",firstName:e.firstName,lastName:e.lastName,username:e.username},organization:{id:i.id,name:i.name,role:i.user_role,memberCount:i.member_count,createdAt:i.created_at}}},enabled:t&&n&&!!e,staleTime:1e3*60*5,gcTime:1e3*60*10,retry:2})}function qu(){const{data:e}=Xy(),t=n=>e!=null&&e.organization.role?(Array.isArray(n)?n:[n]).includes(e.organization.role):!1;return{hasRole:t,isOwner:()=>t("owner"),isAdmin:()=>t("admin"),isOwnerOrAdmin:()=>t(["owner","admin"]),canManageInvitations:()=>t(["owner","admin"]),canManageMembers:()=>t(["owner","admin"]),canManageOrganization:()=>t("owner"),canDeleteConversations:()=>t(["owner","admin"]),canManageFiles:()=>t(["owner","admin"])}}function DS(){const e=Yy(),t=y.useMemo(()=>({isTokenExpired:e.tokenExpiry?Date.now()/1e3>e.tokenExpiry:!1,timeToExpiry:e.tokenExpiry?Math.max(0,e.tokenExpiry-Date.now()/1e3):null,isSessionExpired:e.sessionExpiry?Date.now()/1e3>e.sessionExpiry:!1}),[e.tokenExpiry,e.sessionExpiry]);return{authenticated:e.authenticated,loading:e.loading,initialized:e.initialized,user:e.user,token:e.token,sessionReady:e.sessionReady,error:e.error,retryCount:e.retryCount,loginRedirectPath:e.loginRedirectPath,login:e.login,logout:e.logout,refreshToken:e.refreshAuthToken,clearError:e.clearError,retry:e.retry,silentLogin:e.silentLogin,clearSession:e.clearSession,...t,hasValidToken:()=>e.token&&!t.isTokenExpired,hasValidSession:()=>e.sessionReady&&!t.isSessionExpired,getUserId:()=>{var n;return(n=e.user)==null?void 0:n.id},getUserEmail:()=>{var n;return(n=e.user)==null?void 0:n.email},getUserName:()=>{var n,r;return((n=e.user)==null?void 0:n.username)||((r=e.user)==null?void 0:r.preferredUsername)},getFullName:()=>{if(!e.user)return null;const n=e.user.firstName||"",r=e.user.lastName||"";return`${n} ${r}`.trim()||null}}}const Dv=class Dv{constructor(){Oe(this,"apiKey");Oe(this,"isInitialized",!1);Oe(this,"scriptLoaded",!1);this.apiKey=null,this.apiKey||console.log("Pendo: API key not configured, analytics disabled")}async loadScript(){if(this.scriptLoaded||!this.apiKey)return;if(document.getElementById(Dv.SCRIPT_ID)){console.log("Pendo: Script already exists in DOM, skipping injection"),this.scriptLoaded=!0;return}return new Promise((n,r)=>{const i=document.createElement("script");i.id=Dv.SCRIPT_ID,i.async=!0,i.src=`https://cdn.pendo.io/agent/static/${this.apiKey}/pendo.js`,i.onload=()=>{this.scriptLoaded=!0,console.log("Pendo: Script loaded successfully"),n()},i.onerror=s=>{console.error("Pendo: Failed to load script",s),r(s)},document.head.appendChild(i)})}async initialize(t,n){if(!this.apiKey){console.log("Pendo: API key not configured, skipping initialization");return}if(this.isInitialized){console.log("Pendo: Already initialized, updating metadata"),this.updateMetadata(t,n);return}try{if(await this.loadScript(),!window.pendo)throw new Error("Pendo object not available after script load");window.pendo.initialize({visitor:t,account:n,events:{ready:()=>{console.log("Pendo: Initialized and ready",{visitor:t,account:n})}}}),this.isInitialized=!0}catch(r){throw console.error("Pendo: Initialization failed",r),r}}updateMetadata(t,n){if(!this.isInitialized||!window.pendo){console.warn("Pendo: Cannot update metadata, not initialized");return}try{window.pendo.identify(t,n),console.log("Pendo: Metadata updated",{visitor:t,account:n})}catch(r){console.error("Pendo: Failed to update metadata",r)}}isReady(){var t,n;return this.isInitialized&&!!((n=(t=window.pendo)==null?void 0:t.isReady)!=null&&n.call(t))}shutdown(){this.isInitialized&&(console.log("Pendo: Shutting down (clearing visitor)"),window.pendo&&window.pendo.identify({id:"VISITOR-UNIQUE-ID"},{id:"ACCOUNT-UNIQUE-ID"}),this.isInitialized=!1)}};Oe(Dv,"SCRIPT_ID","pendo-script");let j6=Dv;new j6;function AL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cu(...e){return t=>{let n=!1;const r=e.map(i=>{const s=AL(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():AL(e[i],null)}}}}function Nn(...e){return y.useCallback(Cu(...e),e)}function mf(e){const t=_xe(e),n=y.forwardRef((r,i)=>{const{children:s,...a}=r,o=y.Children.toArray(s),c=o.find(Cxe);if(c){const u=c.props.children,d=o.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return l.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var _0=mf("Slot");function _xe(e){const t=y.forwardRef((n,r)=>{const{children:i,...s}=n;if(y.isValidElement(i)){const a=Txe(i),o=Nxe(s,i.props);return i.type!==y.Fragment&&(o.ref=r?Cu(r,a):a),y.cloneElement(i,o)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SY=Symbol("radix.slottable");function kY(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=SY,t}function Cxe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SY}function Nxe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Txe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _Y(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_Y(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_Y(e))&&(r&&(r+=" "),r+=t);return r}const jL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PL=Nr,sg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return PL(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=jL(d)||jL(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[x,b]=v;return Array.isArray(b)?b.includes({...s,...o}[x]):{...s,...o}[x]===b})?[...u,f,h]:u},[]);return PL(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Zj="-",Axe=e=>{const t=Pxe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Zj);return o[0]===""&&o.length!==1&&o.shift(),CY(o,t)||jxe(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},CY=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?CY(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Zj);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},IL=/^\[(.+)\]$/,jxe=e=>{if(IL.test(e)){const t=IL.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Pxe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)P6(n[i],r,i,t);return r},P6=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:RL(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Ixe(i)){P6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{P6(a,RL(t,s),n,r)})})},RL=(e,t)=>{let n=e;return t.split(Zj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ixe=e=>e.isThemeGetter,Rxe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},I6="!",R6=":",Mxe=R6.length,Oxe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,o=0,c=0,u;for(let v=0;v<i.length;v++){let x=i[v];if(a===0&&o===0){if(x===R6){s.push(i.slice(c,v)),c=v+Mxe;continue}if(x==="/"){u=v;continue}}x==="["?a++:x==="]"?a--:x==="("?o++:x===")"&&o--}const d=s.length===0?i:i.substring(c),f=Dxe(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const i=t+R6,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Dxe=e=>e.endsWith(I6)?e.substring(0,e.length-1):e.startsWith(I6)?e.substring(1):e,Lxe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},Fxe=e=>({cache:Rxe(e.cacheSize),parseClassName:Oxe(e),sortModifiers:Lxe(e),...Axe(e)}),$xe=/\s+/,zxe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],o=e.trim().split($xe);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let b=!!x,w=r(b?v.substring(0,x):v);if(!w){if(!b){c=d+(c.length>0?" "+c:c);continue}if(w=r(v),!w){c=d+(c.length>0?" "+c:c);continue}b=!1}const E=s(h).join(":"),k=p?E+I6:E,_=k+w;if(a.includes(_))continue;a.push(_);const A=i(w,b);for(let T=0;T<A.length;++T){const C=A[T];a.push(k+C)}c=d+(c.length>0?" "+c:c)}return c};function Bxe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=NY(t))&&(r&&(r+=" "),r+=n);return r}const NY=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=NY(e[r]))&&(n&&(n+=" "),n+=t);return n};function Uxe(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=Fxe(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=zxe(c,n);return i(c,d),d}return function(){return s(Bxe.apply(null,arguments))}}const Pi=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},TY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Hxe=/^\d+\/\d+$/,Vxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qxe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Gxe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mm=e=>Hxe.test(e),Sn=e=>!!e&&!Number.isNaN(Number(e)),wd=e=>!!e&&Number.isInteger(Number(e)),ZC=e=>e.endsWith("%")&&Sn(e.slice(0,-1)),Vc=e=>Vxe.test(e),Yxe=()=>!0,Xxe=e=>qxe.test(e)&&!Wxe.test(e),jY=()=>!1,Qxe=e=>Gxe.test(e),Zxe=e=>Kxe.test(e),Jxe=e=>!zt(e)&&!Bt(e),ebe=e=>ag(e,RY,jY),zt=e=>TY.test(e),nh=e=>ag(e,MY,Xxe),JC=e=>ag(e,sbe,Sn),ML=e=>ag(e,PY,jY),tbe=e=>ag(e,IY,Zxe),kw=e=>ag(e,OY,Qxe),Bt=e=>AY.test(e),x1=e=>og(e,MY),nbe=e=>og(e,abe),OL=e=>og(e,PY),rbe=e=>og(e,RY),ibe=e=>og(e,IY),_w=e=>og(e,OY,!0),ag=(e,t,n)=>{const r=TY.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},og=(e,t,n=!1)=>{const r=AY.exec(e);return r?r[1]?t(r[1]):n:!1},PY=e=>e==="position"||e==="percentage",IY=e=>e==="image"||e==="url",RY=e=>e==="length"||e==="size"||e==="bg-size",MY=e=>e==="length",sbe=e=>e==="number",abe=e=>e==="family-name",OY=e=>e==="shadow",obe=()=>{const e=Pi("color"),t=Pi("font"),n=Pi("text"),r=Pi("font-weight"),i=Pi("tracking"),s=Pi("leading"),a=Pi("breakpoint"),o=Pi("container"),c=Pi("spacing"),u=Pi("radius"),d=Pi("shadow"),f=Pi("inset-shadow"),h=Pi("text-shadow"),p=Pi("drop-shadow"),v=Pi("blur"),x=Pi("perspective"),b=Pi("aspect"),w=Pi("ease"),E=Pi("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[..._(),Bt,zt],T=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],I=()=>[Bt,zt,c],B=()=>[mm,"full","auto",...I()],$=()=>[wd,"none","subgrid",Bt,zt],L=()=>["auto",{span:["full",wd,Bt,zt]},wd,Bt,zt],U=()=>[wd,"auto",Bt,zt],Y=()=>["auto","min","max","fr",Bt,zt],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...I()],J=()=>[mm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],q=()=>[e,Bt,zt],G=()=>[..._(),OL,ML,{position:[Bt,zt]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",rbe,ebe,{size:[Bt,zt]}],z=()=>[ZC,x1,nh],O=()=>["","none","full",u,Bt,zt],X=()=>["",Sn,x1,nh],ne=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Sn,ZC,OL,ML],te=()=>["","none",v,Bt,zt],ie=()=>["none",Sn,Bt,zt],fe=()=>["none",Sn,Bt,zt],he=()=>[Sn,Bt,zt],ae=()=>[mm,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vc],breakpoint:[Vc],color:[Yxe],container:[Vc],"drop-shadow":[Vc],ease:["in","out","in-out"],font:[Jxe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vc],shadow:[Vc],spacing:["px",Sn],text:[Vc],"text-shadow":[Vc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mm,zt,Bt,b]}],container:["container"],columns:[{columns:[Sn,zt,Bt,o]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[wd,"auto",Bt,zt]}],basis:[{basis:[mm,"full","auto",o,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Sn,mm,"auto","initial","none",zt]}],grow:[{grow:["",Sn,Bt,zt]}],shrink:[{shrink:["",Sn,Bt,zt]}],order:[{order:[wd,"first","last","none",Bt,zt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[o,"screen",...J()]}],"min-w":[{"min-w":[o,"screen","none",...J()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,x1,nh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Bt,JC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ZC,zt]}],"font-family":[{font:[nbe,zt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Bt,zt]}],"line-clamp":[{"line-clamp":[Sn,"none",Bt,JC]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Bt,zt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Bt,zt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Sn,"from-font","auto",Bt,nh]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Sn,"auto",Bt,zt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt,zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt,zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wd,Bt,zt],radial:["",Bt,zt],conic:[wd,Bt,zt]},ibe,tbe]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ne(),"hidden","none"]}],"divide-style":[{divide:[...ne(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Sn,Bt,zt]}],"outline-w":[{outline:["",Sn,x1,nh]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",d,_w,kw]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",f,_w,kw]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Sn,nh]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",h,_w,kw]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Sn,Bt,zt]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Sn]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Bt,zt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Sn]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Bt,zt]}],filter:[{filter:["","none",Bt,zt]}],blur:[{blur:te()}],brightness:[{brightness:[Sn,Bt,zt]}],contrast:[{contrast:[Sn,Bt,zt]}],"drop-shadow":[{"drop-shadow":["","none",p,_w,kw]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Sn,Bt,zt]}],"hue-rotate":[{"hue-rotate":[Sn,Bt,zt]}],invert:[{invert:["",Sn,Bt,zt]}],saturate:[{saturate:[Sn,Bt,zt]}],sepia:[{sepia:["",Sn,Bt,zt]}],"backdrop-filter":[{"backdrop-filter":["","none",Bt,zt]}],"backdrop-blur":[{"backdrop-blur":te()}],"backdrop-brightness":[{"backdrop-brightness":[Sn,Bt,zt]}],"backdrop-contrast":[{"backdrop-contrast":[Sn,Bt,zt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Sn,Bt,zt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Sn,Bt,zt]}],"backdrop-invert":[{"backdrop-invert":["",Sn,Bt,zt]}],"backdrop-opacity":[{"backdrop-opacity":[Sn,Bt,zt]}],"backdrop-saturate":[{"backdrop-saturate":[Sn,Bt,zt]}],"backdrop-sepia":[{"backdrop-sepia":["",Sn,Bt,zt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Bt,zt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Sn,"initial",Bt,zt]}],ease:[{ease:["linear","initial",w,Bt,zt]}],delay:[{delay:[Sn,Bt,zt]}],animate:[{animate:["none",E,Bt,zt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Bt,zt]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Bt,zt,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ae()}],"translate-x":[{"translate-x":ae()}],"translate-y":[{"translate-y":ae()}],"translate-z":[{"translate-z":ae()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt,zt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt,zt]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Sn,x1,nh,JC]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DY=Uxe(obe);function we(...e){return DY(Nr(e))}const Jj=sg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),ve=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?_0:"button";return l.jsx(a,{ref:s,"data-slot":"button",className:we(Jj({variant:t,size:n,className:e})),...i})});ve.displayName="Button";function LS({title:e,description:t,actionLabel:n,onAction:r,icon:i,iconSrc:s="/images/img_error.png",iconAlt:a="Error illustration"}){return l.jsx("div",{className:"w-full h-screen bg-[rgb(5,7,15)] flex items-center justify-center",children:l.jsxs("div",{className:"w-full max-w-[624px] flex flex-col items-center gap-6 p-6",children:[(i||s)&&l.jsx("div",{className:"w-full h-[300px] flex items-center justify-center",children:i||l.jsx("img",{src:s,alt:a,className:"max-w-full h-auto max-h-[300px]"})}),l.jsx("h1",{className:"text-muted text-[29px] font-normal leading-7 text-center",children:e}),l.jsx("p",{className:"text-card text-base font-light leading-6 text-center",children:t}),l.jsx(ve,{onClick:r,"aria-label":n,children:n})]})})}const en=y.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,"data-slot":"input",className:we("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:r,...n}));en.displayName="Input";function Rn({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:we("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function M6({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:we("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function O6({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:we("leading-none font-semibold",e),...t})}function D6({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:we("text-muted-foreground text-sm",e),...t})}function k4({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:we("px-6",e),...t})}const lbe="resolve2025",DL="demo-authenticated";function cbe({children:e}){const[t,n]=y.useState(!1),[r,i]=y.useState(""),[s,a]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState(!0);y.useEffect(()=>{sessionStorage.getItem(DL)==="true"&&n(!0),d(!1)},[]);const f=h=>{h.preventDefault(),r===lbe?(sessionStorage.setItem(DL,"true"),n(!0),a("")):a("Incorrect password")};return u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsx("div",{className:"animate-pulse text-slate-400",children:"Loading..."})}):t?l.jsx(l.Fragment,{children:e}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 p-4",children:l.jsxs(Rn,{className:"w-full max-w-md shadow-xl",children:[l.jsxs(M6,{className:"text-center pb-2",children:[l.jsx("div",{className:"mx-auto w-12 h-12 bg-violet-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(tY,{className:"w-6 h-6 text-violet-600"})}),l.jsx(O6,{className:"text-2xl",children:"Demo Access"}),l.jsx(D6,{children:"Enter the password to view this demo"})]}),l.jsxs(k4,{children:[l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(en,{type:o?"text":"password",placeholder:"Enter password",value:r,onChange:h=>{i(h.target.value),a("")},className:"pr-10",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o?l.jsx(c1e,{className:"w-4 h-4"}):l.jsx(XK,{className:"w-4 h-4"})})]}),s&&l.jsx("p",{className:"text-sm text-red-500 text-center",children:s}),l.jsx(ve,{type:"submit",className:"w-full",children:"Access Demo"})]}),l.jsx("p",{className:"text-xs text-slate-400 text-center mt-4",children:"Contact your Resolve representative for access"})]})]})})}var LL={};const LY=y.createContext(void 0),FY="rita:citation-variant";function ube(e="collapsible-list"){if(typeof process<"u"&&LL.VITE_CITATION_VARIANT){const t=LL.VITE_CITATION_VARIANT;if(L6(t))return t}if(typeof window<"u")try{const t=localStorage.getItem(FY);if(t&&L6(t))return t}catch(t){console.warn("Failed to read citation variant from localStorage:",t)}return e}function L6(e){return["collapsible-list","modal","right-panel","hover-card"].includes(e)}function dbe({children:e,defaultVariant:t="collapsible-list"}){const[n,r]=y.useState(()=>ube(t)),s={variant:n,setVariant:a=>{if(!L6(a)){console.warn(`Invalid citation variant: ${a}`);return}if(r(a),typeof window<"u")try{localStorage.setItem(FY,a)}catch(o){console.warn("Failed to save citation variant to localStorage:",o)}}};return l.jsx(LY.Provider,{value:s,children:e})}function fbe(){const e=y.useContext(LY);if(e===void 0)throw new Error("useCitationContext must be used within a CitationProvider");return e}function hbe(){const{variant:e}=fbe();return e}function mbe({children:e}){const[t]=y.useState(()=>new Zpe({defaultOptions:{queries:{staleTime:6e4,retry:(n,r)=>(r==null?void 0:r.status)>=400&&(r==null?void 0:r.status)<500?!1:n<3},mutations:{retry:(n,r)=>(r==null?void 0:r.status)>=400&&(r==null?void 0:r.status)<500?!1:n<2}}}));return l.jsx(Jpe,{client:t,children:e})}/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $Y=e=>{throw TypeError(e)},pbe=(e,t,n)=>t.has(e)||$Y("Cannot "+n),eN=(e,t,n)=>(pbe(e,t,"read from private field"),n?n.call(e):t.get(e)),gbe=(e,t,n)=>t.has(e)?$Y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),FL="popstate";function vbe(e={}){function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Hv("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xc(i)}return xbe(t,n,null,e)}function _n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ybe(){return Math.random().toString(36).substring(2,10)}function $L(e,t){return{usr:e.state,key:e.key,idx:t}}function Hv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Tf(t):t,state:n,key:t&&t.key||r||ybe()}}function xc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Tf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function xbe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){o="POP";let b=d(),w=b==null?null:b-u;u=b,c&&c({action:o,location:x.location,delta:w})}function h(b,w){o="PUSH";let E=Hv(x.location,b,w);u=d()+1;let k=$L(E,u),_=x.createHref(E);try{a.pushState(k,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(_)}s&&c&&c({action:o,location:x.location,delta:1})}function p(b,w){o="REPLACE";let E=Hv(x.location,b,w);u=d();let k=$L(E,u),_=x.createHref(E);a.replaceState(k,"",_),s&&c&&c({action:o,location:x.location,delta:0})}function v(b){return zY(b)}let x={get action(){return o},get location(){return e(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(FL,f),c=b,()=>{i.removeEventListener(FL,f),c=null}},createHref(b){return t(i,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return a.go(b)}};return x}function zY(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_n(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:xc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Y1,zL=class{constructor(e){if(gbe(this,Y1,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(eN(this,Y1).has(e))return eN(this,Y1).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){eN(this,Y1).set(e,t)}};Y1=new WeakMap;var bbe=new Set(["lazy","caseSensitive","path","id","index","children"]);function wbe(e){return bbe.has(e)}var Ebe=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Sbe(e){return Ebe.has(e)}function kbe(e){return e.index===!0}function Vv(e,t,n=[],r={},i=!1){return e.map((s,a)=>{let o=[...n,String(a)],c=typeof s.id=="string"?s.id:o.join("-");if(_n(s.index!==!0||!s.children,"Cannot specify children on an index route"),_n(i||!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),kbe(s)){let u={...s,id:c};return r[c]=BL(u,t(u)),u}else{let u={...s,id:c,children:void 0};return r[c]=BL(u,t(u)),s.children&&(u.children=Vv(s.children,t,o,r,i)),u}})}function BL(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Fd(e,t,n="/"){return X1(e,t,n,!1)}function X1(e,t,n,r){let i=typeof t=="string"?Tf(t):t,s=Do(i.pathname||"/",n);if(s==null)return null;let a=BY(e);Cbe(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Lbe(s);o=Obe(a[c],u,r)}return o}function _be(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function BY(e,t=[],n=[],r="",i=!1){let s=(a,o,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;_n(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=hc([r,d.relativePath]),h=n.concat(d);a.children&&a.children.length>0&&(_n(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),BY(a.children,t,h,f,c)),!(a.path==null&&!a.index)&&t.push({path:f,score:Rbe(f,a.index),routesMeta:h})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let u of UY(a.path))s(a,o,!0,u)}),t}function UY(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=UY(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Cbe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mbe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Nbe=/^:[\w-]+$/,Tbe=3,Abe=2,jbe=1,Pbe=10,Ibe=-2,UL=e=>e==="*";function Rbe(e,t){let n=e.split("/"),r=n.length;return n.some(UL)&&(r+=Ibe),t&&(r+=Abe),n.filter(i=>!UL(i)).reduce((i,s)=>i+(Nbe.test(s)?Tbe:s===""?jbe:Pbe),r)}function Mbe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Obe(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=_4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=_4({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:hc([s,f.pathname]),pathnameBase:Bbe(hc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=hc([s,f.pathnameBase]))}return a}function _4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Dbe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Dbe(e,t=!1,n=!0){Kr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Lbe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Do(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fbe({basename:e,pathname:t}){return t==="/"?e:hc([e,t])}var $be=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FS=e=>$be.test(e);function zbe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tf(e):e,s;if(n)if(FS(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Kr(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=HL(n.substring(1),"/"):s=HL(n,t)}else s=t;return{pathname:s,search:Ube(r),hash:Hbe(i)}}function HL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tN(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HY(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $S(e){let t=HY(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function zS(e,t,n,r=!1){let i;typeof e=="string"?i=Tf(e):(i={...e},_n(!i.pathname||!i.pathname.includes("?"),tN("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),tN("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),tN("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=zbe(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var hc=e=>e.join("/").replace(/\/\/+/g,"/"),Bbe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ube=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hbe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,C4=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function eP(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nf=Symbol("Uninstrumented");function Vbe(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let a=Object.keys(n);for(let o of a)s[o]&&n[o].push(s[o])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Dm(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let a=i[s],o=n[`lazy.${s}`];if(typeof a=="function"&&o.length>0){let c=Dm(o,a,()=>{});c&&(r.lazy=Object.assign(r.lazy||{},{[s]:c}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let a=s[nf]??s,o=Dm(n[i],a,(...c)=>VL(c[0]));o&&(o[nf]=a,r[i]=o)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[nf]??i,a=Dm(n.middleware,s,(...o)=>VL(o[0]));return a?(a[nf]=s,a):i})),r}function qbe(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let a of s)i[a]&&n[a].push(i[a])}})),n.navigate.length>0){let r=e.navigate[nf]??e.navigate,i=Dm(n.navigate,r,(...s)=>{let[a,o]=s;return{to:typeof a=="number"||typeof a=="string"?a:a?xc(a):".",...qL(e,o??{})}});i&&(i[nf]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[nf]??e.fetch,i=Dm(n.fetch,r,(...s)=>{let[a,,o,c]=s;return{href:o??".",fetcherKey:a,...qL(e,c??{})}});i&&(i[nf]=r,e.fetch=i)}return e}function Dm(e,t,n){return e.length===0?null:async(...r)=>{let i=await VY(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function VY(e,t,n,r){let i=e[r],s;if(i){let a,o=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=VY(e,t,n,r-1),s=await a,_n(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(o,t)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await o(),await a}else try{s={type:"success",value:await n()}}catch(a){s={type:"error",value:a}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function VL(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:Wbe(t),params:{...r},unstable_pattern:i,context:Gbe(n)}}function qL(e,t){return{currentUrl:xc(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Wbe(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function Gbe(e){if(Ybe(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Kbe=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ybe(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Kbe}var qY=["POST","PUT","PATCH","DELETE"],Xbe=new Set(qY),Qbe=["GET",...qY],Zbe=new Set(Qbe),Jbe=new Set([301,302,303,307,308]),ewe=new Set([307,308]),nN={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},twe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nwe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),WY="remix-router-transitions",GY=Symbol("ResetLoaderData");function rwe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";_n(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||nwe,s=i;if(e.unstable_instrumentations){let ye=e.unstable_instrumentations;s=ke=>({...i(ke),...Vbe(ye.map(De=>De.route).filter(Boolean),ke)})}let a={},o=Vv(e.routes,s,void 0,a),c,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||lwe,f={...e.future},h=null,p=new Set,v=null,x=null,b=null,w=e.hydrationData!=null,E=Fd(o,e.history.location,u),k=!1,_=null,A;if(E==null&&!e.patchRoutesOnNavigation){let ye=vo(404,{pathname:e.history.location.pathname}),{matches:ke,route:De}=Cw(o);A=!0,E=ke,_={[De.id]:ye}}else if(E&&!e.hydrationData&&Qn(E,o,e.history.location.pathname).active&&(E=null),E)if(E.some(ye=>ye.route.lazy))A=!1;else if(!E.some(ye=>tP(ye.route)))A=!0;else{let ye=e.hydrationData?e.hydrationData.loaderData:null,ke=e.hydrationData?e.hydrationData.errors:null;if(ke){let De=E.findIndex(Ke=>ke[Ke.route.id]!==void 0);A=E.slice(0,De+1).every(Ke=>!$6(Ke.route,ye,ke))}else A=E.every(De=>!$6(De.route,ye,ke))}else{A=!1,E=[];let ye=Qn(null,o,e.history.location.pathname);ye.active&&ye.matches&&(k=!0,E=ye.matches)}let T,C={historyAction:e.history.action,location:e.history.location,matches:E,initialized:A,navigation:nN,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},I="POP",B=!1,$,L=!1,U=new Map,Y=null,V=!1,K=!1,W=new Set,J=new Map,q=0,G=-1,j=new Map,M=new Set,z=new Map,O=new Map,X=new Set,ne=new Map,re,Q=null;function te(){if(h=e.history.listen(({action:ye,location:ke,delta:De})=>{if(re){re(),re=void 0;return}Kr(ne.size===0||De!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ke=fi({currentLocation:C.location,nextLocation:ke,historyAction:ye});if(Ke&&De!=null){let st=new Promise(It=>{re=It});e.history.go(De*-1),In(Ke,{state:"blocked",location:ke,proceed(){In(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ke}),st.then(()=>e.history.go(De))},reset(){let It=new Map(C.blockers);It.set(Ke,b1),he({blockers:It})}});return}return Ge(ye,ke)}),n){Swe(t,U);let ye=()=>kwe(t,U);t.addEventListener("pagehide",ye),Y=()=>t.removeEventListener("pagehide",ye)}return C.initialized||Ge("POP",C.location,{initialHydration:!0}),T}function ie(){h&&h(),Y&&Y(),p.clear(),$&&$.abort(),C.fetchers.forEach((ye,ke)=>St(ke)),C.blockers.forEach((ye,ke)=>dn(ke))}function fe(ye){return p.add(ye),()=>p.delete(ye)}function he(ye,ke={}){ye.matches&&(ye.matches=ye.matches.map(st=>{let It=a[st.route.id],Ft=st.route;return Ft.element!==It.element||Ft.errorElement!==It.errorElement||Ft.hydrateFallbackElement!==It.hydrateFallbackElement?{...st,route:It}:st})),C={...C,...ye};let De=[],Ke=[];C.fetchers.forEach((st,It)=>{st.state==="idle"&&(X.has(It)?De.push(It):Ke.push(It))}),X.forEach(st=>{!C.fetchers.has(st)&&!J.has(st)&&De.push(st)}),[...p].forEach(st=>st(C,{deletedFetchers:De,viewTransitionOpts:ke.viewTransitionOpts,flushSync:ke.flushSync===!0})),De.forEach(st=>St(st)),Ke.forEach(st=>C.fetchers.delete(st))}function ae(ye,ke,{flushSync:De}={}){var Wt,Ht;let Ke=C.actionData!=null&&C.navigation.formMethod!=null&&Hs(C.navigation.formMethod)&&C.navigation.state==="loading"&&((Wt=ye.state)==null?void 0:Wt._isRedirect)!==!0,st;ke.actionData?Object.keys(ke.actionData).length>0?st=ke.actionData:st=null:Ke?st=C.actionData:st=null;let It=ke.loaderData?tF(C.loaderData,ke.loaderData,ke.matches||[],ke.errors):C.loaderData,Ft=C.blockers;Ft.size>0&&(Ft=new Map(Ft),Ft.forEach((an,Hn)=>Ft.set(Hn,b1)));let Ot=V?!1:En(ye,ke.matches||C.matches),Vt=B===!0||C.navigation.formMethod!=null&&Hs(C.navigation.formMethod)&&((Ht=ye.state)==null?void 0:Ht._isRedirect)!==!0;c&&(o=c,c=void 0),V||I==="POP"||(I==="PUSH"?e.history.push(ye,ye.state):I==="REPLACE"&&e.history.replace(ye,ye.state));let Xt;if(I==="POP"){let an=U.get(C.location.pathname);an&&an.has(ye.pathname)?Xt={currentLocation:C.location,nextLocation:ye}:U.has(ye.pathname)&&(Xt={currentLocation:ye,nextLocation:C.location})}else if(L){let an=U.get(C.location.pathname);an?an.add(ye.pathname):(an=new Set([ye.pathname]),U.set(C.location.pathname,an)),Xt={currentLocation:C.location,nextLocation:ye}}he({...ke,actionData:st,loaderData:It,historyAction:I,location:ye,initialized:!0,navigation:nN,revalidation:"idle",restoreScrollPosition:Ot,preventScrollReset:Vt,blockers:Ft},{viewTransitionOpts:Xt,flushSync:De===!0}),I="POP",B=!1,L=!1,V=!1,K=!1,Q==null||Q.resolve(),Q=null}async function Pe(ye,ke){if(typeof ye=="number"){e.history.go(ye);return}let De=F6(C.location,C.matches,u,ye,ke==null?void 0:ke.fromRouteId,ke==null?void 0:ke.relative),{path:Ke,submission:st,error:It}=WL(!1,De,ke),Ft=C.location,Ot=Hv(C.location,Ke,ke&&ke.state);Ot={...Ot,...e.history.encodeLocation(Ot)};let Vt=ke&&ke.replace!=null?ke.replace:void 0,Xt="PUSH";Vt===!0?Xt="REPLACE":Vt===!1||st!=null&&Hs(st.formMethod)&&st.formAction===C.location.pathname+C.location.search&&(Xt="REPLACE");let Wt=ke&&"preventScrollReset"in ke?ke.preventScrollReset===!0:void 0,Ht=(ke&&ke.flushSync)===!0,an=fi({currentLocation:Ft,nextLocation:Ot,historyAction:Xt});if(an){In(an,{state:"blocked",location:Ot,proceed(){In(an,{state:"proceeding",proceed:void 0,reset:void 0,location:Ot}),Pe(ye,ke)},reset(){let Hn=new Map(C.blockers);Hn.set(an,b1),he({blockers:Hn})}});return}await Ge(Xt,Ot,{submission:st,pendingError:It,preventScrollReset:Wt,replace:ke&&ke.replace,enableViewTransition:ke&&ke.viewTransition,flushSync:Ht})}function Te(){Q||(Q=_we()),Ee(),he({revalidation:"loading"});let ye=Q.promise;return C.navigation.state==="submitting"?ye:C.navigation.state==="idle"?(Ge(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),ye):(Ge(I||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:L===!0}),ye)}async function Ge(ye,ke,De){$&&$.abort(),$=null,I=ye,V=(De&&De.startUninterruptedRevalidation)===!0,Pt(C.location,C.matches),B=(De&&De.preventScrollReset)===!0,L=(De&&De.enableViewTransition)===!0;let Ke=c||o,st=De&&De.overrideNavigation,It=De!=null&&De.initialHydration&&C.matches&&C.matches.length>0&&!k?C.matches:Fd(Ke,ke,u),Ft=(De&&De.flushSync)===!0;if(It&&C.initialized&&!K&&gwe(C.location,ke)&&!(De&&De.submission&&Hs(De.submission.formMethod))){ae(ke,{matches:It},{flushSync:Ft});return}let Ot=Qn(It,Ke,ke.pathname);if(Ot.active&&Ot.matches&&(It=Ot.matches),!It){let{error:cr,notFoundMatches:Vn,route:qn}=Un(ke.pathname);ae(ke,{matches:Vn,loaderData:{},errors:{[qn.id]:cr}},{flushSync:Ft});return}$=new AbortController;let Vt=Tm(e.history,ke,$.signal,De&&De.submission),Xt=e.getContext?await e.getContext():new zL,Wt;if(De&&De.pendingError)Wt=[$d(It).route.id,{type:"error",error:De.pendingError}];else if(De&&De.submission&&Hs(De.submission.formMethod)){let cr=await nt(Vt,ke,De.submission,It,Xt,Ot.active,De&&De.initialHydration===!0,{replace:De.replace,flushSync:Ft});if(cr.shortCircuited)return;if(cr.pendingActionResult){let[Vn,qn]=cr.pendingActionResult;if(Oa(qn)&&qv(qn.error)&&qn.error.status===404){$=null,ae(ke,{matches:cr.matches,loaderData:{},errors:{[Vn]:qn.error}});return}}It=cr.matches||It,Wt=cr.pendingActionResult,st=rN(ke,De.submission),Ft=!1,Ot.active=!1,Vt=Tm(e.history,Vt.url,Vt.signal)}let{shortCircuited:Ht,matches:an,loaderData:Hn,errors:gr}=await vt(Vt,ke,It,Xt,Ot.active,st,De&&De.submission,De&&De.fetcherSubmission,De&&De.replace,De&&De.initialHydration===!0,Ft,Wt);Ht||($=null,ae(ke,{matches:an||It,...nF(Wt),loaderData:Hn,errors:gr}))}async function nt(ye,ke,De,Ke,st,It,Ft,Ot={}){Ee();let Vt=wwe(ke,De);if(he({navigation:Vt},{flushSync:Ot.flushSync===!0}),It){let Ht=await lr(Ke,ke.pathname,ye.signal);if(Ht.type==="aborted")return{shortCircuited:!0};if(Ht.type==="error"){if(Ht.partialMatches.length===0){let{matches:Hn,route:gr}=Cw(o);return{matches:Hn,pendingActionResult:[gr.id,{type:"error",error:Ht.error}]}}let an=$d(Ht.partialMatches).route.id;return{matches:Ht.partialMatches,pendingActionResult:[an,{type:"error",error:Ht.error}]}}else if(Ht.matches)Ke=Ht.matches;else{let{notFoundMatches:an,error:Hn,route:gr}=Un(ke.pathname);return{matches:an,pendingActionResult:[gr.id,{type:"error",error:Hn}]}}}let Xt,Wt=U2(Ke,ke);if(!Wt.route.action&&!Wt.route.lazy)Xt={type:"error",error:vo(405,{method:ye.method,pathname:ke.pathname,routeId:Wt.route.id})};else{let Ht=Qm(s,a,ye,Ke,Wt,Ft?[]:r,st),an=await We(ye,Ht,st,null);if(Xt=an[Wt.route.id],!Xt){for(let Hn of Ke)if(an[Hn.route.id]){Xt=an[Hn.route.id];break}}if(ye.signal.aborted)return{shortCircuited:!0}}if(gh(Xt)){let Ht;return Ot&&Ot.replace!=null?Ht=Ot.replace:Ht=ZL(Xt.response.headers.get("Location"),new URL(ye.url),u)===C.location.pathname+C.location.search,await Be(ye,Xt,!0,{submission:De,replace:Ht}),{shortCircuited:!0}}if(Oa(Xt)){let Ht=$d(Ke,Wt.route.id);return(Ot&&Ot.replace)!==!0&&(I="PUSH"),{matches:Ke,pendingActionResult:[Ht.route.id,Xt,Wt.route.id]}}return{matches:Ke,pendingActionResult:[Wt.route.id,Xt]}}async function vt(ye,ke,De,Ke,st,It,Ft,Ot,Vt,Xt,Wt,Ht){let an=It||rN(ke,Ft),Hn=Ft||Ot||iF(an),gr=!V&&!Xt;if(st){if(gr){let Wn=Ct(Ht);he({navigation:an,...Wn!==void 0?{actionData:Wn}:{}},{flushSync:Wt})}let fn=await lr(De,ke.pathname,ye.signal);if(fn.type==="aborted")return{shortCircuited:!0};if(fn.type==="error"){if(fn.partialMatches.length===0){let{matches:Na,route:jr}=Cw(o);return{matches:Na,loaderData:{},errors:{[jr.id]:fn.error}}}let Wn=$d(fn.partialMatches).route.id;return{matches:fn.partialMatches,loaderData:{},errors:{[Wn]:fn.error}}}else if(fn.matches)De=fn.matches;else{let{error:Wn,notFoundMatches:Na,route:jr}=Un(ke.pathname);return{matches:Na,loaderData:{},errors:{[jr.id]:Wn}}}}let cr=c||o,{dsMatches:Vn,revalidatingFetchers:qn}=GL(ye,Ke,s,a,e.history,C,De,Hn,ke,Xt?[]:r,Xt===!0,K,W,X,z,M,cr,u,e.patchRoutesOnNavigation!=null,Ht);if(G=++q,!e.dataStrategy&&!Vn.some(fn=>fn.shouldLoad)&&!Vn.some(fn=>fn.route.middleware&&fn.route.middleware.length>0)&&qn.length===0){let fn=wt();return ae(ke,{matches:De,loaderData:{},errors:Ht&&Oa(Ht[1])?{[Ht[0]]:Ht[1].error}:null,...nF(Ht),...fn?{fetchers:new Map(C.fetchers)}:{}},{flushSync:Wt}),{shortCircuited:!0}}if(gr){let fn={};if(!st){fn.navigation=an;let Wn=Ct(Ht);Wn!==void 0&&(fn.actionData=Wn)}qn.length>0&&(fn.fetchers=Tt(qn)),he(fn,{flushSync:Wt})}qn.forEach(fn=>{je(fn.key),fn.controller&&J.set(fn.key,fn.controller)});let ta=()=>qn.forEach(fn=>je(fn.key));$&&$.signal.addEventListener("abort",ta);let{loaderResults:Ja,fetcherResults:Ln}=await qe(Vn,qn,ye,Ke);if(ye.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",ta),qn.forEach(fn=>J.delete(fn.key));let vs=Nw(Ja);if(vs)return await Be(ye,vs.result,!0,{replace:Vt}),{shortCircuited:!0};if(vs=Nw(Ln),vs)return M.add(vs.key),await Be(ye,vs.result,!0,{replace:Vt}),{shortCircuited:!0};let{loaderData:eo,errors:to}=eF(C,De,Ja,Ht,qn,Ln);Xt&&C.errors&&(to={...C.errors,...to});let as=wt(),qo=Et(G),no=as||qo||qn.length>0;return{matches:De,loaderData:eo,errors:to,...no?{fetchers:new Map(C.fetchers)}:{}}}function Ct(ye){if(ye&&!Oa(ye[1]))return{[ye[0]]:ye[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Tt(ye){return ye.forEach(ke=>{let De=C.fetchers.get(ke.key),Ke=w1(void 0,De?De.data:void 0);C.fetchers.set(ke.key,Ke)}),new Map(C.fetchers)}async function ue(ye,ke,De,Ke){je(ye);let st=(Ke&&Ke.flushSync)===!0,It=c||o,Ft=F6(C.location,C.matches,u,De,ke,Ke==null?void 0:Ke.relative),Ot=Fd(It,Ft,u),Vt=Qn(Ot,It,Ft);if(Vt.active&&Vt.matches&&(Ot=Vt.matches),!Ot){Ze(ye,ke,vo(404,{pathname:Ft}),{flushSync:st});return}let{path:Xt,submission:Wt,error:Ht}=WL(!0,Ft,Ke);if(Ht){Ze(ye,ke,Ht,{flushSync:st});return}let an=e.getContext?await e.getContext():new zL,Hn=(Ke&&Ke.preventScrollReset)===!0;if(Wt&&Hs(Wt.formMethod)){await _e(ye,ke,Xt,Ot,an,Vt.active,st,Hn,Wt);return}z.set(ye,{routeId:ke,path:Xt}),await Ae(ye,ke,Xt,Ot,an,Vt.active,st,Hn,Wt)}async function _e(ye,ke,De,Ke,st,It,Ft,Ot,Vt){Ee(),z.delete(ye);let Xt=C.fetchers.get(ye);$e(ye,Ewe(Vt,Xt),{flushSync:Ft});let Wt=new AbortController,Ht=Tm(e.history,De,Wt.signal,Vt);if(It){let tr=await lr(Ke,new URL(Ht.url).pathname,Ht.signal,ye);if(tr.type==="aborted")return;if(tr.type==="error"){Ze(ye,ke,tr.error,{flushSync:Ft});return}else if(tr.matches)Ke=tr.matches;else{Ze(ye,ke,vo(404,{pathname:De}),{flushSync:Ft});return}}let an=U2(Ke,De);if(!an.route.action&&!an.route.lazy){let tr=vo(405,{method:Vt.formMethod,pathname:De,routeId:ke});Ze(ye,ke,tr,{flushSync:Ft});return}J.set(ye,Wt);let Hn=q,gr=Qm(s,a,Ht,Ke,an,r,st),cr=await We(Ht,gr,st,ye),Vn=cr[an.route.id];if(!Vn){for(let tr of gr)if(cr[tr.route.id]){Vn=cr[tr.route.id];break}}if(Ht.signal.aborted){J.get(ye)===Wt&&J.delete(ye);return}if(X.has(ye)){if(gh(Vn)||Oa(Vn)){$e(ye,eu(void 0));return}}else{if(gh(Vn))if(J.delete(ye),G>Hn){$e(ye,eu(void 0));return}else return M.add(ye),$e(ye,w1(Vt)),Be(Ht,Vn,!1,{fetcherSubmission:Vt,preventScrollReset:Ot});if(Oa(Vn)){Ze(ye,ke,Vn.error);return}}let qn=C.navigation.location||C.location,ta=Tm(e.history,qn,Wt.signal),Ja=c||o,Ln=C.navigation.state!=="idle"?Fd(Ja,C.navigation.location,u):C.matches;_n(Ln,"Didn't find any matches after fetcher action");let vs=++q;j.set(ye,vs);let eo=w1(Vt,Vn.data);C.fetchers.set(ye,eo);let{dsMatches:to,revalidatingFetchers:as}=GL(ta,st,s,a,e.history,C,Ln,Vt,qn,r,!1,K,W,X,z,M,Ja,u,e.patchRoutesOnNavigation!=null,[an.route.id,Vn]);as.filter(tr=>tr.key!==ye).forEach(tr=>{let de=tr.key,Ie=C.fetchers.get(de),ct=w1(void 0,Ie?Ie.data:void 0);C.fetchers.set(de,ct),je(de),tr.controller&&J.set(de,tr.controller)}),he({fetchers:new Map(C.fetchers)});let qo=()=>as.forEach(tr=>je(tr.key));Wt.signal.addEventListener("abort",qo);let{loaderResults:no,fetcherResults:fn}=await qe(to,as,ta,st);if(Wt.signal.aborted)return;if(Wt.signal.removeEventListener("abort",qo),j.delete(ye),J.delete(ye),as.forEach(tr=>J.delete(tr.key)),C.fetchers.has(ye)){let tr=eu(Vn.data);C.fetchers.set(ye,tr)}let Wn=Nw(no);if(Wn)return Be(ta,Wn.result,!1,{preventScrollReset:Ot});if(Wn=Nw(fn),Wn)return M.add(Wn.key),Be(ta,Wn.result,!1,{preventScrollReset:Ot});let{loaderData:Na,errors:jr}=eF(C,Ln,no,void 0,as,fn);Et(vs),C.navigation.state==="loading"&&vs>G?(_n(I,"Expected pending action"),$&&$.abort(),ae(C.navigation.location,{matches:Ln,loaderData:Na,errors:jr,fetchers:new Map(C.fetchers)})):(he({errors:jr,loaderData:tF(C.loaderData,Na,Ln,jr),fetchers:new Map(C.fetchers)}),K=!1)}async function Ae(ye,ke,De,Ke,st,It,Ft,Ot,Vt){let Xt=C.fetchers.get(ye);$e(ye,w1(Vt,Xt?Xt.data:void 0),{flushSync:Ft});let Wt=new AbortController,Ht=Tm(e.history,De,Wt.signal);if(It){let qn=await lr(Ke,new URL(Ht.url).pathname,Ht.signal,ye);if(qn.type==="aborted")return;if(qn.type==="error"){Ze(ye,ke,qn.error,{flushSync:Ft});return}else if(qn.matches)Ke=qn.matches;else{Ze(ye,ke,vo(404,{pathname:De}),{flushSync:Ft});return}}let an=U2(Ke,De);J.set(ye,Wt);let Hn=q,gr=Qm(s,a,Ht,Ke,an,r,st),Vn=(await We(Ht,gr,st,ye))[an.route.id];if(J.get(ye)===Wt&&J.delete(ye),!Ht.signal.aborted){if(X.has(ye)){$e(ye,eu(void 0));return}if(gh(Vn))if(G>Hn){$e(ye,eu(void 0));return}else{M.add(ye),await Be(Ht,Vn,!1,{preventScrollReset:Ot});return}if(Oa(Vn)){Ze(ye,ke,Vn.error);return}$e(ye,eu(Vn.data))}}async function Be(ye,ke,De,{submission:Ke,fetcherSubmission:st,preventScrollReset:It,replace:Ft}={}){ke.response.headers.has("X-Remix-Revalidate")&&(K=!0);let Ot=ke.response.headers.get("Location");_n(Ot,"Expected a Location header on the redirect Response"),Ot=ZL(Ot,new URL(ye.url),u);let Vt=Hv(C.location,Ot,{_isRedirect:!0});if(n){let gr=!1;if(ke.response.headers.has("X-Remix-Reload-Document"))gr=!0;else if(FS(Ot)){const cr=zY(Ot,!0);gr=cr.origin!==t.location.origin||Do(cr.pathname,u)==null}if(gr){Ft?t.location.replace(Ot):t.location.assign(Ot);return}}$=null;let Xt=Ft===!0||ke.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Wt,formAction:Ht,formEncType:an}=C.navigation;!Ke&&!st&&Wt&&Ht&&an&&(Ke=iF(C.navigation));let Hn=Ke||st;if(ewe.has(ke.response.status)&&Hn&&Hs(Hn.formMethod))await Ge(Xt,Vt,{submission:{...Hn,formAction:Ot},preventScrollReset:It||B,enableViewTransition:De?L:void 0});else{let gr=rN(Vt,Ke);await Ge(Xt,Vt,{overrideNavigation:gr,fetcherSubmission:st,preventScrollReset:It||B,enableViewTransition:De?L:void 0})}}async function We(ye,ke,De,Ke){let st,It={};try{st=await uwe(d,ye,ke,Ke,De,!1)}catch(Ft){return ke.filter(Ot=>Ot.shouldLoad).forEach(Ot=>{It[Ot.route.id]={type:"error",error:Ft}}),It}if(ye.signal.aborted)return It;for(let[Ft,Ot]of Object.entries(st))if(xwe(Ot)){let Vt=Ot.result;It[Ft]={type:"redirect",response:mwe(Vt,ye,Ft,ke,u)}}else It[Ft]=await hwe(Ot);return It}async function qe(ye,ke,De,Ke){let st=We(De,ye,Ke,null),It=Promise.all(ke.map(async Vt=>{if(Vt.matches&&Vt.match&&Vt.request&&Vt.controller){let Wt=(await We(Vt.request,Vt.matches,Ke,Vt.key))[Vt.match.route.id];return{[Vt.key]:Wt}}else return Promise.resolve({[Vt.key]:{type:"error",error:vo(404,{pathname:Vt.path})}})})),Ft=await st,Ot=(await It).reduce((Vt,Xt)=>Object.assign(Vt,Xt),{});return{loaderResults:Ft,fetcherResults:Ot}}function Ee(){K=!0,z.forEach((ye,ke)=>{J.has(ke)&&W.add(ke),je(ke)})}function $e(ye,ke,De={}){C.fetchers.set(ye,ke),he({fetchers:new Map(C.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function Ze(ye,ke,De,Ke={}){let st=$d(C.matches,ke);St(ye),he({errors:{[st.route.id]:De},fetchers:new Map(C.fetchers)},{flushSync:(Ke&&Ke.flushSync)===!0})}function bt(ye){return O.set(ye,(O.get(ye)||0)+1),X.has(ye)&&X.delete(ye),C.fetchers.get(ye)||twe}function Ue(ye,ke){je(ye,ke==null?void 0:ke.reason),$e(ye,eu(null))}function St(ye){let ke=C.fetchers.get(ye);J.has(ye)&&!(ke&&ke.state==="loading"&&j.has(ye))&&je(ye),z.delete(ye),j.delete(ye),M.delete(ye),X.delete(ye),W.delete(ye),C.fetchers.delete(ye)}function At(ye){let ke=(O.get(ye)||0)-1;ke<=0?(O.delete(ye),X.add(ye)):O.set(ye,ke),he({fetchers:new Map(C.fetchers)})}function je(ye,ke){let De=J.get(ye);De&&(De.abort(ke),J.delete(ye))}function Je(ye){for(let ke of ye){let De=bt(ke),Ke=eu(De.data);C.fetchers.set(ke,Ke)}}function wt(){let ye=[],ke=!1;for(let De of M){let Ke=C.fetchers.get(De);_n(Ke,`Expected fetcher: ${De}`),Ke.state==="loading"&&(M.delete(De),ye.push(De),ke=!0)}return Je(ye),ke}function Et(ye){let ke=[];for(let[De,Ke]of j)if(Ke<ye){let st=C.fetchers.get(De);_n(st,`Expected fetcher: ${De}`),st.state==="loading"&&(je(De),j.delete(De),ke.push(De))}return Je(ke),ke.length>0}function gn(ye,ke){let De=C.blockers.get(ye)||b1;return ne.get(ye)!==ke&&ne.set(ye,ke),De}function dn(ye){C.blockers.delete(ye),ne.delete(ye)}function In(ye,ke){let De=C.blockers.get(ye)||b1;_n(De.state==="unblocked"&&ke.state==="blocked"||De.state==="blocked"&&ke.state==="blocked"||De.state==="blocked"&&ke.state==="proceeding"||De.state==="blocked"&&ke.state==="unblocked"||De.state==="proceeding"&&ke.state==="unblocked",`Invalid blocker state transition: ${De.state} -> ${ke.state}`);let Ke=new Map(C.blockers);Ke.set(ye,ke),he({blockers:Ke})}function fi({currentLocation:ye,nextLocation:ke,historyAction:De}){if(ne.size===0)return;ne.size>1&&Kr(!1,"A router only supports one blocker at a time");let Ke=Array.from(ne.entries()),[st,It]=Ke[Ke.length-1],Ft=C.blockers.get(st);if(!(Ft&&Ft.state==="proceeding")&&It({currentLocation:ye,nextLocation:ke,historyAction:De}))return st}function Un(ye){let ke=vo(404,{pathname:ye}),De=c||o,{matches:Ke,route:st}=Cw(De);return{notFoundMatches:Ke,route:st,error:ke}}function Tn(ye,ke,De){if(v=ye,b=ke,x=De||null,!w&&C.navigation===nN){w=!0;let Ke=En(C.location,C.matches);Ke!=null&&he({restoreScrollPosition:Ke})}return()=>{v=null,b=null,x=null}}function Ut(ye,ke){return x&&x(ye,ke.map(Ke=>_be(Ke,C.loaderData)))||ye.key}function Pt(ye,ke){if(v&&b){let De=Ut(ye,ke);v[De]=b()}}function En(ye,ke){if(v){let De=Ut(ye,ke),Ke=v[De];if(typeof Ke=="number")return Ke}return null}function Qn(ye,ke,De){if(e.patchRoutesOnNavigation)if(ye){if(Object.keys(ye[0].params).length>0)return{active:!0,matches:X1(ke,De,u,!0)}}else return{active:!0,matches:X1(ke,De,u,!0)||[]};return{active:!1,matches:null}}async function lr(ye,ke,De,Ke){if(!e.patchRoutesOnNavigation)return{type:"success",matches:ye};let st=ye;for(;;){let It=c==null,Ft=c||o,Ot=a;try{await e.patchRoutesOnNavigation({signal:De,path:ke,matches:st,fetcherKey:Ke,patch:(Wt,Ht)=>{De.aborted||KL(Wt,Ht,Ft,Ot,s,!1)}})}catch(Wt){return{type:"error",error:Wt,partialMatches:st}}finally{It&&!De.aborted&&(o=[...o])}if(De.aborted)return{type:"aborted"};let Vt=Fd(Ft,ke,u),Xt=null;if(Vt){if(Object.keys(Vt[0].params).length===0)return{type:"success",matches:Vt};if(Xt=X1(Ft,ke,u,!0),!(Xt&&st.length<Xt.length&&Os(st,Xt.slice(0,st.length))))return{type:"success",matches:Vt}}if(Xt||(Xt=X1(Ft,ke,u,!0)),!Xt||Os(st,Xt))return{type:"success",matches:null};st=Xt}}function Os(ye,ke){return ye.length===ke.length&&ye.every((De,Ke)=>De.route.id===ke[Ke].route.id)}function pr(ye){a={},c=Vv(ye,s,void 0,a)}function Ar(ye,ke,De=!1){let Ke=c==null;KL(ye,ke,c||o,a,s,De),Ke&&(o=[...o],he({}))}return T={get basename(){return u},get future(){return f},get state(){return C},get routes(){return o},get window(){return t},initialize:te,subscribe:fe,enableScrollRestoration:Tn,navigate:Pe,fetch:ue,revalidate:Te,createHref:ye=>e.history.createHref(ye),encodeLocation:ye=>e.history.encodeLocation(ye),getFetcher:bt,resetFetcher:Ue,deleteFetcher:At,dispose:ie,getBlocker:gn,deleteBlocker:dn,patchRoutes:Ar,_internalFetchControllers:J,_internalSetRoutes:pr,_internalSetStateDoNotUseOrYouWillBreakYourApp(ye){he(ye)}},e.unstable_instrumentations&&(T=qbe(T,e.unstable_instrumentations.map(ye=>ye.router).filter(Boolean))),T}function iwe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function F6(e,t,n,r,i,s){let a,o;if(i){a=[];for(let u of t)if(a.push(u),u.route.id===i){o=u;break}}else a=t,o=t[t.length-1];let c=zS(r||".",$S(a),Do(e.pathname,n)||e.pathname,s==="path");if(r==null&&(c.search=e.search,c.hash=e.hash),(r==null||r===""||r===".")&&o){let u=nP(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(p=>p).forEach(p=>d.append("index",p));let h=d.toString();c.search=h?`?${h}`:""}}return n!=="/"&&(c.pathname=Fbe({basename:n,pathname:c.pathname})),xc(c)}function WL(e,t,n){if(!n||!iwe(n))return{path:t};if(n.formMethod&&!bwe(n.formMethod))return{path:t,error:vo(405,{method:n.formMethod})};let r=()=>({path:t,error:vo(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=JY(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hs(s))return r();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((h,[p,v])=>`${h}${p}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!Hs(s))return r();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return r()}}}_n(typeof FormData=="function","FormData is not available in this environment");let o,c;if(n.formData)o=B6(n.formData),c=n.formData;else if(n.body instanceof FormData)o=B6(n.body),c=n.body;else if(n.body instanceof URLSearchParams)o=n.body,c=JL(o);else if(n.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(n.body),c=JL(o)}catch{return r()}let u={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Hs(u.formMethod))return{path:t,submission:u};let d=Tf(t);return e&&d.search&&nP(d.search)&&o.append("index",""),d.search=`?${o}`,{path:xc(d),submission:u}}function GL(e,t,n,r,i,s,a,o,c,u,d,f,h,p,v,x,b,w,E,k){var V;let _=k?Oa(k[1])?k[1].error:k[1].data:void 0,A=i.createURL(s.location),T=i.createURL(c),C;if(d&&s.errors){let K=Object.keys(s.errors)[0];C=a.findIndex(W=>W.route.id===K)}else if(k&&Oa(k[1])){let K=k[0];C=a.findIndex(W=>W.route.id===K)-1}let I=k?k[1].statusCode:void 0,B=I&&I>=400,$={currentUrl:A,currentParams:((V=s.matches[0])==null?void 0:V.params)||{},nextUrl:T,nextParams:a[0].params,...o,actionResult:_,actionStatus:I},L=eP(a.map(K=>K.route.path)),U=a.map((K,W)=>{let{route:J}=K,q=null;if(C!=null&&W>C?q=!1:J.lazy?q=!0:tP(J)?d?q=$6(J,s.loaderData,s.errors):swe(s.loaderData,s.matches[W],K)&&(q=!0):q=!1,q!==null)return z6(n,r,e,L,K,u,t,q);let G=B?!1:f||A.pathname+A.search===T.pathname+T.search||A.search!==T.search||awe(s.matches[W],K),j={...$,defaultShouldRevalidate:G},M=N4(K,j);return z6(n,r,e,L,K,u,t,M,j)}),Y=[];return v.forEach((K,W)=>{if(d||!a.some(X=>X.route.id===K.routeId)||p.has(W))return;let J=s.fetchers.get(W),q=J&&J.state!=="idle"&&J.data===void 0,G=Fd(b,K.path,w);if(!G){if(E&&q)return;Y.push({key:W,routeId:K.routeId,path:K.path,matches:null,match:null,request:null,controller:null});return}if(x.has(W))return;let j=U2(G,K.path),M=new AbortController,z=Tm(i,K.path,M.signal),O=null;if(h.has(W))h.delete(W),O=Qm(n,r,z,G,j,u,t);else if(q)f&&(O=Qm(n,r,z,G,j,u,t));else{let X={...$,defaultShouldRevalidate:B?!1:f};N4(j,X)&&(O=Qm(n,r,z,G,j,u,t,X))}O&&Y.push({key:W,routeId:K.routeId,path:K.path,matches:O,match:j,request:z,controller:M})}),{dsMatches:U,revalidatingFetchers:Y}}function tP(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function $6(e,t,n){if(e.lazy)return!0;if(!tP(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function swe(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function awe(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function N4(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function KL(e,t,n,r,i,s){let a;if(e){let u=r[e];_n(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=n;let o=[],c=[];if(t.forEach(u=>{let d=a.find(f=>KY(u,f));d?c.push({existingRoute:d,newRoute:u}):o.push(u)}),o.length>0){let u=Vv(o,i,[e||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...u)}if(s&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:f}=c[u],h=d,[p]=Vv([f],i,[],{},!0);Object.assign(h,{element:p.element?p.element:h.element,errorElement:p.errorElement?p.errorElement:h.errorElement,hydrateFallbackElement:p.hydrateFallbackElement?p.hydrateFallbackElement:h.hydrateFallbackElement})}}function KY(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>KY(n,s))}):!1}var YL=new WeakMap,YY=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(_n(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let a=YL.get(i);a||(a={},YL.set(i,a));let o=a[e];if(o)return o;let c=(async()=>{let u=wbe(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)Kr(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(f)Kr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=await s();h!=null&&(Object.assign(i,{[e]:h}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(h=>h===void 0)&&(i.lazy=void 0))})();return a[e]=c,c},XL=new WeakMap;function owe(e,t,n,r,i){let s=n[e.id];if(_n(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=XL.get(s);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=(async()=>{_n(typeof e.lazy=="function","No lazy route function found");let h=await e.lazy(),p={};for(let v in h){let x=h[v];if(x===void 0)continue;let b=Sbe(v),E=s[v]!==void 0&&v!=="hasErrorBoundary";b?Kr(!b,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?Kr(!E,`Route "${s.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):p[v]=x}Object.assign(s,p),Object.assign(s,{...r(s),lazy:void 0})})();return XL.set(s,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let a=Object.keys(e.lazy),o=[],c;for(let d of a){if(i&&i.includes(d))continue;let f=YY({key:d,route:e,manifest:n,mapRouteProperties:r});f&&(o.push(f),d===t&&(c=f))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function QL(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function lwe(e){return e.matches.some(t=>t.route.middleware)?XY(e,()=>QL(e)):QL(e)}function XY(e,t){return cwe(e,t,r=>r,vwe,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===i),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=$d(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:r}})}}}async function cwe(e,t,n,r,i){let{matches:s,request:a,params:o,context:c,unstable_pattern:u}=e,d=s.flatMap(h=>h.route.middleware?h.route.middleware.map(p=>[h.route.id,p]):[]);return await QY({request:a,params:o,context:c,unstable_pattern:u},d,t,n,r,i)}async function QY(e,t,n,r,i,s,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=t[a];if(!c)return await n();let[u,d]=c,f,h=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await QY(e,t,n,r,i,s,a+1)},f.value}catch(p){return f={value:await s(p,u,f)},f.value}};try{let p=await d(e,h),v=p!=null?r(p):void 0;return i(v)?v:f?v??f.value:(f={value:await h()},f.value)}catch(p){return await s(p,u,f)}}function ZY(e,t,n,r,i){let s=YY({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=owe(r.route,Hs(n.method)?"action":"loader",t,e,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function z6(e,t,n,r,i,s,a,o,c=null){let u=!1,d=ZY(e,t,n,i,s);return{...i,_lazyPromises:d,shouldLoad:o,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(f){return u=!0,c?typeof f=="boolean"?N4(i,{...c,defaultShouldRevalidate:f}):N4(i,c):o},resolve(f){let{lazy:h,loader:p,middleware:v}=i.route,x=u||o||f&&!Hs(n.method)&&(h||p),b=v&&v.length>0&&!p&&!h;return x&&(Hs(n.method)||!b)?dwe({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:f,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Qm(e,t,n,r,i,s,a,o=null){return r.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:ZY(e,t,n,c,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:z6(e,t,n,eP(r.map(u=>u.route.path)),c,s,a,!0,o))}async function uwe(e,t,n,r,i,s){n.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(n.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:t,unstable_pattern:eP(n.map(u=>u.route.path)),params:n[0].params,context:i,matches:n},c=await e({...a,fetcherKey:r,runClientMiddleware:u=>{let d=a;return XY(d,()=>u({...d,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(u=>{var d,f;return[(d=u._lazyPromises)==null?void 0:d.handler,(f=u._lazyPromises)==null?void 0:f.route]}))}catch{}return c}async function dwe({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:a}){let o,c,u=Hs(e.method),d=u?"action":"loader",f=h=>{let p,v=new Promise((w,E)=>p=E);c=()=>p(),e.signal.addEventListener("abort",c);let x=w=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${n.route.id}]`)):h({request:e,unstable_pattern:t,params:n.params,context:a},...w!==void 0?[w]:[]),b=(async()=>{try{return{type:"data",result:await(s?s(E=>x(E)):x())}}catch(w){return{type:"error",result:w}}})();return Promise.race([b,v])};try{let h=u?n.route.action:n.route.loader;if(r||i)if(h){let p,[v]=await Promise.all([f(h).catch(x=>{p=x}),r,i]);if(p!==void 0)throw p;o=v}else{await r;let p=u?n.route.action:n.route.loader;if(p)[o]=await Promise.all([f(p),i]);else if(d==="action"){let v=new URL(e.url),x=v.pathname+v.search;throw vo(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(h)o=await f(h);else{let p=new URL(e.url),v=p.pathname+p.search;throw vo(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{c&&e.signal.removeEventListener("abort",c)}return o}async function fwe(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function hwe(e){var r,i,s,a,o,c;let{result:t,type:n}=e;if(eX(t)){let u;try{u=await fwe(t)}catch(d){return{type:"error",error:d}}return n==="error"?{type:"error",error:new C4(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return n==="error"?rF(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new C4(((s=t.init)==null?void 0:s.status)||500,void 0,t.data),statusCode:qv(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:qv(t)?t.status:void 0}:rF(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function mwe(e,t,n,r,i){let s=e.headers.get("Location");if(_n(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!FS(s)){let a=r.slice(0,r.findIndex(o=>o.route.id===n)+1);s=F6(new URL(t.url),a,i,s),e.headers.set("Location",s)}return e}function ZL(e,t,n){if(FS(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Do(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Tm(e,t,n,r){let i=e.createURL(JY(t)).toString(),s={signal:n};if(r&&Hs(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=B6(r.formData):s.body=r.formData}return new Request(i,s)}function B6(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function JL(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function pwe(e,t,n,r=!1,i=!1){let s={},a=null,o,c=!1,u={},d=n&&Oa(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(_n(!gh(p),"Cannot handle redirect results in processLoaderData"),Oa(p)){let v=p.error;if(d!==void 0&&(v=d,d=void 0),a=a||{},i)a[h]=v;else{let x=$d(e,h);a[x.route.id]==null&&(a[x.route.id]=v)}r||(s[h]=GY),c||(c=!0,o=qv(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else s[h]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(o=p.statusCode),p.headers&&(u[h]=p.headers)}),d!==void 0&&n&&(a={[n[0]]:d},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function eF(e,t,n,r,i,s){let{loaderData:a,errors:o}=pwe(t,n,r);return i.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:f}=c;if(f&&f.signal.aborted)return;let h=s[u];if(_n(h,"Did not find corresponding fetcher result"),Oa(h)){let p=$d(e.matches,d==null?void 0:d.route.id);o&&o[p.route.id]||(o={...o,[p.route.id]:h.error}),e.fetchers.delete(u)}else if(gh(h))_n(!1,"Unhandled fetcher revalidation redirect");else{let p=eu(h.data);e.fetchers.set(u,p)}}),{loaderData:a,errors:o}}function tF(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==GY).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of n){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function nF(e){return e?Oa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function $d(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Cw(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function vo(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?o=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?o=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new C4(e||500,a,new Error(o),!0)}function Nw(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(gh(i))return{key:r,result:i}}}function JY(e){let t=typeof e=="string"?Tf(e):e;return xc({...t,hash:""})}function gwe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function vwe(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&ywe(n))}function ywe(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function xwe(e){return eX(e.result)&&Jbe.has(e.result.status)}function Oa(e){return e.type==="error"}function gh(e){return(e&&e.type)==="redirect"}function rF(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function eX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function bwe(e){return Zbe.has(e.toUpperCase())}function Hs(e){return Xbe.has(e.toUpperCase())}function nP(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function U2(e,t){let n=typeof t=="string"?Tf(t).search:t.search;if(e[e.length-1].route.index&&nP(n||""))return e[e.length-1];let r=HY(e);return r[r.length-1]}function iF(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function rN(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wwe(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function w1(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ewe(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function eu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Swe(e,t){try{let n=e.sessionStorage.getItem(WY);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function kwe(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(WY,JSON.stringify(n))}catch(r){Kr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function _we(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var C0=y.createContext(null);C0.displayName="DataRouter";var Qy=y.createContext(null);Qy.displayName="DataRouterState";y.createContext(!1);var rP=y.createContext({isTransitioning:!1});rP.displayName="ViewTransition";var tX=y.createContext(new Map);tX.displayName="Fetchers";var Cwe=y.createContext(null);Cwe.displayName="Await";var Rl=y.createContext(null);Rl.displayName="Navigation";var BS=y.createContext(null);BS.displayName="Location";var Bo=y.createContext({outlet:null,matches:[],isDataRoute:!1});Bo.displayName="Route";var iP=y.createContext(null);iP.displayName="RouteError";function Nwe(e,{relative:t}={}){_n(lg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Rl),{hash:i,pathname:s,search:a}=Zy(e,{relative:t}),o=s;return n!=="/"&&(o=s==="/"?n:hc([n,s])),r.createHref({pathname:o,search:a,hash:i})}function lg(){return y.useContext(BS)!=null}function Ea(){return _n(lg(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(BS).location}var nX="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rX(e){y.useContext(Rl).static||y.useLayoutEffect(e)}function di(){let{isDataRoute:e}=y.useContext(Bo);return e?Uwe():Twe()}function Twe(){_n(lg(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(C0),{basename:t,navigator:n}=y.useContext(Rl),{matches:r}=y.useContext(Bo),{pathname:i}=Ea(),s=JSON.stringify($S(r)),a=y.useRef(!1);return rX(()=>{a.current=!0}),y.useCallback((c,u={})=>{if(Kr(a.current,nX),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=zS(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:hc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}var Awe=y.createContext(null);function jwe(e){let t=y.useContext(Bo).outlet;return y.useMemo(()=>t&&y.createElement(Awe.Provider,{value:e},t),[t,e])}function cg(){let{matches:e}=y.useContext(Bo),t=e[e.length-1];return t?t.params:{}}function Zy(e,{relative:t}={}){let{matches:n}=y.useContext(Bo),{pathname:r}=Ea(),i=JSON.stringify($S(n));return y.useMemo(()=>zS(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Pwe(e,t,n,r,i){_n(lg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Rl),{matches:a}=y.useContext(Bo),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";iX(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let h=Ea(),p;p=h;let v=p.pathname||"/",x=v;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=Fd(e,{pathname:x});return Kr(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Kr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Dwe(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:hc([d,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:hc([d,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),a,n,r,i)}function Iwe(){let e=Bwe(),t=qv(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,a)}var Rwe=y.createElement(Iwe,null),Mwe=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Bo.Provider,{value:this.props.routeContext},y.createElement(iP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Owe({routeContext:e,match:t,children:n}){let r=y.useContext(C0);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Bo.Provider,{value:e},n)}function Dwe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);_n(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=n&&r?(d,f)=>{var h,p;r(d,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:f})}:void 0;return s.reduceRight((d,f,h)=>{let p,v=!1,x=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Rwe,o&&(c<0&&h===0?(iX("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):c===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,h+1)),E=()=>{let k;return p?k=x:v?k=b:f.route.Component?k=y.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,y.createElement(Owe,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(Mwe,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):E()},null)}function sP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lwe(e){let t=y.useContext(C0);return _n(t,sP(e)),t}function Fwe(e){let t=y.useContext(Qy);return _n(t,sP(e)),t}function $we(e){let t=y.useContext(Bo);return _n(t,sP(e)),t}function aP(e){let t=$we(e),n=t.matches[t.matches.length-1];return _n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zwe(){return aP("useRouteId")}function Bwe(){var r;let e=y.useContext(iP),t=Fwe("useRouteError"),n=aP("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Uwe(){let{router:e}=Lwe("useNavigate"),t=aP("useNavigate"),n=y.useRef(!1);return rX(()=>{n.current=!0}),y.useCallback(async(i,s={})=>{Kr(n.current,nX),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var sF={};function iX(e,t,n){!t&&!sF[e]&&(sF[e]=!0,Kr(!1,n))}var aF={};function oF(e,t){!e&&!aF[t]&&(aF[t]=!0,console.warn(t))}function Hwe(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Kr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:y.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Kr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Kr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Vwe=["HydrateFallback","hydrateFallbackElement"],qwe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Wwe({router:e,flushSync:t,unstable_onError:n}){let[r,i]=y.useState(e.state),[s,a]=y.useState(),[o,c]=y.useState({isTransitioning:!1}),[u,d]=y.useState(),[f,h]=y.useState(),[p,v]=y.useState(),x=y.useRef(new Map),b=y.useCallback(A=>{i(T=>(A.errors&&n&&Object.entries(A.errors).forEach(([C,I])=>{var B,$;((B=T.errors)==null?void 0:B[C])!==I&&n(I,{location:A.location,params:(($=A.matches[0])==null?void 0:$.params)??{}})}),A))},[n]),w=y.useCallback((A,{deletedFetchers:T,flushSync:C,viewTransitionOpts:I})=>{A.fetchers.forEach(($,L)=>{$.data!==void 0&&x.current.set(L,$.data)}),T.forEach($=>x.current.delete($)),oF(C===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(oF(I==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!B){t&&C?t(()=>b(A)):y.startTransition(()=>b(A));return}if(t&&C){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>b(A))});$.finished.finally(()=>{t(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})})}),t(()=>h($));return}f?(u&&u.resolve(),f.skipTransition(),v({state:A,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(A),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[e.window,t,f,u,b]);y.useLayoutEffect(()=>e.subscribe(w),[e,w]),y.useEffect(()=>{o.isTransitioning&&!o.flushSync&&d(new qwe)},[o]),y.useEffect(()=>{if(u&&s&&e.window){let A=s,T=u.promise,C=e.window.document.startViewTransition(async()=>{y.startTransition(()=>b(A)),await T});C.finished.finally(()=>{d(void 0),h(void 0),a(void 0),c({isTransitioning:!1})}),h(C)}},[s,u,e.window,b]),y.useEffect(()=>{u&&s&&r.location.key===s.location.key&&u.resolve()},[u,f,r.location,s]),y.useEffect(()=>{!o.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),v(void 0))},[o.isTransitioning,p]);let E=y.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:A=>e.navigate(A),push:(A,T,C)=>e.navigate(A,{state:T,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(A,T,C)=>e.navigate(A,{replace:!0,state:T,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[e]),k=e.basename||"/",_=y.useMemo(()=>({router:e,navigator:E,static:!1,basename:k,unstable_onError:n}),[e,E,k,n]);return y.createElement(y.Fragment,null,y.createElement(C0.Provider,{value:_},y.createElement(Qy.Provider,{value:r},y.createElement(tX.Provider,{value:x.current},y.createElement(rP.Provider,{value:o},y.createElement(Xwe,{basename:k,location:r.location,navigationType:r.historyAction,navigator:E},y.createElement(Gwe,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var Gwe=y.memo(Kwe);function Kwe({routes:e,future:t,state:n,unstable_onError:r}){return Pwe(e,void 0,n,r,t)}function Zm({to:e,replace:t,state:n,relative:r}){_n(lg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=y.useContext(Rl);Kr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Bo),{pathname:a}=Ea(),o=di(),c=zS(e,$S(s),a,r==="path"),u=JSON.stringify(c);return y.useEffect(()=>{o(JSON.parse(u),{replace:t,state:n,relative:r})},[o,u,r,t,n]),null}function Ywe(e){return jwe(e.context)}function Xwe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){_n(!lg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Tf(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,p=y.useMemo(()=>{let v=Do(c,a);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:r}},[a,c,u,d,f,h,r]);return Kr(p!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(Rl.Provider,{value:o},y.createElement(BS.Provider,{children:t,value:p}))}var H2="get",V2="application/x-www-form-urlencoded";function US(e){return e!=null&&typeof e.tagName=="string"}function Qwe(e){return US(e)&&e.tagName.toLowerCase()==="button"}function Zwe(e){return US(e)&&e.tagName.toLowerCase()==="form"}function Jwe(e){return US(e)&&e.tagName.toLowerCase()==="input"}function e2e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t2e(e,t){return e.button===0&&(!t||t==="_self")&&!e2e(e)}function U6(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function n2e(e,t){let n=U6(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Tw=null;function r2e(){if(Tw===null)try{new FormData(document.createElement("form"),0),Tw=!1}catch{Tw=!0}return Tw}var i2e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iN(e){return e!=null&&!i2e.has(e)?(Kr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${V2}"`),null):e}function s2e(e,t){let n,r,i,s,a;if(Zwe(e)){let o=e.getAttribute("action");r=o?Do(o,t):null,n=e.getAttribute("method")||H2,i=iN(e.getAttribute("enctype"))||V2,s=new FormData(e)}else if(Qwe(e)||Jwe(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(r=c?Do(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||H2,i=iN(e.getAttribute("formenctype"))||iN(o.getAttribute("enctype"))||V2,s=new FormData(o,e),!r2e()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(US(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=H2,r=null,i=V2,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oP(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function a2e(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Do(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function o2e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l2e(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function c2e(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await o2e(s,n);return a.links?a.links():[]}return[]}));return h2e(r.flat(1).filter(l2e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lF(e,t,n,r,i,s){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,o=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>a(c,u)||o(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function u2e(e,t,{includeHydrateFallback:n}={}){return d2e(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function d2e(e){return[...new Set(e)]}function f2e(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function h2e(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(f2e(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function sX(){let e=y.useContext(C0);return oP(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function m2e(){let e=y.useContext(Qy);return oP(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lP=y.createContext(void 0);lP.displayName="FrameworkContext";function aX(){let e=y.useContext(lP);return oP(e,"You must render this element inside a <HydratedRouter> element"),e}function p2e(e,t){let n=y.useContext(lP),[r,i]=y.useState(!1),[s,a]=y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=w=>{w.forEach(E=>{a(E.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),y.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,h,{}]:[s,h,{onFocus:E1(o,p),onBlur:E1(c,v),onMouseEnter:E1(u,p),onMouseLeave:E1(d,v),onTouchStart:E1(f,p)}]:[!1,h,{}]}function E1(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function g2e({page:e,...t}){let{router:n}=sX(),r=y.useMemo(()=>Fd(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?y.createElement(y2e,{page:e,matches:r,...t}):null}function v2e(e){let{manifest:t,routeModules:n}=aX(),[r,i]=y.useState([]);return y.useEffect(()=>{let s=!1;return c2e(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function y2e({page:e,matches:t,...n}){let r=Ea(),{manifest:i,routeModules:s}=aX(),{basename:a}=sX(),{loaderData:o,matches:c}=m2e(),u=y.useMemo(()=>lF(e,t,c,i,r,"data"),[e,t,c,i,r]),d=y.useMemo(()=>lF(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(t.forEach(w=>{var k;let E=i.routes[w.route.id];!E||!E.hasLoader||(!u.some(_=>_.route.id===w.route.id)&&w.route.id in o&&((k=s[w.route.id])!=null&&k.shouldRevalidate)||E.hasClientLoader?x=!0:v.add(w.route.id))}),v.size===0)return[];let b=a2e(e,a,"data");return x&&v.size>0&&b.searchParams.set("_routes",t.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[a,o,r,i,u,t,e,s]),h=y.useMemo(()=>u2e(d,i),[d,i]),p=v2e(d);return y.createElement(y.Fragment,null,f.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:x})=>y.createElement("link",{key:v,nonce:n.nonce,...x})))}function x2e(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var oX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oX&&(window.__reactRouterVersion="7.9.6")}catch{}function b2e(e,t){return rwe({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:vbe({window:t==null?void 0:t.window}),hydrationData:w2e(),routes:e,mapRouteProperties:Hwe,hydrationRouteProperties:Vwe,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function w2e(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:E2e(e.errors)}),e}function E2e(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new C4(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var lX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ug=y.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},p){let{basename:v}=y.useContext(Rl),x=typeof u=="string"&&lX.test(u),b,w=!1;if(typeof u=="string"&&x&&(b=u,oX))try{let B=new URL(window.location.href),$=u.startsWith("//")?new URL(B.protocol+u):new URL(u),L=Do($.pathname,v);$.origin===B.origin&&L!=null?u=L+$.search+$.hash:w=!0}catch{Kr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Nwe(u,{relative:i}),[k,_,A]=p2e(r,h),T=C2e(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function C(B){t&&t(B),B.defaultPrevented||T(B)}let I=y.createElement("a",{...h,...A,href:b||E,onClick:w||s?t:C,ref:x2e(p,_),target:c,"data-discover":!x&&n==="render"?"true":void 0});return k&&!x?y.createElement(y.Fragment,null,I,y.createElement(g2e,{page:E})):I});ug.displayName="Link";var S2e=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:c,...u},d){let f=Zy(a,{relative:u.relative}),h=Ea(),p=y.useContext(Qy),{navigator:v,basename:x}=y.useContext(Rl),b=p!=null&&P2e(f)&&o===!0,w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,E=h.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&x&&(k=Do(k,x)||k);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=E===w||!i&&E.startsWith(w)&&E.charAt(_)==="/",T=k!=null&&(k===w||!i&&k.startsWith(w)&&k.charAt(w.length)==="/"),C={isActive:A,isPending:T,isTransitioning:b},I=A?t:void 0,B;typeof r=="function"?B=r(C):B=[r,A?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(C):s;return y.createElement(ug,{...u,"aria-current":I,className:B,ref:d,style:$,to:a,viewTransition:o},typeof c=="function"?c(C):c)});S2e.displayName="NavLink";var k2e=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=H2,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},p)=>{let v=A2e(),x=j2e(o,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&lX.test(o),E=k=>{if(c&&c(k),k.defaultPrevented)return;k.preventDefault();let _=k.nativeEvent.submitter,A=(_==null?void 0:_.getAttribute("formmethod"))||a;v(_||k.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return y.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:E,...h,"data-discover":!w&&e==="render"?"true":void 0})});k2e.displayName="Form";function _2e(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cX(e){let t=y.useContext(C0);return _n(t,_2e(e)),t}function C2e(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=di(),c=Ea(),u=Zy(e,{relative:s});return y.useCallback(d=>{if(t2e(d,t)){d.preventDefault();let f=n!==void 0?n:xc(c)===xc(u);o(e,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[c,o,u,n,r,t,e,i,s,a])}function HS(e){Kr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(U6(e)),n=y.useRef(!1),r=Ea(),i=y.useMemo(()=>n2e(r.search,n.current?null:t.current),[r.search]),s=di(),a=y.useCallback((o,c)=>{const u=U6(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}var N2e=0,T2e=()=>`__${String(++N2e)}__`;function A2e(){let{router:e}=cX("useSubmit"),{basename:t}=y.useContext(Rl),n=zwe();return y.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:c,body:u}=s2e(r,t);if(i.navigate===!1){let d=i.fetcherKey||T2e();await e.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function j2e(e,{relative:t}={}){let{basename:n}=y.useContext(Rl),r=y.useContext(Bo);_n(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Zy(e||".",{relative:t})},a=Ea();if(e==null){s.search=a.search;let o=new URLSearchParams(s.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:hc([n,s.pathname])),xc(s)}function P2e(e,{relative:t}={}){let n=y.useContext(rP);_n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cX("useViewTransitionState"),i=Zy(e,{relative:t});if(!n.isTransitioning)return!1;let s=Do(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Do(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _4(i.pathname,a)!=null||_4(i.pathname,s)!=null}function I2e(e){return y.createElement(Wwe,{flushSync:E0.flushSync,...e})}const R2e={success:{icon:Gy,containerClass:"bg-card border border-green-500",iconClass:"text-green-600 dark:text-green-400",titleClass:"text-card-foreground",descClass:"text-muted-foreground",buttonClass:"bg-green-50 text-green-600 hover:bg-green-100 dark:bg-green-900/30 dark:text-green-400"},error:{icon:Fh,containerClass:"bg-card border border-destructive",iconClass:"text-destructive",titleClass:"text-card-foreground",descClass:"text-muted-foreground",buttonClass:"bg-destructive/10 text-destructive hover:bg-destructive/20"},warning:{icon:Nf,containerClass:"bg-card border border-yellow-500",iconClass:"text-yellow-600 dark:text-yellow-400",titleClass:"text-card-foreground",descClass:"text-muted-foreground",buttonClass:"bg-yellow-50 text-yellow-600 hover:bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400"},info:{icon:PS,containerClass:"bg-card border border-blue-500",iconClass:"text-blue-600 dark:text-blue-400",titleClass:"text-card-foreground",descClass:"text-muted-foreground",buttonClass:"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400"}};function Aw(e){const{title:t,description:n,action:r,variant:i,id:s}=e,a=R2e[i],o=a.icon;return l.jsxs("div",{className:we("flex rounded-lg shadow-lg ring-1 ring-black/5 w-full md:max-w-[364px] items-center p-4 gap-3",a.containerClass),children:[l.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[l.jsx(o,{className:we("h-5 w-5 flex-shrink-0",a.iconClass)}),l.jsxs("div",{className:"w-full min-w-0",children:[l.jsx("p",{className:we("text-sm font-medium",a.titleClass),children:t}),n&&l.jsx("p",{className:we("mt-1 text-sm",a.descClass),children:n})]})]}),r&&l.jsx("div",{className:"ml-5 shrink-0",children:l.jsx("button",{className:we("rounded px-3 py-1 text-sm font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",a.buttonClass),onClick:()=>{r.onClick(),tf.dismiss(s)},children:r.label})}),l.jsx("button",{className:"ml-auto shrink-0 rounded-sm opacity-70 hover:opacity-100 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2",onClick:()=>tf.dismiss(s),"aria-label":"Close notification",children:l.jsx(li,{className:"h-4 w-4"})})]})}const mt={success:e=>tf.custom(t=>l.jsx(Aw,{id:t,variant:"success",...e})),error:e=>tf.custom(t=>l.jsx(Aw,{id:t,variant:"error",...e})),warning:e=>tf.custom(t=>l.jsx(Aw,{id:t,variant:"warning",...e})),info:e=>tf.custom(t=>l.jsx(Aw,{id:t,variant:"info",...e}))},Ys={all:["files"],lists:()=>[...Ys.all,"list"],list:e=>[...Ys.lists(),e]};function uX(e={}){const{limit:t=50,offset:n=0,sortBy:r="created_at",sortOrder:i="desc",search:s,status:a,source:o}=e;return Uu({queryKey:Ys.list({limit:t,offset:n,sortBy:r,sortOrder:i,search:s,status:a,source:o}),queryFn:async()=>{const c=await k0.listDocuments(t,n,r,i,s,a,o);return{documents:c.documents.map(d=>({id:d.id,filename:d.file_name,size:d.file_size,type:d.mime_type,status:d.status,content_type:d.content_type,source:d.source,metadata:d.metadata,created_at:new Date(d.created_at),updated_at:d.updated_at?new Date(d.updated_at):void 0})),total:c.total,limit:c.limit,offset:c.offset}},staleTime:1e3*30})}function VS(){const e=ir();return Lr({mutationFn:async t=>{const n=await k0.uploadFile(t);return{document:{id:n.document.id,filename:n.document.filename,size:n.document.size,type:n.document.type,status:n.document.status,source:n.document.source,created_at:new Date(n.document.created_at)}}},onSuccess:t=>{e.setQueriesData({queryKey:Ys.lists()},n=>n&&{...n,documents:[t.document,...n.documents],total:n.total+1})}})}function M2e(){return Lr({mutationFn:async({documentId:e,filename:t})=>{const n=await k0.downloadFile(e),r=await n.blob(),i=URL.createObjectURL(r),s=document.createElement("a");return s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),n}})}function O2e(){const e=ir();return Lr({mutationFn:async t=>await k0.deleteDocument(t),onMutate:async t=>{await e.cancelQueries({queryKey:Ys.lists()});const n=e.getQueriesData({queryKey:Ys.lists()});return e.setQueriesData({queryKey:Ys.lists()},r=>r&&{...r,documents:r.documents.filter(i=>i.id!==t),total:Math.max(0,r.total-1)}),{previousQueries:n}},onError:(t,n,r)=>{r!=null&&r.previousQueries&&r.previousQueries.forEach(([i,s])=>{e.setQueryData(i,s)})}})}function D2e(){const e=ir();return Lr({mutationFn:async t=>await k0.reprocessDocument(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"})}})}const Ro={all:["members"],lists:()=>[...Ro.all,"list"],list:e=>[...Ro.lists(),e],detail:e=>[...Ro.all,"detail",e]};function L2e(e={}){return Uu({queryKey:Ro.list(e),queryFn:()=>ig.listMembers(e),staleTime:3e4})}function F2e(){const e=ir();return Lr({mutationFn:({userId:t,role:n})=>ig.updateMemberRole(t,n),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:Ro.lists()}),e.invalidateQueries({queryKey:Ro.detail(n.userId)})},onError:t=>{const n=t.message||"Failed to update member role";mt.error({title:"Failed to update role",description:n})}})}function $2e(){const e=ir();return Lr({mutationFn:({userId:t,isActive:n})=>ig.updateMemberStatus(t,n),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:Ro.lists()}),e.invalidateQueries({queryKey:Ro.detail(n.userId)})},onError:t=>{const n=t.message||"Failed to update member status";mt.error({title:"Failed to update status",description:n})}})}function z2e(){const e=ir();return Lr({mutationFn:({userId:t,reason:n})=>ig.deleteMemberPermanent(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:Ro.lists()}),mt.success({title:"Member deleted",description:"Member has been permanently deleted from the system"})},onError:t=>{const n=t.message||"Failed to delete member";mt.error({title:"Failed to delete member",description:n})}})}function B2e(){const e=Yy(t=>t.logout);return Lr({mutationFn:({reason:t})=>ig.deleteOwnAccount(t),onSuccess:()=>{mt.success({title:"Account deleted",description:"Your account has been permanently deleted. Logging out..."}),setTimeout(async()=>{const t=`${window.location.origin}/login?accountDeleted=true`;await e(t)},2e3)},onError:t=>{const n=t.message||"Failed to delete account";mt.error({title:"Failed to delete account",description:n})}})}const Gr={all:["dataSources"],lists:()=>[...Gr.all,"list"],list:()=>[...Gr.lists()],details:()=>[...Gr.all,"detail"],detail:e=>[...Gr.details(),e]};function qS(){return Uu({queryKey:Gr.list(),queryFn:async()=>(await Vu.list()).data,staleTime:3e4})}function U2e(e){return Uu({queryKey:Gr.detail(e),queryFn:async()=>(await Vu.get(e)).data,enabled:!!e,staleTime:3e4})}function dX(){const e=ir();return Lr({mutationFn:Vu.seed,onSuccess:()=>{e.invalidateQueries({queryKey:Gr.list()})}})}function dg(){const e=ir();return Lr({mutationFn:({id:t,data:n})=>Vu.update(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:Gr.list()}),e.invalidateQueries({queryKey:Gr.detail(t.data.id)})}})}function cP(){const e=ir();return Lr({mutationFn:({id:t,payload:n})=>Vu.verify(t,n),onMutate:async({id:t})=>{await e.cancelQueries({queryKey:Gr.detail(t)});const n=e.getQueryData(Gr.detail(t));return e.setQueryData(Gr.detail(t),r=>r&&{...r,status:"verifying"}),{previousData:n}},onError:(t,{id:n},r)=>{r!=null&&r.previousData&&e.setQueryData(Gr.detail(n),r.previousData)}})}function fX(){const e=ir();return Lr({mutationFn:t=>Vu.sync(t),onSuccess:t=>{e.invalidateQueries({queryKey:Gr.detail(t.data.id)}),e.invalidateQueries({queryKey:Gr.list()})}})}function uP(){const e=ir();return Lr({mutationFn:t=>Vu.cancelSync(t),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:Gr.detail(n)}),e.invalidateQueries({queryKey:Gr.list()})}})}function H2e(){const e=ir();return Lr({mutationFn:({id:t,timeRangeDays:n})=>Vu.syncTickets(t,{time_range_days:n}),onSuccess:(t,{id:n})=>{e.invalidateQueries({queryKey:Gr.detail(n)}),e.invalidateQueries({queryKey:Gr.list()})}})}class V2e{constructor(t){Oe(this,"url");Oe(this,"eventSource",null);Oe(this,"listeners",new Map);this.url=t.url}connect(){return new Promise((t,n)=>{try{this.eventSource&&this.eventSource.close(),this.eventSource=new EventSource(this.url,{withCredentials:!0}),this.eventSource.onopen=()=>{this.emit("open",{}),t()},this.eventSource.onmessage=r=>{try{const i=JSON.parse(r.data);this.emit("message",i)}catch(i){console.error("Failed to parse EventSource data:",i)}},this.eventSource.onerror=r=>{var i;console.error("EventSource connection error:",r),this.emit("error",r),((i=this.eventSource)==null?void 0:i.readyState)===EventSource.CONNECTING&&n(new Error("Failed to establish EventSource connection"))}}catch(r){n(r)}})}disconnect(){this.eventSource&&(this.eventSource.close(),this.eventSource=null),this.emit("close",{})}reconnect(){this.disconnect(),setTimeout(()=>this.connect(),100)}isConnected(){return this.eventSource!==null&&this.eventSource.readyState===EventSource.OPEN}on(t,n){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(n)}off(t,n){const r=this.listeners.get(t);if(r){const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,n){const r=this.listeners.get(t);r&&r.forEach(i=>{try{i(n)}catch(s){console.error(`Error in ${t} listener:`,s)}})}}const q2e=({url:e,onMessage:t,onError:n,onOpen:r,onClose:i,reconnectInterval:s=3e3,maxReconnectAttempts:a=10,enabled:o=!0})=>{const c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=y.useState(0),p=y.useCallback(async()=>{if(o)try{c.current||(c.current=new V2e({url:e}),c.current.on("open",()=>{d(!0),h(0),r==null||r()}),c.current.on("message",b=>{t==null||t(b)}),c.current.on("error",b=>{d(!1),n==null||n(b)}),c.current.on("close",()=>{d(!1),i==null||i()})),await c.current.connect()}catch(b){console.error("Failed to connect to SSE:",b),n==null||n(b)}},[e,o,t,n,r,i]),v=y.useCallback(()=>{c.current&&(c.current.disconnect(),c.current=null),d(!1)},[]),x=y.useCallback(()=>{c.current?c.current.reconnect():p()},[p]);return y.useEffect(()=>(o?p():v(),()=>{v()}),[o,p,v]),{connect:p,disconnect:v,reconnect:x,isConnected:u}};function cF(e){var t;return!!((t=e.metadata)!=null&&t.reasoning)}function uF(e){var r,i,s;if(e.length===0)return e;const t=[];let n=0;for(;n<e.length;){const a=e[n];if(!cF(a)){t.push(a),n++;continue}const o=[a];let c=n+1;for(;c<e.length&&cF(e[c]);)o.push(e[c]),c++;const u=o.map(v=>v.metadata.reasoning.content).join(`

`),d=o[o.length-1],f=d.metadata.reasoning,p=d.message&&d.message.trim().length>0||((r=d.metadata)==null?void 0:r.sources)||((i=d.metadata)==null?void 0:i.tasks)||((s=d.metadata)==null?void 0:s.files)?d:o[0];t.push({id:p.id,message:p.message,metadata:{...p.metadata,reasoning:{content:u,title:f.title,duration:f.duration,streaming:f.streaming}}}),n=c}return t}function jw(e){if(e.length===0)return[];const t=[],n=new Map;for(const s of e)s.response_group_id&&(n.has(s.response_group_id)||n.set(s.response_group_id,[]),n.get(s.response_group_id).push(s));const r=new Set;let i=0;for(;i<e.length;){const s=e[i];if(s.response_group_id){if(!r.has(s.response_group_id)){r.add(s.response_group_id);const o=n.get(s.response_group_id).sort((d,f)=>new Date(d.timestamp).getTime()-new Date(f.timestamp).getTime()),c=o.map(d=>({id:d.id,message:d.message,metadata:d.metadata})),u=uF(c);t.push({id:s.response_group_id,role:o[0].role,isGroup:!0,parts:u,timestamp:o[0].timestamp})}i++}else{const a=[];for(;i<e.length&&!e[i].response_group_id;)a.push(e[i]),i++;const o=a.map(u=>({id:u.id,message:u.message,metadata:u.metadata})),c=uF(o);for(const u of c){const d=a.find(h=>h.id===u.id);u.metadata&&(u.metadata.reasoning||u.metadata.sources||u.metadata.tasks||u.metadata.files)?t.push({id:u.id,role:d.role,isGroup:!0,parts:[u],timestamp:d.timestamp}):t.push({id:u.id,role:d.role,message:u.message,metadata:u.metadata,isGroup:!1,timestamp:d.timestamp})}}}return t}const Is=Yj()(ixe(e=>({currentConversationId:null,conversations:[],messages:[],chatMessages:[],isLoading:!1,isSending:!1,hasMoreMessages:!1,isLoadingMore:!1,setCurrentConversation:t=>e({currentConversationId:t,messages:[],chatMessages:[],hasMoreMessages:!1}),setConversations:t=>e({conversations:t}),addConversation:t=>e(n=>({conversations:[t,...n.conversations]})),setMessages:t=>{const n=jw(t);e({messages:t,chatMessages:n})},addMessage:t=>e(n=>{const r=[...n.messages,t];return{messages:r,chatMessages:jw(r)}}),updateMessage:(t,n)=>e(r=>{const i=r.messages.map(s=>s.id===t?{...s,...n}:s);return{messages:i,chatMessages:jw(i)}}),setLoading:t=>e({isLoading:t}),setSending:t=>e({isSending:t}),setHasMoreMessages:t=>e({hasMoreMessages:t}),setLoadingMore:t=>e({isLoadingMore:t}),clearCurrentConversation:()=>e({currentConversationId:null,messages:[],chatMessages:[],hasMoreMessages:!1,isLoadingMore:!1}),reset:()=>e({currentConversationId:null,conversations:[],messages:[],chatMessages:[],isLoading:!1,isSending:!1,hasMoreMessages:!1,isLoadingMore:!1}),recomputeChatMessages:()=>{e(t=>({chatMessages:jw(t.messages)}))}}),{name:"conversation-store"})),hX=y.createContext(null),mX=({children:e,apiUrl:t,enabled:n=!0})=>{const[r,i]=y.useState([]),[s,a]=y.useState(null),o=di(),c=ir(),u=y.useCallback(_=>{var A,T,C;if(_.type==="message_update"){const I={messageId:_.data.messageId,status:_.data.status,responseContent:_.data.responseContent,errorMessage:_.data.errorMessage,timestamp:new Date};a(I),i(B=>[I,...B].slice(0,100))}else if(_.type==="new_message"){const{addMessage:I,currentConversationId:B}=Is.getState();if(!_.data.conversationId){console.warn("[SSE] Received new_message event without conversationId",{messageId:_.data.messageId});return}if(_.data.conversationId!==B){console.log("[SSE] Ignoring message from different conversation",{messageConversation:_.data.conversationId,currentConversation:B,messageId:_.data.messageId});return}const $={id:_.data.messageId,role:_.data.role||"assistant",message:_.data.message||"",metadata:_.data.metadata,response_group_id:_.data.response_group_id,timestamp:new Date(_.data.createdAt),conversation_id:_.data.conversationId,status:"completed"};I($)}else if(_.type==="data_source_update"){const I=_.data.last_verification_at?"verification":_.data.last_sync_status?"sync":"unknown";if(c.invalidateQueries({queryKey:Gr.list()}),c.invalidateQueries({queryKey:Gr.detail(_.data.connection_id)}),I==="verification"&&_.data.last_verification_error){const B=_.data.connection_type||"Data source";mt.error({title:`${B} verification failed`,description:_.data.last_verification_error||"Failed to verify connection",action:{label:"View",onClick:()=>o("/settings/connections")}})}if(I==="sync"&&_.data.last_sync_status){const B=_.data.connection_type||"Data source",$=_.data.last_sync_status;$==="completed"?mt.success({title:`${B} sync complete`,action:{label:"View",onClick:()=>o("/settings/connections")}}):$==="failed"&&mt.error({title:`${B} sync failed`,description:_.data.last_sync_error||"An error occurred",action:{label:"View",onClick:()=>o("/settings/connections")}})}}else if(_.type==="document_update"){const I="rita-processing-files",B=sessionStorage.getItem(I),$=!!B;c.setQueriesData({queryKey:Ys.lists()},L=>L&&{...L,documents:L.documents.map(U=>U.filename===_.data.filename?{...U,status:_.data.status}:U)}),$||c.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"});try{if(B){const L=JSON.parse(B),U=_.data.status;U==="processed"?L.processed=(L.processed||0)+1:U==="failed"&&(L.failed=(L.failed||0)+1),sessionStorage.setItem(I,JSON.stringify(L));const Y=L.total||0;if(Y>0&&L.processed+L.failed>=Y&&!L.uploading){const K=L.processed||0,W=L.failed||0,J=L.duplicates||0;c.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"});const q=J>0?`, ${J} duplicate${J>1?"s":""} skipped`:"";K>0&&W===0&&J===0?mt.success({title:"Processing Complete",description:K===1?"File processed successfully":"All files processed successfully"}):K>0&&W===0&&J>0?mt.success({title:"Processing Complete",description:`${K} file${K>1?"s":""} processed${q}`}):K===0&&W>0?mt.error({title:"Processing Failed",description:W===1?`File failed to process${q}`:`All files failed to process${q}`}):K>0&&W>0&&mt.warning({title:"Processing Partially Complete",description:`${K} successful, ${W} failed${q}`}),sessionStorage.removeItem(I)}}}catch(L){console.error("[SSE] Error processing document_update:",L)}}else if(_.type==="organization_update")c.invalidateQueries({queryKey:bo.detail()}),_.data.updateType==="name"?mt.success({title:"Organization name updated"}):_.data.updateType==="role"?mt.info({title:"Your role has been updated",description:"Your permissions may have changed"}):_.data.updateType==="settings"&&mt.success({title:"Organization settings updated"});else if(_.type==="member_role_updated"){c.invalidateQueries({queryKey:Ro.lists()});const I=c.getQueryData(bo.detail());((A=I==null?void 0:I.user)==null?void 0:A.id)===_.data.userId?(c.invalidateQueries({queryKey:bo.detail()}),mt.info({title:"Your role has been updated",description:`You are now ${_.data.newRole}`})):mt.success({title:"Member role updated",description:`${_.data.userEmail} is now ${_.data.newRole}`})}else if(_.type==="member_status_updated"){c.invalidateQueries({queryKey:Ro.lists()});const I=c.getQueryData(bo.detail());if(((T=I==null?void 0:I.user)==null?void 0:T.id)===_.data.userId)c.invalidateQueries({queryKey:bo.detail()}),_.data.isActive?mt.success({title:"Your account has been activated"}):(mt.error({title:"Your account has been deactivated",description:"Contact your organization administrator"}),setTimeout(()=>{window.location.href="/logout"},2e3));else{const B=_.data.isActive?"activated":"deactivated";mt.info({title:`Member ${B}`,description:`${_.data.userEmail} has been ${B}`})}}else if(_.type==="member_removed"){c.invalidateQueries({queryKey:Ro.lists()});const I=c.getQueryData(bo.detail());((C=I==null?void 0:I.user)==null?void 0:C.id)===_.data.userId?(mt.error({title:"You have been removed from the organization"}),setTimeout(()=>{window.location.href="/logout"},2e3)):mt.info({title:"Member removed",description:`${_.data.userEmail} has been removed`})}else _.type==="ingestion_run_update"&&(c.invalidateQueries({queryKey:Gr.list()}),c.invalidateQueries({queryKey:Gr.detail(_.data.connection_id)}),_.data.status==="completed"?mt.success({title:"Ticket sync complete",description:`${_.data.records_processed??0} tickets processed`}):_.data.status==="failed"&&mt.error({title:"Ticket sync failed",description:_.data.error_message||"An error occurred"}))},[o,c]),d=y.useCallback(_=>{console.error("SSE connection error:",_)},[]),f=y.useCallback(()=>{console.log("SSE connection opened")},[]),h=y.useCallback(()=>{console.log("SSE connection closed")},[]),p=`${t}/api/sse/events`,{isConnected:v,connect:x,disconnect:b,reconnect:w}=q2e({url:p,onMessage:u,onError:d,onOpen:f,onClose:h,enabled:n}),E=y.useCallback(()=>{i([]),a(null)},[]),k={isConnected:v,messageUpdates:r,latestUpdate:s,connect:x,disconnect:b,reconnect:w,clearUpdates:E};return l.jsx(hX.Provider,{value:k,children:e})},pX=()=>{const e=y.useContext(hX);if(!e)throw new Error("useSSEContext must be used within an SSEProvider");return e};function S1({children:e}){const{authenticated:t,loading:n,initialized:r,error:i}=Yy();return l.jsx(l.Fragment,{children:e})}function W2e(){return l.jsx("div",{className:"min-h-screen bg-gray-100",children:l.jsx(Ywe,{})})}const Jl={SHOW_WELCOME_MODAL:{key:"SHOW_WELCOME_MODAL",label:"Show Welcome Modal",description:"Force show welcome modal (for testing). Normal users see it automatically on first visit.",defaultValue:!1,category:"debug"},ENABLE_DEBUG_MODE:{key:"ENABLE_DEBUG_MODE",label:"Debug Mode",description:"Enable developer debugging features and console logs",defaultValue:!1,category:"debug"},ENABLE_EXPERIMENTAL_FEATURES:{key:"ENABLE_EXPERIMENTAL_FEATURES",label:"Experimental Features",description:"Enable beta features and experimental functionality",defaultValue:!1,category:"experimental"},ENABLE_SERVICENOW:{key:"ENABLE_SERVICENOW",label:"ServiceNow Integration",description:"Enable ServiceNow KB and ITSM sync features",defaultValue:!1,category:"experimental"},ENABLE_MULTI_FILE_UPLOAD:{key:"ENABLE_MULTI_FILE_UPLOAD",label:"Multi-File Upload",description:"Enable uploading multiple files at once in file inputs",defaultValue:!1,category:"experimental"},ENABLE_TICKETS_V2:{key:"ENABLE_TICKETS_V2",label:"Tickets",description:"Enable new tickets page UI",defaultValue:!1,category:"experimental"}},sN="rita_feature_flags";class G2e{constructor(){Oe(this,"listeners",new Set)}getState(){if(typeof window>"u")return{};try{const t=localStorage.getItem(sN);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to parse feature flags from localStorage:",t),{}}}setState(t){if(!(typeof window>"u"))try{localStorage.setItem(sN,JSON.stringify(t)),this.notifyListeners()}catch(n){console.error("Failed to save feature flags to localStorage:",n)}}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){for(const t of this.listeners)t()}getFlag(t){const n=this.getState(),r=Jl[t];return r?n[t]??r.defaultValue:(console.warn(`Unknown feature flag: ${t}`),!1)}setFlag(t,n){if(!Jl[t]){console.warn(`Unknown feature flag: ${t}`);return}const i=this.getState();i[t]=n,this.setState(i)}toggleFlag(t){const r=!this.getFlag(t);return this.setFlag(t,r),r}resetFlag(t){if(!Jl[t]){console.warn(`Unknown feature flag: ${t}`);return}const r=this.getState();delete r[t],this.setState(r)}resetAll(){if(!(typeof window>"u"))try{localStorage.removeItem(sN),this.notifyListeners()}catch(t){console.error("Failed to reset feature flags:",t)}}getAllFlags(){const t={};for(const n of Object.keys(Jl))t[n]=this.getFlag(n);return t}hasModifiedFlags(){const t=this.getState();return Object.keys(t).length>0}}const nl=new G2e;function pf(e){const[t,n]=y.useState(()=>nl.getFlag(e));return y.useEffect(()=>nl.subscribe(()=>{n(nl.getFlag(e))}),[e]),t}function K2e(){const[e,t]=y.useState(()=>nl.getAllFlags());return y.useEffect(()=>nl.subscribe(()=>{t(nl.getAllFlags())}),[]),{flags:e,setFlag:(n,r)=>{nl.setFlag(n,r)},toggleFlag:n=>{nl.toggleFlag(n)},resetFlag:n=>{nl.resetFlag(n)},resetAll:()=>{nl.resetAll()},hasModifiedFlags:()=>nl.hasModifiedFlags()}}function gt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Y2e(e,t){const n=y.createContext(t),r=s=>{const{children:a,...o}=s,c=y.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=y.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function hs(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];const u=f=>{var w;const{scope:h,children:p,...v}=f,x=((w=h==null?void 0:h[e])==null?void 0:w[c])||o,b=y.useMemo(()=>v,Object.values(v));return l.jsx(x.Provider,{value:b,children:p})};u.displayName=s+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||o,v=y.useContext(p);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,X2e(i,...t)]}function X2e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Q2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=Q2e.reduce((e,t)=>{const n=mf(`Primitive.${t}`),r=y.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gX(e,t){e&&E0.flushSync(()=>e.dispatchEvent(t))}function Al(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Z2e(e,t=globalThis==null?void 0:globalThis.document){const n=Al(e);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var J2e="DismissableLayer",H6="dismissableLayer.update",e4e="dismissableLayer.pointerDownOutside",t4e="dismissableLayer.focusOutside",dF,vX=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N0=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=y.useContext(vX),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),v=Nn(t,C=>f(C)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),E=d?x.indexOf(d):-1,k=u.layersWithOutsidePointerEventsDisabled.size>0,_=E>=w,A=i4e(C=>{const I=C.target,B=[...u.branches].some($=>$.contains(I));!_||B||(i==null||i(C),a==null||a(C),C.defaultPrevented||o==null||o())},h),T=s4e(C=>{const I=C.target;[...u.branches].some($=>$.contains(I))||(s==null||s(C),a==null||a(C),C.defaultPrevented||o==null||o())},h);return Z2e(C=>{E===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},h),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dF=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fF(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dF)}},[d,h,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fF())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(H6,C),()=>document.removeEventListener(H6,C)},[]),l.jsx(Lt.div,{...c,ref:v,style:{pointerEvents:k?_?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,A.onPointerDownCapture)})});N0.displayName=J2e;var n4e="DismissableLayerBranch",r4e=y.forwardRef((e,t)=>{const n=y.useContext(vX),r=y.useRef(null),i=Nn(t,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(Lt.div,{...e,ref:i})});r4e.displayName=n4e;function i4e(e,t=globalThis==null?void 0:globalThis.document){const n=Al(e),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){yX(e4e,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s4e(e,t=globalThis==null?void 0:globalThis.document){const n=Al(e),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&yX(t4e,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fF(){const e=new CustomEvent(H6);document.dispatchEvent(e)}function yX(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gX(i,s):i.dispatchEvent(s)}var ki=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},a4e=Pj[" useId ".trim().toString()]||(()=>{}),o4e=0;function Li(e){const[t,n]=y.useState(a4e());return ki(()=>{n(r=>r??String(o4e++))},[e]),e||(t?`radix-${t}`:"")}const l4e=["top","right","bottom","left"],gf=Math.min,La=Math.max,T4=Math.round,Pw=Math.floor,mc=e=>({x:e,y:e}),c4e={left:"right",right:"left",bottom:"top",top:"bottom"},u4e={start:"end",end:"start"};function V6(e,t,n){return La(e,gf(t,n))}function Nu(e,t){return typeof e=="function"?e(t):e}function Tu(e){return e.split("-")[0]}function fg(e){return e.split("-")[1]}function dP(e){return e==="x"?"y":"x"}function fP(e){return e==="y"?"height":"width"}const d4e=new Set(["top","bottom"]);function oc(e){return d4e.has(Tu(e))?"y":"x"}function hP(e){return dP(oc(e))}function f4e(e,t,n){n===void 0&&(n=!1);const r=fg(e),i=hP(e),s=fP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=A4(a)),[a,A4(a)]}function h4e(e){const t=A4(e);return[q6(e),t,q6(t)]}function q6(e){return e.replace(/start|end/g,t=>u4e[t])}const hF=["left","right"],mF=["right","left"],m4e=["top","bottom"],p4e=["bottom","top"];function g4e(e,t,n){switch(e){case"top":case"bottom":return n?t?mF:hF:t?hF:mF;case"left":case"right":return t?m4e:p4e;default:return[]}}function v4e(e,t,n,r){const i=fg(e);let s=g4e(Tu(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(q6)))),s}function A4(e){return e.replace(/left|right|bottom|top/g,t=>c4e[t])}function y4e(e){return{top:0,right:0,bottom:0,left:0,...e}}function xX(e){return typeof e!="number"?y4e(e):{top:e,right:e,bottom:e,left:e}}function j4(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function pF(e,t,n){let{reference:r,floating:i}=e;const s=oc(t),a=hP(t),o=fP(a),c=Tu(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(fg(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const x4e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=pF(u,r,c),h=r,p={},v=0;for(let x=0;x<o.length;x++){const{name:b,fn:w}=o[x],{x:E,y:k,data:_,reset:A}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=E??d,f=k??f,p={...p,[b]:{...p[b],..._}},A&&v<=50&&(v++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:d,y:f}=pF(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Wv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Nu(t,e),v=xX(p),b=o[h?f==="floating"?"reference":"floating":f],w=j4(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),E=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},A=j4(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:k,strategy:c}):E);return{top:(w.top-A.top+v.top)/_.y,bottom:(A.bottom-w.bottom+v.bottom)/_.y,left:(w.left-A.left+v.left)/_.x,right:(A.right-w.right+v.right)/_.x}}const b4e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Nu(e,t)||{};if(u==null)return{};const f=xX(d),h={x:n,y:r},p=hP(i),v=fP(p),x=await a.getDimensions(u),b=p==="y",w=b?"top":"left",E=b?"bottom":"right",k=b?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[p]-h[p]-s.floating[v],A=h[p]-s.reference[p],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=T?T[k]:0;(!C||!await(a.isElement==null?void 0:a.isElement(T)))&&(C=o.floating[k]||s.floating[v]);const I=_/2-A/2,B=C/2-x[v]/2-1,$=gf(f[w],B),L=gf(f[E],B),U=$,Y=C-x[v]-L,V=C/2-x[v]/2+I,K=V6(U,V,Y),W=!c.arrow&&fg(i)!=null&&V!==K&&s.reference[v]/2-(V<U?$:L)-x[v]/2<0,J=W?V<U?V-U:V-Y:0;return{[p]:h[p]+J,data:{[p]:K,centerOffset:V-K-J,...W&&{alignmentOffset:J}},reset:W}}}),w4e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=Nu(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Tu(i),E=oc(o),k=Tu(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=h||(k||!x?[A4(o)]:h4e(o)),T=v!=="none";!h&&T&&A.push(...v4e(o,x,v,_));const C=[o,...A],I=await Wv(t,b),B=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&B.push(I[w]),f){const V=f4e(i,a,_);B.push(I[V[0]],I[V[1]])}if($=[...$,{placement:i,overflows:B}],!B.every(V=>V<=0)){var L,U;const V=(((L=s.flip)==null?void 0:L.index)||0)+1,K=C[V];if(K&&(!(f==="alignment"?E!==oc(K):!1)||$.every(q=>oc(q.placement)===E?q.overflows[0]>0:!0)))return{data:{index:V,overflows:$},reset:{placement:K}};let W=(U=$.filter(J=>J.overflows[0]<=0).sort((J,q)=>J.overflows[1]-q.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(p){case"bestFit":{var Y;const J=(Y=$.filter(q=>{if(T){const G=oc(q.placement);return G===E||G==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(G=>G>0).reduce((G,j)=>G+j,0)]).sort((q,G)=>q[1]-G[1])[0])==null?void 0:Y[0];J&&(W=J);break}case"initialPlacement":W=o;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function gF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vF(e){return l4e.some(t=>e[t]>=0)}const E4e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Nu(e,t);switch(r){case"referenceHidden":{const s=await Wv(t,{...i,elementContext:"reference"}),a=gF(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:vF(a)}}}case"escaped":{const s=await Wv(t,{...i,altBoundary:!0}),a=gF(s,n.floating);return{data:{escapedOffsets:a,escaped:vF(a)}}}default:return{}}}}},bX=new Set(["left","top"]);async function S4e(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Tu(n),o=fg(n),c=oc(n)==="y",u=bX.has(a)?-1:1,d=s&&c?-1:1,f=Nu(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(p=o==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const k4e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await S4e(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},_4e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:w,y:E}=b;return{x:w,y:E}}},...c}=Nu(e,t),u={x:n,y:r},d=await Wv(t,c),f=oc(Tu(i)),h=dP(f);let p=u[h],v=u[f];if(s){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=p+d[b],k=p-d[w];p=V6(E,p,k)}if(a){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=v+d[b],k=v-d[w];v=V6(E,v,k)}const x=o.fn({...t,[h]:p,[f]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[f]:a}}}}}},C4e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Nu(e,t),d={x:n,y:r},f=oc(i),h=dP(f);let p=d[h],v=d[f];const x=Nu(o,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const k=h==="y"?"height":"width",_=s.reference[h]-s.floating[k]+b.mainAxis,A=s.reference[h]+s.reference[k]-b.mainAxis;p<_?p=_:p>A&&(p=A)}if(u){var w,E;const k=h==="y"?"width":"height",_=bX.has(Tu(i)),A=s.reference[f]-s.floating[k]+(_&&((w=a.offset)==null?void 0:w[f])||0)+(_?0:b.crossAxis),T=s.reference[f]+s.reference[k]+(_?0:((E=a.offset)==null?void 0:E[f])||0)-(_?b.crossAxis:0);v<A?v=A:v>T&&(v=T)}return{[h]:p,[f]:v}}}},N4e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=Nu(e,t),d=await Wv(t,u),f=Tu(i),h=fg(i),p=oc(i)==="y",{width:v,height:x}=s.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const E=x-d.top-d.bottom,k=v-d.left-d.right,_=gf(x-d[b],E),A=gf(v-d[w],k),T=!t.middlewareData.shift;let C=_,I=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=E),T&&!h){const $=La(d.left,0),L=La(d.right,0),U=La(d.top,0),Y=La(d.bottom,0);p?I=v-2*($!==0||L!==0?$+L:La(d.left,d.right)):C=x-2*(U!==0||Y!==0?U+Y:La(d.top,d.bottom))}await c({...t,availableWidth:I,availableHeight:C});const B=await a.getDimensions(o.floating);return v!==B.width||x!==B.height?{reset:{rects:!0}}:{}}}};function WS(){return typeof window<"u"}function hg(e){return wX(e)?(e.nodeName||"").toLowerCase():"#document"}function Va(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Nc(e){var t;return(t=(wX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wX(e){return WS()?e instanceof Node||e instanceof Va(e).Node:!1}function jl(e){return WS()?e instanceof Element||e instanceof Va(e).Element:!1}function bc(e){return WS()?e instanceof HTMLElement||e instanceof Va(e).HTMLElement:!1}function yF(e){return!WS()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Va(e).ShadowRoot}const T4e=new Set(["inline","contents"]);function Jy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Pl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!T4e.has(i)}const A4e=new Set(["table","td","th"]);function j4e(e){return A4e.has(hg(e))}const P4e=[":popover-open",":modal"];function GS(e){return P4e.some(t=>{try{return e.matches(t)}catch{return!1}})}const I4e=["transform","translate","scale","rotate","perspective"],R4e=["transform","translate","scale","rotate","perspective","filter"],M4e=["paint","layout","strict","content"];function mP(e){const t=pP(),n=jl(e)?Pl(e):e;return I4e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||R4e.some(r=>(n.willChange||"").includes(r))||M4e.some(r=>(n.contain||"").includes(r))}function O4e(e){let t=vf(e);for(;bc(t)&&!Cp(t);){if(mP(t))return t;if(GS(t))return null;t=vf(t)}return null}function pP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const D4e=new Set(["html","body","#document"]);function Cp(e){return D4e.has(hg(e))}function Pl(e){return Va(e).getComputedStyle(e)}function KS(e){return jl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vf(e){if(hg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yF(e)&&e.host||Nc(e);return yF(t)?t.host:t}function EX(e){const t=vf(e);return Cp(t)?e.ownerDocument?e.ownerDocument.body:e.body:bc(t)&&Jy(t)?t:EX(t)}function Gv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=EX(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Va(i);if(s){const o=W6(a);return t.concat(a,a.visualViewport||[],Jy(i)?i:[],o&&n?Gv(o):[])}return t.concat(i,Gv(i,[],n))}function W6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SX(e){const t=Pl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=bc(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=T4(n)!==s||T4(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function gP(e){return jl(e)?e:e.contextElement}function Jm(e){const t=gP(e);if(!bc(t))return mc(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=SX(t);let a=(s?T4(n.width):n.width)/r,o=(s?T4(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const L4e=mc(0);function kX(e){const t=Va(e);return!pP()||!t.visualViewport?L4e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F4e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Va(e)?!1:t}function Jh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=gP(e);let a=mc(1);t&&(r?jl(r)&&(a=Jm(r)):a=Jm(e));const o=F4e(s,n,r)?kX(s):mc(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Va(s),p=r&&jl(r)?Va(r):r;let v=h,x=W6(v);for(;x&&r&&p!==v;){const b=Jm(x),w=x.getBoundingClientRect(),E=Pl(x),k=w.left+(x.clientLeft+parseFloat(E.paddingLeft))*b.x,_=w.top+(x.clientTop+parseFloat(E.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=k,u+=_,v=Va(x),x=W6(v)}}return j4({width:d,height:f,x:c,y:u})}function YS(e,t){const n=KS(e).scrollLeft;return t?t.left+n:Jh(Nc(e)).left+n}function _X(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-YS(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function $4e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Nc(r),o=t?GS(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=mc(1);const d=mc(0),f=bc(r);if((f||!f&&!s)&&((hg(r)!=="body"||Jy(a))&&(c=KS(r)),bc(r))){const p=Jh(r);u=Jm(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!s?_X(a,c):mc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function z4e(e){return Array.from(e.getClientRects())}function B4e(e){const t=Nc(e),n=KS(e),r=e.ownerDocument.body,i=La(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=La(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+YS(e);const o=-n.scrollTop;return Pl(r).direction==="rtl"&&(a+=La(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const xF=25;function U4e(e,t){const n=Va(e),r=Nc(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const d=pP();(!d||d&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=YS(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-p);v<=xF&&(s-=v)}else u<=xF&&(s+=u);return{width:s,height:a,x:o,y:c}}const H4e=new Set(["absolute","fixed"]);function V4e(e,t){const n=Jh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=bc(e)?Jm(e):mc(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function bF(e,t,n){let r;if(t==="viewport")r=U4e(e,n);else if(t==="document")r=B4e(Nc(e));else if(jl(t))r=V4e(t,n);else{const i=kX(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return j4(r)}function CX(e,t){const n=vf(e);return n===t||!jl(n)||Cp(n)?!1:Pl(n).position==="fixed"||CX(n,t)}function q4e(e,t){const n=t.get(e);if(n)return n;let r=Gv(e,[],!1).filter(o=>jl(o)&&hg(o)!=="body"),i=null;const s=Pl(e).position==="fixed";let a=s?vf(e):e;for(;jl(a)&&!Cp(a);){const o=Pl(a),c=mP(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&H4e.has(i.position)||Jy(a)&&!c&&CX(e,a))?r=r.filter(d=>d!==a):i=o,a=vf(a)}return t.set(e,r),r}function W4e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?GS(t)?[]:q4e(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=bF(t,d,i);return u.top=La(f.top,u.top),u.right=gf(f.right,u.right),u.bottom=gf(f.bottom,u.bottom),u.left=La(f.left,u.left),u},bF(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function G4e(e){const{width:t,height:n}=SX(e);return{width:t,height:n}}function K4e(e,t,n){const r=bc(t),i=Nc(t),s=n==="fixed",a=Jh(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=mc(0);function u(){c.x=YS(i)}if(r||!r&&!s)if((hg(t)!=="body"||Jy(i))&&(o=KS(t)),r){const p=Jh(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?_X(i,o):mc(0),f=a.left+o.scrollLeft-c.x-d.x,h=a.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function aN(e){return Pl(e).position==="static"}function wF(e,t){if(!bc(e)||Pl(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Nc(e)===n&&(n=n.ownerDocument.body),n}function NX(e,t){const n=Va(e);if(GS(e))return n;if(!bc(e)){let i=vf(e);for(;i&&!Cp(i);){if(jl(i)&&!aN(i))return i;i=vf(i)}return n}let r=wF(e,t);for(;r&&j4e(r)&&aN(r);)r=wF(r,t);return r&&Cp(r)&&aN(r)&&!mP(r)?n:r||O4e(e)||n}const Y4e=async function(e){const t=this.getOffsetParent||NX,n=this.getDimensions,r=await n(e.floating);return{reference:K4e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function X4e(e){return Pl(e).direction==="rtl"}const Q4e={convertOffsetParentRelativeRectToViewportRelativeRect:$4e,getDocumentElement:Nc,getClippingRect:W4e,getOffsetParent:NX,getElementRects:Y4e,getClientRects:z4e,getDimensions:G4e,getScale:Jm,isElement:jl,isRTL:X4e};function TX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z4e(e,t){let n=null,r;const i=Nc(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const v=Pw(f),x=Pw(i.clientWidth-(d+h)),b=Pw(i.clientHeight-(f+p)),w=Pw(d),k={rootMargin:-v+"px "+-x+"px "+-b+"px "+-w+"px",threshold:La(0,gf(1,c))||1};let _=!0;function A(T){const C=T[0].intersectionRatio;if(C!==c){if(!_)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!TX(u,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(A,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,k)}n.observe(e)}return a(!0),s}function J4e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gP(e),d=i||s?[...u?Gv(u):[],...Gv(t)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=u&&o?Z4e(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(w=>{let[E]=w;E&&E.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=p)==null||k.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let v,x=c?Jh(e):null;c&&b();function b(){const w=Jh(e);x&&!TX(x,w)&&n(),x=w,v=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const eEe=k4e,tEe=_4e,nEe=w4e,rEe=N4e,iEe=E4e,EF=b4e,sEe=C4e,aEe=(e,t,n)=>{const r=new Map,i={platform:Q4e,...n},s={...i.platform,_c:r};return x4e(e,t,{...i,platform:s})};var oEe=typeof document<"u",lEe=function(){},q2=oEe?y.useLayoutEffect:lEe;function P4(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!P4(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!P4(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function AX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function SF(e,t){const n=AX(e);return Math.round(t*n)/n}function oN(e){const t=y.useRef(e);return q2(()=>{t.current=e}),t}function cEe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);P4(h,r)||p(r);const[v,x]=y.useState(null),[b,w]=y.useState(null),E=y.useCallback(q=>{q!==T.current&&(T.current=q,x(q))},[]),k=y.useCallback(q=>{q!==C.current&&(C.current=q,w(q))},[]),_=s||v,A=a||b,T=y.useRef(null),C=y.useRef(null),I=y.useRef(d),B=c!=null,$=oN(c),L=oN(i),U=oN(u),Y=y.useCallback(()=>{if(!T.current||!C.current)return;const q={placement:t,strategy:n,middleware:h};L.current&&(q.platform=L.current),aEe(T.current,C.current,q).then(G=>{const j={...G,isPositioned:U.current!==!1};V.current&&!P4(I.current,j)&&(I.current=j,E0.flushSync(()=>{f(j)}))})},[h,t,n,L,U]);q2(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const V=y.useRef(!1);q2(()=>(V.current=!0,()=>{V.current=!1}),[]),q2(()=>{if(_&&(T.current=_),A&&(C.current=A),_&&A){if($.current)return $.current(_,A,Y);Y()}},[_,A,Y,$,B]);const K=y.useMemo(()=>({reference:T,floating:C,setReference:E,setFloating:k}),[E,k]),W=y.useMemo(()=>({reference:_,floating:A}),[_,A]),J=y.useMemo(()=>{const q={position:n,left:0,top:0};if(!W.floating)return q;const G=SF(W.floating,d.x),j=SF(W.floating,d.y);return o?{...q,transform:"translate("+G+"px, "+j+"px)",...AX(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:j}},[n,o,W.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:Y,refs:K,elements:W,floatingStyles:J}),[d,Y,K,W,J])}const uEe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?EF({element:r.current,padding:i}).fn(n):{}:r?EF({element:r,padding:i}).fn(n):{}}}},dEe=(e,t)=>({...eEe(e),options:[e,t]}),fEe=(e,t)=>({...tEe(e),options:[e,t]}),hEe=(e,t)=>({...sEe(e),options:[e,t]}),mEe=(e,t)=>({...nEe(e),options:[e,t]}),pEe=(e,t)=>({...rEe(e),options:[e,t]}),gEe=(e,t)=>({...iEe(e),options:[e,t]}),vEe=(e,t)=>({...uEe(e),options:[e,t]});var yEe="Arrow",jX=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(Lt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});jX.displayName=yEe;var xEe=jX;function vP(e){const[t,n]=y.useState(void 0);return ki(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var yP="Popper",[PX,Tc]=hs(yP),[bEe,IX]=PX(yP),RX=e=>{const{__scopePopper:t,children:n}=e,[r,i]=y.useState(null);return l.jsx(bEe,{scope:t,anchor:r,onAnchorChange:i,children:n})};RX.displayName=yP;var MX="PopperAnchor",OX=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=IX(MX,n),a=y.useRef(null),o=Nn(t,a),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:l.jsx(Lt.div,{...i,ref:o})});OX.displayName=MX;var xP="PopperContent",[wEe,EEe]=PX(xP),DX=y.forwardRef((e,t)=>{var Q,te,ie,fe,he,ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...x}=e,b=IX(xP,n),[w,E]=y.useState(null),k=Nn(t,Pe=>E(Pe)),[_,A]=y.useState(null),T=vP(_),C=(T==null?void 0:T.width)??0,I=(T==null?void 0:T.height)??0,B=r+(s!=="center"?"-"+s:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],U=L.length>0,Y={padding:$,boundary:L.filter(kEe),altBoundary:U},{refs:V,floatingStyles:K,placement:W,isPositioned:J,middlewareData:q}=cEe({strategy:"fixed",placement:B,whileElementsMounted:(...Pe)=>J4e(...Pe,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[dEe({mainAxis:i+I,alignmentAxis:a}),c&&fEe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hEe():void 0,...Y}),c&&mEe({...Y}),pEe({...Y,apply:({elements:Pe,rects:Te,availableWidth:Ge,availableHeight:nt})=>{const{width:vt,height:Ct}=Te.reference,Tt=Pe.floating.style;Tt.setProperty("--radix-popper-available-width",`${Ge}px`),Tt.setProperty("--radix-popper-available-height",`${nt}px`),Tt.setProperty("--radix-popper-anchor-width",`${vt}px`),Tt.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),_&&vEe({element:_,padding:o}),_Ee({arrowWidth:C,arrowHeight:I}),h&&gEe({strategy:"referenceHidden",...Y})]}),[G,j]=$X(W),M=Al(v);ki(()=>{J&&(M==null||M())},[J,M]);const z=(Q=q.arrow)==null?void 0:Q.x,O=(te=q.arrow)==null?void 0:te.y,X=((ie=q.arrow)==null?void 0:ie.centerOffset)!==0,[ne,re]=y.useState();return ki(()=>{w&&re(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:J?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(fe=q.transformOrigin)==null?void 0:fe.x,(he=q.transformOrigin)==null?void 0:he.y].join(" "),...((ae=q.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(wEe,{scope:n,placedSide:G,onArrowChange:A,arrowX:z,arrowY:O,shouldHideArrow:X,children:l.jsx(Lt.div,{"data-side":G,"data-align":j,...x,ref:k,style:{...x.style,animation:J?void 0:"none"}})})})});DX.displayName=xP;var LX="PopperArrow",SEe={top:"bottom",right:"left",bottom:"top",left:"right"},FX=y.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=EEe(LX,r),a=SEe[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(xEe,{...i,ref:n,style:{...i.style,display:"block"}})})});FX.displayName=LX;function kEe(e){return e!==null}var _Ee=e=>({name:"transformOrigin",options:e,fn(t){var b,w,E;const{placement:n,rects:r,middlewareData:i}=t,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=$X(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=i.arrow)==null?void 0:w.x)??0)+o/2,p=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=a?f:`${h}px`,x=`${-c}px`):u==="top"?(v=a?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=a?f:`${p}px`):u==="left"&&(v=`${r.floating.width+c}px`,x=a?f:`${p}px`),{data:{x:v,y:x}}}});function $X(e){const[t,n="center"]=e.split("-");return[t,n]}var ex=RX,mg=OX,tx=DX,nx=FX,CEe="Portal",T0=y.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=y.useState(!1);ki(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?fY.createPortal(l.jsx(Lt.div,{...r,ref:t}),a):null});T0.displayName=CEe;function NEe(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var ms=e=>{const{present:t,children:n}=e,r=TEe(t),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Nn(r.ref,AEe(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};ms.displayName="Presence";function TEe(e){const[t,n]=y.useState(),r=y.useRef(null),i=y.useRef(e),s=y.useRef("none"),a=e?"mounted":"unmounted",[o,c]=NEe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Iw(r.current);s.current=o==="mounted"?u:"none"},[o]),ki(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=Iw(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),ki(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=Iw(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&x&&(c("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(s.current=Iw(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Iw(e){return(e==null?void 0:e.animationName)||"none"}function AEe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jEe=Pj[" useInsertionEffect ".trim().toString()]||ki;function ba({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=PEe({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:i;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=y.useCallback(d=>{var f;if(o){const h=IEe(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,e,s,a]);return[c,u]}function PEe({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),i=y.useRef(n),s=y.useRef(t);return jEe(()=>{s.current=t},[t]),y.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function IEe(e){return typeof e=="function"}var zX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),REe="VisuallyHidden",BX=y.forwardRef((e,t)=>l.jsx(Lt.span,{...e,ref:t,style:{...zX,...e.style}}));BX.displayName=REe;var MEe=BX,[XS]=hs("Tooltip",[Tc]),QS=Tc(),UX="TooltipProvider",OEe=700,G6="tooltip.open",[DEe,bP]=XS(UX),HX=e=>{const{__scopeTooltip:t,delayDuration:n=OEe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=y.useRef(!0),o=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(DEe,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:y.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};HX.displayName=UX;var Kv="Tooltip",[LEe,rx]=XS(Kv),VX=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,c=bP(Kv,e.__scopeTooltip),u=QS(t),[d,f]=y.useState(null),h=Li(),p=y.useRef(0),v=a??c.disableHoverableContent,x=o??c.delayDuration,b=y.useRef(!1),[w,E]=ba({prop:r,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(G6))):c.onClose(),s==null||s(C)},caller:Kv}),k=y.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),_=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,E(!0)},[E]),A=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,E(!1)},[E]),T=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,E(!0),p.current=0},x)},[x,E]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(ex,{...u,children:l.jsx(LEe,{scope:t,contentId:h,open:w,stateAttribute:k,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayedRef.current?T():_()},[c.isOpenDelayedRef,T,_]),onTriggerLeave:y.useCallback(()=>{v?A():(window.clearTimeout(p.current),p.current=0)},[A,v]),onOpen:_,onClose:A,disableHoverableContent:v,children:n})})};VX.displayName=Kv;var K6="TooltipTrigger",qX=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=rx(K6,n),s=bP(K6,n),a=QS(n),o=y.useRef(null),c=Nn(t,o,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(mg,{asChild:!0,...a,children:l.jsx(Lt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:gt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:gt(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:gt(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:gt(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:gt(e.onBlur,i.onClose),onClick:gt(e.onClick,i.onClose)})})});qX.displayName=K6;var wP="TooltipPortal",[FEe,$Ee]=XS(wP,{forceMount:void 0}),WX=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=rx(wP,t);return l.jsx(FEe,{scope:t,forceMount:n,children:l.jsx(ms,{present:n||s.open,children:l.jsx(T0,{asChild:!0,container:i,children:r})})})};WX.displayName=wP;var Np="TooltipContent",GX=y.forwardRef((e,t)=>{const n=$Ee(Np,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=rx(Np,e.__scopeTooltip);return l.jsx(ms,{present:r||a.open,children:a.disableHoverableContent?l.jsx(KX,{side:i,...s,ref:t}):l.jsx(zEe,{side:i,...s,ref:t})})}),zEe=y.forwardRef((e,t)=>{const n=rx(Np,e.__scopeTooltip),r=bP(Np,e.__scopeTooltip),i=y.useRef(null),s=Nn(t,i),[a,o]=y.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=y.useCallback(()=>{o(null),f(!1)},[f]),p=y.useCallback((v,x)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},E=VEe(w,b.getBoundingClientRect()),k=qEe(w,E),_=WEe(x.getBoundingClientRect()),A=KEe([...k,..._]);o(A),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const v=b=>p(b,d),x=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[c,d,p,h]),y.useEffect(()=>{if(a){const v=x=>{const b=x.target,w={x:x.clientX,y:x.clientY},E=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),k=!GEe(w,a);E?h():k&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,h]),l.jsx(KX,{...e,ref:s})}),[BEe,UEe]=XS(Kv,{isInside:!1}),HEe=kY("TooltipContent"),KX=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=rx(Np,n),u=QS(n),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(G6,d),()=>document.removeEventListener(G6,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(N0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(tx,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(HEe,{children:r}),l.jsx(BEe,{scope:n,isInside:!0,children:l.jsx(MEe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});GX.displayName=Np;var YX="TooltipArrow",XX=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=QS(n);return UEe(YX,n).isInside?null:l.jsx(nx,{...i,...r,ref:t})});XX.displayName=YX;function VEe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function qEe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function WEe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function GEe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],c=t[a],u=o.x,d=o.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function KEe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YEe(t)}function YEe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var XEe=HX,QEe=VX,ZEe=qX,JEe=WX,eSe=GX,tSe=XX;function EP({delayDuration:e=0,...t}){return l.jsx(XEe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function QX({...e}){return l.jsx(EP,{children:l.jsx(QEe,{"data-slot":"tooltip",...e})})}function ZX({...e}){return l.jsx(ZEe,{"data-slot":"tooltip-trigger",...e})}function JX({className:e,sideOffset:t=0,children:n,arrowClassName:r,...i}){return l.jsx(JEe,{children:l.jsxs(eSe,{"data-slot":"tooltip-content",sideOffset:t,className:we("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...i,children:[n,l.jsx(tSe,{className:we("bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]",r)})]})})}const eQ=({className:e,children:t,...n})=>l.jsx("div",{className:we("flex items-center gap-1",e),...n,children:t}),tQ=({tooltip:e,children:t,label:n,className:r,variant:i="ghost",size:s="sm",...a})=>{const o=l.jsxs(ve,{className:we("relative size-9 p-1.5 text-muted-foreground hover:text-foreground",r),size:s,type:"button",variant:i,...a,children:[t,l.jsx("span",{className:"sr-only",children:n||e})]});return e?l.jsx(EP,{children:l.jsxs(QX,{children:[l.jsx(ZX,{asChild:!0,children:o}),l.jsx(JX,{children:l.jsx("p",{children:e})})]})}):o};/*!---------------------------------------------------------------------------------------------
 *  Copyright (c) StackBlitz. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/const nSe={damping:.7,stiffness:.05,mass:1.25},rSe=70,iSe=1e3/60,sSe=350;let ZS=!1;var kK;(kK=globalThis.document)==null||kK.addEventListener("mousedown",()=>{ZS=!0});var _K;(_K=globalThis.document)==null||_K.addEventListener("mouseup",()=>{ZS=!1});var CK;(CK=globalThis.document)==null||CK.addEventListener("click",()=>{ZS=!1});const aSe=(e={})=>{const[t,n]=y.useState(!1),[r,i]=y.useState(e.initial!==!1),[s,a]=y.useState(!1),o=y.useRef(null);o.current=e;const c=y.useCallback(()=>{var _;if(!ZS)return!1;const E=window.getSelection();if(!E||!E.rangeCount)return!1;const k=E.getRangeAt(0);return k.commonAncestorContainer.contains(b.current)||((_=b.current)==null?void 0:_.contains(k.commonAncestorContainer))},[]),u=y.useCallback(E=>{f.isAtBottom=E,i(E)},[]),d=y.useCallback(E=>{f.escapedFromLock=E,n(E)},[]),f=y.useMemo(()=>{let E;return{escapedFromLock:t,isAtBottom:r,resizeDifference:0,accumulated:0,velocity:0,listeners:new Set,get scrollTop(){var k;return((k=b.current)==null?void 0:k.scrollTop)??0},set scrollTop(k){b.current&&(b.current.scrollTop=k,f.ignoreScrollToTop=b.current.scrollTop)},get targetScrollTop(){return!b.current||!w.current?0:b.current.scrollHeight-1-b.current.clientHeight},get calculatedTargetScrollTop(){if(!b.current||!w.current)return 0;const{targetScrollTop:k}=this;if(!e.targetScrollTop)return k;if((E==null?void 0:E.targetScrollTop)===k)return E.calculatedScrollTop;const _=Math.max(Math.min(e.targetScrollTop(k,{scrollElement:b.current,contentElement:w.current}),k),0);return E={targetScrollTop:k,calculatedScrollTop:_},requestAnimationFrame(()=>{E=void 0}),_},get scrollDifference(){return this.calculatedTargetScrollTop-this.scrollTop},get isNearBottom(){return this.scrollDifference<=rSe}}},[]),h=y.useCallback((E={})=>{var B;typeof E=="string"&&(E={animation:E}),E.preserveScrollPosition||u(!0);const k=Date.now()+(Number(E.wait)||0),_=cN(o.current,E.animation),{ignoreEscapes:A=!1}=E;let T,C=f.calculatedTargetScrollTop;E.duration instanceof Promise?E.duration.finally(()=>{T=Date.now()}):T=k+(E.duration??0);const I=async()=>{const $=new Promise(requestAnimationFrame).then(()=>{var V;if(!f.isAtBottom)return f.animation=void 0,!1;const{scrollTop:L}=f,U=performance.now(),Y=(U-(f.lastTick??U))/iSe;if(f.animation||(f.animation={behavior:_,promise:$,ignoreEscapes:A}),f.animation.behavior===_&&(f.lastTick=U),c()||k>Date.now())return I();if(L<Math.min(C,f.calculatedTargetScrollTop)){if(((V=f.animation)==null?void 0:V.behavior)===_){if(_==="instant")return f.scrollTop=f.calculatedTargetScrollTop,I();f.velocity=(_.damping*f.velocity+_.stiffness*f.scrollDifference)/_.mass,f.accumulated+=f.velocity*Y,f.scrollTop+=f.accumulated,f.scrollTop!==L&&(f.accumulated=0)}return I()}return T>Date.now()?(C=f.calculatedTargetScrollTop,I()):(f.animation=void 0,f.scrollTop<f.calculatedTargetScrollTop?h({animation:cN(o.current,o.current.resize),ignoreEscapes:A,duration:Math.max(0,T-Date.now())||void 0}):f.isAtBottom)});return $.then(L=>(requestAnimationFrame(()=>{f.animation||(f.lastTick=void 0,f.velocity=0)}),L))};return E.wait!==!0&&(f.animation=void 0),((B=f.animation)==null?void 0:B.behavior)===_?f.animation.promise:I()},[u,c,f]),p=y.useCallback(()=>{d(!0),u(!1)},[d,u]),v=y.useCallback(({target:E})=>{if(E!==b.current)return;const{scrollTop:k,ignoreScrollToTop:_}=f;let{lastScrollTop:A=k}=f;f.lastScrollTop=k,f.ignoreScrollToTop=void 0,_&&_>k&&(A=_),a(f.isNearBottom),setTimeout(()=>{var I;if(f.resizeDifference||k===_)return;if(c()){d(!0),u(!1);return}const T=k>A,C=k<A;if((I=f.animation)!=null&&I.ignoreEscapes){f.scrollTop=A;return}C&&(d(!0),u(!1)),T&&d(!1),!f.escapedFromLock&&f.isNearBottom&&u(!0)},1)},[d,u,c,f]),x=y.useCallback(({target:E,deltaY:k})=>{var A;let _=E;for(;!["scroll","auto"].includes(getComputedStyle(_).overflow);){if(!_.parentElement)return;_=_.parentElement}_===b.current&&k<0&&b.current.scrollHeight>b.current.clientHeight&&!((A=f.animation)!=null&&A.ignoreEscapes)&&(d(!0),u(!1))},[d,u,f]),b=kF(E=>{var k,_;(k=b.current)==null||k.removeEventListener("scroll",v),(_=b.current)==null||_.removeEventListener("wheel",x),E==null||E.addEventListener("scroll",v,{passive:!0}),E==null||E.addEventListener("wheel",x,{passive:!0})},[]),w=kF(E=>{var _,A;if((_=f.resizeObserver)==null||_.disconnect(),!E)return;let k;f.resizeObserver=new ResizeObserver(([T])=>{const{height:C}=T.contentRect,I=C-(k??C);if(f.resizeDifference=I,f.scrollTop>f.targetScrollTop&&(f.scrollTop=f.targetScrollTop),a(f.isNearBottom),I>=0){const B=cN(o.current,k?o.current.resize:o.current.initial);h({animation:B,wait:!0,preserveScrollPosition:!0,duration:B==="instant"?void 0:sSe})}else f.isNearBottom&&(d(!1),u(!0));k=C,requestAnimationFrame(()=>{setTimeout(()=>{f.resizeDifference===I&&(f.resizeDifference=0)},1)})}),(A=f.resizeObserver)==null||A.observe(E)},[]);return{contentRef:w,scrollRef:b,scrollToBottom:h,stopScroll:p,isAtBottom:r||s,isNearBottom:s,escapedFromLock:t,state:f}};function kF(e,t){const n=y.useCallback(r=>(n.current=r,e(r)),t);return n}const lN=new Map;function cN(...e){const t={...nSe};let n=!1;for(const i of e){if(i==="instant"){n=!0;continue}typeof i=="object"&&(n=!1,t.damping=i.damping??t.damping,t.stiffness=i.stiffness??t.stiffness,t.mass=i.mass??t.mass)}const r=JSON.stringify(t);return lN.has(r)||lN.set(r,Object.freeze(t)),n?"instant":lN.get(r)}const nQ=y.createContext(null),oSe=typeof window<"u"?y.useLayoutEffect:y.useEffect;function I4({instance:e,children:t,resize:n,initial:r,mass:i,damping:s,stiffness:a,targetScrollTop:o,contextRef:c,...u}){const d=y.useRef(null),f=y.useCallback((A,T)=>{const C=(_==null?void 0:_.targetScrollTop)??o;return(C==null?void 0:C(A,T))??A},[o]),h=aSe({mass:i,damping:s,stiffness:a,resize:n,initial:r,targetScrollTop:f}),{scrollRef:p,contentRef:v,scrollToBottom:x,stopScroll:b,isAtBottom:w,escapedFromLock:E,state:k}=e??h,_=y.useMemo(()=>({scrollToBottom:x,stopScroll:b,scrollRef:p,isAtBottom:w,escapedFromLock:E,contentRef:v,state:k,get targetScrollTop(){return d.current},set targetScrollTop(A){d.current=A}}),[x,w,v,p,b,E,k]);return y.useImperativeHandle(c,()=>_,[_]),oSe(()=>{p.current&&getComputedStyle(p.current).overflow==="visible"&&(p.current.style.overflow="auto")},[]),l.jsx(nQ.Provider,{value:_,children:l.jsx("div",{...u,children:typeof t=="function"?t(_):t})})}(function(e){function t({children:n,...r}){const i=rQ();return l.jsx("div",{ref:i.scrollRef,style:{height:"100%",width:"100%"},children:l.jsx("div",{...r,ref:i.contentRef,children:typeof n=="function"?n(i):n})})}e.Content=t})(I4||(I4={}));function rQ(){const e=y.useContext(nQ);if(!e)throw new Error("use-stick-to-bottom component context must be used within a StickToBottom component");return e}const lSe=({className:e,...t})=>l.jsx(I4,{className:we("relative flex-1 overflow-y-auto",e),initial:"smooth",resize:"smooth",role:"log",...t}),cSe=({className:e,...t})=>l.jsx(I4.Content,{className:we("p-4",e),...t}),uSe=({className:e,...t})=>{const{isAtBottom:n,scrollToBottom:r}=rQ(),i=y.useCallback(()=>{r()},[r]);return!n&&l.jsx(ve,{className:we("absolute bottom-4 left-[50%] translate-x-[-50%] rounded-full",e),onClick:i,size:"icon",type:"button",variant:"outline",...t,children:l.jsx(xge,{className:"size-4"})})},dSe=({size:e=16})=>l.jsxs("svg",{height:e,strokeLinejoin:"round",style:{color:"currentcolor"},viewBox:"0 0 16 16",width:e,children:[l.jsx("title",{children:"Loader"}),l.jsxs("g",{clipPath:"url(#clip0_2393_1490)",children:[l.jsx("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M8 16V12",opacity:"0.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M3.29773 1.52783L5.64887 4.7639",opacity:"0.9",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7023 1.52783L10.3511 4.7639",opacity:"0.1",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7023 14.472L10.3511 11.236",opacity:"0.4",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M3.29773 14.472L5.64887 11.236",opacity:"0.6",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M15.6085 5.52783L11.8043 6.7639",opacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.391602 10.472L4.19583 9.23598",opacity:"0.7",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M15.6085 10.4722L11.8043 9.2361",opacity:"0.3",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.391602 5.52783L4.19583 6.7639",opacity:"0.8",stroke:"currentColor",strokeWidth:"1.5"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0_2393_1490",children:l.jsx("rect",{fill:"white",height:"16",width:"16"})})})]}),R4=({className:e,size:t=16,...n})=>l.jsx("div",{className:we("inline-flex animate-spin items-center justify-center",e),...n,children:l.jsx(dSe,{size:t})});var uN={exports:{}},dN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _F;function fSe(){if(_F)return dN;_F=1;var e=eg();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function o(f,h){var p=h(),v=r({inst:{value:p,getSnapshot:h}}),x=v[0].inst,b=v[1];return s(function(){x.value=p,x.getSnapshot=h,c(x)&&b({inst:x})},[f,p,h]),i(function(){return c(x)&&b({inst:x}),f(function(){c(x)&&b({inst:x})})},[f]),a(p),p}function c(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!n(f,p)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return dN.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,dN}var CF;function iQ(){return CF||(CF=1,uN.exports=fSe()),uN.exports}var hSe=iQ();function mSe(){return hSe.useSyncExternalStore(pSe,()=>!0,()=>!1)}function pSe(){return()=>{}}var SP="Avatar",[gSe]=hs(SP),[vSe,sQ]=gSe(SP),aQ=y.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=y.useState("idle");return l.jsx(vSe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:l.jsx(Lt.span,{...r,ref:t})})});aQ.displayName=SP;var oQ="AvatarImage",ySe=y.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,a=sQ(oQ,n),o=xSe(r,s),c=Al(u=>{i(u),a.onImageLoadingStatusChange(u)});return ki(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(Lt.img,{...s,ref:t,src:r}):null});ySe.displayName=oQ;var lQ="AvatarFallback",cQ=y.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=sQ(lQ,n),[a,o]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?l.jsx(Lt.span,{...i,ref:t}):null});cQ.displayName=lQ;function NF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xSe(e,{referrerPolicy:t,crossOrigin:n}){const r=mSe(),i=y.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=y.useState(()=>NF(s,e));return ki(()=>{o(NF(s,e))},[s,e]),ki(()=>{const c=f=>()=>{o(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,t]),a}var bSe=aQ,wSe=cQ;function Yv({className:e,...t}){return l.jsx(bSe,{"data-slot":"avatar",className:we("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function Xv({className:e,...t}){return l.jsx(wSe,{"data-slot":"avatar-fallback",className:we("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const uQ=({className:e,from:t,...n})=>l.jsx("div",{className:we("group flex w-full items-end gap-2 py-4",t==="user"?"is-user justify-end":"is-assistant flex-row-reverse justify-start",e),...n}),ESe=sg("is-user:dark flex flex-col gap-2 overflow-hidden rounded-lg text-sm break-words",{variants:{variant:{contained:["min-w-[200px] max-w-[80%] px-4 py-3","group-[.is-user]:bg-secondary group-[.is-user]:text-secondary-foreground","group-[.is-assistant]:bg-secondary group-[.is-assistant]:text-foreground"],flat:["group-[.is-user]:min-w-[200px] group-[.is-user]:max-w-[80%] group-[.is-user]:bg-secondary group-[.is-user]:px-4 group-[.is-user]:py-3 group-[.is-user]:text-foreground","group-[.is-assistant]:text-foreground"]}},defaultVariants:{variant:"contained"}}),dQ=({children:e,className:t,variant:n,...r})=>l.jsx("div",{className:we(ESe({variant:n,className:t})),...r,children:e});function kP(e){const t=e+"CollectionProvider",[n,r]=hs(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:b,children:w}=x,E=Xe.useRef(null),k=Xe.useRef(new Map).current;return l.jsx(i,{scope:b,itemMap:k,collectionRef:E,children:w})};a.displayName=t;const o=e+"CollectionSlot",c=mf(o),u=Xe.forwardRef((x,b)=>{const{scope:w,children:E}=x,k=s(o,w),_=Nn(b,k.collectionRef);return l.jsx(c,{ref:_,children:E})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=mf(d),p=Xe.forwardRef((x,b)=>{const{scope:w,children:E,...k}=x,_=Xe.useRef(null),A=Nn(b,_),T=s(d,w);return Xe.useEffect(()=>(T.itemMap.set(_,{ref:_,...k}),()=>void T.itemMap.delete(_))),l.jsx(h,{[f]:"",ref:A,children:E})});p.displayName=d;function v(x){const b=s(e+"CollectionConsumer",x);return Xe.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((T,C)=>k.indexOf(T.ref.current)-k.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},v,r]}var SSe=y.createContext(void 0);function JS(e){const t=y.useContext(SSe);return e||t||"ltr"}var fN=0;function ek(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??TF()),document.body.insertAdjacentElement("beforeend",e[1]??TF()),fN++,()=>{fN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fN--}},[])}function TF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hN="focusScope.autoFocusOnMount",mN="focusScope.autoFocusOnUnmount",AF={bubbles:!1,cancelable:!0},kSe="FocusScope",ix=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=y.useState(null),u=Al(i),d=Al(s),f=y.useRef(null),h=Nn(t,x=>c(x)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let x=function(k){if(p.paused||!o)return;const _=k.target;o.contains(_)?f.current=_:Ad(f.current,{select:!0})},b=function(k){if(p.paused||!o)return;const _=k.relatedTarget;_!==null&&(o.contains(_)||Ad(f.current,{select:!0}))},w=function(k){if(document.activeElement===document.body)for(const A of k)A.removedNodes.length>0&&Ad(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const E=new MutationObserver(w);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),E.disconnect()}}},[r,o,p.paused]),y.useEffect(()=>{if(o){PF.add(p);const x=document.activeElement;if(!o.contains(x)){const w=new CustomEvent(hN,AF);o.addEventListener(hN,u),o.dispatchEvent(w),w.defaultPrevented||(_Se(jSe(fQ(o)),{select:!0}),document.activeElement===x&&Ad(o))}return()=>{o.removeEventListener(hN,u),setTimeout(()=>{const w=new CustomEvent(mN,AF);o.addEventListener(mN,d),o.dispatchEvent(w),w.defaultPrevented||Ad(x??document.body,{select:!0}),o.removeEventListener(mN,d),PF.remove(p)},0)}}},[o,u,d,p]);const v=y.useCallback(x=>{if(!n&&!r||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(b&&w){const E=x.currentTarget,[k,_]=CSe(E);k&&_?!x.shiftKey&&w===_?(x.preventDefault(),n&&Ad(k,{select:!0})):x.shiftKey&&w===k&&(x.preventDefault(),n&&Ad(_,{select:!0})):w===E&&x.preventDefault()}},[n,r,p.paused]);return l.jsx(Lt.div,{tabIndex:-1,...a,ref:h,onKeyDown:v})});ix.displayName=kSe;function _Se(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ad(r,{select:t}),document.activeElement!==n)return}function CSe(e){const t=fQ(e),n=jF(t,e),r=jF(t.reverse(),e);return[n,r]}function fQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jF(e,t){for(const n of e)if(!NSe(n,{upTo:t}))return n}function NSe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TSe(e){return e instanceof HTMLInputElement&&"select"in e}function Ad(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&TSe(e)&&t&&e.select()}}var PF=ASe();function ASe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=IF(e,t),e.unshift(t)},remove(t){var n;e=IF(e,t),(n=e[0])==null||n.resume()}}}function IF(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jSe(e){return e.filter(t=>t.tagName!=="A")}var pN="rovingFocusGroup.onEntryFocus",PSe={bubbles:!1,cancelable:!0},sx="RovingFocusGroup",[Y6,hQ,ISe]=kP(sx),[RSe,tk]=hs(sx,[ISe]),[MSe,OSe]=RSe(sx),mQ=y.forwardRef((e,t)=>l.jsx(Y6.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Y6.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(DSe,{...e,ref:t})})}));mQ.displayName=sx;var DSe=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=Nn(t,h),v=JS(s),[x,b]=ba({prop:a,defaultProp:o??null,onChange:c,caller:sx}),[w,E]=y.useState(!1),k=Al(u),_=hQ(n),A=y.useRef(!1),[T,C]=y.useState(0);return y.useEffect(()=>{const I=h.current;if(I)return I.addEventListener(pN,k),()=>I.removeEventListener(pN,k)},[k]),l.jsx(MSe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:y.useCallback(I=>b(I),[b]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:y.useCallback(()=>C(I=>I-1),[]),children:l.jsx(Lt.div,{tabIndex:w||T===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:gt(e.onMouseDown,()=>{A.current=!0}),onFocus:gt(e.onFocus,I=>{const B=!A.current;if(I.target===I.currentTarget&&B&&!w){const $=new CustomEvent(pN,PSe);if(I.currentTarget.dispatchEvent($),!$.defaultPrevented){const L=_().filter(W=>W.focusable),U=L.find(W=>W.active),Y=L.find(W=>W.id===x),K=[U,Y,...L].filter(Boolean).map(W=>W.ref.current);vQ(K,d)}}A.current=!1}),onBlur:gt(e.onBlur,()=>E(!1))})})}),pQ="RovingFocusGroupItem",gQ=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=e,c=Li(),u=s||c,d=OSe(pQ,n),f=d.currentTabStopId===u,h=hQ(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:x}=d;return y.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),l.jsx(Y6.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:l.jsx(Lt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:gt(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:gt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:gt(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=$Se(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let k=h().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")k.reverse();else if(w==="prev"||w==="next"){w==="prev"&&k.reverse();const _=k.indexOf(b.currentTarget);k=d.loop?zSe(k,_+1):k.slice(_+1)}setTimeout(()=>vQ(k))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});gQ.displayName=pQ;var LSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $Se(e,t,n){const r=FSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LSe[r]}function vQ(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function zSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yQ=mQ,xQ=gQ,BSe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pm=new WeakMap,Rw=new WeakMap,Mw={},gN=0,bQ=function(e){return e&&(e.host||bQ(e.parentNode))},USe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=bQ(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},HSe=function(e,t,n,r){var i=USe(t,Array.isArray(e)?e:[e]);Mw[n]||(Mw[n]=new WeakMap);var s=Mw[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),v=p!==null&&p!=="false",x=(pm.get(h)||0)+1,b=(s.get(h)||0)+1;pm.set(h,x),s.set(h,b),a.push(h),x===1&&v&&Rw.set(h,!0),b===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),o.clear(),gN++,function(){a.forEach(function(f){var h=pm.get(f)-1,p=s.get(f)-1;pm.set(f,h),s.set(f,p),h||(Rw.has(f)||f.removeAttribute(r),Rw.delete(f)),p||f.removeAttribute(n)}),gN--,gN||(pm=new WeakMap,pm=new WeakMap,Rw=new WeakMap,Mw={})}},nk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=BSe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),HSe(r,i,n,"aria-hidden")):function(){return null}},sc=function(){return sc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sc.apply(this,arguments)};function wQ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function VSe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var W2="right-scroll-bar-position",G2="width-before-scroll-bar",qSe="with-scroll-bars-hidden",WSe="--removed-body-scroll-bar-size";function vN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GSe(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var KSe=typeof window<"u"?y.useLayoutEffect:y.useEffect,RF=new WeakMap;function YSe(e,t){var n=GSe(null,function(r){return e.forEach(function(i){return vN(i,r)})});return KSe(function(){var r=RF.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||vN(o,null)}),s.forEach(function(o){i.has(o)||vN(o,a)})}RF.set(n,e)},[e]),n}function XSe(e){return e}function QSe(e,t){t===void 0&&(t=XSe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function ZSe(e){e===void 0&&(e={});var t=QSe(null);return t.options=sc({async:!0,ssr:!1},e),t}var EQ=function(e){var t=e.sideCar,n=wQ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,sc({},n))};EQ.isSideCarExport=!0;function JSe(e,t){return e.useMedium(t),EQ}var SQ=ZSe(),yN=function(){},rk=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:yN,onWheelCapture:yN,onTouchMoveCapture:yN}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,v=e.noIsolation,x=e.inert,b=e.allowPinchZoom,w=e.as,E=w===void 0?"div":w,k=e.gapMode,_=wQ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=h,T=YSe([n,t]),C=sc(sc({},_),i);return y.createElement(y.Fragment,null,d&&y.createElement(A,{sideCar:SQ,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:k}),a?y.cloneElement(y.Children.only(o),sc(sc({},C),{ref:T})):y.createElement(E,sc({},C,{className:c,ref:T}),o))});rk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rk.classNames={fullWidth:G2,zeroRight:W2};var eke=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tke(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eke();return t&&e.setAttribute("nonce",t),e}function nke(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rke(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ike=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tke())&&(nke(t,n),rke(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ske=function(){var e=ike();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kQ=function(){var e=ske(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},ake={left:0,top:0,right:0,gap:0},xN=function(e){return parseInt(e||"",10)||0},oke=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[xN(n),xN(r),xN(i)]},lke=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ake;var t=oke(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cke=kQ(),ep="data-scroll-locked",uke=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qSe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ep,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(W2,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(G2,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(W2," .").concat(W2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(G2," .").concat(G2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ep,`] {
    `).concat(WSe,": ").concat(o,`px;
  }
`)},MF=function(){var e=parseInt(document.body.getAttribute(ep)||"0",10);return isFinite(e)?e:0},dke=function(){y.useEffect(function(){return document.body.setAttribute(ep,(MF()+1).toString()),function(){var e=MF()-1;e<=0?document.body.removeAttribute(ep):document.body.setAttribute(ep,e.toString())}},[])},fke=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;dke();var s=y.useMemo(function(){return lke(i)},[i]);return y.createElement(cke,{styles:uke(s,!t,i,n?"":"!important")})},X6=!1;if(typeof window<"u")try{var Ow=Object.defineProperty({},"passive",{get:function(){return X6=!0,!0}});window.addEventListener("test",Ow,Ow),window.removeEventListener("test",Ow,Ow)}catch{X6=!1}var gm=X6?{passive:!1}:!1,hke=function(e){return e.tagName==="TEXTAREA"},_Q=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!hke(e)&&n[t]==="visible")},mke=function(e){return _Q(e,"overflowY")},pke=function(e){return _Q(e,"overflowX")},OF=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CQ(e,r);if(i){var s=NQ(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gke=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},vke=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},CQ=function(e,t){return e==="v"?mke(t):pke(t)},NQ=function(e,t){return e==="v"?gke(t):vke(t)},yke=function(e,t){return e==="h"&&t==="rtl"?-1:1},xke=function(e,t,n,r,i){var s=yke(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var p=NQ(e,o),v=p[0],x=p[1],b=p[2],w=x-b-s*v;(v||w)&&CQ(e,o)&&(f+=w,h+=v);var E=o.parentNode;o=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Dw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DF=function(e){return[e.deltaX,e.deltaY]},LF=function(e){return e&&"current"in e?e.current:e},bke=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wke=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eke=0,vm=[];function Ske(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(Eke++)[0],s=y.useState(kQ)[0],a=y.useRef(e);y.useEffect(function(){a.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=VSe([e.lockRef.current],(e.shards||[]).map(LF),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=y.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var w=Dw(x),E=n.current,k="deltaX"in x?x.deltaX:E[0]-w[0],_="deltaY"in x?x.deltaY:E[1]-w[1],A,T=x.target,C=Math.abs(k)>Math.abs(_)?"h":"v";if("touches"in x&&C==="h"&&T.type==="range")return!1;var I=OF(C,T);if(!I)return!0;if(I?A=C:(A=C==="v"?"h":"v",I=OF(C,T)),!I)return!1;if(!r.current&&"changedTouches"in x&&(k||_)&&(r.current=A),!A)return!0;var B=r.current||A;return xke(B,b,x,B==="h"?k:_)},[]),c=y.useCallback(function(x){var b=x;if(!(!vm.length||vm[vm.length-1]!==s)){var w="deltaY"in b?DF(b):Dw(b),E=t.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&bke(A.delta,w)})[0];if(E&&E.should){b.cancelable&&b.preventDefault();return}if(!E){var k=(a.current.shards||[]).map(LF).filter(Boolean).filter(function(A){return A.contains(b.target)}),_=k.length>0?o(b,k[0]):!a.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(x,b,w,E){var k={name:x,delta:b,target:w,should:E,shadowParent:kke(w)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(_){return _!==k})},1)},[]),d=y.useCallback(function(x){n.current=Dw(x),r.current=void 0},[]),f=y.useCallback(function(x){u(x.type,DF(x),x.target,o(x,e.lockRef.current))},[]),h=y.useCallback(function(x){u(x.type,Dw(x),x.target,o(x,e.lockRef.current))},[]);y.useEffect(function(){return vm.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,gm),document.addEventListener("touchmove",c,gm),document.addEventListener("touchstart",d,gm),function(){vm=vm.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,gm),document.removeEventListener("touchmove",c,gm),document.removeEventListener("touchstart",d,gm)}},[]);var p=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(s,{styles:wke(i)}):null,p?y.createElement(fke,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kke(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _ke=JSe(SQ,Ske);var ax=y.forwardRef(function(e,t){return y.createElement(rk,sc({},e,{ref:t,sideCar:_ke}))});ax.classNames=rk.classNames;var Q6=["Enter"," "],Cke=["ArrowDown","PageUp","Home"],TQ=["ArrowUp","PageDown","End"],Nke=[...Cke,...TQ],Tke={ltr:[...Q6,"ArrowRight"],rtl:[...Q6,"ArrowLeft"]},Ake={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ox="Menu",[Qv,jke,Pke]=kP(ox),[A0,AQ]=hs(ox,[Pke,Tc,tk]),ik=Tc(),jQ=tk(),[Ike,j0]=A0(ox),[Rke,lx]=A0(ox),PQ=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,o=ik(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Al(s),h=JS(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(ex,{...o,children:l.jsx(Ike,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Rke,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};PQ.displayName=ox;var Mke="MenuAnchor",_P=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return l.jsx(mg,{...i,...r,ref:t})});_P.displayName=Mke;var CP="MenuPortal",[Oke,IQ]=A0(CP,{forceMount:void 0}),RQ=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=j0(CP,t);return l.jsx(Oke,{scope:t,forceMount:n,children:l.jsx(ms,{present:n||s.open,children:l.jsx(T0,{asChild:!0,container:i,children:r})})})};RQ.displayName=CP;var Mo="MenuContent",[Dke,NP]=A0(Mo),MQ=y.forwardRef((e,t)=>{const n=IQ(Mo,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=j0(Mo,e.__scopeMenu),a=lx(Mo,e.__scopeMenu);return l.jsx(Qv.Provider,{scope:e.__scopeMenu,children:l.jsx(ms,{present:r||s.open,children:l.jsx(Qv.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(Lke,{...i,ref:t}):l.jsx(Fke,{...i,ref:t})})})})}),Lke=y.forwardRef((e,t)=>{const n=j0(Mo,e.__scopeMenu),r=y.useRef(null),i=Nn(t,r);return y.useEffect(()=>{const s=r.current;if(s)return nk(s)},[]),l.jsx(TP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:gt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Fke=y.forwardRef((e,t)=>{const n=j0(Mo,e.__scopeMenu);return l.jsx(TP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$ke=mf("MenuContent.ScrollLock"),TP=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...x}=e,b=j0(Mo,n),w=lx(Mo,n),E=ik(n),k=jQ(n),_=jke(n),[A,T]=y.useState(null),C=y.useRef(null),I=Nn(t,C,b.onContentChange),B=y.useRef(0),$=y.useRef(""),L=y.useRef(0),U=y.useRef(null),Y=y.useRef("right"),V=y.useRef(0),K=v?ax:y.Fragment,W=v?{as:$ke,allowPinchZoom:!0}:void 0,J=G=>{var Q,te;const j=$.current+G,M=_().filter(ie=>!ie.disabled),z=document.activeElement,O=(Q=M.find(ie=>ie.ref.current===z))==null?void 0:Q.textValue,X=M.map(ie=>ie.textValue),ne=Qke(X,j,O),re=(te=M.find(ie=>ie.textValue===ne))==null?void 0:te.ref.current;(function ie(fe){$.current=fe,window.clearTimeout(B.current),fe!==""&&(B.current=window.setTimeout(()=>ie(""),1e3))})(j),re&&setTimeout(()=>re.focus())};y.useEffect(()=>()=>window.clearTimeout(B.current),[]),ek();const q=y.useCallback(G=>{var M,z;return Y.current===((M=U.current)==null?void 0:M.side)&&Jke(G,(z=U.current)==null?void 0:z.area)},[]);return l.jsx(Dke,{scope:n,searchRef:$,onItemEnter:y.useCallback(G=>{q(G)&&G.preventDefault()},[q]),onItemLeave:y.useCallback(G=>{var j;q(G)||((j=C.current)==null||j.focus(),T(null))},[q]),onTriggerLeave:y.useCallback(G=>{q(G)&&G.preventDefault()},[q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:y.useCallback(G=>{U.current=G},[]),children:l.jsx(K,{...W,children:l.jsx(ix,{asChild:!0,trapped:i,onMountAutoFocus:gt(s,G=>{var j;G.preventDefault(),(j=C.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(N0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(yQ,{asChild:!0,...k,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:T,onEntryFocus:gt(c,G=>{w.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(tx,{role:"menu","aria-orientation":"vertical","data-state":XQ(b.open),"data-radix-menu-content":"",dir:w.dir,...E,...x,ref:I,style:{outline:"none",...x.style},onKeyDown:gt(x.onKeyDown,G=>{const M=G.target.closest("[data-radix-menu-content]")===G.currentTarget,z=G.ctrlKey||G.altKey||G.metaKey,O=G.key.length===1;M&&(G.key==="Tab"&&G.preventDefault(),!z&&O&&J(G.key));const X=C.current;if(G.target!==X||!Nke.includes(G.key))return;G.preventDefault();const re=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);TQ.includes(G.key)&&re.reverse(),Yke(re)}),onBlur:gt(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:gt(e.onPointerMove,Zv(G=>{const j=G.target,M=V.current!==G.clientX;if(G.currentTarget.contains(j)&&M){const z=G.clientX>V.current?"right":"left";Y.current=z,V.current=G.clientX}}))})})})})})})});MQ.displayName=Mo;var zke="MenuGroup",AP=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Lt.div,{role:"group",...r,ref:t})});AP.displayName=zke;var Bke="MenuLabel",OQ=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Lt.div,{...r,ref:t})});OQ.displayName=Bke;var M4="MenuItem",FF="menu.itemSelect",sk=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=y.useRef(null),a=lx(M4,e.__scopeMenu),o=NP(M4,e.__scopeMenu),c=Nn(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(FF,{bubbles:!0,cancelable:!0});f.addEventListener(FF,p=>r==null?void 0:r(p),{once:!0}),gX(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(DQ,{...i,ref:c,disabled:n,onClick:gt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:gt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:gt(e.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Q6.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});sk.displayName=M4;var DQ=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=NP(M4,n),o=jQ(n),c=y.useRef(null),u=Nn(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[s.children]),l.jsx(Qv.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:l.jsx(xQ,{asChild:!0,...o,focusable:!r,children:l.jsx(Lt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:gt(e.onPointerMove,Zv(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:gt(e.onPointerLeave,Zv(v=>a.onItemLeave(v))),onFocus:gt(e.onFocus,()=>f(!0)),onBlur:gt(e.onBlur,()=>f(!1))})})})}),Uke="MenuCheckboxItem",LQ=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(UQ,{scope:e.__scopeMenu,checked:n,children:l.jsx(sk,{role:"menuitemcheckbox","aria-checked":O4(n)?"mixed":n,...i,ref:t,"data-state":PP(n),onSelect:gt(i.onSelect,()=>r==null?void 0:r(O4(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LQ.displayName=Uke;var FQ="MenuRadioGroup",[Hke,Vke]=A0(FQ,{value:void 0,onValueChange:()=>{}}),$Q=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Al(r);return l.jsx(Hke,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(AP,{...i,ref:t})})});$Q.displayName=FQ;var zQ="MenuRadioItem",BQ=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=Vke(zQ,e.__scopeMenu),s=n===i.value;return l.jsx(UQ,{scope:e.__scopeMenu,checked:s,children:l.jsx(sk,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":PP(s),onSelect:gt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});BQ.displayName=zQ;var jP="MenuItemIndicator",[UQ,qke]=A0(jP,{checked:!1}),HQ=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=qke(jP,n);return l.jsx(ms,{present:r||O4(s.checked)||s.checked===!0,children:l.jsx(Lt.span,{...i,ref:t,"data-state":PP(s.checked)})})});HQ.displayName=jP;var Wke="MenuSeparator",VQ=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});VQ.displayName=Wke;var Gke="MenuArrow",qQ=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ik(n);return l.jsx(nx,{...i,...r,ref:t})});qQ.displayName=Gke;var Kke="MenuSub",[F2t,WQ]=A0(Kke),Q1="MenuSubTrigger",GQ=y.forwardRef((e,t)=>{const n=j0(Q1,e.__scopeMenu),r=lx(Q1,e.__scopeMenu),i=WQ(Q1,e.__scopeMenu),s=NP(Q1,e.__scopeMenu),a=y.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(_P,{asChild:!0,...u,children:l.jsx(DQ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":XQ(n.open),...e,ref:Cu(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:gt(e.onPointerMove,Zv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:gt(e.onPointerLeave,Zv(f=>{var p,v;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const x=(v=n.content)==null?void 0:v.dataset.side,b=x==="right",w=b?-5:5,E=h[b?"left":"right"],k=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:E,y:h.top},{x:k,y:h.top},{x:k,y:h.bottom},{x:E,y:h.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:gt(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Tke[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});GQ.displayName=Q1;var KQ="MenuSubContent",YQ=y.forwardRef((e,t)=>{const n=IQ(Mo,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=j0(Mo,e.__scopeMenu),a=lx(Mo,e.__scopeMenu),o=WQ(KQ,e.__scopeMenu),c=y.useRef(null),u=Nn(t,c);return l.jsx(Qv.Provider,{scope:e.__scopeMenu,children:l.jsx(ms,{present:r||s.open,children:l.jsx(Qv.Slot,{scope:e.__scopeMenu,children:l.jsx(TP,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:gt(e.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:gt(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:gt(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Ake[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});YQ.displayName=KQ;function XQ(e){return e?"open":"closed"}function O4(e){return e==="indeterminate"}function PP(e){return O4(e)?"indeterminate":e?"checked":"unchecked"}function Yke(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Xke(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Qke(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Xke(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Zke(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],c=t[a],u=o.x,d=o.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Jke(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Zke(n,t)}function Zv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var e3e=PQ,t3e=_P,n3e=RQ,r3e=MQ,i3e=AP,s3e=OQ,a3e=sk,o3e=LQ,l3e=$Q,c3e=BQ,u3e=HQ,d3e=VQ,f3e=qQ,h3e=GQ,m3e=YQ,ak="DropdownMenu",[p3e]=hs(ak,[AQ]),Zs=AQ(),[g3e,QQ]=p3e(ak),ZQ=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,c=Zs(t),u=y.useRef(null),[d,f]=ba({prop:i,defaultProp:s??!1,onChange:a,caller:ak});return l.jsx(g3e,{scope:t,triggerId:Li(),triggerRef:u,contentId:Li(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(e3e,{...c,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};ZQ.displayName=ak;var JQ="DropdownMenuTrigger",eZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=QQ(JQ,n),a=Zs(n);return l.jsx(t3e,{asChild:!0,...a,children:l.jsx(Lt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cu(t,s.triggerRef),onPointerDown:gt(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:gt(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});eZ.displayName=JQ;var v3e="DropdownMenuPortal",tZ=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zs(t);return l.jsx(n3e,{...r,...n})};tZ.displayName=v3e;var nZ="DropdownMenuContent",rZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=QQ(nZ,n),s=Zs(n),a=y.useRef(!1);return l.jsx(r3e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:gt(e.onCloseAutoFocus,o=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:gt(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rZ.displayName=nZ;var y3e="DropdownMenuGroup",x3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(i3e,{...i,...r,ref:t})});x3e.displayName=y3e;var b3e="DropdownMenuLabel",w3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(s3e,{...i,...r,ref:t})});w3e.displayName=b3e;var E3e="DropdownMenuItem",iZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(a3e,{...i,...r,ref:t})});iZ.displayName=E3e;var S3e="DropdownMenuCheckboxItem",sZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(o3e,{...i,...r,ref:t})});sZ.displayName=S3e;var k3e="DropdownMenuRadioGroup",_3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(l3e,{...i,...r,ref:t})});_3e.displayName=k3e;var C3e="DropdownMenuRadioItem",N3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(c3e,{...i,...r,ref:t})});N3e.displayName=C3e;var T3e="DropdownMenuItemIndicator",aZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(u3e,{...i,...r,ref:t})});aZ.displayName=T3e;var A3e="DropdownMenuSeparator",oZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(d3e,{...i,...r,ref:t})});oZ.displayName=A3e;var j3e="DropdownMenuArrow",P3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(f3e,{...i,...r,ref:t})});P3e.displayName=j3e;var I3e="DropdownMenuSubTrigger",R3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(h3e,{...i,...r,ref:t})});R3e.displayName=I3e;var M3e="DropdownMenuSubContent",O3e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zs(n);return l.jsx(m3e,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O3e.displayName=M3e;var D3e=ZQ,L3e=eZ,F3e=tZ,$3e=rZ,z3e=iZ,B3e=sZ,U3e=aZ,H3e=oZ;function ei({...e}){return l.jsx(D3e,{"data-slot":"dropdown-menu",...e})}function ti({...e}){return l.jsx(L3e,{"data-slot":"dropdown-menu-trigger",...e})}function ni({className:e,sideOffset:t=4,...n}){return l.jsx(F3e,{children:l.jsx($3e,{"data-slot":"dropdown-menu-content",sideOffset:t,className:we("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 space-y-1 shadow-md",e),...n})})}function Jt({className:e,inset:t,variant:n="default",...r}){return l.jsx(z3e,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:we("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function qc({className:e,children:t,checked:n,...r}){return l.jsxs(B3e,{"data-slot":"dropdown-menu-checkbox-item",className:we("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),checked:n,...r,children:[l.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:l.jsx(U3e,{children:l.jsx(or,{className:"size-4"})})}),t]})}function IP({className:e,...t}){return l.jsx(H3e,{"data-slot":"dropdown-menu-separator",className:we("bg-border -mx-1 my-1 h-px",e),...t})}function $F(e,[t,n]){return Math.min(n,Math.max(t,e))}function RP(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var V3e=[" ","Enter","ArrowUp","ArrowDown"],q3e=[" ","Enter"],e0="Select",[ok,lk,W3e]=kP(e0),[pg]=hs(e0,[W3e,Tc]),ck=Tc(),[G3e,Af]=pg(e0),[K3e,Y3e]=pg(e0),lZ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,x=ck(t),[b,w]=y.useState(null),[E,k]=y.useState(null),[_,A]=y.useState(!1),T=JS(u),[C,I]=ba({prop:r,defaultProp:i??!1,onChange:s,caller:e0}),[B,$]=ba({prop:a,defaultProp:o,onChange:c,caller:e0}),L=y.useRef(null),U=b?v||!!b.closest("form"):!0,[Y,V]=y.useState(new Set),K=Array.from(Y).map(W=>W.props.value).join(";");return l.jsx(ex,{...x,children:l.jsxs(G3e,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:Li(),value:B,onValueChange:$,open:C,onOpenChange:I,dir:T,triggerPointerDownPosRef:L,disabled:h,children:[l.jsx(ok.Provider,{scope:t,children:l.jsx(K3e,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(W=>{V(J=>new Set(J).add(W))},[]),onNativeOptionRemove:y.useCallback(W=>{V(J=>{const q=new Set(J);return q.delete(W),q})},[]),children:n})}),U?l.jsxs(jZ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:B,onChange:W=>$(W.target.value),disabled:h,form:v,children:[B===void 0?l.jsx("option",{value:""}):null,Array.from(Y)]},K):null]})})};lZ.displayName=e0;var cZ="SelectTrigger",uZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=ck(n),a=Af(cZ,n),o=a.disabled||r,c=Nn(t,a.onTriggerChange),u=lk(n),d=y.useRef("touch"),[f,h,p]=IZ(x=>{const b=u().filter(k=>!k.disabled),w=b.find(k=>k.value===a.value),E=RZ(b,x,w);E!==void 0&&a.onValueChange(E.value)}),v=x=>{o||(a.onOpenChange(!0),p()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(mg,{asChild:!0,...s,children:l.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":PZ(a.value)?"":void 0,...i,ref:c,onClick:gt(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:gt(i.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:gt(i.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(b&&x.key===" ")&&V3e.includes(x.key)&&(v(),x.preventDefault())})})})});uZ.displayName=cZ;var dZ="SelectValue",fZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=Af(dZ,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Nn(t,c.onValueNodeChange);return ki(()=>{u(d)},[u,d]),l.jsx(Lt.span,{...o,ref:f,style:{pointerEvents:"none"},children:PZ(c.value)?l.jsx(l.Fragment,{children:a}):s})});fZ.displayName=dZ;var X3e="SelectIcon",hZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(Lt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});hZ.displayName=X3e;var Q3e="SelectPortal",mZ=e=>l.jsx(T0,{asChild:!0,...e});mZ.displayName=Q3e;var t0="SelectContent",pZ=y.forwardRef((e,t)=>{const n=Af(t0,e.__scopeSelect),[r,i]=y.useState();if(ki(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?E0.createPortal(l.jsx(gZ,{scope:e.__scopeSelect,children:l.jsx(ok.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(vZ,{...e,ref:t})});pZ.displayName=t0;var el=10,[gZ,jf]=pg(t0),Z3e="SelectContentImpl",J3e=mf("SelectContent.RemoveScroll"),vZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:b,...w}=e,E=Af(t0,n),[k,_]=y.useState(null),[A,T]=y.useState(null),C=Nn(t,Q=>_(Q)),[I,B]=y.useState(null),[$,L]=y.useState(null),U=lk(n),[Y,V]=y.useState(!1),K=y.useRef(!1);y.useEffect(()=>{if(k)return nk(k)},[k]),ek();const W=y.useCallback(Q=>{const[te,...ie]=U().map(ae=>ae.ref.current),[fe]=ie.slice(-1),he=document.activeElement;for(const ae of Q)if(ae===he||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===te&&A&&(A.scrollTop=0),ae===fe&&A&&(A.scrollTop=A.scrollHeight),ae==null||ae.focus(),document.activeElement!==he))return},[U,A]),J=y.useCallback(()=>W([I,k]),[W,I,k]);y.useEffect(()=>{Y&&J()},[Y,J]);const{onOpenChange:q,triggerPointerDownPosRef:G}=E;y.useEffect(()=>{if(k){let Q={x:0,y:0};const te=fe=>{var he,ae;Q={x:Math.abs(Math.round(fe.pageX)-(((he=G.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ae=G.current)==null?void 0:ae.y)??0))}},ie=fe=>{Q.x<=10&&Q.y<=10?fe.preventDefault():k.contains(fe.target)||q(!1),document.removeEventListener("pointermove",te),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ie,{capture:!0})}}},[k,q,G]),y.useEffect(()=>{const Q=()=>q(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[q]);const[j,M]=IZ(Q=>{const te=U().filter(he=>!he.disabled),ie=te.find(he=>he.ref.current===document.activeElement),fe=RZ(te,Q,ie);fe&&setTimeout(()=>fe.ref.current.focus())}),z=y.useCallback((Q,te,ie)=>{const fe=!K.current&&!ie;(E.value!==void 0&&E.value===te||fe)&&(B(Q),fe&&(K.current=!0))},[E.value]),O=y.useCallback(()=>k==null?void 0:k.focus(),[k]),X=y.useCallback((Q,te,ie)=>{const fe=!K.current&&!ie;(E.value!==void 0&&E.value===te||fe)&&L(Q)},[E.value]),ne=r==="popper"?Z6:yZ,re=ne===Z6?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:b}:{};return l.jsx(gZ,{scope:n,content:k,viewport:A,onViewportChange:T,itemRefCallback:z,selectedItem:I,onItemLeave:O,itemTextRefCallback:X,focusSelectedItem:J,selectedItemText:$,position:r,isPositioned:Y,searchRef:j,children:l.jsx(ax,{as:J3e,allowPinchZoom:!0,children:l.jsx(ix,{asChild:!0,trapped:E.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:gt(i,Q=>{var te;(te=E.trigger)==null||te.focus({preventScroll:!0}),Q.preventDefault()}),children:l.jsx(N0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:l.jsx(ne,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Q=>Q.preventDefault(),...w,...re,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:gt(w.onKeyDown,Q=>{const te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!te&&Q.key.length===1&&M(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let fe=U().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const he=Q.target,ae=fe.indexOf(he);fe=fe.slice(ae+1)}setTimeout(()=>W(fe)),Q.preventDefault()}})})})})})})});vZ.displayName=Z3e;var e_e="SelectItemAlignedPosition",yZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Af(t0,n),a=jf(t0,n),[o,c]=y.useState(null),[u,d]=y.useState(null),f=Nn(t,C=>d(C)),h=lk(n),p=y.useRef(!1),v=y.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:w,focusSelectedItem:E}=a,k=y.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&x&&b&&w){const C=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),$=w.getBoundingClientRect();if(s.dir!=="rtl"){const he=$.left-I.left,ae=B.left-he,Pe=C.left-ae,Te=C.width+Pe,Ge=Math.max(Te,I.width),nt=window.innerWidth-el,vt=$F(ae,[el,Math.max(el,nt-Ge)]);o.style.minWidth=Te+"px",o.style.left=vt+"px"}else{const he=I.right-$.right,ae=window.innerWidth-B.right-he,Pe=window.innerWidth-C.right-ae,Te=C.width+Pe,Ge=Math.max(Te,I.width),nt=window.innerWidth-el,vt=$F(ae,[el,Math.max(el,nt-Ge)]);o.style.minWidth=Te+"px",o.style.right=vt+"px"}const L=h(),U=window.innerHeight-el*2,Y=x.scrollHeight,V=window.getComputedStyle(u),K=parseInt(V.borderTopWidth,10),W=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),q=parseInt(V.paddingBottom,10),G=K+W+Y+q+J,j=Math.min(b.offsetHeight*5,G),M=window.getComputedStyle(x),z=parseInt(M.paddingTop,10),O=parseInt(M.paddingBottom,10),X=C.top+C.height/2-el,ne=U-X,re=b.offsetHeight/2,Q=b.offsetTop+re,te=K+W+Q,ie=G-te;if(te<=X){const he=L.length>0&&b===L[L.length-1].ref.current;o.style.bottom="0px";const ae=u.clientHeight-x.offsetTop-x.offsetHeight,Pe=Math.max(ne,re+(he?O:0)+ae+J),Te=te+Pe;o.style.height=Te+"px"}else{const he=L.length>0&&b===L[0].ref.current;o.style.top="0px";const Pe=Math.max(X,K+x.offsetTop+(he?z:0)+re)+ie;o.style.height=Pe+"px",x.scrollTop=te-X+x.offsetTop}o.style.margin=`${el}px 0`,o.style.minHeight=j+"px",o.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,x,b,w,s.dir,r]);ki(()=>k(),[k]);const[_,A]=y.useState();ki(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const T=y.useCallback(C=>{C&&v.current===!0&&(k(),E==null||E(),v.current=!1)},[k,E]);return l.jsx(n_e,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(Lt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yZ.displayName=e_e;var t_e="SelectPopperPosition",Z6=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=el,...s}=e,a=ck(n);return l.jsx(tx,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Z6.displayName=t_e;var[n_e,MP]=pg(t0,{}),J6="SelectViewport",xZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=jf(J6,n),a=MP(J6,n),o=Nn(t,s.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(ok.Slot,{scope:n,children:l.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:gt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-el*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(x,b);if(w<v){const E=w+p,k=Math.min(v,E),_=E-k;f.style.height=k+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xZ.displayName=J6;var bZ="SelectGroup",[r_e,i_e]=pg(bZ),s_e=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Li();return l.jsx(r_e,{scope:n,id:i,children:l.jsx(Lt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});s_e.displayName=bZ;var wZ="SelectLabel",a_e=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=i_e(wZ,n);return l.jsx(Lt.div,{id:i.id,...r,ref:t})});a_e.displayName=wZ;var D4="SelectItem",[o_e,EZ]=pg(D4),SZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=Af(D4,n),c=jf(D4,n),u=o.value===r,[d,f]=y.useState(s??""),[h,p]=y.useState(!1),v=Nn(t,E=>{var k;return(k=c.itemRefCallback)==null?void 0:k.call(c,E,r,i)}),x=Li(),b=y.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(o_e,{scope:n,value:r,disabled:i,textId:x,isSelected:u,onItemTextChange:y.useCallback(E=>{f(k=>k||((E==null?void 0:E.textContent)??"").trim())},[]),children:l.jsx(ok.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(Lt.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:gt(a.onFocus,()=>p(!0)),onBlur:gt(a.onBlur,()=>p(!1)),onClick:gt(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:gt(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:gt(a.onPointerDown,E=>{b.current=E.pointerType}),onPointerMove:gt(a.onPointerMove,E=>{var k;b.current=E.pointerType,i?(k=c.onItemLeave)==null||k.call(c):b.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gt(a.onPointerLeave,E=>{var k;E.currentTarget===document.activeElement&&((k=c.onItemLeave)==null||k.call(c))}),onKeyDown:gt(a.onKeyDown,E=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(q3e.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});SZ.displayName=D4;var Z1="SelectItemText",kZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Af(Z1,n),o=jf(Z1,n),c=EZ(Z1,n),u=Y3e(Z1,n),[d,f]=y.useState(null),h=Nn(t,w=>f(w),c.onItemTextChange,w=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return ki(()=>(x(v),()=>b(v)),[x,b,v]),l.jsxs(l.Fragment,{children:[l.jsx(Lt.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?E0.createPortal(s.children,a.valueNode):null]})});kZ.displayName=Z1;var _Z="SelectItemIndicator",CZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return EZ(_Z,n).isSelected?l.jsx(Lt.span,{"aria-hidden":!0,...r,ref:t}):null});CZ.displayName=_Z;var eA="SelectScrollUpButton",NZ=y.forwardRef((e,t)=>{const n=jf(eA,e.__scopeSelect),r=MP(eA,e.__scopeSelect),[i,s]=y.useState(!1),a=Nn(t,r.onScrollButtonChange);return ki(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(AZ,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});NZ.displayName=eA;var tA="SelectScrollDownButton",TZ=y.forwardRef((e,t)=>{const n=jf(tA,e.__scopeSelect),r=MP(tA,e.__scopeSelect),[i,s]=y.useState(!1),a=Nn(t,r.onScrollButtonChange);return ki(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(AZ,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});TZ.displayName=tA;var AZ=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=jf("SelectScrollButton",n),a=y.useRef(null),o=lk(n),c=y.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),ki(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Lt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:gt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:gt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:gt(i.onPointerLeave,()=>{c()})})}),l_e="SelectSeparator",c_e=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Lt.div,{"aria-hidden":!0,...r,ref:t})});c_e.displayName=l_e;var nA="SelectArrow",u_e=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=ck(n),s=Af(nA,n),a=jf(nA,n);return s.open&&a.position==="popper"?l.jsx(nx,{...i,...r,ref:t}):null});u_e.displayName=nA;var d_e="SelectBubbleInput",jZ=y.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=y.useRef(null),s=Nn(r,i),a=RP(t);return y.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[a,t]),l.jsx(Lt.select,{...n,style:{...zX,...n.style},ref:s,defaultValue:t})});jZ.displayName=d_e;function PZ(e){return e===""||e===void 0}function IZ(e){const t=Al(e),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(a=>{const o=n.current+a;t(o),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(o)},[t]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function RZ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=f_e(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function f_e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var h_e=lZ,m_e=uZ,p_e=fZ,g_e=hZ,v_e=mZ,y_e=pZ,x_e=xZ,MZ=SZ,OZ=kZ,DZ=CZ,b_e=NZ,w_e=TZ;function LZ({...e}){return l.jsx(h_e,{"data-slot":"select",...e})}function FZ({...e}){return l.jsx(p_e,{"data-slot":"select-value",...e})}function $Z({className:e,size:t="default",children:n,...r}){return l.jsxs(m_e,{"data-slot":"select-trigger","data-size":t,className:we("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 w-full",e),...r,children:[n,l.jsx(g_e,{asChild:!0,children:l.jsx(ri,{className:"size-4 opacity-50"})})]})}function zZ({className:e,children:t,position:n="popper",...r}){return l.jsx(v_e,{children:l.jsxs(y_e,{"data-slot":"select-content",className:we("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(S_e,{}),l.jsx(x_e,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(k_e,{})]})})}function E_e({className:e,children:t,...n}){return l.jsxs(MZ,{"data-slot":"select-item",className:we("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(DZ,{children:l.jsx(or,{className:"size-4"})})}),l.jsx(OZ,{children:t})]})}function S_e({className:e,...t}){return l.jsx(b_e,{"data-slot":"select-scroll-up-button",className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(zge,{className:"size-4"})})}function k_e({className:e,...t}){return l.jsx(w_e,{"data-slot":"select-scroll-down-button",className:we("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ri,{className:"size-4"})})}function ll({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:we("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const __e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let C_e=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=__e[n[e]&63];return t};const BZ=y.createContext(null),OP=()=>{const e=y.useContext(BZ);if(!e)throw new Error("usePromptInputAttachments must be used within a PromptInput");return e};function N_e({data:e,className:t,...n}){var i;const r=OP();return l.jsxs("div",{className:we("group relative h-14 w-14 rounded-md border",t),...n,children:[(i=e.mediaType)!=null&&i.startsWith("image/")&&e.url?l.jsx("img",{alt:e.filename||"attachment",className:"size-full rounded-md object-cover",height:56,src:e.url,width:56}):l.jsx("div",{className:"flex size-full items-center justify-center text-muted-foreground",children:l.jsx(ove,{className:"size-4"})}),l.jsx(ve,{"aria-label":"Remove attachment",className:"-right-1.5 -top-1.5 absolute h-6 w-6 rounded-full opacity-0 group-hover:opacity-100",onClick:()=>r.remove(e.id),size:"icon",type:"button",variant:"outline",children:l.jsx(li,{className:"h-3 w-3"})})]},e.id)}function T_e({className:e,children:t,...n}){const r=OP(),[i,s]=y.useState(0),a=y.useRef(null);return y.useLayoutEffect(()=>{const o=a.current;if(!o)return;const c=new ResizeObserver(()=>{s(o.getBoundingClientRect().height)});return c.observe(o),s(o.getBoundingClientRect().height),()=>c.disconnect()},[]),l.jsx("div",{"aria-live":"polite",className:we("overflow-hidden transition-[height] duration-200 ease-out",e),style:{height:r.files.length?i:0},...n,children:l.jsx("div",{className:"flex flex-wrap gap-2 p-3 pt-3",ref:a,children:r.files.map(o=>l.jsx(y.Fragment,{children:t(o)},o.id))})})}const A_e=({className:e,accept:t,multiple:n,globalDrop:r,syncHiddenInput:i,maxFiles:s,maxFileSize:a,onError:o,onSubmit:c,...u})=>{const[d,f]=y.useState([]),h=y.useRef(null),p=y.useRef(null),v=y.useRef(null);y.useEffect(()=>{var I;const C=(I=p.current)==null?void 0:I.closest("form");C instanceof HTMLFormElement&&(v.current=C)},[]);const x=y.useCallback(()=>{var C;(C=h.current)==null||C.click()},[]),b=y.useCallback(C=>!t||t.trim()===""?!0:t.includes("image/*")?C.type.startsWith("image/"):!0,[t]),w=y.useCallback(C=>{const B=Array.from(C).filter(U=>b(U));if(B.length===0){o==null||o({code:"accept",message:"No files match the accepted types."});return}const $=U=>a?U.size<=a:!0,L=B.filter($);if(L.length===0&&B.length>0){o==null||o({code:"max_file_size",message:"All files exceed the maximum size."});return}f(U=>{const Y=typeof s=="number"?Math.max(0,s-U.length):void 0,V=typeof Y=="number"?L.slice(0,Y):L;typeof Y=="number"&&L.length>Y&&(o==null||o({code:"max_files",message:"Too many files. Some were not added."}));const K=[];for(const W of V)K.push({id:C_e(),type:"file",url:URL.createObjectURL(W),mediaType:W.type,filename:W.name});return U.concat(K)})},[b,s,a,o]),E=y.useCallback(C=>{f(I=>{const B=I.find($=>$.id===C);return B!=null&&B.url&&URL.revokeObjectURL(B.url),I.filter($=>$.id!==C)})},[]),k=y.useCallback(()=>{f(C=>{for(const I of C)I.url&&URL.revokeObjectURL(I.url);return[]})},[]);y.useEffect(()=>{i&&h.current&&d.length===0&&(h.current.value="")},[d,i]),y.useEffect(()=>{const C=v.current;if(!C)return;const I=$=>{var L,U;(U=(L=$.dataTransfer)==null?void 0:L.types)!=null&&U.includes("Files")&&$.preventDefault()},B=$=>{var L,U,Y;(U=(L=$.dataTransfer)==null?void 0:L.types)!=null&&U.includes("Files")&&$.preventDefault(),(Y=$.dataTransfer)!=null&&Y.files&&$.dataTransfer.files.length>0&&w($.dataTransfer.files)};return C.addEventListener("dragover",I),C.addEventListener("drop",B),()=>{C.removeEventListener("dragover",I),C.removeEventListener("drop",B)}},[w]),y.useEffect(()=>{if(!r)return;const C=B=>{var $,L;(L=($=B.dataTransfer)==null?void 0:$.types)!=null&&L.includes("Files")&&B.preventDefault()},I=B=>{var $,L,U;(L=($=B.dataTransfer)==null?void 0:$.types)!=null&&L.includes("Files")&&B.preventDefault(),(U=B.dataTransfer)!=null&&U.files&&B.dataTransfer.files.length>0&&w(B.dataTransfer.files)};return document.addEventListener("dragover",C),document.addEventListener("drop",I),()=>{document.removeEventListener("dragover",C),document.removeEventListener("drop",I)}},[w,r]);const _=C=>{C.currentTarget.files&&w(C.currentTarget.files)},A=C=>{C.preventDefault();const I=d.map(({...B})=>({...B}));c({text:C.currentTarget.message.value,files:I},C)},T=y.useMemo(()=>({files:d.map(C=>({...C,id:C.id})),add:w,remove:E,clear:k,openFileDialog:x,fileInputRef:h}),[d,w,E,k,x]);return l.jsxs(BZ.Provider,{value:T,children:[l.jsx("span",{"aria-hidden":"true",className:"hidden",ref:p}),l.jsx("input",{accept:t,className:"hidden",multiple:n,onChange:_,ref:h,type:"file"}),l.jsx("form",{className:we("w-full divide-y overflow-hidden rounded-xl border bg-background shadow-sm",e),onSubmit:A,...u})]})},j_e=({className:e,...t})=>l.jsx("div",{className:we(e,"flex flex-col"),...t}),P_e=({onChange:e,className:t,placeholder:n="What would you like to know?",...r})=>{const i=OP(),s=o=>{if(o.key==="Enter"){if(o.nativeEvent.isComposing||o.shiftKey)return;o.preventDefault();const c=o.currentTarget.form;c&&c.requestSubmit()}},a=o=>{var d;const c=(d=o.clipboardData)==null?void 0:d.items;if(!c)return;const u=[];for(const f of c)if(f.kind==="file"){const h=f.getAsFile();h&&u.push(h)}u.length>0&&(o.preventDefault(),i.add(u))};return l.jsx(ll,{className:we("w-full resize-none rounded-none border-none p-3 shadow-none outline-none ring-0","field-sizing-content bg-transparent dark:bg-transparent","max-h-48 min-h-16","focus-visible:ring-0",t),name:"message",onChange:o=>{e==null||e(o)},onKeyDown:s,onPaste:a,placeholder:n,...r})},I_e=({className:e,...t})=>l.jsx("div",{className:we("flex items-center justify-between p-1",e),...t}),R_e=({className:e,...t})=>l.jsx("div",{className:we("flex items-center gap-1","[&_button:first-child]:rounded-bl-xl",e),...t}),M_e=y.forwardRef(({variant:e="ghost",className:t,size:n,...r},i)=>{const s=n??y.Children.count(r.children)>1?"default":"icon";return l.jsx(ve,{ref:i,className:we("shrink-0 gap-1.5 rounded-lg",e==="ghost"&&"text-muted-foreground",s==="default"&&"px-3",t),size:s,type:"button",variant:e,...r})});M_e.displayName="PromptInputButton";const O_e=({className:e,variant:t="default",size:n="icon",status:r,children:i,...s})=>{let a=l.jsx(vu,{className:"size-4"});return r==="submitted"?a=l.jsx(ds,{className:"size-4 animate-spin"}):r==="streaming"?a=l.jsx(IS,{className:"size-4"}):r==="error"&&(a=l.jsx(li,{className:"size-4"})),l.jsx(ve,{className:we("gap-1.5 rounded-lg",e),size:n,type:"submit",variant:t,...s,children:i??a})};var uk="Collapsible",[D_e]=hs(uk),[L_e,DP]=D_e(uk),UZ=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[c,u]=ba({prop:r,defaultProp:i??!1,onChange:a,caller:uk});return l.jsx(L_e,{scope:n,disabled:s,contentId:Li(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:l.jsx(Lt.div,{"data-state":FP(c),"data-disabled":s?"":void 0,...o,ref:t})})});UZ.displayName=uk;var HZ="CollapsibleTrigger",VZ=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=DP(HZ,n);return l.jsx(Lt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":FP(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:gt(e.onClick,i.onOpenToggle)})});VZ.displayName=HZ;var LP="CollapsibleContent",qZ=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=DP(LP,e.__scopeCollapsible);return l.jsx(ms,{present:n||i.open,children:({present:s})=>l.jsx(F_e,{...r,ref:t,present:s})})});qZ.displayName=LP;var F_e=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=DP(LP,n),[o,c]=y.useState(r),u=y.useRef(null),d=Nn(t,u),f=y.useRef(0),h=f.current,p=y.useRef(0),v=p.current,x=a.open||o,b=y.useRef(x),w=y.useRef(void 0);return y.useEffect(()=>{const E=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(E)},[]),ki(()=>{const E=u.current;if(E){w.current=w.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const k=E.getBoundingClientRect();f.current=k.height,p.current=k.width,b.current||(E.style.transitionDuration=w.current.transitionDuration,E.style.animationName=w.current.animationName),c(r)}},[a.open,r]),l.jsx(Lt.div,{"data-state":FP(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:x&&i})});function FP(e){return e?"open":"closed"}var $_e=UZ;function $P({...e}){return l.jsx($_e,{"data-slot":"collapsible",...e})}function zP({...e}){return l.jsx(VZ,{"data-slot":"collapsible-trigger",...e})}function BP({...e}){return l.jsx(qZ,{"data-slot":"collapsible-content",...e})}const z_e="modulepreload",B_e=function(e){return"/demo-agentic-builder/"+e},zF={},le=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(n.map(u=>{if(u=B_e(u),u in zF)return;zF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":z_e,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function BF(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function UP(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const U_e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H_e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V_e={};function UF(e,t){return(V_e.jsx?H_e:U_e).test(e)}const q_e=/[ \t\n\f\r]/g;function dk(e){return typeof e=="object"?e.type==="text"?HF(e.value):!1:HF(e)}function HF(e){return e.replace(q_e,"")===""}let cx=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};cx.prototype.normal={};cx.prototype.property={};cx.prototype.space=void 0;function WZ(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new cx(n,r,t)}function Jv(e){return e.toLowerCase()}let Sa=class{constructor(t,n){this.attribute=n,this.property=t}};Sa.prototype.attribute="";Sa.prototype.booleanish=!1;Sa.prototype.boolean=!1;Sa.prototype.commaOrSpaceSeparated=!1;Sa.prototype.commaSeparated=!1;Sa.prototype.defined=!1;Sa.prototype.mustUseProperty=!1;Sa.prototype.number=!1;Sa.prototype.overloadedBoolean=!1;Sa.prototype.property="";Sa.prototype.spaceSeparated=!1;Sa.prototype.space=void 0;let W_e=0;const vn=P0(),gi=P0(),rA=P0(),dt=P0(),yr=P0(),tp=P0(),Ra=P0();function P0(){return 2**++W_e}const iA=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:gi,commaOrSpaceSeparated:Ra,commaSeparated:tp,number:dt,overloadedBoolean:rA,spaceSeparated:yr},Symbol.toStringTag,{value:"Module"})),bN=Object.keys(iA);let HP=class extends Sa{constructor(t,n,r,i){let s=-1;if(super(t,n),VF(this,"space",i),typeof r=="number")for(;++s<bN.length;){const a=bN[s];VF(this,bN[s],(r&iA[a])===iA[a])}}};HP.prototype.defined=!0;function VF(e,t,n){n&&(e[t]=n)}function gg(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new HP(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Jv(r)]=r,n[Jv(s.attribute)]=r}return new cx(t,n,e.space)}const GZ=gg({properties:{ariaActiveDescendant:null,ariaAtomic:gi,ariaAutoComplete:null,ariaBusy:gi,ariaChecked:gi,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:yr,ariaCurrent:null,ariaDescribedBy:yr,ariaDetails:null,ariaDisabled:gi,ariaDropEffect:yr,ariaErrorMessage:null,ariaExpanded:gi,ariaFlowTo:yr,ariaGrabbed:gi,ariaHasPopup:null,ariaHidden:gi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yr,ariaLevel:dt,ariaLive:null,ariaModal:gi,ariaMultiLine:gi,ariaMultiSelectable:gi,ariaOrientation:null,ariaOwns:yr,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:gi,ariaReadOnly:gi,ariaRelevant:null,ariaRequired:gi,ariaRoleDescription:yr,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:gi,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function KZ(e,t){return t in e?e[t]:t}function YZ(e,t){return KZ(e,t.toLowerCase())}const G_e=gg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tp,acceptCharset:yr,accessKey:yr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:yr,autoFocus:vn,autoPlay:vn,blocking:yr,capture:null,charSet:null,checked:vn,cite:null,className:yr,cols:dt,colSpan:null,content:null,contentEditable:gi,controls:vn,controlsList:yr,coords:dt|tp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:rA,draggable:gi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:yr,height:dt,hidden:rA,high:dt,href:null,hrefLang:null,htmlFor:yr,httpEquiv:yr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:yr,itemRef:yr,itemScope:vn,itemType:yr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:dt,pattern:null,ping:yr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:yr,required:vn,reversed:vn,rows:dt,rowSpan:dt,sandbox:yr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootClonable:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:gi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:gi,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yr,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:gi,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:YZ}),K_e=gg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ra,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:yr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tp,g2:tp,glyphName:tp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:Ra,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ra,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ra,rev:Ra,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ra,requiredFeatures:Ra,requiredFonts:Ra,requiredFormats:Ra,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:Ra,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ra,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ra,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:KZ}),XZ=gg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),QZ=gg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:YZ}),ZZ=gg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Y_e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},X_e=/[A-Z]/g,qF=/-[a-z]/g,Q_e=/^data[-\w.:]+$/i;function fk(e,t){const n=Jv(t);let r=t,i=Sa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Q_e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(qF,J_e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!qF.test(s)){let a=s.replace(X_e,Z_e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=HP}return new i(r,t)}function Z_e(e){return"-"+e.toLowerCase()}function J_e(e){return e.charAt(1).toUpperCase()}const ux=WZ([GZ,G_e,XZ,QZ,ZZ],"html"),Pf=WZ([GZ,K_e,XZ,QZ,ZZ],"svg");function WF(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function VP(e){return e.join(" ").trim()}var ym={},wN,GF;function eCe(){if(GF)return wN;GF=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,u="/",d="*",f="",h="comment",p="declaration";function v(b,w){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];w=w||{};var E=1,k=1;function _(V){var K=V.match(t);K&&(E+=K.length);var W=V.lastIndexOf(c);k=~W?V.length-W:k+V.length}function A(){var V={line:E,column:k};return function(K){return K.position=new T(V),B(),K}}function T(V){this.start=V,this.end={line:E,column:k},this.source=w.source}T.prototype.content=b;function C(V){var K=new Error(w.source+":"+E+":"+k+": "+V);if(K.reason=V,K.filename=w.source,K.line=E,K.column=k,K.source=b,!w.silent)throw K}function I(V){var K=V.exec(b);if(K){var W=K[0];return _(W),b=b.slice(W.length),K}}function B(){I(n)}function $(V){var K;for(V=V||[];K=L();)K!==!1&&V.push(K);return V}function L(){var V=A();if(!(u!=b.charAt(0)||d!=b.charAt(1))){for(var K=2;f!=b.charAt(K)&&(d!=b.charAt(K)||u!=b.charAt(K+1));)++K;if(K+=2,f===b.charAt(K-1))return C("End of comment missing");var W=b.slice(2,K-2);return k+=2,_(W),b=b.slice(K),k+=2,V({type:h,comment:W})}}function U(){var V=A(),K=I(r);if(K){if(L(),!I(i))return C("property missing ':'");var W=I(s),J=V({type:p,property:x(K[0].replace(e,f)),value:W?x(W[0].replace(e,f)):f});return I(a),J}}function Y(){var V=[];$(V);for(var K;K=U();)K!==!1&&(V.push(K),$(V));return V}return B(),Y()}function x(b){return b?b.replace(o,f):f}return wN=v,wN}var KF;function tCe(){if(KF)return ym;KF=1;var e=ym&&ym.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ym,"__esModule",{value:!0}),ym.default=n;const t=e(eCe());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),o=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:d}=c;o?i(u,d,c):d&&(s=s||{},s[u]=d)}),s}return ym}var k1={},YF;function nCe(){if(YF)return k1;YF=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},a=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),s(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(i,o):u=u.replace(r,o),u.replace(t,a))};return k1.camelCase=c,k1}var _1,XF;function rCe(){if(XF)return _1;XF=1;var e=_1&&_1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(tCe()),n=nCe();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,c){o&&c&&(a[(0,n.camelCase)(o,s)]=c)}),a}return r.default=r,_1=r,_1}var iCe=rCe();const sCe=Xa(iCe),hk=JZ("end"),Ac=JZ("start");function JZ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function aCe(e){const t=Ac(e),n=hk(e);if(t&&n)return{start:t,end:n}}function fv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?QF(e.position):"start"in e||"end"in e?QF(e):"line"in e||"column"in e?sA(e):""}function sA(e){return ZF(e&&e.line)+":"+ZF(e&&e.column)}function QF(e){return sA(e&&e.start)+"-"+sA(e&&e.end)}function ZF(e){return e&&typeof e=="number"?e:1}class Rs extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=fv(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rs.prototype.file="";Rs.prototype.name="";Rs.prototype.reason="";Rs.prototype.message="";Rs.prototype.stack="";Rs.prototype.column=void 0;Rs.prototype.line=void 0;Rs.prototype.ancestors=void 0;Rs.prototype.cause=void 0;Rs.prototype.fatal=void 0;Rs.prototype.place=void 0;Rs.prototype.ruleId=void 0;Rs.prototype.source=void 0;const qP={}.hasOwnProperty,oCe=new Map,lCe=/[A-Z]/g,cCe=new Set(["table","tbody","thead","tfoot","tr"]),uCe=new Set(["td","th"]),eJ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dCe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xCe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yCe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Pf:ux,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=tJ(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function tJ(e,t,n){if(t.type==="element")return fCe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hCe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return pCe(e,t,n);if(t.type==="mdxjsEsm")return mCe(e,t);if(t.type==="root")return gCe(e,t,n);if(t.type==="text")return vCe(e,t)}function fCe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Pf,e.schema=i),e.ancestors.push(t);const s=rJ(e,t.tagName,!1),a=bCe(e,t);let o=GP(e,t);return cCe.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!dk(c):!0})),nJ(e,a,s,t),WP(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function hCe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ey(e,t.position)}function mCe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ey(e,t.position)}function pCe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Pf,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:rJ(e,t.name,!0),a=wCe(e,t),o=GP(e,t);return nJ(e,a,s,t),WP(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function gCe(e,t,n){const r={};return WP(r,GP(e,t)),e.create(t,e.Fragment,r,n)}function vCe(e,t){return t.value}function nJ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function WP(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yCe(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function xCe(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=Ac(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function bCe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&qP.call(t.properties,i)){const s=ECe(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&uCe.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function wCe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else ey(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else ey(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function GP(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:oCe;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=tJ(e,s,a);o!==void 0&&n.push(o)}return n}function ECe(e,t,n){const r=fk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UP(n):VP(n)),r.property==="style"){let i=typeof n=="object"?n:SCe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=kCe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Y_e[r.property]||r.property:r.attribute,n]}}function SCe(e,t){try{return sCe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Rs("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=eJ+"#cannot-parse-style-attribute",i}}function rJ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=UF(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=UF(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return qP.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ey(e)}function ey(e,t){const n=new Rs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=eJ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function kCe(e){const t={};let n;for(n in e)qP.call(e,n)&&(t[_Ce(n)]=e[n]);return t}function _Ce(e){let t=e.replace(lCe,CCe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function CCe(e){return"-"+e.toLowerCase()}const EN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},NCe={};function KP(e,t){const n=NCe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return iJ(e,r,i)}function iJ(e,t,n){if(TCe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return JF(e.children,t,n)}return Array.isArray(e)?JF(e,t,n):""}function JF(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=iJ(e[i],t,n);return r.join("")}function TCe(e){return!!(e&&typeof e=="object")}const e$=document.createElement("i");function YP(e){const t="&"+e+";";e$.innerHTML=t;const n=e$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function qa(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function wo(e,t){return e.length>0?(qa(e,e.length,0,t),e):t}const t$={}.hasOwnProperty;function sJ(e){const t={};let n=-1;for(;++n<e.length;)ACe(t,e[n]);return t}function ACe(e,t){let n;for(n in t){const i=(t$.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){t$.call(i,a)||(i[a]=[]);const o=s[a];jCe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function jCe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qa(e,0,0,r)}function aJ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Sl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vs=If(/[A-Za-z]/),As=If(/[\dA-Za-z]/),PCe=If(/[#-'*+\--9=?A-Z^-~]/);function L4(e){return e!==null&&(e<32||e===127)}const aA=If(/\d/),ICe=If(/[\dA-Fa-f]/),RCe=If(/[!-/:-@[-`{-~]/);function Qt(e){return e!==null&&e<-2}function hr(e){return e!==null&&(e<0||e===32)}function Mn(e){return e===-2||e===-1||e===32}const mk=If(new RegExp("\\p{P}|\\p{S}","u")),n0=If(/\s/);function If(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function vg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&As(e.charCodeAt(n+1))&&As(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Mn(c)?(e.enter(n),o(c)):t(c)}function o(c){return Mn(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const MCe={tokenize:OCe};function OCe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Pn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Qt(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const DCe={tokenize:LCe},n$={tokenize:FCe};function LCe(e){const t=this,n=[];let r=0,i,s,a;return o;function o(k){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,c,u)(k)}return u(k)}function c(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const _=t.events.length;let A=_,T;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){T=t.events[A][1].end;break}w(r);let C=_;for(;C<t.events.length;)t.events[C][1].end={...T},C++;return qa(t.events,A+1,0,t.events.slice(_)),t.events.length=C,u(k)}return o(k)}function u(k){if(r===n.length){if(!i)return h(k);if(i.currentConstruct&&i.currentConstruct.concrete)return v(k);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(n$,d,f)(k)}function d(k){return i&&E(),w(r),h(k)}function f(k){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,v(k)}function h(k){return t.containerState={},e.attempt(n$,p,v)(k)}function p(k){return r++,n.push([t.currentConstruct,t.containerState]),h(k)}function v(k){if(k===null){i&&E(),w(0),e.consume(k);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),x(k)}function x(k){if(k===null){b(e.exit("chunkFlow"),!0),w(0),e.consume(k);return}return Qt(k)?(e.consume(k),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(k),x)}function b(k,_){const A=t.sliceStream(k);if(_&&A.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(A),t.parser.lazy[k.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;const C=t.events.length;let I=C,B,$;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(B){$=t.events[I][1].end;break}B=!0}for(w(r),T=C;T<t.events.length;)t.events[T][1].end={...$},T++;qa(t.events,I+1,0,t.events.slice(C)),t.events.length=T}}function w(k){let _=n.length;for(;_-- >k;){const A=n[_];t.containerState=A[1],A[0].exit.call(t,e)}n.length=k}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function FCe(e,t,n){return Pn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Tp(e){if(e===null||hr(e)||n0(e))return 1;if(mk(e))return 2}function pk(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const oA={name:"attention",resolveAll:$Ce,tokenize:zCe};function $Ce(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};r$(f,-c),r$(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=wo(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=wo(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=wo(u,pk(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=wo(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=wo(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,qa(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zCe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Tp(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=Tp(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(c)}}function r$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const BCe={name:"autolink",tokenize:UCe};function UCe(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Vs(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||As(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||As(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||L4(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):PCe(p)?(e.consume(p),u):n(p)}function d(p){return As(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||As(p))&&r++<63){const v=p===45?h:f;return e.consume(p),v}return n(p)}}const dx={partial:!0,tokenize:HCe};function HCe(e,t,n){return r;function r(s){return Mn(s)?Pn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Qt(s)?t(s):n(s)}}const oJ={continuation:{tokenize:qCe},exit:WCe,name:"blockQuote",tokenize:VCe};function VCe(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Mn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function qCe(e,t,n){const r=this;return i;function i(a){return Mn(a)?Pn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(oJ,t,n)(a)}}function WCe(e){e.exit("blockQuote")}const lJ={name:"characterEscape",tokenize:GCe};function GCe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return RCe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const cJ={name:"characterReference",tokenize:KCe};function KCe(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=As,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=ICe,d):(e.enter("characterReferenceValue"),s=7,a=aA,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===As&&!YP(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const i$={partial:!0,tokenize:XCe},s$={concrete:!0,name:"codeFenced",tokenize:YCe};function YCe(e,t,n){const r=this,i={partial:!0,tokenize:A};let s=0,a=0,o;return c;function c(T){return u(T)}function u(T){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(T)}function d(T){return T===o?(a++,e.consume(T),d):a<3?n(T):(e.exit("codeFencedFenceSequence"),Mn(T)?Pn(e,f,"whitespace")(T):f(T))}function f(T){return T===null||Qt(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(i$,x,_)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||Qt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(T)):Mn(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pn(e,p,"whitespace")(T)):T===96&&T===o?n(T):(e.consume(T),h)}function p(T){return T===null||Qt(T)?f(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||Qt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(T)):T===96&&T===o?n(T):(e.consume(T),v)}function x(T){return e.attempt(i,_,b)(T)}function b(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),w}function w(T){return s>0&&Mn(T)?Pn(e,E,"linePrefix",s+1)(T):E(T)}function E(T){return T===null||Qt(T)?e.check(i$,x,_)(T):(e.enter("codeFlowValue"),k(T))}function k(T){return T===null||Qt(T)?(e.exit("codeFlowValue"),E(T)):(e.consume(T),k)}function _(T){return e.exit("codeFenced"),t(T)}function A(T,C,I){let B=0;return $;function $(K){return T.enter("lineEnding"),T.consume(K),T.exit("lineEnding"),L}function L(K){return T.enter("codeFencedFence"),Mn(K)?Pn(T,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):U(K)}function U(K){return K===o?(T.enter("codeFencedFenceSequence"),Y(K)):I(K)}function Y(K){return K===o?(B++,T.consume(K),Y):B>=a?(T.exit("codeFencedFenceSequence"),Mn(K)?Pn(T,V,"whitespace")(K):V(K)):I(K)}function V(K){return K===null||Qt(K)?(T.exit("codeFencedFence"),C(K)):I(K)}}}function XCe(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const SN={name:"codeIndented",tokenize:ZCe},QCe={partial:!0,tokenize:JCe};function ZCe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Pn(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):Qt(u)?e.attempt(QCe,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Qt(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function JCe(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Pn(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Qt(a)?i(a):n(a)}}const eNe={name:"codeText",previous:nNe,resolve:tNe,tokenize:rNe};function tNe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function nNe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function rNe(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):Qt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Qt(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class iNe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&C1(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),C1(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),C1(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);C1(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);C1(this.left,n.reverse())}}}function C1(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function uJ(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new iNe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,sNe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return qa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function sNe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,v=0,x=0;const b=[x];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(x=h+1,b.push(x),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const w=o.slice(b[h],b[h+1]),E=s.pop();c.push([E,E+w.length-1]),e.splice(E,2,w)}for(c.reverse(),h=-1;++h<c.length;)u[v+c[h][0]]=v+c[h][1],v+=c[h][1]-c[h][0]-1;return u}const aNe={resolve:lNe,tokenize:cNe},oNe={partial:!0,tokenize:uNe};function lNe(e){return uJ(e),e}function cNe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Qt(o)?e.check(oNe,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function uNe(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Pn(e,s,"linePrefix")}function s(a){if(a===null||Qt(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function dJ(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(w){return w===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(w),e.exit(s),h):w===null||w===32||w===41||L4(w)?n(w):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(w))}function h(w){return w===62?(e.enter(s),e.consume(w),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(e.exit("chunkString"),e.exit(o),h(w)):w===null||w===60||Qt(w)?n(w):(e.consume(w),w===92?v:p)}function v(w){return w===60||w===62||w===92?(e.consume(w),p):p(w)}function x(w){return!d&&(w===null||w===41||hr(w))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(w)):d<u&&w===40?(e.consume(w),d++,x):w===41?(e.consume(w),d--,x):w===null||w===32||w===40||L4(w)?n(w):(e.consume(w),w===92?b:x)}function b(w){return w===40||w===41||w===92?(e.consume(w),x):x(w)}}function fJ(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):Qt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Qt(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Mn(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function hJ(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):Qt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Pn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||Qt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function hv(e,t){let n;return r;function r(i){return Qt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Mn(i)?Pn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const dNe={name:"definition",tokenize:hNe},fNe={partial:!0,tokenize:mNe};function hNe(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return fJ.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Sl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return hr(p)?hv(e,u)(p):u(p)}function u(p){return dJ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(fNe,f,f)(p)}function f(p){return Mn(p)?Pn(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Qt(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function mNe(e,t,n){return r;function r(o){return hr(o)?hv(e,i)(o):n(o)}function i(o){return hJ(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Mn(o)?Pn(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Qt(o)?t(o):n(o)}}const pNe={name:"hardBreakEscape",tokenize:gNe};function gNe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Qt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const vNe={name:"headingAtx",resolve:yNe,tokenize:xNe};function yNe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qa(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function xNe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||hr(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Qt(d)?(e.exit("atxHeading"),t(d)):Mn(d)?Pn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||hr(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const bNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],a$=["pre","script","style","textarea"],wNe={concrete:!0,name:"htmlFlow",resolveTo:kNe,tokenize:_Ne},ENe={partial:!0,tokenize:NNe},SNe={partial:!0,tokenize:CNe};function kNe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function _Ne(e,t,n){const r=this;let i,s,a,o,c;return u;function u(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),f}function f(O){return O===33?(e.consume(O),h):O===47?(e.consume(O),s=!0,x):O===63?(e.consume(O),i=3,r.interrupt?t:j):Vs(O)?(e.consume(O),a=String.fromCharCode(O),b):n(O)}function h(O){return O===45?(e.consume(O),i=2,p):O===91?(e.consume(O),i=5,o=0,v):Vs(O)?(e.consume(O),i=4,r.interrupt?t:j):n(O)}function p(O){return O===45?(e.consume(O),r.interrupt?t:j):n(O)}function v(O){const X="CDATA[";return O===X.charCodeAt(o++)?(e.consume(O),o===X.length?r.interrupt?t:U:v):n(O)}function x(O){return Vs(O)?(e.consume(O),a=String.fromCharCode(O),b):n(O)}function b(O){if(O===null||O===47||O===62||hr(O)){const X=O===47,ne=a.toLowerCase();return!X&&!s&&a$.includes(ne)?(i=1,r.interrupt?t(O):U(O)):bNe.includes(a.toLowerCase())?(i=6,X?(e.consume(O),w):r.interrupt?t(O):U(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):s?E(O):k(O))}return O===45||As(O)?(e.consume(O),a+=String.fromCharCode(O),b):n(O)}function w(O){return O===62?(e.consume(O),r.interrupt?t:U):n(O)}function E(O){return Mn(O)?(e.consume(O),E):$(O)}function k(O){return O===47?(e.consume(O),$):O===58||O===95||Vs(O)?(e.consume(O),_):Mn(O)?(e.consume(O),k):$(O)}function _(O){return O===45||O===46||O===58||O===95||As(O)?(e.consume(O),_):A(O)}function A(O){return O===61?(e.consume(O),T):Mn(O)?(e.consume(O),A):k(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),c=O,C):Mn(O)?(e.consume(O),T):I(O)}function C(O){return O===c?(e.consume(O),c=null,B):O===null||Qt(O)?n(O):(e.consume(O),C)}function I(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||hr(O)?A(O):(e.consume(O),I)}function B(O){return O===47||O===62||Mn(O)?k(O):n(O)}function $(O){return O===62?(e.consume(O),L):n(O)}function L(O){return O===null||Qt(O)?U(O):Mn(O)?(e.consume(O),L):n(O)}function U(O){return O===45&&i===2?(e.consume(O),W):O===60&&i===1?(e.consume(O),J):O===62&&i===4?(e.consume(O),M):O===63&&i===3?(e.consume(O),j):O===93&&i===5?(e.consume(O),G):Qt(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ENe,z,Y)(O)):O===null||Qt(O)?(e.exit("htmlFlowData"),Y(O)):(e.consume(O),U)}function Y(O){return e.check(SNe,V,z)(O)}function V(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),K}function K(O){return O===null||Qt(O)?Y(O):(e.enter("htmlFlowData"),U(O))}function W(O){return O===45?(e.consume(O),j):U(O)}function J(O){return O===47?(e.consume(O),a="",q):U(O)}function q(O){if(O===62){const X=a.toLowerCase();return a$.includes(X)?(e.consume(O),M):U(O)}return Vs(O)&&a.length<8?(e.consume(O),a+=String.fromCharCode(O),q):U(O)}function G(O){return O===93?(e.consume(O),j):U(O)}function j(O){return O===62?(e.consume(O),M):O===45&&i===2?(e.consume(O),j):U(O)}function M(O){return O===null||Qt(O)?(e.exit("htmlFlowData"),z(O)):(e.consume(O),M)}function z(O){return e.exit("htmlFlow"),t(O)}}function CNe(e,t,n){const r=this;return i;function i(a){return Qt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function NNe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(dx,t,n)}}const TNe={name:"htmlText",tokenize:ANe};function ANe(e,t,n){const r=this;let i,s,a;return o;function o(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),u):j===47?(e.consume(j),A):j===63?(e.consume(j),k):Vs(j)?(e.consume(j),I):n(j)}function u(j){return j===45?(e.consume(j),d):j===91?(e.consume(j),s=0,v):Vs(j)?(e.consume(j),E):n(j)}function d(j){return j===45?(e.consume(j),p):n(j)}function f(j){return j===null?n(j):j===45?(e.consume(j),h):Qt(j)?(a=f,J(j)):(e.consume(j),f)}function h(j){return j===45?(e.consume(j),p):f(j)}function p(j){return j===62?W(j):j===45?h(j):f(j)}function v(j){const M="CDATA[";return j===M.charCodeAt(s++)?(e.consume(j),s===M.length?x:v):n(j)}function x(j){return j===null?n(j):j===93?(e.consume(j),b):Qt(j)?(a=x,J(j)):(e.consume(j),x)}function b(j){return j===93?(e.consume(j),w):x(j)}function w(j){return j===62?W(j):j===93?(e.consume(j),w):x(j)}function E(j){return j===null||j===62?W(j):Qt(j)?(a=E,J(j)):(e.consume(j),E)}function k(j){return j===null?n(j):j===63?(e.consume(j),_):Qt(j)?(a=k,J(j)):(e.consume(j),k)}function _(j){return j===62?W(j):k(j)}function A(j){return Vs(j)?(e.consume(j),T):n(j)}function T(j){return j===45||As(j)?(e.consume(j),T):C(j)}function C(j){return Qt(j)?(a=C,J(j)):Mn(j)?(e.consume(j),C):W(j)}function I(j){return j===45||As(j)?(e.consume(j),I):j===47||j===62||hr(j)?B(j):n(j)}function B(j){return j===47?(e.consume(j),W):j===58||j===95||Vs(j)?(e.consume(j),$):Qt(j)?(a=B,J(j)):Mn(j)?(e.consume(j),B):W(j)}function $(j){return j===45||j===46||j===58||j===95||As(j)?(e.consume(j),$):L(j)}function L(j){return j===61?(e.consume(j),U):Qt(j)?(a=L,J(j)):Mn(j)?(e.consume(j),L):B(j)}function U(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),i=j,Y):Qt(j)?(a=U,J(j)):Mn(j)?(e.consume(j),U):(e.consume(j),V)}function Y(j){return j===i?(e.consume(j),i=void 0,K):j===null?n(j):Qt(j)?(a=Y,J(j)):(e.consume(j),Y)}function V(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||hr(j)?B(j):(e.consume(j),V)}function K(j){return j===47||j===62||hr(j)?B(j):n(j)}function W(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):n(j)}function J(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),q}function q(j){return Mn(j)?Pn(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):G(j)}function G(j){return e.enter("htmlTextData"),a(j)}}const XP={name:"labelEnd",resolveAll:RNe,resolveTo:MNe,tokenize:ONe},jNe={tokenize:DNe},PNe={tokenize:LNe},INe={tokenize:FNe};function RNe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&qa(e,0,e.length,n),e}function MNe(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=wo(o,e.slice(s+1,s+r+3)),o=wo(o,[["enter",d,t]]),o=wo(o,pk(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=wo(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=wo(o,e.slice(a+1)),o=wo(o,[["exit",c,t]]),qa(e,s,e.length,o),e}function ONe(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Sl(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(jNe,d,a?d:f)(h):h===91?e.attempt(PNe,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(INe,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function DNe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return hr(f)?hv(e,s)(f):s(f)}function s(f){return f===41?d(f):dJ(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return hr(f)?hv(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?hJ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return hr(f)?hv(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function LNe(e,t,n){const r=this;return i;function i(o){return fJ.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Sl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function FNe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const $Ne={name:"labelStartImage",resolveAll:XP.resolveAll,tokenize:zNe};function zNe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const BNe={name:"labelStartLink",resolveAll:XP.resolveAll,tokenize:UNe};function UNe(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const kN={name:"lineEnding",tokenize:HNe};function HNe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pn(e,t,"linePrefix")}}const K2={name:"thematicBreak",tokenize:VNe};function VNe(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Qt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Mn(u)?Pn(e,o,"whitespace")(u):o(u))}}const ca={continuation:{tokenize:KNe},exit:XNe,name:"list",tokenize:GNe},qNe={partial:!0,tokenize:QNe},WNe={partial:!0,tokenize:YNe};function GNe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const v=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:aA(p)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(K2,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return aA(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(dx,r.interrupt?n:d,e.attempt(qNe,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Mn(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function KNe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(dx,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pn(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Mn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(WNe,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pn(e,e.attempt(ca,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function YNe(e,t,n){const r=this;return Pn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function XNe(e){e.exit(this.containerState.type)}function QNe(e,t,n){const r=this;return Pn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Mn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const o$={name:"setextUnderline",resolveTo:ZNe,tokenize:JNe};function ZNe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function JNe(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Mn(u)?Pn(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Qt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const eTe={tokenize:tTe};function tTe(e){const t=this,n=e.attempt(dx,r,e.attempt(this.parser.constructs.flowInitial,i,Pn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(aNe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const nTe={resolveAll:pJ()},rTe=mJ("string"),iTe=mJ("text");function mJ(e){return{resolveAll:pJ(e==="text"?sTe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function pJ(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function sTe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const aTe={42:ca,43:ca,45:ca,48:ca,49:ca,50:ca,51:ca,52:ca,53:ca,54:ca,55:ca,56:ca,57:ca,62:oJ},oTe={91:dNe},lTe={[-2]:SN,[-1]:SN,32:SN},cTe={35:vNe,42:K2,45:[o$,K2],60:wNe,61:o$,95:K2,96:s$,126:s$},uTe={38:cJ,92:lJ},dTe={[-5]:kN,[-4]:kN,[-3]:kN,33:$Ne,38:cJ,42:oA,60:[BCe,TNe],91:BNe,92:[pNe,lJ],93:XP,95:oA,96:eNe},fTe={null:[oA,nTe]},hTe={null:[42,95]},mTe={null:[]},pTe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:hTe,contentInitial:oTe,disable:mTe,document:aTe,flow:cTe,flowInitial:lTe,insideSpan:fTe,string:uTe,text:dTe},Symbol.toStringTag,{value:"Module"}));function gTe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:C(A),check:C(T),consume:E,enter:k,exit:_,interrupt:C(T,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:v,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(L){return a=wo(a,L),b(),a[a.length-1]!==null?[]:(I(t,0),u.events=pk(s,u.events,u),u.events)}function h(L,U){return yTe(p(L),U)}function p(L){return vTe(a,L)}function v(){const{_bufferIndex:L,_index:U,line:Y,column:V,offset:K}=r;return{_bufferIndex:L,_index:U,line:Y,column:V,offset:K}}function x(L){i[L.line]=L.column,$()}function b(){let L;for(;r._index<a.length;){const U=a[r._index];if(typeof U=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<U.length;)w(U.charCodeAt(r._bufferIndex));else w(U)}}function w(L){d=d(L)}function E(L){Qt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,$()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function k(L,U){const Y=U||{};return Y.type=L,Y.start=v(),u.events.push(["enter",Y,u]),o.push(Y),Y}function _(L){const U=o.pop();return U.end=v(),u.events.push(["exit",U,u]),U}function A(L,U){I(L,U.from)}function T(L,U){U.restore()}function C(L,U){return Y;function Y(V,K,W){let J,q,G,j;return Array.isArray(V)?z(V):"tokenize"in V?z([V]):M(V);function M(re){return Q;function Q(te){const ie=te!==null&&re[te],fe=te!==null&&re.null,he=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return z(he)(te)}}function z(re){return J=re,q=0,re.length===0?W:O(re[q])}function O(re){return Q;function Q(te){return j=B(),G=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?ne():re.tokenize.call(U?Object.assign(Object.create(u),U):u,c,X,ne)(te)}}function X(re){return L(G,j),K}function ne(re){return j.restore(),++q<J.length?O(J[q]):W}}}function I(L,U){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&qa(u.events,U,u.events.length-U,L.resolve(u.events.slice(U),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function B(){const L=v(),U=u.previous,Y=u.currentConstruct,V=u.events.length,K=Array.from(o);return{from:V,restore:W};function W(){r=L,u.previous=U,u.currentConstruct=Y,u.events.length=V,o=K,$()}}function $(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function vTe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function yTe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function xTe(e){const r={constructs:sJ([pTe,...(e||{}).extensions||[]]),content:i(MCe),defined:[],document:i(DCe),flow:i(eTe),lazy:{},string:i(rTe),text:i(iTe)};return r;function i(s){return a;function a(o){return gTe(r,s,o)}}}function bTe(e){for(;!uJ(e););return e}const l$=/[\0\t\n\r]/g;function wTe(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(l$.lastIndex=f,u=l$.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const ETe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function STe(e){return e.replace(ETe,kTe)}function kTe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return aJ(n.slice(s?2:1),s?16:10)}return YP(n)||e}const gJ={}.hasOwnProperty;function _Te(e,t,n){return typeof t!="string"&&(n=t,t=void 0),CTe(n)(bTe(xTe(n).document().write(wTe()(e,t,!0))))}function CTe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Tt),autolinkProtocol:B,autolinkEmail:B,atxHeading:s(Ge),blockQuote:s(fe),characterEscape:B,characterReference:B,codeFenced:s(he),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(he,a),codeText:s(ae,a),codeTextData:B,data:B,codeFlowValue:B,definition:s(Pe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Te),hardBreakEscape:s(nt),hardBreakTrailing:s(nt),htmlFlow:s(vt,a),htmlFlowData:B,htmlText:s(vt,a),htmlTextData:B,image:s(Ct),label:a,link:s(Tt),listItem:s(_e),listItemValue:h,listOrdered:s(ue,f),listUnordered:s(ue),paragraph:s(Ae),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ge),strong:s(Be),thematicBreak:s(qe)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:ie,autolinkProtocol:te,blockQuote:c(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:re,characterReference:Q,codeFenced:c(b),codeFencedFence:x,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:$,codeIndented:c(w),codeText:c(K),codeTextData:$,data:$,definition:c(),definitionDestinationString:_,definitionLabelString:E,definitionTitleString:k,emphasis:c(),hardBreakEscape:c(U),hardBreakTrailing:c(U),htmlFlow:c(Y),htmlFlowData:$,htmlText:c(V),htmlTextData:$,image:c(J),label:G,labelText:q,lineEnding:L,link:c(W),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:X,resourceDestinationString:j,resourceTitleString:M,resource:z,setextHeading:c(I),setextHeadingLineSequence:C,setextHeadingText:T,strong:c(),thematicBreak:c()}};vJ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ee){let $e={type:"root",children:[]};const Ze={stack:[$e],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},bt=[];let Ue=-1;for(;++Ue<Ee.length;)if(Ee[Ue][1].type==="listOrdered"||Ee[Ue][1].type==="listUnordered")if(Ee[Ue][0]==="enter")bt.push(Ue);else{const St=bt.pop();Ue=i(Ee,St,Ue)}for(Ue=-1;++Ue<Ee.length;){const St=t[Ee[Ue][0]];gJ.call(St,Ee[Ue][1].type)&&St[Ee[Ue][1].type].call(Object.assign({sliceSerialize:Ee[Ue][2].sliceSerialize},Ze),Ee[Ue][1])}if(Ze.tokenStack.length>0){const St=Ze.tokenStack[Ze.tokenStack.length-1];(St[1]||c$).call(Ze,void 0,St[0])}for($e.position={start:Ed(Ee.length>0?Ee[0][1].start:{line:1,column:1,offset:0}),end:Ed(Ee.length>0?Ee[Ee.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)$e=t.transforms[Ue]($e)||$e;return $e}function i(Ee,$e,Ze){let bt=$e-1,Ue=-1,St=!1,At,je,Je,wt;for(;++bt<=Ze;){const Et=Ee[bt];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?Ue++:Ue--,wt=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(At&&!wt&&!Ue&&!Je&&(Je=bt),wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wt=void 0}if(!Ue&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||Ue===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(At){let gn=bt;for(je=void 0;gn--;){const dn=Ee[gn];if(dn[1].type==="lineEnding"||dn[1].type==="lineEndingBlank"){if(dn[0]==="exit")continue;je&&(Ee[je][1].type="lineEndingBlank",St=!0),dn[1].type="lineEnding",je=gn}else if(!(dn[1].type==="linePrefix"||dn[1].type==="blockQuotePrefix"||dn[1].type==="blockQuotePrefixWhitespace"||dn[1].type==="blockQuoteMarker"||dn[1].type==="listItemIndent"))break}Je&&(!je||Je<je)&&(At._spread=!0),At.end=Object.assign({},je?Ee[je][1].start:Et[1].end),Ee.splice(je||bt,0,["exit",At,Et[2]]),bt++,Ze++}if(Et[1].type==="listItemPrefix"){const gn={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};At=gn,Ee.splice(bt,0,["enter",gn,Et[2]]),bt++,Ze++,Je=void 0,wt=!0}}}return Ee[$e][1]._spread=St,Ze}function s(Ee,$e){return Ze;function Ze(bt){o.call(this,Ee(bt),bt),$e&&$e.call(this,bt)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(Ee,$e,Ze){this.stack[this.stack.length-1].children.push(Ee),this.stack.push(Ee),this.tokenStack.push([$e,Ze||void 0]),Ee.position={start:Ed($e.start),end:void 0}}function c(Ee){return $e;function $e(Ze){Ee&&Ee.call(this,Ze),u.call(this,Ze)}}function u(Ee,$e){const Ze=this.stack.pop(),bt=this.tokenStack.pop();if(bt)bt[0].type!==Ee.type&&($e?$e.call(this,Ee,bt[0]):(bt[1]||c$).call(this,Ee,bt[0]));else throw new Error("Cannot close `"+Ee.type+"` ("+fv({start:Ee.start,end:Ee.end})+"): its not open");Ze.position.end=Ed(Ee.end)}function d(){return KP(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Ee){if(this.data.expectingFirstListItemValue){const $e=this.stack[this.stack.length-2];$e.start=Number.parseInt(this.sliceSerialize(Ee),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.lang=Ee}function v(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.meta=Ee}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.value=Ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.value=Ee.replace(/(\r?\n|\r)$/g,"")}function E(Ee){const $e=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=$e,Ze.identifier=Sl(this.sliceSerialize(Ee)).toLowerCase()}function k(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.title=Ee}function _(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.url=Ee}function A(Ee){const $e=this.stack[this.stack.length-1];if(!$e.depth){const Ze=this.sliceSerialize(Ee).length;$e.depth=Ze}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function C(Ee){const $e=this.stack[this.stack.length-1];$e.depth=this.sliceSerialize(Ee).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function B(Ee){const Ze=this.stack[this.stack.length-1].children;let bt=Ze[Ze.length-1];(!bt||bt.type!=="text")&&(bt=We(),bt.position={start:Ed(Ee.start),end:void 0},Ze.push(bt)),this.stack.push(bt)}function $(Ee){const $e=this.stack.pop();$e.value+=this.sliceSerialize(Ee),$e.position.end=Ed(Ee.end)}function L(Ee){const $e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=$e.children[$e.children.length-1];Ze.position.end=Ed(Ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes($e.type)&&(B.call(this,Ee),$.call(this,Ee))}function U(){this.data.atHardBreak=!0}function Y(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.value=Ee}function V(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.value=Ee}function K(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.value=Ee}function W(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=$e,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function J(){const Ee=this.stack[this.stack.length-1];if(this.data.inReference){const $e=this.data.referenceType||"shortcut";Ee.type+="Reference",Ee.referenceType=$e,delete Ee.url,delete Ee.title}else delete Ee.identifier,delete Ee.label;this.data.referenceType=void 0}function q(Ee){const $e=this.sliceSerialize(Ee),Ze=this.stack[this.stack.length-2];Ze.label=STe($e),Ze.identifier=Sl($e).toLowerCase()}function G(){const Ee=this.stack[this.stack.length-1],$e=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const bt=Ee.children;Ze.children=bt}else Ze.alt=$e}function j(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.url=Ee}function M(){const Ee=this.resume(),$e=this.stack[this.stack.length-1];$e.title=Ee}function z(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function X(Ee){const $e=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=$e,Ze.identifier=Sl(this.sliceSerialize(Ee)).toLowerCase(),this.data.referenceType="full"}function ne(Ee){this.data.characterReferenceType=Ee.type}function re(Ee){const $e=this.sliceSerialize(Ee),Ze=this.data.characterReferenceType;let bt;Ze?(bt=aJ($e,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):bt=YP($e);const Ue=this.stack[this.stack.length-1];Ue.value+=bt}function Q(Ee){const $e=this.stack.pop();$e.position.end=Ed(Ee.end)}function te(Ee){$.call(this,Ee);const $e=this.stack[this.stack.length-1];$e.url=this.sliceSerialize(Ee)}function ie(Ee){$.call(this,Ee);const $e=this.stack[this.stack.length-1];$e.url="mailto:"+this.sliceSerialize(Ee)}function fe(){return{type:"blockquote",children:[]}}function he(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function Pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Te(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function nt(){return{type:"break"}}function vt(){return{type:"html",value:""}}function Ct(){return{type:"image",title:null,url:"",alt:null}}function Tt(){return{type:"link",title:null,url:"",children:[]}}function ue(Ee){return{type:"list",ordered:Ee.type==="listOrdered",start:null,spread:Ee._spread,children:[]}}function _e(Ee){return{type:"listItem",spread:Ee._spread,checked:null,children:[]}}function Ae(){return{type:"paragraph",children:[]}}function Be(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function qe(){return{type:"thematicBreak"}}}function Ed(e){return{line:e.line,column:e.column,offset:e.offset}}function vJ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?vJ(e,r):NTe(e,r)}}function NTe(e,t){let n;for(n in t)if(gJ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function c$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fv({start:t.start,end:t.end})+") is still open")}function TTe(e){const t=this;t.parser=n;function n(r){return _Te(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ATe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function jTe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function PTe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ITe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RTe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MTe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=vg(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function OTe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DTe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function yJ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function LTe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yJ(e,t);const i={src:vg(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function FTe(e,t){const n={src:vg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function $Te(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zTe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return yJ(e,t);const i={href:vg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function BTe(e,t){const n={href:vg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UTe(e,t,n){const r=e.all(t),i=n?HTe(n):xJ(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function HTe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=xJ(n[r])}return t}function xJ(e){const t=e.spread;return t??e.children.length>1}function VTe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function qTe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WTe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function GTe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KTe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=Ac(t.children[1]),c=hk(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function YTe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let v={type:"element",tagName:s,properties:h,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),u.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function XTe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const u$=9,d$=32;function QTe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(f$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(f$(t.slice(i),i>0,!1)),s.join("")}function f$(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===u$||s===d$;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===u$||s===d$;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function ZTe(e,t){const n={type:"text",value:QTe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JTe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const e5e={blockquote:ATe,break:jTe,code:PTe,delete:ITe,emphasis:RTe,footnoteReference:MTe,heading:OTe,html:DTe,imageReference:LTe,image:FTe,inlineCode:$Te,linkReference:zTe,link:BTe,listItem:UTe,list:VTe,paragraph:qTe,root:WTe,strong:GTe,table:KTe,tableCell:XTe,tableRow:YTe,text:ZTe,thematicBreak:JTe,toml:Lw,yaml:Lw,definition:Lw,footnoteDefinition:Lw};function Lw(){}const bJ=-1,gk=0,mv=1,F4=2,QP=3,ZP=4,JP=5,eI=6,wJ=7,EJ=8,h$=typeof self=="object"?self:globalThis,t5e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case gk:case bJ:return n(a,i);case mv:{const o=n([],i);for(const c of a)o.push(r(c));return o}case F4:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case QP:return n(new Date(a),i);case ZP:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case JP:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case eI:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case wJ:{const{name:o,message:c}=a;return n(new h$[o](c),i)}case EJ:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new h$[s](a),i)};return r},m$=e=>t5e(new Map,e)(0),xm="",{toString:n5e}={},{keys:r5e}=Object,N1=e=>{const t=typeof e;if(t!=="object"||!e)return[gk,t];const n=n5e.call(e).slice(8,-1);switch(n){case"Array":return[mv,xm];case"Object":return[F4,xm];case"Date":return[QP,xm];case"RegExp":return[ZP,xm];case"Map":return[JP,xm];case"Set":return[eI,xm];case"DataView":return[mv,n]}return n.includes("Array")?[mv,n]:n.includes("Error")?[wJ,n]:[F4,n]},Fw=([e,t])=>e===gk&&(t==="function"||t==="symbol"),i5e=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=N1(a);switch(o){case gk:{let d=a;switch(c){case"bigint":o=EJ,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([bJ],a)}return i([o,d],a)}case mv:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case F4:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of r5e(a))(e||!Fw(N1(a[h])))&&d.push([s(h),s(a[h])]);return f}case QP:return i([o,a.toISOString()],a);case ZP:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case JP:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(Fw(N1(h))||Fw(N1(p))))&&d.push([s(h),s(p)]);return f}case eI:{const d=[],f=i([o,d],a);for(const h of a)(e||!Fw(N1(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},p$=(e,{json:t,lossy:n}={})=>{const r=[];return i5e(!(t||n),!!t,new Map,r)(e),r},Ap=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?m$(p$(e,t)):structuredClone(e):(e,t)=>m$(p$(e,t));function s5e(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function a5e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o5e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||s5e,r=e.options.footnoteBackLabel||a5e,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=vg(f.toLowerCase());let p=0;const v=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++p<=x;){v.length>0&&v.push({type:"text",value:" "});let E=typeof n=="string"?n:n(c,p);typeof E=="string"&&(E={type:"text",value:E}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else d.push(...v);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,w),o.push(w)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ap(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const fx=(function(e){if(e==null)return d5e;if(typeof e=="function")return vk(e);if(typeof e=="object")return Array.isArray(e)?l5e(e):c5e(e);if(typeof e=="string")return u5e(e);throw new Error("Expected function, string, or object as test")});function l5e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fx(e[n]);return vk(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function c5e(e){const t=e;return vk(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function u5e(e){return vk(t);function t(n){return n&&n.type===e}}function vk(e){return t;function t(n,r,i){return!!(f5e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function d5e(){return!0}function f5e(e){return e!==null&&typeof e=="object"&&"type"in e}const SJ=[],J1=!0,lA=!1,$4="skip";function tI(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=fx(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=SJ,v,x,b;if((!t||s(c,u,d[d.length-1]||void 0))&&(p=h5e(n(c,d)),p[0]===lA))return p;if("children"in c&&c.children){const w=c;if(w.children&&p[0]!==$4)for(x=(r?w.children.length:-1)+a,b=d.concat(w);x>-1&&x<w.children.length;){const E=w.children[x];if(v=o(E,x,b)(),v[0]===lA)return v;x=typeof v[1]=="number"?v[1]:x+a}}return p}}}function h5e(e){return Array.isArray(e)?e:typeof e=="number"?[J1,e]:e==null?SJ:[e]}function r0(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),tI(e,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const cA={}.hasOwnProperty,m5e={};function p5e(e,t){const n=t||m5e,r=new Map,i=new Map,s=new Map,a={...e5e,...n.handlers},o={all:u,applyData:v5e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:g5e,wrap:x5e};return r0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(cA.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:x,...b}=d,w=Ap(b);return w.children=o.all(d),w}return Ap(d)}return(o.options.unknownHandler||y5e)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const v=o.one(h[p],d);if(v){if(p&&h[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=g$(v.value)),!Array.isArray(v)&&v.type==="element")){const x=v.children[0];x&&x.type==="text"&&(x.value=g$(x.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function g5e(e,t){e.position&&(t.position=aCe(e))}function v5e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Ap(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function y5e(e,t){const n=t.data||{},r="value"in t&&!(cA.call(n,"hProperties")||cA.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function x5e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function g$(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function v$(e,t){const n=p5e(e,t),r=n.one(e,void 0),i=o5e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function b5e(e,t){return e&&"run"in e?async function(n,r){const i=v$(n,{file:r,...t});await e.run(i,r)}:function(n,r){return v$(n,{file:r,...e||t})}}function y$(e){if(e)throw e}var _N,x$;function w5e(){if(x$)return _N;x$=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var d=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!f)return!1;var h;for(h in u);return typeof h>"u"||e.call(u,h)},a=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(e.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return _N=function c(){var u,d,f,h,p,v,x=arguments[0],b=1,w=arguments.length,E=!1;for(typeof x=="boolean"&&(E=x,x=arguments[1]||{},b=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});b<w;++b)if(u=arguments[b],u!=null)for(d in u)f=o(x,d),h=o(u,d),x!==h&&(E&&h&&(s(h)||(p=i(h)))?(p?(p=!1,v=f&&i(f)?f:[]):v=f&&s(f)?f:{},a(x,{name:d,newValue:c(E,v,h)})):typeof h<"u"&&a(x,{name:d,newValue:h}));return x},_N}var E5e=w5e();const CN=Xa(E5e);function uA(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function S5e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?k5e(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function k5e(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Kl={basename:_5e,dirname:C5e,extname:N5e,join:T5e,sep:"/"};function _5e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hx(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function C5e(e){if(hx(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function N5e(e){hx(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function T5e(...e){let t=-1,n;for(;++t<e.length;)hx(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":A5e(n)}function A5e(e){hx(e);const t=e.codePointAt(0)===47;let n=j5e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function j5e(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function hx(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const P5e={cwd:I5e};function I5e(){return"/"}function dA(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function R5e(e){if(typeof e=="string")e=new URL(e);else if(!dA(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return M5e(e)}function M5e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const NN=["history","path","basename","stem","extname","dirname"];class kJ{constructor(t){let n;t?dA(t)?n={path:t}:typeof t=="string"||O5e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":P5e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<NN.length;){const s=NN[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)NN.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kl.basename(this.path):void 0}set basename(t){AN(t,"basename"),TN(t,"basename"),this.path=Kl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Kl.dirname(this.path):void 0}set dirname(t){b$(this.basename,"dirname"),this.path=Kl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Kl.extname(this.path):void 0}set extname(t){if(TN(t,"extname"),b$(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dA(t)&&(t=R5e(t)),AN(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Kl.basename(this.path,this.extname):void 0}set stem(t){AN(t,"stem"),TN(t,"stem"),this.path=Kl.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Rs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function TN(e,t){if(e&&e.includes(Kl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Kl.sep+"`")}function AN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function b$(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function O5e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const D5e=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),L5e={}.hasOwnProperty;class nI extends D5e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=S5e()}copy(){const t=new nI;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(CN(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(IN("data",this.frozen),this.namespace[t]=n,this):L5e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(IN("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$w(t),r=this.parser||this.Parser;return jN("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),jN("process",this.parser||this.Parser),PN("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=$w(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,v=r.stringify(p,h);z5e(v)?h.value=v:h.result=v,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),jN("processSync",this.parser||this.Parser),PN("processSync",this.compiler||this.Compiler),this.process(t,i),E$("processSync","process",n),r;function i(s,a){n=!0,y$(s),r=a}}run(t,n,r){w$(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=$w(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),E$("runSync","run",r),i;function s(a,o){y$(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=$w(n),i=this.compiler||this.Compiler;return PN("stringify",i),w$(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(IN("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=CN(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...v]=d;const x=r[h][1];uA(x)&&uA(p)&&(p=CN(!0,x,p)),r[h]=[u,p,...v]}}}}const F5e=new nI().freeze();function jN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function PN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function IN(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function w$(e){if(!uA(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function E$(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $w(e){return $5e(e)?e:new kJ(e)}function $5e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function z5e(e){return typeof e=="string"||B5e(e)}function B5e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U5e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",S$=[],k$={allowDangerousHtml:!0},H5e=/^(https?|ircs?|mailto|xmpp)$/i,V5e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rI(e){const t=iI(e),n=sI(e);return aI(t.runSync(t.parse(n),n),e)}async function q5e(e){const t=iI(e),n=sI(e),r=await t.run(t.parse(n),n);return aI(r,e)}function W5e(e){const t=iI(e),[n,r]=y.useState(void 0),[i,s]=y.useState(void 0);if(y.useEffect(function(){let a=!1;const o=sI(e);return t.run(t.parse(o),o,function(c,u){a||(r(c),s(u))}),function(){a=!0}},[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),n)throw n;return i?aI(i,e):e.fallback}function iI(e){const t=e.rehypePlugins||S$,n=e.remarkPlugins||S$,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...k$}:k$;return F5e().use(TTe).use(n).use(b5e,r).use(t)}function sI(e){const t=e.children||"",n=new kJ;return typeof t=="string"&&(n.value=t),n}function aI(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||_J;for(const d of V5e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+U5e+d.id,void 0);return r0(e,u),dCe(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in EN)if(Object.hasOwn(EN,p)&&Object.hasOwn(d.properties,p)){const v=d.properties[p],x=EN[p];(x===null||x.includes(d.tagName))&&(d.properties[p]=c(String(v||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function _J(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||H5e.test(e.slice(0,t))?e:""}const G5e=Object.freeze(Object.defineProperty({__proto__:null,MarkdownAsync:q5e,MarkdownHooks:W5e,default:rI,defaultUrlTransform:_J},Symbol.toStringTag,{value:"Module"})),_$=/[#.]/g;function K5e(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){_$.lastIndex=i;const o=_$.exec(n),c=n.slice(i,o?o.index:n.length);c&&(s?s==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:a=c,i+=c.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function CJ(e,t,n){const r=n?Z5e(n):void 0;function i(s,a,...o){let c;if(s==null){c={type:"root",children:[]};const u=a;o.unshift(u)}else{c=K5e(s,t);const u=c.tagName.toLowerCase(),d=r?r.get(u):void 0;if(c.tagName=d||u,Y5e(a))o.unshift(a);else for(const[f,h]of Object.entries(a))X5e(e,c.properties,f,h)}for(const u of o)fA(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function Y5e(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function X5e(e,t,n,r){const i=fk(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=WF(r):i.commaSeparated?s=BF(r):i.commaOrSpaceSeparated?s=WF(BF(r).join(" ")):s=C$(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?Q5e(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(C$(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function fA(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)fA(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?fA(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function C$(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Jv(n)===Jv(t)))return!0}return n}function Q5e(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Z5e(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const J5e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],NJ=CJ(ux,"div"),TJ=CJ(Pf,"g",J5e),lc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e6e(e,t){return AJ(e,{})||{type:"root",children:[]}}function AJ(e,t){const n=t6e(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function t6e(e,t){switch(e.nodeType){case 1:return s6e(e,t);case 3:return r6e(e);case 8:return i6e(e);case 9:return N$(e,t);case 10:return n6e();case 11:return N$(e,t);default:return}}function N$(e,t){return{type:"root",children:jJ(e,t)}}function n6e(){return{type:"doctype"}}function r6e(e){return{type:"text",value:e.nodeValue||""}}function i6e(e){return{type:"comment",value:e.nodeValue||""}}function s6e(e,t){const n=e.namespaceURI,r=n===lc.svg?TJ:NJ,i=n===lc.html?e.tagName.toLowerCase():e.tagName,s=n===lc.html&&i==="template"?e.content:e,a=e.getAttributeNames(),o={};let c=-1;for(;++c<a.length;)o[a[c]]=e.getAttribute(a[c])||"";return r(i,o,jJ(s,t))}function jJ(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const s=AJ(n[i],t);s!==void 0&&r.push(s)}return r}new DOMParser;function a6e(e,t){const n=o6e(e);return e6e(n)}function o6e(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const T$=(function(e,t,n){const r=fx(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]}),I0=(function(e){if(e==null)return u6e;if(typeof e=="string")return c6e(e);if(typeof e=="object")return l6e(e);if(typeof e=="function")return oI(e);throw new Error("Expected function, string, or array as `test`")});function l6e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=I0(e[n]);return oI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function c6e(e){return oI(t);function t(n){return n.tagName===e}}function oI(e){return t;function t(n,r,i){return!!(d6e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function u6e(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function d6e(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const A$=/\n/g,j$=/[\t ]+/g,hA=I0("br"),P$=I0(x6e),f6e=I0("p"),I$=I0("tr"),h6e=I0(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",y6e,b6e]),PJ=I0(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function m6e(e,t){const n=t||{},r="children"in e?e.children:[],i=PJ(e),s=MJ(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...RJ(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)a.push(...IJ(r[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<r.length-1?hA(r[o+1]):i}));const c=[];let u;for(o=-1;++o<a.length;){const d=a[o];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function IJ(e,t,n){return e.type==="element"?p6e(e,t,n):e.type==="text"?n.whitespace==="normal"?RJ(e,n):g6e(e):[]}function p6e(e,t,n){const r=MJ(e,n),i=e.children||[];let s=-1,a=[];if(h6e(e))return a;let o,c;for(hA(e)||I$(e)&&T$(t,e,I$)?c=`
`:f6e(e)?(o=2,c=2):PJ(e)&&(o=1,c=1);++s<i.length;)a=a.concat(IJ(i[s],e,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<i.length-1?hA(i[s+1]):c}));return P$(e)&&T$(t,e,P$)&&a.push("	"),o&&a.unshift(o),c&&a.push(c),a}function RJ(e,t){const n=String(e.value),r=[],i=[];let s=0;for(;s<=n.length;){A$.lastIndex=s;const c=A$.exec(n),u=c&&"index"in c?c.index:n.length;r.push(v6e(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),s=u+1}let a=-1,o;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),o=void 0):r[a]?(typeof o=="number"&&i.push(o),i.push(r[a]),o=0):(a===0||a===r.length-1)&&i.push(0);return i}function g6e(e){return[String(e.value)]}function v6e(e,t,n){const r=[];let i=0,s;for(;i<e.length;){j$.lastIndex=i;const a=j$.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&r.push(""),i!==s&&r.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function MJ(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function y6e(e){return!!(e.properties||{}).hidden}function x6e(e){return e.tagName==="td"||e.tagName==="th"}function b6e(e){return e.tagName==="dialog"&&!(e.properties||{}).open}class ga{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new ga(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Wa{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Wa(n,ga.range(this,t))}}class ut{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var c=o.slice(i,s).replace(/[^]/g,"$&"),u;i>15?u=""+o.slice(i-15,i):u=o.slice(0,i);var d;s+15<o.length?d=o.slice(s,s+15)+"":d=o.slice(s),r+=u+c+d}var f=new Error(r);return f.name="ParseError",f.__proto__=ut.prototype,f.position=i,i!=null&&s!=null&&(f.length=s-i),f.rawMessage=t,f}}ut.prototype.__proto__=Error.prototype;var w6e=function(t,n){return t===void 0?n:t},E6e=/([A-Z])/g,S6e=function(t){return t.replace(E6e,"-$1").toLowerCase()},k6e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_6e=/[&><"']/g;function C6e(e){return String(e).replace(_6e,t=>k6e[t])}var OJ=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},N6e=function(t){var n=OJ(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},T6e=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},A6e=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Kn={deflt:w6e,escape:C6e,hyphenate:S6e,getBaseElem:OJ,isCharacterBox:N6e,protocolFromUrl:A6e},pv={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function j6e(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class lI{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in pv)if(pv.hasOwnProperty(n)){var r=pv[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:j6e(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ut("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Kn.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class Sd{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return ec[P6e[this.id]]}sub(){return ec[I6e[this.id]]}fracNum(){return ec[R6e[this.id]]}fracDen(){return ec[M6e[this.id]]}cramp(){return ec[O6e[this.id]]}text(){return ec[D6e[this.id]]}isTight(){return this.size>=2}}var cI=0,z4=1,np=2,yu=3,ty=4,No=5,jp=6,qs=7,ec=[new Sd(cI,0,!1),new Sd(z4,0,!0),new Sd(np,1,!1),new Sd(yu,1,!0),new Sd(ty,2,!1),new Sd(No,2,!0),new Sd(jp,3,!1),new Sd(qs,3,!0)],P6e=[ty,No,ty,No,jp,qs,jp,qs],I6e=[No,No,No,No,qs,qs,qs,qs],R6e=[np,yu,ty,No,jp,qs,jp,qs],M6e=[yu,yu,No,No,qs,qs,qs,qs],O6e=[z4,z4,yu,yu,No,No,qs,qs],D6e=[cI,z4,np,yu,np,yu,np,yu],sn={DISPLAY:ec[cI],TEXT:ec[np],SCRIPT:ec[ty],SCRIPTSCRIPT:ec[jp]},mA=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function L6e(e){for(var t=0;t<mA.length;t++)for(var n=mA[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(e>=i[0]&&e<=i[1])return n.name}return null}var Y2=[];mA.forEach(e=>e.blocks.forEach(t=>Y2.push(...t)));function DJ(e){for(var t=0;t<Y2.length;t+=2)if(e>=Y2[t]&&e<=Y2[t+1])return!0;return!1}var bm=80,F6e=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},$6e=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},z6e=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},B6e=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},U6e=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},H6e=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},V6e=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},q6e=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=F6e(n,bm);break;case"sqrtSize1":i=$6e(n,bm);break;case"sqrtSize2":i=z6e(n,bm);break;case"sqrtSize3":i=B6e(n,bm);break;case"sqrtSize4":i=U6e(n,bm);break;case"sqrtTall":i=V6e(n,bm,r)}return i},W6e=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},R$={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},G6e=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let mx=class{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}};var cc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},zw={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},M$={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function LJ(e,t){cc[e]=t}function uI(e,t,n){if(!cc[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=cc[t][r];if(!i&&e[0]in M$&&(r=M$[e[0]].charCodeAt(0),i=cc[t][r]),!i&&n==="text"&&DJ(r)&&(i=cc[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var RN={};function K6e(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!RN[t]){var n=RN[t]={cssEmPerMu:zw.quad[t]/18};for(var r in zw)zw.hasOwnProperty(r)&&(n[r]=zw[r][t])}return RN[t]}var Y6e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],O$=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],D$=function(t,n){return n.size<2?t:Y6e[t-1][n.size-1]};class nu{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||nu.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=O$[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new nu(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:D$(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:O$[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=D$(nu.BASESIZE,t);return this.size===n&&this.textSize===nu.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==nu.BASESIZE?["sizing","reset-size"+this.size,"size"+nu.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=K6e(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}nu.BASESIZE=6;var pA={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},X6e={ex:!0,em:!0,mu:!0},FJ=function(t){return typeof t!="string"&&(t=t.unit),t in pA||t in X6e||t==="ex"},Vr=function(t,n){var r;if(t.unit in pA)r=pA[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new ut("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},yt=function(t){return+t.toFixed(4)+"em"},yf=function(t){return t.filter(n=>n).join(" ")},$J=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},zJ=function(t){var n=document.createElement(t);n.className=yf(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},Q6e=/[\s"'>/=\x00-\x1f]/,BJ=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Kn.escape(yf(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Kn.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Kn.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Q6e.test(s))throw new ut("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Kn.escape(this.attributes[s])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+t+">",n};class px{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,$J.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return zJ.call(this,"span")}toMarkup(){return BJ.call(this,"span")}}class dI{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,$J.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return zJ.call(this,"a")}toMarkup(){return BJ.call(this,"a")}}class Z6e{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Kn.escape(this.src)+'"'+(' alt="'+Kn.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Kn.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Kn.escape(n)+'"'),t+="'/>",t}}var J6e={:"",:"",:"",:""};class Lo{constructor(t,n,r,i,s,a,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var u=L6e(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=J6e[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=yt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=yf(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Kn.escape(yf(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Kn.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+Kn.escape(r)+'"');var s=Kn.escape(this.text);return t?(n+=">",n+=s,n+="</span>",n):s}}class Au{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Kn.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class xf{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",R$[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Kn.escape(this.alternate)+'"/>':'<path d="'+Kn.escape(R$[this.pathName])+'"/>'}}class gA{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Kn.escape(this.attributes[n])+'"');return t+="/>",t}}function L$(e){if(e instanceof Lo)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function eAe(e){if(e instanceof px)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var tAe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},nAe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Er={math:{},text:{}};function D(e,t,n,r,i,s){Er[e][i]={font:t,group:n,replace:r},s&&r&&(Er[e][r]=Er[e][i])}var H="math",tt="text",Z="main",pe="ams",Fr="accent-token",Nt="bin",Js="close",yg="inner",rn="mathord",_i="op-token",Qa="open",yk="punct",ge="rel",Wu="spacing",Ce="textord";D(H,Z,ge,"","\\equiv",!0);D(H,Z,ge,"","\\prec",!0);D(H,Z,ge,"","\\succ",!0);D(H,Z,ge,"","\\sim",!0);D(H,Z,ge,"","\\perp");D(H,Z,ge,"","\\preceq",!0);D(H,Z,ge,"","\\succeq",!0);D(H,Z,ge,"","\\simeq",!0);D(H,Z,ge,"","\\mid",!0);D(H,Z,ge,"","\\ll",!0);D(H,Z,ge,"","\\gg",!0);D(H,Z,ge,"","\\asymp",!0);D(H,Z,ge,"","\\parallel");D(H,Z,ge,"","\\bowtie",!0);D(H,Z,ge,"","\\smile",!0);D(H,Z,ge,"","\\sqsubseteq",!0);D(H,Z,ge,"","\\sqsupseteq",!0);D(H,Z,ge,"","\\doteq",!0);D(H,Z,ge,"","\\frown",!0);D(H,Z,ge,"","\\ni",!0);D(H,Z,ge,"","\\propto",!0);D(H,Z,ge,"","\\vdash",!0);D(H,Z,ge,"","\\dashv",!0);D(H,Z,ge,"","\\owns");D(H,Z,yk,".","\\ldotp");D(H,Z,yk,"","\\cdotp");D(H,Z,Ce,"#","\\#");D(tt,Z,Ce,"#","\\#");D(H,Z,Ce,"&","\\&");D(tt,Z,Ce,"&","\\&");D(H,Z,Ce,"","\\aleph",!0);D(H,Z,Ce,"","\\forall",!0);D(H,Z,Ce,"","\\hbar",!0);D(H,Z,Ce,"","\\exists",!0);D(H,Z,Ce,"","\\nabla",!0);D(H,Z,Ce,"","\\flat",!0);D(H,Z,Ce,"","\\ell",!0);D(H,Z,Ce,"","\\natural",!0);D(H,Z,Ce,"","\\clubsuit",!0);D(H,Z,Ce,"","\\wp",!0);D(H,Z,Ce,"","\\sharp",!0);D(H,Z,Ce,"","\\diamondsuit",!0);D(H,Z,Ce,"","\\Re",!0);D(H,Z,Ce,"","\\heartsuit",!0);D(H,Z,Ce,"","\\Im",!0);D(H,Z,Ce,"","\\spadesuit",!0);D(H,Z,Ce,"","\\S",!0);D(tt,Z,Ce,"","\\S");D(H,Z,Ce,"","\\P",!0);D(tt,Z,Ce,"","\\P");D(H,Z,Ce,"","\\dag");D(tt,Z,Ce,"","\\dag");D(tt,Z,Ce,"","\\textdagger");D(H,Z,Ce,"","\\ddag");D(tt,Z,Ce,"","\\ddag");D(tt,Z,Ce,"","\\textdaggerdbl");D(H,Z,Js,"","\\rmoustache",!0);D(H,Z,Qa,"","\\lmoustache",!0);D(H,Z,Js,"","\\rgroup",!0);D(H,Z,Qa,"","\\lgroup",!0);D(H,Z,Nt,"","\\mp",!0);D(H,Z,Nt,"","\\ominus",!0);D(H,Z,Nt,"","\\uplus",!0);D(H,Z,Nt,"","\\sqcap",!0);D(H,Z,Nt,"","\\ast");D(H,Z,Nt,"","\\sqcup",!0);D(H,Z,Nt,"","\\bigcirc",!0);D(H,Z,Nt,"","\\bullet",!0);D(H,Z,Nt,"","\\ddagger");D(H,Z,Nt,"","\\wr",!0);D(H,Z,Nt,"","\\amalg");D(H,Z,Nt,"&","\\And");D(H,Z,ge,"","\\longleftarrow",!0);D(H,Z,ge,"","\\Leftarrow",!0);D(H,Z,ge,"","\\Longleftarrow",!0);D(H,Z,ge,"","\\longrightarrow",!0);D(H,Z,ge,"","\\Rightarrow",!0);D(H,Z,ge,"","\\Longrightarrow",!0);D(H,Z,ge,"","\\leftrightarrow",!0);D(H,Z,ge,"","\\longleftrightarrow",!0);D(H,Z,ge,"","\\Leftrightarrow",!0);D(H,Z,ge,"","\\Longleftrightarrow",!0);D(H,Z,ge,"","\\mapsto",!0);D(H,Z,ge,"","\\longmapsto",!0);D(H,Z,ge,"","\\nearrow",!0);D(H,Z,ge,"","\\hookleftarrow",!0);D(H,Z,ge,"","\\hookrightarrow",!0);D(H,Z,ge,"","\\searrow",!0);D(H,Z,ge,"","\\leftharpoonup",!0);D(H,Z,ge,"","\\rightharpoonup",!0);D(H,Z,ge,"","\\swarrow",!0);D(H,Z,ge,"","\\leftharpoondown",!0);D(H,Z,ge,"","\\rightharpoondown",!0);D(H,Z,ge,"","\\nwarrow",!0);D(H,Z,ge,"","\\rightleftharpoons",!0);D(H,pe,ge,"","\\nless",!0);D(H,pe,ge,"","\\@nleqslant");D(H,pe,ge,"","\\@nleqq");D(H,pe,ge,"","\\lneq",!0);D(H,pe,ge,"","\\lneqq",!0);D(H,pe,ge,"","\\@lvertneqq");D(H,pe,ge,"","\\lnsim",!0);D(H,pe,ge,"","\\lnapprox",!0);D(H,pe,ge,"","\\nprec",!0);D(H,pe,ge,"","\\npreceq",!0);D(H,pe,ge,"","\\precnsim",!0);D(H,pe,ge,"","\\precnapprox",!0);D(H,pe,ge,"","\\nsim",!0);D(H,pe,ge,"","\\@nshortmid");D(H,pe,ge,"","\\nmid",!0);D(H,pe,ge,"","\\nvdash",!0);D(H,pe,ge,"","\\nvDash",!0);D(H,pe,ge,"","\\ntriangleleft");D(H,pe,ge,"","\\ntrianglelefteq",!0);D(H,pe,ge,"","\\subsetneq",!0);D(H,pe,ge,"","\\@varsubsetneq");D(H,pe,ge,"","\\subsetneqq",!0);D(H,pe,ge,"","\\@varsubsetneqq");D(H,pe,ge,"","\\ngtr",!0);D(H,pe,ge,"","\\@ngeqslant");D(H,pe,ge,"","\\@ngeqq");D(H,pe,ge,"","\\gneq",!0);D(H,pe,ge,"","\\gneqq",!0);D(H,pe,ge,"","\\@gvertneqq");D(H,pe,ge,"","\\gnsim",!0);D(H,pe,ge,"","\\gnapprox",!0);D(H,pe,ge,"","\\nsucc",!0);D(H,pe,ge,"","\\nsucceq",!0);D(H,pe,ge,"","\\succnsim",!0);D(H,pe,ge,"","\\succnapprox",!0);D(H,pe,ge,"","\\ncong",!0);D(H,pe,ge,"","\\@nshortparallel");D(H,pe,ge,"","\\nparallel",!0);D(H,pe,ge,"","\\nVDash",!0);D(H,pe,ge,"","\\ntriangleright");D(H,pe,ge,"","\\ntrianglerighteq",!0);D(H,pe,ge,"","\\@nsupseteqq");D(H,pe,ge,"","\\supsetneq",!0);D(H,pe,ge,"","\\@varsupsetneq");D(H,pe,ge,"","\\supsetneqq",!0);D(H,pe,ge,"","\\@varsupsetneqq");D(H,pe,ge,"","\\nVdash",!0);D(H,pe,ge,"","\\precneqq",!0);D(H,pe,ge,"","\\succneqq",!0);D(H,pe,ge,"","\\@nsubseteqq");D(H,pe,Nt,"","\\unlhd");D(H,pe,Nt,"","\\unrhd");D(H,pe,ge,"","\\nleftarrow",!0);D(H,pe,ge,"","\\nrightarrow",!0);D(H,pe,ge,"","\\nLeftarrow",!0);D(H,pe,ge,"","\\nRightarrow",!0);D(H,pe,ge,"","\\nleftrightarrow",!0);D(H,pe,ge,"","\\nLeftrightarrow",!0);D(H,pe,ge,"","\\vartriangle");D(H,pe,Ce,"","\\hslash");D(H,pe,Ce,"","\\triangledown");D(H,pe,Ce,"","\\lozenge");D(H,pe,Ce,"","\\circledS");D(H,pe,Ce,"","\\circledR");D(tt,pe,Ce,"","\\circledR");D(H,pe,Ce,"","\\measuredangle",!0);D(H,pe,Ce,"","\\nexists");D(H,pe,Ce,"","\\mho");D(H,pe,Ce,"","\\Finv",!0);D(H,pe,Ce,"","\\Game",!0);D(H,pe,Ce,"","\\backprime");D(H,pe,Ce,"","\\blacktriangle");D(H,pe,Ce,"","\\blacktriangledown");D(H,pe,Ce,"","\\blacksquare");D(H,pe,Ce,"","\\blacklozenge");D(H,pe,Ce,"","\\bigstar");D(H,pe,Ce,"","\\sphericalangle",!0);D(H,pe,Ce,"","\\complement",!0);D(H,pe,Ce,"","\\eth",!0);D(tt,Z,Ce,"","");D(H,pe,Ce,"","\\diagup");D(H,pe,Ce,"","\\diagdown");D(H,pe,Ce,"","\\square");D(H,pe,Ce,"","\\Box");D(H,pe,Ce,"","\\Diamond");D(H,pe,Ce,"","\\yen",!0);D(tt,pe,Ce,"","\\yen",!0);D(H,pe,Ce,"","\\checkmark",!0);D(tt,pe,Ce,"","\\checkmark");D(H,pe,Ce,"","\\beth",!0);D(H,pe,Ce,"","\\daleth",!0);D(H,pe,Ce,"","\\gimel",!0);D(H,pe,Ce,"","\\digamma",!0);D(H,pe,Ce,"","\\varkappa");D(H,pe,Qa,"","\\@ulcorner",!0);D(H,pe,Js,"","\\@urcorner",!0);D(H,pe,Qa,"","\\@llcorner",!0);D(H,pe,Js,"","\\@lrcorner",!0);D(H,pe,ge,"","\\leqq",!0);D(H,pe,ge,"","\\leqslant",!0);D(H,pe,ge,"","\\eqslantless",!0);D(H,pe,ge,"","\\lesssim",!0);D(H,pe,ge,"","\\lessapprox",!0);D(H,pe,ge,"","\\approxeq",!0);D(H,pe,Nt,"","\\lessdot");D(H,pe,ge,"","\\lll",!0);D(H,pe,ge,"","\\lessgtr",!0);D(H,pe,ge,"","\\lesseqgtr",!0);D(H,pe,ge,"","\\lesseqqgtr",!0);D(H,pe,ge,"","\\doteqdot");D(H,pe,ge,"","\\risingdotseq",!0);D(H,pe,ge,"","\\fallingdotseq",!0);D(H,pe,ge,"","\\backsim",!0);D(H,pe,ge,"","\\backsimeq",!0);D(H,pe,ge,"","\\subseteqq",!0);D(H,pe,ge,"","\\Subset",!0);D(H,pe,ge,"","\\sqsubset",!0);D(H,pe,ge,"","\\preccurlyeq",!0);D(H,pe,ge,"","\\curlyeqprec",!0);D(H,pe,ge,"","\\precsim",!0);D(H,pe,ge,"","\\precapprox",!0);D(H,pe,ge,"","\\vartriangleleft");D(H,pe,ge,"","\\trianglelefteq");D(H,pe,ge,"","\\vDash",!0);D(H,pe,ge,"","\\Vvdash",!0);D(H,pe,ge,"","\\smallsmile");D(H,pe,ge,"","\\smallfrown");D(H,pe,ge,"","\\bumpeq",!0);D(H,pe,ge,"","\\Bumpeq",!0);D(H,pe,ge,"","\\geqq",!0);D(H,pe,ge,"","\\geqslant",!0);D(H,pe,ge,"","\\eqslantgtr",!0);D(H,pe,ge,"","\\gtrsim",!0);D(H,pe,ge,"","\\gtrapprox",!0);D(H,pe,Nt,"","\\gtrdot");D(H,pe,ge,"","\\ggg",!0);D(H,pe,ge,"","\\gtrless",!0);D(H,pe,ge,"","\\gtreqless",!0);D(H,pe,ge,"","\\gtreqqless",!0);D(H,pe,ge,"","\\eqcirc",!0);D(H,pe,ge,"","\\circeq",!0);D(H,pe,ge,"","\\triangleq",!0);D(H,pe,ge,"","\\thicksim");D(H,pe,ge,"","\\thickapprox");D(H,pe,ge,"","\\supseteqq",!0);D(H,pe,ge,"","\\Supset",!0);D(H,pe,ge,"","\\sqsupset",!0);D(H,pe,ge,"","\\succcurlyeq",!0);D(H,pe,ge,"","\\curlyeqsucc",!0);D(H,pe,ge,"","\\succsim",!0);D(H,pe,ge,"","\\succapprox",!0);D(H,pe,ge,"","\\vartriangleright");D(H,pe,ge,"","\\trianglerighteq");D(H,pe,ge,"","\\Vdash",!0);D(H,pe,ge,"","\\shortmid");D(H,pe,ge,"","\\shortparallel");D(H,pe,ge,"","\\between",!0);D(H,pe,ge,"","\\pitchfork",!0);D(H,pe,ge,"","\\varpropto");D(H,pe,ge,"","\\blacktriangleleft");D(H,pe,ge,"","\\therefore",!0);D(H,pe,ge,"","\\backepsilon");D(H,pe,ge,"","\\blacktriangleright");D(H,pe,ge,"","\\because",!0);D(H,pe,ge,"","\\llless");D(H,pe,ge,"","\\gggtr");D(H,pe,Nt,"","\\lhd");D(H,pe,Nt,"","\\rhd");D(H,pe,ge,"","\\eqsim",!0);D(H,Z,ge,"","\\Join");D(H,pe,ge,"","\\Doteq",!0);D(H,pe,Nt,"","\\dotplus",!0);D(H,pe,Nt,"","\\smallsetminus");D(H,pe,Nt,"","\\Cap",!0);D(H,pe,Nt,"","\\Cup",!0);D(H,pe,Nt,"","\\doublebarwedge",!0);D(H,pe,Nt,"","\\boxminus",!0);D(H,pe,Nt,"","\\boxplus",!0);D(H,pe,Nt,"","\\divideontimes",!0);D(H,pe,Nt,"","\\ltimes",!0);D(H,pe,Nt,"","\\rtimes",!0);D(H,pe,Nt,"","\\leftthreetimes",!0);D(H,pe,Nt,"","\\rightthreetimes",!0);D(H,pe,Nt,"","\\curlywedge",!0);D(H,pe,Nt,"","\\curlyvee",!0);D(H,pe,Nt,"","\\circleddash",!0);D(H,pe,Nt,"","\\circledast",!0);D(H,pe,Nt,"","\\centerdot");D(H,pe,Nt,"","\\intercal",!0);D(H,pe,Nt,"","\\doublecap");D(H,pe,Nt,"","\\doublecup");D(H,pe,Nt,"","\\boxtimes",!0);D(H,pe,ge,"","\\dashrightarrow",!0);D(H,pe,ge,"","\\dashleftarrow",!0);D(H,pe,ge,"","\\leftleftarrows",!0);D(H,pe,ge,"","\\leftrightarrows",!0);D(H,pe,ge,"","\\Lleftarrow",!0);D(H,pe,ge,"","\\twoheadleftarrow",!0);D(H,pe,ge,"","\\leftarrowtail",!0);D(H,pe,ge,"","\\looparrowleft",!0);D(H,pe,ge,"","\\leftrightharpoons",!0);D(H,pe,ge,"","\\curvearrowleft",!0);D(H,pe,ge,"","\\circlearrowleft",!0);D(H,pe,ge,"","\\Lsh",!0);D(H,pe,ge,"","\\upuparrows",!0);D(H,pe,ge,"","\\upharpoonleft",!0);D(H,pe,ge,"","\\downharpoonleft",!0);D(H,Z,ge,"","\\origof",!0);D(H,Z,ge,"","\\imageof",!0);D(H,pe,ge,"","\\multimap",!0);D(H,pe,ge,"","\\leftrightsquigarrow",!0);D(H,pe,ge,"","\\rightrightarrows",!0);D(H,pe,ge,"","\\rightleftarrows",!0);D(H,pe,ge,"","\\twoheadrightarrow",!0);D(H,pe,ge,"","\\rightarrowtail",!0);D(H,pe,ge,"","\\looparrowright",!0);D(H,pe,ge,"","\\curvearrowright",!0);D(H,pe,ge,"","\\circlearrowright",!0);D(H,pe,ge,"","\\Rsh",!0);D(H,pe,ge,"","\\downdownarrows",!0);D(H,pe,ge,"","\\upharpoonright",!0);D(H,pe,ge,"","\\downharpoonright",!0);D(H,pe,ge,"","\\rightsquigarrow",!0);D(H,pe,ge,"","\\leadsto");D(H,pe,ge,"","\\Rrightarrow",!0);D(H,pe,ge,"","\\restriction");D(H,Z,Ce,"","`");D(H,Z,Ce,"$","\\$");D(tt,Z,Ce,"$","\\$");D(tt,Z,Ce,"$","\\textdollar");D(H,Z,Ce,"%","\\%");D(tt,Z,Ce,"%","\\%");D(H,Z,Ce,"_","\\_");D(tt,Z,Ce,"_","\\_");D(tt,Z,Ce,"_","\\textunderscore");D(H,Z,Ce,"","\\angle",!0);D(H,Z,Ce,"","\\infty",!0);D(H,Z,Ce,"","\\prime");D(H,Z,Ce,"","\\triangle");D(H,Z,Ce,"","\\Gamma",!0);D(H,Z,Ce,"","\\Delta",!0);D(H,Z,Ce,"","\\Theta",!0);D(H,Z,Ce,"","\\Lambda",!0);D(H,Z,Ce,"","\\Xi",!0);D(H,Z,Ce,"","\\Pi",!0);D(H,Z,Ce,"","\\Sigma",!0);D(H,Z,Ce,"","\\Upsilon",!0);D(H,Z,Ce,"","\\Phi",!0);D(H,Z,Ce,"","\\Psi",!0);D(H,Z,Ce,"","\\Omega",!0);D(H,Z,Ce,"A","");D(H,Z,Ce,"B","");D(H,Z,Ce,"E","");D(H,Z,Ce,"Z","");D(H,Z,Ce,"H","");D(H,Z,Ce,"I","");D(H,Z,Ce,"K","");D(H,Z,Ce,"M","");D(H,Z,Ce,"N","");D(H,Z,Ce,"O","");D(H,Z,Ce,"P","");D(H,Z,Ce,"T","");D(H,Z,Ce,"X","");D(H,Z,Ce,"","\\neg",!0);D(H,Z,Ce,"","\\lnot");D(H,Z,Ce,"","\\top");D(H,Z,Ce,"","\\bot");D(H,Z,Ce,"","\\emptyset");D(H,pe,Ce,"","\\varnothing");D(H,Z,rn,"","\\alpha",!0);D(H,Z,rn,"","\\beta",!0);D(H,Z,rn,"","\\gamma",!0);D(H,Z,rn,"","\\delta",!0);D(H,Z,rn,"","\\epsilon",!0);D(H,Z,rn,"","\\zeta",!0);D(H,Z,rn,"","\\eta",!0);D(H,Z,rn,"","\\theta",!0);D(H,Z,rn,"","\\iota",!0);D(H,Z,rn,"","\\kappa",!0);D(H,Z,rn,"","\\lambda",!0);D(H,Z,rn,"","\\mu",!0);D(H,Z,rn,"","\\nu",!0);D(H,Z,rn,"","\\xi",!0);D(H,Z,rn,"","\\omicron",!0);D(H,Z,rn,"","\\pi",!0);D(H,Z,rn,"","\\rho",!0);D(H,Z,rn,"","\\sigma",!0);D(H,Z,rn,"","\\tau",!0);D(H,Z,rn,"","\\upsilon",!0);D(H,Z,rn,"","\\phi",!0);D(H,Z,rn,"","\\chi",!0);D(H,Z,rn,"","\\psi",!0);D(H,Z,rn,"","\\omega",!0);D(H,Z,rn,"","\\varepsilon",!0);D(H,Z,rn,"","\\vartheta",!0);D(H,Z,rn,"","\\varpi",!0);D(H,Z,rn,"","\\varrho",!0);D(H,Z,rn,"","\\varsigma",!0);D(H,Z,rn,"","\\varphi",!0);D(H,Z,Nt,"","*",!0);D(H,Z,Nt,"+","+");D(H,Z,Nt,"","-",!0);D(H,Z,Nt,"","\\cdot",!0);D(H,Z,Nt,"","\\circ",!0);D(H,Z,Nt,"","\\div",!0);D(H,Z,Nt,"","\\pm",!0);D(H,Z,Nt,"","\\times",!0);D(H,Z,Nt,"","\\cap",!0);D(H,Z,Nt,"","\\cup",!0);D(H,Z,Nt,"","\\setminus",!0);D(H,Z,Nt,"","\\land");D(H,Z,Nt,"","\\lor");D(H,Z,Nt,"","\\wedge",!0);D(H,Z,Nt,"","\\vee",!0);D(H,Z,Ce,"","\\surd");D(H,Z,Qa,"","\\langle",!0);D(H,Z,Qa,"","\\lvert");D(H,Z,Qa,"","\\lVert");D(H,Z,Js,"?","?");D(H,Z,Js,"!","!");D(H,Z,Js,"","\\rangle",!0);D(H,Z,Js,"","\\rvert");D(H,Z,Js,"","\\rVert");D(H,Z,ge,"=","=");D(H,Z,ge,":",":");D(H,Z,ge,"","\\approx",!0);D(H,Z,ge,"","\\cong",!0);D(H,Z,ge,"","\\ge");D(H,Z,ge,"","\\geq",!0);D(H,Z,ge,"","\\gets");D(H,Z,ge,">","\\gt",!0);D(H,Z,ge,"","\\in",!0);D(H,Z,ge,"","\\@not");D(H,Z,ge,"","\\subset",!0);D(H,Z,ge,"","\\supset",!0);D(H,Z,ge,"","\\subseteq",!0);D(H,Z,ge,"","\\supseteq",!0);D(H,pe,ge,"","\\nsubseteq",!0);D(H,pe,ge,"","\\nsupseteq",!0);D(H,Z,ge,"","\\models");D(H,Z,ge,"","\\leftarrow",!0);D(H,Z,ge,"","\\le");D(H,Z,ge,"","\\leq",!0);D(H,Z,ge,"<","\\lt",!0);D(H,Z,ge,"","\\rightarrow",!0);D(H,Z,ge,"","\\to");D(H,pe,ge,"","\\ngeq",!0);D(H,pe,ge,"","\\nleq",!0);D(H,Z,Wu,"","\\ ");D(H,Z,Wu,"","\\space");D(H,Z,Wu,"","\\nobreakspace");D(tt,Z,Wu,"","\\ ");D(tt,Z,Wu,""," ");D(tt,Z,Wu,"","\\space");D(tt,Z,Wu,"","\\nobreakspace");D(H,Z,Wu,null,"\\nobreak");D(H,Z,Wu,null,"\\allowbreak");D(H,Z,yk,",",",");D(H,Z,yk,";",";");D(H,pe,Nt,"","\\barwedge",!0);D(H,pe,Nt,"","\\veebar",!0);D(H,Z,Nt,"","\\odot",!0);D(H,Z,Nt,"","\\oplus",!0);D(H,Z,Nt,"","\\otimes",!0);D(H,Z,Ce,"","\\partial",!0);D(H,Z,Nt,"","\\oslash",!0);D(H,pe,Nt,"","\\circledcirc",!0);D(H,pe,Nt,"","\\boxdot",!0);D(H,Z,Nt,"","\\bigtriangleup");D(H,Z,Nt,"","\\bigtriangledown");D(H,Z,Nt,"","\\dagger");D(H,Z,Nt,"","\\diamond");D(H,Z,Nt,"","\\star");D(H,Z,Nt,"","\\triangleleft");D(H,Z,Nt,"","\\triangleright");D(H,Z,Qa,"{","\\{");D(tt,Z,Ce,"{","\\{");D(tt,Z,Ce,"{","\\textbraceleft");D(H,Z,Js,"}","\\}");D(tt,Z,Ce,"}","\\}");D(tt,Z,Ce,"}","\\textbraceright");D(H,Z,Qa,"{","\\lbrace");D(H,Z,Js,"}","\\rbrace");D(H,Z,Qa,"[","\\lbrack",!0);D(tt,Z,Ce,"[","\\lbrack",!0);D(H,Z,Js,"]","\\rbrack",!0);D(tt,Z,Ce,"]","\\rbrack",!0);D(H,Z,Qa,"(","\\lparen",!0);D(H,Z,Js,")","\\rparen",!0);D(tt,Z,Ce,"<","\\textless",!0);D(tt,Z,Ce,">","\\textgreater",!0);D(H,Z,Qa,"","\\lfloor",!0);D(H,Z,Js,"","\\rfloor",!0);D(H,Z,Qa,"","\\lceil",!0);D(H,Z,Js,"","\\rceil",!0);D(H,Z,Ce,"\\","\\backslash");D(H,Z,Ce,"","|");D(H,Z,Ce,"","\\vert");D(tt,Z,Ce,"|","\\textbar",!0);D(H,Z,Ce,"","\\|");D(H,Z,Ce,"","\\Vert");D(tt,Z,Ce,"","\\textbardbl");D(tt,Z,Ce,"~","\\textasciitilde");D(tt,Z,Ce,"\\","\\textbackslash");D(tt,Z,Ce,"^","\\textasciicircum");D(H,Z,ge,"","\\uparrow",!0);D(H,Z,ge,"","\\Uparrow",!0);D(H,Z,ge,"","\\downarrow",!0);D(H,Z,ge,"","\\Downarrow",!0);D(H,Z,ge,"","\\updownarrow",!0);D(H,Z,ge,"","\\Updownarrow",!0);D(H,Z,_i,"","\\coprod");D(H,Z,_i,"","\\bigvee");D(H,Z,_i,"","\\bigwedge");D(H,Z,_i,"","\\biguplus");D(H,Z,_i,"","\\bigcap");D(H,Z,_i,"","\\bigcup");D(H,Z,_i,"","\\int");D(H,Z,_i,"","\\intop");D(H,Z,_i,"","\\iint");D(H,Z,_i,"","\\iiint");D(H,Z,_i,"","\\prod");D(H,Z,_i,"","\\sum");D(H,Z,_i,"","\\bigotimes");D(H,Z,_i,"","\\bigoplus");D(H,Z,_i,"","\\bigodot");D(H,Z,_i,"","\\oint");D(H,Z,_i,"","\\oiint");D(H,Z,_i,"","\\oiiint");D(H,Z,_i,"","\\bigsqcup");D(H,Z,_i,"","\\smallint");D(tt,Z,yg,"","\\textellipsis");D(H,Z,yg,"","\\mathellipsis");D(tt,Z,yg,"","\\ldots",!0);D(H,Z,yg,"","\\ldots",!0);D(H,Z,yg,"","\\@cdots",!0);D(H,Z,yg,"","\\ddots",!0);D(H,Z,Ce,"","\\varvdots");D(tt,Z,Ce,"","\\varvdots");D(H,Z,Fr,"","\\acute");D(H,Z,Fr,"","\\grave");D(H,Z,Fr,"","\\ddot");D(H,Z,Fr,"~","\\tilde");D(H,Z,Fr,"","\\bar");D(H,Z,Fr,"","\\breve");D(H,Z,Fr,"","\\check");D(H,Z,Fr,"^","\\hat");D(H,Z,Fr,"","\\vec");D(H,Z,Fr,"","\\dot");D(H,Z,Fr,"","\\mathring");D(H,Z,rn,"","\\@imath");D(H,Z,rn,"","\\@jmath");D(H,Z,Ce,"","");D(H,Z,Ce,"","");D(tt,Z,Ce,"","\\i",!0);D(tt,Z,Ce,"","\\j",!0);D(tt,Z,Ce,"","\\ss",!0);D(tt,Z,Ce,"","\\ae",!0);D(tt,Z,Ce,"","\\oe",!0);D(tt,Z,Ce,"","\\o",!0);D(tt,Z,Ce,"","\\AE",!0);D(tt,Z,Ce,"","\\OE",!0);D(tt,Z,Ce,"","\\O",!0);D(tt,Z,Fr,"","\\'");D(tt,Z,Fr,"","\\`");D(tt,Z,Fr,"","\\^");D(tt,Z,Fr,"","\\~");D(tt,Z,Fr,"","\\=");D(tt,Z,Fr,"","\\u");D(tt,Z,Fr,"","\\.");D(tt,Z,Fr,"","\\c");D(tt,Z,Fr,"","\\r");D(tt,Z,Fr,"","\\v");D(tt,Z,Fr,"",'\\"');D(tt,Z,Fr,"","\\H");D(tt,Z,Fr,"","\\textcircled");var UJ={"--":!0,"---":!0,"``":!0,"''":!0};D(tt,Z,Ce,"","--",!0);D(tt,Z,Ce,"","\\textendash");D(tt,Z,Ce,"","---",!0);D(tt,Z,Ce,"","\\textemdash");D(tt,Z,Ce,"","`",!0);D(tt,Z,Ce,"","\\textquoteleft");D(tt,Z,Ce,"","'",!0);D(tt,Z,Ce,"","\\textquoteright");D(tt,Z,Ce,"","``",!0);D(tt,Z,Ce,"","\\textquotedblleft");D(tt,Z,Ce,"","''",!0);D(tt,Z,Ce,"","\\textquotedblright");D(H,Z,Ce,"","\\degree",!0);D(tt,Z,Ce,"","\\degree");D(tt,Z,Ce,"","\\textdegree",!0);D(H,Z,Ce,"","\\pounds");D(H,Z,Ce,"","\\mathsterling",!0);D(tt,Z,Ce,"","\\pounds");D(tt,Z,Ce,"","\\textsterling",!0);D(H,pe,Ce,"","\\maltese");D(tt,pe,Ce,"","\\maltese");var F$='0123456789/@."';for(var MN=0;MN<F$.length;MN++){var $$=F$.charAt(MN);D(H,Z,Ce,$$,$$)}var z$='0123456789!@*()-=+";:?/.,';for(var ON=0;ON<z$.length;ON++){var B$=z$.charAt(ON);D(tt,Z,Ce,B$,B$)}var B4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var DN=0;DN<B4.length;DN++){var Bw=B4.charAt(DN);D(H,Z,rn,Bw,Bw),D(tt,Z,Ce,Bw,Bw)}D(H,pe,Ce,"C","");D(tt,pe,Ce,"C","");D(H,pe,Ce,"H","");D(tt,pe,Ce,"H","");D(H,pe,Ce,"N","");D(tt,pe,Ce,"N","");D(H,pe,Ce,"P","");D(tt,pe,Ce,"P","");D(H,pe,Ce,"Q","");D(tt,pe,Ce,"Q","");D(H,pe,Ce,"R","");D(tt,pe,Ce,"R","");D(H,pe,Ce,"Z","");D(tt,pe,Ce,"Z","");D(H,Z,rn,"h","");D(tt,Z,rn,"h","");var on="";for(var Fs=0;Fs<B4.length;Fs++){var Qr=B4.charAt(Fs);on=String.fromCharCode(55349,56320+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56372+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56424+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56580+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56684+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56736+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56788+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56840+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56944+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),Fs<26&&(on=String.fromCharCode(55349,56632+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on),on=String.fromCharCode(55349,56476+Fs),D(H,Z,rn,Qr,on),D(tt,Z,Ce,Qr,on))}on="";D(H,Z,rn,"k",on);D(tt,Z,Ce,"k",on);for(var rh=0;rh<10;rh++){var kd=rh.toString();on=String.fromCharCode(55349,57294+rh),D(H,Z,rn,kd,on),D(tt,Z,Ce,kd,on),on=String.fromCharCode(55349,57314+rh),D(H,Z,rn,kd,on),D(tt,Z,Ce,kd,on),on=String.fromCharCode(55349,57324+rh),D(H,Z,rn,kd,on),D(tt,Z,Ce,kd,on),on=String.fromCharCode(55349,57334+rh),D(H,Z,rn,kd,on),D(tt,Z,Ce,kd,on)}var vA="";for(var LN=0;LN<vA.length;LN++){var Uw=vA.charAt(LN);D(H,Z,rn,Uw,Uw),D(tt,Z,Ce,Uw,Uw)}var Hw=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],U$=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],rAe=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Hw[o][2],Hw[o][a]]}else if(120782<=s&&s<=120831){var c=Math.floor((s-120782)/10);return[U$[c][2],U$[c][a]]}else{if(s===120485||s===120486)return[Hw[0][2],Hw[0][a]];if(120486<s&&s<120782)return["",""];throw new ut("Unsupported character: "+t)}},xk=function(t,n,r){return Er[r][t]&&Er[r][t].replace&&(t=Er[r][t].replace),{value:t,metrics:uI(t,n,r)}},al=function(t,n,r,i,s){var a=xk(t,n,r),o=a.metrics;t=a.value;var c;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),c=new Lo(t,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),c=new Lo(t,0,0,0,0,0,s);if(i){c.maxFontSize=i.sizeMultiplier,i.style.isTight()&&c.classes.push("mtight");var d=i.getColor();d&&(c.style.color=d)}return c},iAe=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&xk(t,"Main-Bold",n).metrics?al(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||Er[n][t].font==="main"?al(t,"Main-Regular",n,r,i):al(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},sAe=function(t,n,r,i,s){return s!=="textord"&&xk(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},aAe=function(t,n,r){var i=t.mode,s=t.text,a=["mord"],o=i==="math"||i==="text"&&n.font,c=o?n.font:n.fontFamily,u="",d="";if(s.charCodeAt(0)===55349&&([u,d]=rAe(s,i)),u.length>0)return al(s,u,i,n,a.concat(d));if(c){var f,h;if(c==="boldsymbol"){var p=sAe(s,i,n,a,r);f=p.fontName,h=[p.fontClass]}else o?(f=qJ[c].fontName,h=[c]):(f=Vw(c,n.fontWeight,n.fontShape),h=[c,n.fontWeight,n.fontShape]);if(xk(s,f,i).metrics)return al(s,f,i,n,a.concat(h));if(UJ.hasOwnProperty(s)&&f.slice(0,10)==="Typewriter"){for(var v=[],x=0;x<s.length;x++)v.push(al(s[x],f,i,n,a.concat(h)));return VJ(v)}}if(r==="mathord")return al(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var b=Er[i][s]&&Er[i][s].font;if(b==="ams"){var w=Vw("amsrm",n.fontWeight,n.fontShape);return al(s,w,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var E=Vw("textrm",n.fontWeight,n.fontShape);return al(s,E,i,n,a.concat(n.fontWeight,n.fontShape))}else{var k=Vw(b,n.fontWeight,n.fontShape);return al(s,k,i,n,a.concat(k,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},oAe=(e,t)=>{if(yf(e.classes)!==yf(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},lAe=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Lo&&r instanceof Lo&&oAe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},fI=function(t){for(var n=0,r=0,i=0,s=0;s<t.children.length;s++){var a=t.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},fa=function(t,n,r,i){var s=new px(t,n,r,i);return fI(s),s},HJ=(e,t,n,r)=>new px(e,t,n,r),cAe=function(t,n,r){var i=fa([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=yt(i.height),i.maxFontSize=1,i},uAe=function(t,n,r,i){var s=new dI(t,n,r,i);return fI(s),s},VJ=function(t){var n=new mx(t);return fI(n),n},dAe=function(t,n){return t instanceof mx?fa([],[t],n):t},fAe=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var o=-n[a].shift-s-n[a].elem.depth,c=o-(n[a-1].elem.height+n[a-1].elem.depth);s=s+o,r.push({type:"kern",size:c}),r.push(n[a])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var d=t.positionData,f=0;f<t.children.length;f++){var h=t.children[f];d-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=d}else if(t.positionType==="bottom")u=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},hAe=function(t,n){for(var{children:r,depth:i}=fAe(t),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var c=o.elem;s=Math.max(s,c.maxFontSize,c.height)}}s+=2;var u=fa(["pstrut"],[]);u.style.height=yt(s);for(var d=[],f=i,h=i,p=i,v=0;v<r.length;v++){var x=r[v];if(x.type==="kern")p+=x.size;else{var b=x.elem,w=x.wrapperClasses||[],E=x.wrapperStyle||{},k=fa(w,[u,b],void 0,E);k.style.top=yt(-s-p-b.depth),x.marginLeft&&(k.style.marginLeft=x.marginLeft),x.marginRight&&(k.style.marginRight=x.marginRight),d.push(k),p+=b.height+b.depth}f=Math.min(f,p),h=Math.max(h,p)}var _=fa(["vlist"],d);_.style.height=yt(h);var A;if(f<0){var T=fa([],[]),C=fa(["vlist"],[T]);C.style.height=yt(-f);var I=fa(["vlist-s"],[new Lo("")]);A=[fa(["vlist-r"],[_,I]),fa(["vlist-r"],[C])]}else A=[fa(["vlist-r"],[_])];var B=fa(["vlist-t"],A);return A.length===2&&B.classes.push("vlist-t2"),B.height=h,B.depth=-f,B},mAe=(e,t)=>{var n=fa(["mspace"],[],t),r=Vr(e,t);return n.style.marginRight=yt(r),n},Vw=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},qJ={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},WJ={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},pAe=function(t,n){var[r,i,s]=WJ[t],a=new xf(r),o=new Au([a],{width:yt(i),height:yt(s),style:"width:"+yt(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),c=HJ(["overlay"],[o],n);return c.height=s,c.style.height=yt(s),c.style.width=yt(i),c},Le={fontMap:qJ,makeSymbol:al,mathsym:iAe,makeSpan:fa,makeSvgSpan:HJ,makeLineSpan:cAe,makeAnchor:uAe,makeFragment:VJ,wrapFragment:dAe,makeVList:hAe,makeOrd:aAe,makeGlue:mAe,staticSvg:pAe,svgData:WJ,tryCombineChars:lAe},Hr={number:3,unit:"mu"},ih={number:4,unit:"mu"},Wc={number:5,unit:"mu"},gAe={mord:{mop:Hr,mbin:ih,mrel:Wc,minner:Hr},mop:{mord:Hr,mop:Hr,mrel:Wc,minner:Hr},mbin:{mord:ih,mop:ih,mopen:ih,minner:ih},mrel:{mord:Wc,mop:Wc,mopen:Wc,minner:Wc},mopen:{},mclose:{mop:Hr,mbin:ih,mrel:Wc,minner:Hr},mpunct:{mord:Hr,mop:Hr,mrel:Wc,mopen:Hr,mclose:Hr,mpunct:Hr,minner:Hr},minner:{mord:Hr,mop:Hr,mbin:ih,mrel:Wc,mopen:Hr,mpunct:Hr,minner:Hr}},vAe={mord:{mop:Hr},mop:{mord:Hr,mop:Hr},mbin:{},mrel:{},mopen:{},mclose:{mop:Hr},mpunct:{},minner:{mop:Hr}},GJ={},U4={},H4={};function kt(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=e,o={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},c=0;c<n.length;++c)GJ[n[c]]=o;t&&(s&&(U4[t]=s),a&&(H4[t]=a))}function R0(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;kt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var V4=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ui=function(t){return t.type==="ordgroup"?t.body:[t]},ju=Le.makeSpan,yAe=["leftmost","mbin","mopen","mrel","mop","mpunct"],xAe=["rightmost","mrel","mclose","mpunct"],bAe={display:sn.DISPLAY,text:sn.TEXT,script:sn.SCRIPT,scriptscript:sn.SCRIPTSCRIPT},wAe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Fi=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<t.length;a++){var o=Bn(t[a],n);if(o instanceof mx){var c=o.children;s.push(...c)}else s.push(o)}if(Le.tryCombineChars(s),!r)return s;var u=n;if(t.length===1){var d=t[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle(bAe[d.style]))}var f=ju([i[0]||"leftmost"],[],n),h=ju([i[1]||"rightmost"],[],n),p=r==="root";return H$(s,(v,x)=>{var b=x.classes[0],w=v.classes[0];b==="mbin"&&xAe.includes(w)?x.classes[0]="mord":w==="mbin"&&yAe.includes(b)&&(v.classes[0]="mord")},{node:f},h,p),H$(s,(v,x)=>{var b=yA(x),w=yA(v),E=b&&w?v.hasClass("mtight")?vAe[b][w]:gAe[b][w]:null;if(E)return Le.makeGlue(E,u)},{node:f},h,p),s},H$=function e(t,n,r,i,s){i&&t.push(i);for(var a=0;a<t.length;a++){var o=t[a],c=KJ(o);if(c){e(c.children,n,r,null,s);continue}var u=!o.hasClass("mspace");if(u){var d=n(o,r.node);d&&(r.insertAfter?r.insertAfter(d):(t.unshift(d),a++))}u?r.node=o:s&&o.hasClass("newline")&&(r.node=ju(["leftmost"])),r.insertAfter=(f=>h=>{t.splice(f+1,0,h),a++})(a)}i&&t.pop()},KJ=function(t){return t instanceof mx||t instanceof dI||t instanceof px&&t.hasClass("enclosing")?t:null},EAe=function e(t,n){var r=KJ(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},yA=function(t,n){return t?(n&&(t=EAe(t,n)),wAe[t.classes[0]]||null):null},ny=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return ju(n.concat(r))},Bn=function(t,n,r){if(!t)return ju();if(U4[t.type]){var i=U4[t.type](t,n);if(r&&n.size!==r.size){i=ju(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new ut("Got group of unknown type: '"+t.type+"'")};function qw(e,t){var n=ju(["base"],e,t),r=ju(["strut"]);return r.style.height=yt(n.height+n.depth),n.depth&&(r.style.verticalAlign=yt(-n.depth)),n.children.unshift(r),n}function xA(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r=Fi(e,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],o=0;o<r.length;o++)if(a.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var c=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,a.push(r[o]),r[o].hasClass("nobreak")&&(c=!0);c||(s.push(qw(a,t)),a=[])}else r[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(qw(a,t)),a=[]),s.push(r[o]));a.length>0&&s.push(qw(a,t));var u;n?(u=qw(Fi(n,t,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var d=ju(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=yt(d.height+d.depth),d.depth&&(f.style.verticalAlign=yt(-d.depth))}return d}function YJ(e){return new mx(e)}class Fa{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=yf(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof uc&&this.children[r+1]instanceof uc){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof uc;)i+=this.children[++r].toText();t.appendChild(new uc(i).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Kn.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Kn.escape(yf(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class uc{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Kn.escape(this.toText())}toText(){return this.text}}class SAe{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",yt(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+yt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var lt={MathNode:Fa,TextNode:uc,SpaceNode:SAe,newDocumentFragment:YJ},Fo=function(t,n,r){return Er[n][t]&&Er[n][t].replace&&t.charCodeAt(0)!==55349&&!(UJ.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=Er[n][t].replace),new lt.TextNode(t)},hI=function(t){return t.length===1?t[0]:new lt.MathNode("mrow",t)},mI=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=t.text;if(["\\imath","\\jmath"].includes(s))return null;Er[i][s]&&Er[i][s].replace&&(s=Er[i][s].replace);var a=Le.fontMap[r].fontName;return uI(s,a,i)?Le.fontMap[r].variant:null};function FN(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof uc&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof uc&&n.text===","}else return!1}var ka=function(t,n,r){if(t.length===1){var i=mr(t[0],n);return r&&i instanceof Fa&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<t.length;o++){var c=mr(t[o],n);if(c instanceof Fa&&a instanceof Fa){if(c.type==="mtext"&&a.type==="mtext"&&c.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...c.children);continue}else if(c.type==="mn"&&a.type==="mn"){a.children.push(...c.children);continue}else if(FN(c)&&a.type==="mn"){a.children.push(...c.children);continue}else if(c.type==="mn"&&FN(a))c.children=[...a.children,...c.children],s.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(a.type==="mn"||FN(a))){var u=c.children[0];u instanceof Fa&&u.type==="mn"&&(u.children=[...a.children,...u.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var d=a.children[0];if(d instanceof uc&&d.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var f=c.children[0];f instanceof uc&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),s.pop())}}}s.push(c),a=c}return s},bf=function(t,n,r){return hI(ka(t,n,r))},mr=function(t,n){if(!t)return new lt.MathNode("mrow");if(H4[t.type]){var r=H4[t.type](t,n);return r}else throw new ut("Got group of unknown type: '"+t.type+"'")};function V$(e,t,n,r,i){var s=ka(e,n),a;s.length===1&&s[0]instanceof Fa&&["mrow","mtable"].includes(s[0].type)?a=s[0]:a=new lt.MathNode("mrow",s);var o=new lt.MathNode("annotation",[new lt.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var c=new lt.MathNode("semantics",[a,o]),u=new lt.MathNode("math",[c]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var d=i?"katex":"katex-mathml";return Le.makeSpan([d],[u])}var XJ=function(t){return new nu({style:t.displayMode?sn.DISPLAY:sn.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},QJ=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=Le.makeSpan(r,[t])}return t},kAe=function(t,n,r){var i=XJ(r),s;if(r.output==="mathml")return V$(t,n,i,r.displayMode,!0);if(r.output==="html"){var a=xA(t,i);s=Le.makeSpan(["katex"],[a])}else{var o=V$(t,n,i,r.displayMode,!1),c=xA(t,i);s=Le.makeSpan(["katex"],[o,c])}return QJ(s,r)},_Ae=function(t,n,r){var i=XJ(r),s=xA(t,i),a=Le.makeSpan(["katex"],[s]);return QJ(a,r)},CAe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},NAe=function(t){var n=new lt.MathNode("mo",[new lt.TextNode(CAe[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},TAe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},AAe=function(t){return t.type==="ordgroup"?t.body.length:1},jAe=function(t,n){function r(){var o=4e5,c=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var u=t,d=AAe(u.base),f,h,p;if(d>5)c==="widehat"||c==="widecheck"?(f=420,o=2364,p=.42,h=c+"4"):(f=312,o=2340,p=.34,h="tilde4");else{var v=[1,1,2,2,3,3][d];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][v],f=[0,239,300,360,420][v],p=[0,.24,.3,.3,.36,.42][v],h=c+v):(o=[0,600,1033,2339,2340][v],f=[0,260,286,306,312][v],p=[0,.26,.286,.3,.306,.34][v],h="tilde"+v)}var x=new xf(h),b=new Au([x],{width:"100%",height:yt(p),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:Le.makeSvgSpan([],[b],n),minWidth:0,height:p}}else{var w=[],E=TAe[c],[k,_,A]=E,T=A/1e3,C=k.length,I,B;if(C===1){var $=E[3];I=["hide-tail"],B=[$]}else if(C===2)I=["halfarrow-left","halfarrow-right"],B=["xMinYMin","xMaxYMin"];else if(C===3)I=["brace-left","brace-center","brace-right"],B=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var L=0;L<C;L++){var U=new xf(k[L]),Y=new Au([U],{width:"400em",height:yt(T),viewBox:"0 0 "+o+" "+A,preserveAspectRatio:B[L]+" slice"}),V=Le.makeSvgSpan([I[L]],[Y],n);if(C===1)return{span:V,minWidth:_,height:T};V.style.height=yt(T),w.push(V)}return{span:Le.makeSpan(["stretchy"],w,n),minWidth:_,height:T}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=yt(a),s>0&&(i.style.minWidth=yt(s)),i},PAe=function(t,n,r,i,s){var a,o=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=Le.makeSpan(["stretchy",n],[],s),n==="fbox"){var c=s.color&&s.getColor();c&&(a.style.borderColor=c)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new gA({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new gA({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Au(u,{width:"100%",height:yt(o)});a=Le.makeSvgSpan([],[d],s)}return a.height=o,a.style.height=yt(o),a},Pu={encloseSpan:PAe,mathMLnode:NAe,svgSpan:jAe};function bn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function pI(e){var t=bk(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function bk(e){return e&&(e.type==="atom"||nAe.hasOwnProperty(e.type))?e:null}var gI=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(r=bn(e.base,"accent"),n=r.base,e.base=n,i=eAe(Bn(e,t)),e.base=r):(r=bn(e,"accent"),n=r.base);var s=Bn(n,t.havingCrampedStyle()),a=r.isShifty&&Kn.isCharacterBox(n),o=0;if(a){var c=Kn.getBaseElem(n),u=Bn(c,t.havingCrampedStyle());o=L$(u).skew}var d=r.label==="\\c",f=d?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),h;if(r.isStretchy)h=Pu.svgSpan(r,t),h=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+yt(2*o)+")",marginLeft:yt(2*o)}:void 0}]},t);else{var p,v;r.label==="\\vec"?(p=Le.staticSvg("vec",t),v=Le.svgData.vec[1]):(p=Le.makeOrd({mode:r.mode,text:r.label},t,"textord"),p=L$(p),p.italic=0,v=p.width,d&&(f+=p.depth)),h=Le.makeSpan(["accent-body"],[p]);var x=r.label==="\\textcircled";x&&(h.classes.push("accent-full"),f=s.height);var b=o;x||(b-=v/2),h.style.left=yt(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-f},{type:"elem",elem:h}]},t)}var w=Le.makeSpan(["mord","accent"],[h],t);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},ZJ=(e,t)=>{var n=e.isStretchy?Pu.mathMLnode(e.label):new lt.MathNode("mo",[Fo(e.label,e.mode)]),r=new lt.MathNode("mover",[mr(e.base,t),n]);return r.setAttribute("accent","true"),r},IAe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));kt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=V4(t[0]),r=!IAe.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:gI,mathmlBuilder:ZJ});kt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:gI,mathmlBuilder:ZJ});kt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Bn(e.base,t),r=Pu.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,s=Le.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return Le.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var n=Pu.mathMLnode(e.label),r=new lt.MathNode("munder",[mr(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Ww=e=>{var t=new lt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};kt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,r=t.havingStyle(n.sup()),i=Le.wrapFragment(Bn(e.body,r,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;e.below&&(r=t.havingStyle(n.sub()),a=Le.wrapFragment(Bn(e.below,r,t),t),a.classes.push(s+"-arrow-pad"));var o=Pu.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*o.height,u=-t.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var d;if(a){var f=-t.fontMetrics().axisHeight+a.height+.5*o.height+.111;d=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:c},{type:"elem",elem:a,shift:f}]},t)}else d=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:c}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),Le.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var n=Pu.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(e.body){var i=Ww(mr(e.body,t));if(e.below){var s=Ww(mr(e.below,t));r=new lt.MathNode("munderover",[n,s,i])}else r=new lt.MathNode("mover",[n,i])}else if(e.below){var a=Ww(mr(e.below,t));r=new lt.MathNode("munder",[n,a])}else r=Ww(),r=new lt.MathNode("mover",[n,r]);return r}});var RAe=Le.makeSpan;function JJ(e,t){var n=Fi(e.body,t,!0);return RAe([e.mclass],n,t)}function eee(e,t){var n,r=ka(e.body,t);return e.mclass==="minner"?n=new lt.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0],n.type="mi"):n=new lt.MathNode("mi",r):(e.isCharacterBox?(n=r[0],n.type="mo"):n=new lt.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}kt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:ui(i),isCharacterBox:Kn.isCharacterBox(i)}},htmlBuilder:JJ,mathmlBuilder:eee});var wk=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};kt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:wk(t[0]),body:ui(t[1]),isCharacterBox:Kn.isCharacterBox(t[1])}}});kt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:r}=e,i=t[1],s=t[0],a;r!=="\\stackrel"?a=wk(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:ui(i)},c={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[c],isCharacterBox:Kn.isCharacterBox(c)}},htmlBuilder:JJ,mathmlBuilder:eee});kt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:wk(t[0]),body:ui(t[0])}},htmlBuilder(e,t){var n=Fi(e.body,t,!0),r=Le.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=ka(e.body,t),r=new lt.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var MAe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},q$=()=>({type:"styling",body:[],mode:"math",style:"display"}),W$=e=>e.type==="textord"&&e.text==="@",OAe=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function DAe(e,t,n){var r=MAe[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[t[1]],[]),c={type:"ordgroup",mode:"math",body:[i,a,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function LAe(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ut("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var r=[],i=[r],s=0;s<t.length;s++){for(var a=t[s],o=q$(),c=0;c<a.length;c++)if(!W$(a[c]))o.body.push(a[c]);else{r.push(o),c+=1;var u=pI(a[c]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var h=!0,p=c+1;p<a.length;p++){if(OAe(a[p],u)){h=!1,c=p;break}if(W$(a[p]))throw new ut("Missing a "+u+" character to complete a CD arrow.",a[p]);d[f].body.push(a[p])}if(h)throw new ut("Missing a "+u+" character to complete a CD arrow.",a[c])}else throw new ut('Expected one of "<>AV=|." after @',a[c]);var v=DAe(u,d,e),x={type:"styling",body:[v],mode:"math",style:"display"};r.push(x),o=q$()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}kt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=Le.wrapFragment(Bn(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=yt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new lt.MathNode("mrow",[mr(e.label,t)]);return n=new lt.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new lt.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});kt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Le.wrapFragment(Bn(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new lt.MathNode("mrow",[mr(e.fragment,t)])}});kt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=bn(t[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=bn(i[a],"textord");s+=o.text}var c=parseInt(s),u;if(isNaN(c))throw new ut("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new ut("\\@char with invalid code point "+s);return c<=65535?u=String.fromCharCode(c):(c-=65536,u=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var tee=(e,t)=>{var n=Fi(e.body,t.withColor(e.color),!1);return Le.makeFragment(n)},nee=(e,t)=>{var n=ka(e.body,t.withColor(e.color)),r=new lt.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};kt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=bn(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:ui(i)}},htmlBuilder:tee,mathmlBuilder:nee});kt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=bn(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:tee,mathmlBuilder:nee});kt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&bn(i,"size").value}},htmlBuilder(e,t){var n=Le.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=yt(Vr(e.size,t)))),n},mathmlBuilder(e,t){var n=new lt.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",yt(Vr(e.size,t)))),n}});var bA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ree=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ut("Expected a control sequence",e);return t},FAe=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},iee=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};kt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(bA[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=bA[r.text]),bn(t.parseFunction(),"internal");throw new ut("Invalid token after macro prefix",r)}});kt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ut("Expected a control sequence",r);for(var s=0,a,o=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),o[s].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ut('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ut('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new ut("Expected a macro definition");o[s].push(r.text)}var{tokens:c}=t.gullet.consumeArg();return a&&c.unshift(a),(n==="\\edef"||n==="\\xdef")&&(c=t.gullet.expandTokens(c),c.reverse()),t.gullet.macros.set(i,{tokens:c,numArgs:s,delimiters:o},n===bA[n]),{type:"internal",mode:t.mode}}});kt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=ree(t.gullet.popToken());t.gullet.consumeSpaces();var i=FAe(t);return iee(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});kt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=ree(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return iee(t,r,s,n==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var ev=function(t,n,r){var i=Er.math[t]&&Er.math[t].replace,s=uI(i||t,n,r);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return s},vI=function(t,n,r,i){var s=r.havingBaseStyle(n),a=Le.makeSpan(i.concat(s.sizingClasses(r)),[t],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},see=function(t,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=yt(s),t.height-=s,t.depth+=s},$Ae=function(t,n,r,i,s,a){var o=Le.makeSymbol(t,"Main-Regular",s,i),c=vI(o,n,i,a);return r&&see(c,i,n),c},zAe=function(t,n,r,i){return Le.makeSymbol(t,"Size"+n+"-Regular",r,i)},aee=function(t,n,r,i,s,a){var o=zAe(t,n,s,i),c=vI(Le.makeSpan(["delimsizing","size"+n],[o],i),sn.TEXT,i,a);return r&&see(c,i,sn.TEXT),c},$N=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=Le.makeSpan(["delimsizinginner",i],[Le.makeSpan([],[Le.makeSymbol(t,n,r)])]);return{type:"elem",elem:s}},zN=function(t,n,r){var i=cc["Size4-Regular"][t.charCodeAt(0)]?cc["Size4-Regular"][t.charCodeAt(0)][4]:cc["Size1-Regular"][t.charCodeAt(0)][4],s=new xf("inner",W6e(t,Math.round(1e3*n))),a=new Au([s],{width:yt(i),height:yt(n),style:"width:"+yt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=Le.makeSvgSpan([],[a],r);return o.height=n,o.style.height=yt(n),o.style.width=yt(i),{type:"elem",elem:o}},wA=.008,Gw={type:"kern",size:-1*wA},BAe=["|","\\lvert","\\rvert","\\vert"],UAe=["\\|","\\lVert","\\rVert","\\Vert"],oee=function(t,n,r,i,s,a){var o,c,u,d,f="",h=0;o=u=d=t,c=null;var p="Size1-Regular";t==="\\uparrow"?u=d="":t==="\\Uparrow"?u=d="":t==="\\downarrow"?o=u="":t==="\\Downarrow"?o=u="":t==="\\updownarrow"?(o="\\uparrow",u="",d="\\downarrow"):t==="\\Updownarrow"?(o="\\Uparrow",u="",d="\\Downarrow"):BAe.includes(t)?(u="",f="vert",h=333):UAe.includes(t)?(u="",f="doublevert",h=556):t==="["||t==="\\lbrack"?(o="",u="",d="",p="Size4-Regular",f="lbrack",h=667):t==="]"||t==="\\rbrack"?(o="",u="",d="",p="Size4-Regular",f="rbrack",h=667):t==="\\lfloor"||t===""?(u=o="",d="",p="Size4-Regular",f="lfloor",h=667):t==="\\lceil"||t===""?(o="",u=d="",p="Size4-Regular",f="lceil",h=667):t==="\\rfloor"||t===""?(u=o="",d="",p="Size4-Regular",f="rfloor",h=667):t==="\\rceil"||t===""?(o="",u=d="",p="Size4-Regular",f="rceil",h=667):t==="("||t==="\\lparen"?(o="",u="",d="",p="Size4-Regular",f="lparen",h=875):t===")"||t==="\\rparen"?(o="",u="",d="",p="Size4-Regular",f="rparen",h=875):t==="\\{"||t==="\\lbrace"?(o="",c="",d="",u="",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(o="",c="",d="",u="",p="Size4-Regular"):t==="\\lgroup"||t===""?(o="",d="",u="",p="Size4-Regular"):t==="\\rgroup"||t===""?(o="",d="",u="",p="Size4-Regular"):t==="\\lmoustache"||t===""?(o="",d="",u="",p="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(o="",d="",u="",p="Size4-Regular");var v=ev(o,p,s),x=v.height+v.depth,b=ev(u,p,s),w=b.height+b.depth,E=ev(d,p,s),k=E.height+E.depth,_=0,A=1;if(c!==null){var T=ev(c,p,s);_=T.height+T.depth,A=2}var C=x+k+_,I=Math.max(0,Math.ceil((n-C)/(A*w))),B=C+I*A*w,$=i.fontMetrics().axisHeight;r&&($*=i.sizeMultiplier);var L=B/2-$,U=[];if(f.length>0){var Y=B-x-k,V=Math.round(B*1e3),K=G6e(f,Math.round(Y*1e3)),W=new xf(f,K),J=(h/1e3).toFixed(3)+"em",q=(V/1e3).toFixed(3)+"em",G=new Au([W],{width:J,height:q,viewBox:"0 0 "+h+" "+V}),j=Le.makeSvgSpan([],[G],i);j.height=V/1e3,j.style.width=J,j.style.height=q,U.push({type:"elem",elem:j})}else{if(U.push($N(d,p,s)),U.push(Gw),c===null){var M=B-x-k+2*wA;U.push(zN(u,M,i))}else{var z=(B-x-k-_)/2+2*wA;U.push(zN(u,z,i)),U.push(Gw),U.push($N(c,p,s)),U.push(Gw),U.push(zN(u,z,i))}U.push(Gw),U.push($N(o,p,s))}var O=i.havingBaseStyle(sn.TEXT),X=Le.makeVList({positionType:"bottom",positionData:L,children:U},O);return vI(Le.makeSpan(["delimsizing","mult"],[X],O),sn.TEXT,i,a)},BN=80,UN=.08,HN=function(t,n,r,i,s){var a=q6e(t,i,r),o=new xf(t,a),c=new Au([o],{width:"400em",height:yt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Le.makeSvgSpan(["hide-tail"],[c],s)},HAe=function(t,n){var r=n.havingBaseSizing(),i=dee("\\surd",t*r.sizeMultiplier,uee,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,u=0,d=0,f;return i.type==="small"?(d=1e3+1e3*a+BN,t<1?s=1:t<1.4&&(s=.7),c=(1+a+UN)/s,u=(1+a)/s,o=HN("sqrtMain",c,d,a,n),o.style.minWidth="0.853em",f=.833/s):i.type==="large"?(d=(1e3+BN)*gv[i.size],u=(gv[i.size]+a)/s,c=(gv[i.size]+a+UN)/s,o=HN("sqrtSize"+i.size,c,d,a,n),o.style.minWidth="1.02em",f=1/s):(c=t+a+UN,u=t+a,d=Math.floor(1e3*t+a)+BN,o=HN("sqrtTall",c,d,a,n),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=yt(c),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},lee=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],VAe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],cee=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],gv=[0,1.2,1.8,2.4,3],qAe=function(t,n,r,i,s){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),lee.includes(t)||cee.includes(t))return aee(t,n,!1,r,i,s);if(VAe.includes(t))return oee(t,gv[n],!1,r,i,s);throw new ut("Illegal delimiter: '"+t+"'")},WAe=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],GAe=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"stack"}],uee=[{type:"small",style:sn.SCRIPTSCRIPT},{type:"small",style:sn.SCRIPT},{type:"small",style:sn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],KAe=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},dee=function(t,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=ev(t,KAe(r[a]),"math"),c=o.height+o.depth;if(r[a].type==="small"){var u=i.havingBaseStyle(r[a].style);c*=u.sizeMultiplier}if(c>n)return r[a]}return r[r.length-1]},fee=function(t,n,r,i,s,a){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var o;cee.includes(t)?o=WAe:lee.includes(t)?o=uee:o=GAe;var c=dee(t,n,o,i);return c.type==="small"?$Ae(t,c.style,r,i,s,a):c.type==="large"?aee(t,c.size,r,i,s,a):oee(t,n,r,i,s,a)},YAe=function(t,n,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,c=901,u=5/i.fontMetrics().ptPerEm,d=Math.max(n-o,r+o),f=Math.max(d/500*c,2*d-u);return fee(t,f,!0,i,s,a)},xu={sqrtImage:HAe,sizedDelim:qAe,sizeToMaxHeight:gv,customSizedDelim:fee,leftRightDelim:YAe},G$={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},XAe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ek(e,t){var n=bk(e);if(n&&XAe.includes(n.text))return n;throw n?new ut("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ut("Invalid delimiter type '"+e.type+"'",e)}kt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Ek(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:G$[e.funcName].size,mclass:G$[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?Le.makeSpan([e.mclass]):xu.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Fo(e.delim,e.mode));var n=new lt.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=yt(xu.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function K$(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}kt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ut("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Ek(t[0],e).text,color:n}}});kt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Ek(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=bn(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{K$(e);for(var n=Fi(e.body,t,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var o;if(e.left==="."?o=ny(t,["mopen"]):o=xu.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(o),s)for(var c=1;c<n.length;c++){var u=n[c],d=u.isMiddle;d&&(n[c]=xu.leftRightDelim(d.delim,r,i,d.options,e.mode,[]))}var f;if(e.right===".")f=ny(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;f=xu.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(f),Le.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{K$(e);var n=ka(e.body,t);if(e.left!=="."){var r=new lt.MathNode("mo",[Fo(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new lt.MathNode("mo",[Fo(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return hI(n)}});kt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Ek(t[0],e);if(!e.parser.leftrightDepth)throw new ut("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=ny(t,[]);else{n=xu.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Fo("|","text"):Fo(e.delim,e.mode),r=new lt.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var yI=(e,t)=>{var n=Le.wrapFragment(Bn(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,s,a=0,o=Kn.isCharacterBox(e.body);if(r==="sout")s=Le.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/i,a=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var c=Vr({number:.6,unit:"pt"},t),u=Vr({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var f=n.height+n.depth+c+u;n.style.paddingLeft=yt(f/2+c);var h=Math.floor(1e3*f*i),p=H6e(h),v=new Au([new xf("phase",p)],{width:"400em",height:yt(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=Le.makeSvgSpan(["hide-tail"],[v],t),s.style.height=yt(f),a=n.depth+c+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var x=0,b=0,w=0;/box/.test(r)?(w=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),x=t.fontMetrics().fboxsep+(r==="colorbox"?0:w),b=x):r==="angl"?(w=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),x=4*w,b=Math.max(0,.25-n.depth)):(x=o?.2:0,b=x),s=Pu.encloseSpan(n,r,x,b,t),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=yt(w)):r==="angl"&&w!==.049&&(s.style.borderTopWidth=yt(w),s.style.borderRightWidth=yt(w)),a=n.depth+b,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var E;if(e.backgroundColor)E=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},t);else{var k=/cancel|phase/.test(r)?["svg-align"]:[];E=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:k}]},t)}return/cancel/.test(r)&&(E.height=n.height,E.depth=n.depth),/cancel/.test(r)&&!o?Le.makeSpan(["mord","cancel-lap"],[E],t):Le.makeSpan(["mord"],[E],t)},xI=(e,t)=>{var n=0,r=new lt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[mr(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};kt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,s=bn(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:yI,mathmlBuilder:xI});kt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,s=bn(t[0],"color-token").color,a=bn(t[1],"color-token").color,o=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:yI,mathmlBuilder:xI});kt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});kt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:yI,mathmlBuilder:xI});kt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var hee={};function jc(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=e,o={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},c=0;c<n.length;++c)hee[n[c]]=o;s&&(U4[t]=s),a&&(H4[t]=a)}var mee={};function se(e,t){mee[e]=t}function Y$(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var Sk=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ut("{"+e.envName+"} can be used only in display mode.")};function bI(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Rf(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:c,singleRow:u,emptySingleRow:d,maxNumCols:f,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)a=1;else if(a=parseFloat(p),!a||a<0)throw new ut("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var v=[],x=[v],b=[],w=[],E=c!=null?[]:void 0;function k(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function _(){E&&(e.gullet.macros.get("\\df@tag")?(E.push(e.subparse([new Wa("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):E.push(!!c&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(k(),w.push(Y$(e));;){var A=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},n&&(A={type:"styling",mode:e.mode,style:n,body:[A]}),v.push(A);var T=e.fetch().text;if(T==="&"){if(f&&v.length===f){if(u||o)throw new ut("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(T==="\\end"){_(),v.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(x.length>1||!d)&&x.pop(),w.length<x.length+1&&w.push([]);break}else if(T==="\\\\"){e.consume();var C=void 0;e.gullet.future().text!==" "&&(C=e.parseSizeGroup(!0)),b.push(C?C.value:null),_(),w.push(Y$(e)),v=[],x.push(v),k()}else throw new ut("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:a,body:x,cols:s,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:w,colSeparationType:o,tags:E,leqno:h}}function wI(e){return e.slice(0,1)==="d"?"display":"text"}var Pc=function(t,n){var r,i,s=t.body.length,a=t.hLinesBeforeRow,o=0,c=new Array(s),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,h=5*f;if(t.colSeparationType&&t.colSeparationType==="small"){var p=n.havingStyle(sn.SCRIPT).sizeMultiplier;h=.2778*(p/n.sizeMultiplier)}var v=t.colSeparationType==="CD"?Vr({number:3,unit:"ex"},n):12*f,x=3*f,b=t.arraystretch*v,w=.7*b,E=.3*b,k=0;function _(Ct){for(var Tt=0;Tt<Ct.length;++Tt)Tt>0&&(k+=.25),u.push({pos:k,isDashed:Ct[Tt]})}for(_(a[0]),r=0;r<t.body.length;++r){var A=t.body[r],T=w,C=E;o<A.length&&(o=A.length);var I=new Array(A.length);for(i=0;i<A.length;++i){var B=Bn(A[i],n);C<B.depth&&(C=B.depth),T<B.height&&(T=B.height),I[i]=B}var $=t.rowGaps[r],L=0;$&&(L=Vr($,n),L>0&&(L+=E,C<L&&(C=L),L=0)),t.addJot&&(C+=x),I.height=T,I.depth=C,k+=T,I.pos=k,k+=C+L,c[r]=I,_(a[r+1])}var U=k/2+n.fontMetrics().axisHeight,Y=t.cols||[],V=[],K,W,J=[];if(t.tags&&t.tags.some(Ct=>Ct))for(r=0;r<s;++r){var q=c[r],G=q.pos-U,j=t.tags[r],M=void 0;j===!0?M=Le.makeSpan(["eqn-num"],[],n):j===!1?M=Le.makeSpan([],[],n):M=Le.makeSpan([],Fi(j,n,!0),n),M.depth=q.depth,M.height=q.height,J.push({type:"elem",elem:M,shift:G})}for(i=0,W=0;i<o||W<Y.length;++i,++W){for(var z=Y[W]||{},O=!0;z.type==="separator";){if(O||(K=Le.makeSpan(["arraycolsep"],[]),K.style.width=yt(n.fontMetrics().doubleRuleSep),V.push(K)),z.separator==="|"||z.separator===":"){var X=z.separator==="|"?"solid":"dashed",ne=Le.makeSpan(["vertical-separator"],[],n);ne.style.height=yt(k),ne.style.borderRightWidth=yt(d),ne.style.borderRightStyle=X,ne.style.margin="0 "+yt(-d/2);var re=k-U;re&&(ne.style.verticalAlign=yt(-re)),V.push(ne)}else throw new ut("Invalid separator type: "+z.separator);W++,z=Y[W]||{},O=!1}if(!(i>=o)){var Q=void 0;(i>0||t.hskipBeforeAndAfter)&&(Q=Kn.deflt(z.pregap,h),Q!==0&&(K=Le.makeSpan(["arraycolsep"],[]),K.style.width=yt(Q),V.push(K)));var te=[];for(r=0;r<s;++r){var ie=c[r],fe=ie[i];if(fe){var he=ie.pos-U;fe.depth=ie.depth,fe.height=ie.height,te.push({type:"elem",elem:fe,shift:he})}}te=Le.makeVList({positionType:"individualShift",children:te},n),te=Le.makeSpan(["col-align-"+(z.align||"c")],[te]),V.push(te),(i<o-1||t.hskipBeforeAndAfter)&&(Q=Kn.deflt(z.postgap,h),Q!==0&&(K=Le.makeSpan(["arraycolsep"],[]),K.style.width=yt(Q),V.push(K)))}}if(c=Le.makeSpan(["mtable"],V),u.length>0){for(var ae=Le.makeLineSpan("hline",n,d),Pe=Le.makeLineSpan("hdashline",n,d),Te=[{type:"elem",elem:c,shift:0}];u.length>0;){var Ge=u.pop(),nt=Ge.pos-U;Ge.isDashed?Te.push({type:"elem",elem:Pe,shift:nt}):Te.push({type:"elem",elem:ae,shift:nt})}c=Le.makeVList({positionType:"individualShift",children:Te},n)}if(J.length===0)return Le.makeSpan(["mord"],[c],n);var vt=Le.makeVList({positionType:"individualShift",children:J},n);return vt=Le.makeSpan(["tag"],[vt],n),Le.makeFragment([c,vt])},QAe={c:"center ",l:"left ",r:"right "},Ic=function(t,n){for(var r=[],i=new lt.MathNode("mtd",[],["mtr-glue"]),s=new lt.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var o=t.body[a],c=[],u=0;u<o.length;u++)c.push(new lt.MathNode("mtd",[mr(o[u],n)]));t.tags&&t.tags[a]&&(c.unshift(i),c.push(i),t.leqno?c.unshift(s):c.push(s)),r.push(new lt.MathNode("mtr",c))}var d=new lt.MathNode("mtable",r),f=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",yt(f));var h="",p="";if(t.cols&&t.cols.length>0){var v=t.cols,x="",b=!1,w=0,E=v.length;v[0].type==="separator"&&(h+="top ",w=1),v[v.length-1].type==="separator"&&(h+="bottom ",E-=1);for(var k=w;k<E;k++)v[k].type==="align"?(p+=QAe[v[k].align],b&&(x+="none "),b=!0):v[k].type==="separator"&&b&&(x+=v[k].separator==="|"?"solid ":"dashed ",b=!1);d.setAttribute("columnalign",p.trim()),/[sd]/.test(x)&&d.setAttribute("columnlines",x.trim())}if(t.colSeparationType==="align"){for(var _=t.cols||[],A="",T=1;T<_.length;T++)A+=T%2?"0em ":"1em ";d.setAttribute("columnspacing",A.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var C="",I=t.hLinesBeforeRow;h+=I[0].length>0?"left ":"",h+=I[I.length-1].length>0?"right ":"";for(var B=1;B<I.length-1;B++)C+=I[B].length===0?"none ":I[B][0]?"dashed ":"solid ";return/[sd]/.test(C)&&d.setAttribute("rowlines",C.trim()),h!==""&&(d=new lt.MathNode("menclose",[d]),d.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(d=new lt.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},pee=function(t,n){t.envName.indexOf("ed")===-1&&Sk(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",a=Rf(t.parser,{cols:r,addJot:!0,autoTag:s?void 0:bI(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),o,c=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",f=0;f<n[0].body.length;f++){var h=bn(n[0].body[f],"textord");d+=h.text}o=Number(d),c=o*2}var p=!c;a.body.forEach(function(w){for(var E=1;E<w.length;E+=2){var k=bn(w[E],"styling"),_=bn(k.body[0],"ordgroup");_.body.unshift(u)}if(p)c<w.length&&(c=w.length);else{var A=w.length/2;if(o<A)throw new ut("Too many math in a row: "+("expected "+o+", but got "+A),w[0])}});for(var v=0;v<c;++v){var x="r",b=0;v%2===1?x="l":v>0&&p&&(b=1),r[v]={type:"align",align:x,pregap:b,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};jc({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=bk(t[0]),r=n?[t[0]]:bn(t[0],"ordgroup").body,i=r.map(function(a){var o=pI(a),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new ut("Unknown column alignment: "+c,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Rf(e.parser,s,wI(e.envName))},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ut("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Rf(e.parser,r,wI(e.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=Rf(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=bk(t[0]),r=n?[t[0]]:bn(t[0],"ordgroup").body,i=r.map(function(a){var o=pI(a),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new ut("Unknown column alignment: "+c,a)});if(i.length>1)throw new ut("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Rf(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ut("{subarray} can contain only one column");return s},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Rf(e.parser,t,wI(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:pee,htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&Sk(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:bI(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Rf(e.parser,t,"display")},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:pee,htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){Sk(e);var t={autoTag:bI(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Rf(e.parser,t,"display")},htmlBuilder:Pc,mathmlBuilder:Ic});jc({type:"array",names:["CD"],props:{numArgs:0},handler(e){return Sk(e),LAe(e.parser)},htmlBuilder:Pc,mathmlBuilder:Ic});se("\\nonumber","\\gdef\\@eqnsw{0}");se("\\notag","\\nonumber");kt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ut(e.funcName+" valid only within array environment")}});var X$=hee;kt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new ut("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=bn(i.body[a],"textord").text;if(r==="\\begin"){if(!X$.hasOwnProperty(s))throw new ut("No such environment: "+s,i);var o=X$[s],{args:c,optArgs:u}=n.parseArguments("\\begin{"+s+"}",o),d={mode:n.mode,envName:s,parser:n},f=o.handler(d,c,u);n.expect("\\end",!1);var h=n.nextToken,p=bn(n.parseFunction(),"environment");if(p.name!==s)throw new ut("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",h);return f}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var gee=(e,t)=>{var n=e.font,r=t.withFont(n);return Bn(e.body,r)},vee=(e,t)=>{var n=e.font,r=t.withFont(n);return mr(e.body,r)},Q$={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};kt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=V4(t[0]),s=r;return s in Q$&&(s=Q$[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:gee,mathmlBuilder:vee});kt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=Kn.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:wk(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});kt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:s}=n,a=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:gee,mathmlBuilder:vee});var yee=(e,t)=>{var n=t;return e==="display"?n=n.id>=sn.SCRIPT.id?n.text():sn.DISPLAY:e==="text"&&n.size===sn.DISPLAY.size?n=sn.TEXT:e==="script"?n=sn.SCRIPT:e==="scriptscript"&&(n=sn.SCRIPTSCRIPT),n},EI=(e,t)=>{var n=yee(e.size,t.style),r=n.fracNum(),i=n.fracDen(),s;s=t.havingStyle(r);var a=Bn(e.numer,s,t);if(e.continued){var o=8.5/t.fontMetrics().ptPerEm,c=3.5/t.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<c?c:a.depth}s=t.havingStyle(i);var u=Bn(e.denom,s,t),d,f,h;e.hasBarLine?(e.barSize?(f=Vr(e.barSize,t),d=Le.makeLineSpan("frac-line",t,f)):d=Le.makeLineSpan("frac-line",t),f=d.height,h=d.height):(d=null,f=0,h=t.fontMetrics().defaultRuleThickness);var p,v,x;n.size===sn.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,f>0?v=3*h:v=7*h,x=t.fontMetrics().denom1):(f>0?(p=t.fontMetrics().num2,v=h):(p=t.fontMetrics().num3,v=3*h),x=t.fontMetrics().denom2);var b;if(d){var E=t.fontMetrics().axisHeight;p-a.depth-(E+.5*f)<v&&(p+=v-(p-a.depth-(E+.5*f))),E-.5*f-(u.height-x)<v&&(x+=v-(E-.5*f-(u.height-x)));var k=-(E-.5*f);b=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:d,shift:k},{type:"elem",elem:a,shift:-p}]},t)}else{var w=p-a.depth-(u.height-x);w<v&&(p+=.5*(v-w),x+=.5*(v-w)),b=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:a,shift:-p}]},t)}s=t.havingStyle(n),b.height*=s.sizeMultiplier/t.sizeMultiplier,b.depth*=s.sizeMultiplier/t.sizeMultiplier;var _;n.size===sn.DISPLAY.size?_=t.fontMetrics().delim1:n.size===sn.SCRIPTSCRIPT.size?_=t.havingStyle(sn.SCRIPT).fontMetrics().delim2:_=t.fontMetrics().delim2;var A,T;return e.leftDelim==null?A=ny(t,["mopen"]):A=xu.customSizedDelim(e.leftDelim,_,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?T=Le.makeSpan([]):e.rightDelim==null?T=ny(t,["mclose"]):T=xu.customSizedDelim(e.rightDelim,_,!0,t.havingStyle(n),e.mode,["mclose"]),Le.makeSpan(["mord"].concat(s.sizingClasses(t)),[A,Le.makeSpan(["mfrac"],[b]),T],t)},SI=(e,t)=>{var n=new lt.MathNode("mfrac",[mr(e.numer,t),mr(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var r=Vr(e.barSize,t);n.setAttribute("linethickness",yt(r))}var i=yee(e.size,t.style);if(i.size!==t.style.size){n=new lt.MathNode("mstyle",[n]);var s=i.size===sn.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var o=new lt.MathNode("mo",[new lt.TextNode(e.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),e.rightDelim!=null){var c=new lt.MathNode("mo",[new lt.TextNode(e.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}return hI(a)}return n};kt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],s=t[1],a,o=null,c=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",c=")";break;case"\\\\bracefrac":a=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":a=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:c,size:u,barSize:null}},htmlBuilder:EI,mathmlBuilder:SI});kt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],s=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});kt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:r}=e,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var Z$=["display","text","script","scriptscript"],J$=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};kt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,r=t[4],i=t[5],s=V4(t[0]),a=s.type==="atom"&&s.family==="open"?J$(s.text):null,o=V4(t[1]),c=o.type==="atom"&&o.family==="close"?J$(o.text):null,u=bn(t[2],"size"),d,f=null;u.isBlank?d=!0:(f=u.value,d=f.number>0);var h="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var v=bn(p.body[0],"textord");h=Z$[Number(v.text)]}}else p=bn(p,"textord"),h=Z$[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:f,leftDelim:a,rightDelim:c,size:h}},htmlBuilder:EI,mathmlBuilder:SI});kt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:bn(t[0],"size").value,token:i}}});kt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],s=T6e(bn(t[1],"infix").size),a=t[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:EI,mathmlBuilder:SI});var xee=(e,t)=>{var n=t.style,r,i;e.type==="supsub"?(r=e.sup?Bn(e.sup,t.havingStyle(n.sup()),t):Bn(e.sub,t.havingStyle(n.sub()),t),i=bn(e.base,"horizBrace")):i=bn(e,"horizBrace");var s=Bn(i.base,t.havingBaseStyle(sn.DISPLAY)),a=Pu.svgSpan(i,t),o;if(i.isOver?(o=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Le.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),o.children[0].children[0].children[0].classes.push("svg-align")),r){var c=Le.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);i.isOver?o=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},t):o=Le.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return Le.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)},ZAe=(e,t)=>{var n=Pu.mathMLnode(e.label);return new lt.MathNode(e.isOver?"mover":"munder",[mr(e.base,t),n])};kt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:xee,mathmlBuilder:ZAe});kt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=bn(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:ui(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=Fi(e.body,t,!1);return Le.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=bf(e.body,t);return n instanceof Fa||(n=new Fa("mrow",[n])),n.setAttribute("href",e.href),n}});kt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=bn(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:ui(o)}}});kt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:ui(t[0])}},htmlBuilder(e,t){var n=Fi(e.body,t,!1);return Le.makeFragment(n)},mathmlBuilder(e,t){return new lt.MathNode("mrow",ka(e.body,t))}});kt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,s=bn(t[0],"raw").string,a=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(r){case"\\htmlClass":c.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":c.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":c.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),d=0;d<u.length;d++){var f=u[d].split("=");if(f.length!==2)throw new ut("Error parsing key-value for \\htmlData");c["data-"+f[0].trim()]=f[1].trim()}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:ui(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=Fi(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=Le.makeSpan(r,n,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},mathmlBuilder:(e,t)=>bf(e.body,t)});kt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:ui(t[0]),mathml:ui(t[1])}},htmlBuilder:(e,t)=>{var n=Fi(e.html,t,!1);return Le.makeFragment(n)},mathmlBuilder:(e,t)=>bf(e.mathml,t)});var VN=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ut("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!FJ(r))throw new ut("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};kt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var c=bn(n[0],"raw").string,u=c.split(","),d=0;d<u.length;d++){var f=u[d].split("=");if(f.length===2){var h=f[1].trim();switch(f[0].trim()){case"alt":o=h;break;case"width":i=VN(h);break;case"height":s=VN(h);break;case"totalheight":a=VN(h);break;default:throw new ut("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var p=bn(t[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=Vr(e.height,t),r=0;e.totalheight.number>0&&(r=Vr(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=Vr(e.width,t));var s={height:yt(n+r)};i>0&&(s.width=yt(i)),r>0&&(s.verticalAlign=yt(-r));var a=new Z6e(e.src,e.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(e,t)=>{var n=new lt.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=Vr(e.height,t),i=0;if(e.totalheight.number>0&&(i=Vr(e.totalheight,t)-r,n.setAttribute("valign",yt(-i))),n.setAttribute("height",yt(r+i)),e.width.number>0){var s=Vr(e.width,t);n.setAttribute("width",yt(s))}return n.setAttribute("src",e.src),n}});kt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=bn(t[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return Le.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=Vr(e.dimension,t);return new lt.SpaceNode(n)}});kt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=Le.makeSpan([],[Bn(e.body,t)]),n=Le.makeSpan(["inner"],[n],t)):n=Le.makeSpan(["inner"],[Bn(e.body,t)]);var r=Le.makeSpan(["fix"],[]),i=Le.makeSpan([e.alignment],[n,r],t),s=Le.makeSpan(["strut"]);return s.style.height=yt(i.height+i.depth),i.depth&&(s.style.verticalAlign=yt(-i.depth)),i.children.unshift(s),i=Le.makeSpan(["thinbox"],[i],t),Le.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new lt.MathNode("mpadded",[mr(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});kt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});kt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ut("Mismatched "+e.funcName)}});var ez=(e,t)=>{switch(t.style.size){case sn.DISPLAY.size:return e.display;case sn.TEXT.size:return e.text;case sn.SCRIPT.size:return e.script;case sn.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};kt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:ui(t[0]),text:ui(t[1]),script:ui(t[2]),scriptscript:ui(t[3])}},htmlBuilder:(e,t)=>{var n=ez(e,t),r=Fi(n,t,!1);return Le.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=ez(e,t);return bf(n,t)}});var bee=(e,t,n,r,i,s,a)=>{e=Le.makeSpan([],[e]);var o=n&&Kn.isCharacterBox(n),c,u;if(t){var d=Bn(t,r.havingStyle(i.sup()),r);u={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var f=Bn(n,r.havingStyle(i.sub()),r);c={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var h;if(u&&c){var p=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+a;h=Le.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:yt(-s)},{type:"kern",size:c.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:yt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var v=e.height-a;h=Le.makeVList({positionType:"top",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:yt(-s)},{type:"kern",size:c.kern},{type:"elem",elem:e}]},r)}else if(u){var x=e.depth+a;h=Le.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:yt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;var b=[h];if(c&&s!==0&&!o){var w=Le.makeSpan(["mspace"],[],r);w.style.marginRight=yt(s),b.unshift(w)}return Le.makeSpan(["mop","op-limits"],b,r)},wee=["\\smallint"],xg=(e,t)=>{var n,r,i=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=bn(e.base,"op"),i=!0):s=bn(e,"op");var a=t.style,o=!1;a.size===sn.DISPLAY.size&&s.symbol&&!wee.includes(s.name)&&(o=!0);var c;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),c=Le.makeSymbol(s.name,u,"math",t,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var f=c.italic,h=Le.staticSvg(d+"Size"+(o?"2":"1"),t);c=Le.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},t),s.name="\\"+d,c.classes.unshift("mop"),c.italic=f}}else if(s.body){var p=Fi(s.body,t,!0);p.length===1&&p[0]instanceof Lo?(c=p[0],c.classes[0]="mop"):c=Le.makeSpan(["mop"],p,t)}else{for(var v=[],x=1;x<s.name.length;x++)v.push(Le.mathsym(s.name[x],s.mode,t));c=Le.makeSpan(["mop"],v,t)}var b=0,w=0;return(c instanceof Lo||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(b=(c.height-c.depth)/2-t.fontMetrics().axisHeight,w=c.italic),i?bee(c,n,r,t,a,w,b):(b&&(c.style.position="relative",c.style.top=yt(b)),c)},gx=(e,t)=>{var n;if(e.symbol)n=new Fa("mo",[Fo(e.name,e.mode)]),wee.includes(e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Fa("mo",ka(e.body,t));else{n=new Fa("mi",[new uc(e.name.slice(1))]);var r=new Fa("mo",[Fo("","text")]);e.parentIsSupSub?n=new Fa("mrow",[n,r]):n=YJ([n,r])}return n},JAe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};kt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=JAe[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:xg,mathmlBuilder:gx});kt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ui(r)}},htmlBuilder:xg,mathmlBuilder:gx});var e8e={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};kt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:xg,mathmlBuilder:gx});kt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:xg,mathmlBuilder:gx});kt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=e8e[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:xg,mathmlBuilder:gx});var Eee=(e,t)=>{var n,r,i=!1,s;e.type==="supsub"?(n=e.sup,r=e.sub,s=bn(e.base,"operatorname"),i=!0):s=bn(e,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(f=>{var h=f.text;return typeof h=="string"?{type:"textord",mode:f.mode,text:h}:f}),c=Fi(o,t.withFont("mathrm"),!0),u=0;u<c.length;u++){var d=c[u];d instanceof Lo&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Le.makeSpan(["mop"],c,t)}else a=Le.makeSpan(["mop"],[],t);return i?bee(a,n,r,t,t.style,0,0):a},t8e=(e,t)=>{for(var n=ka(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof lt.SpaceNode))if(s instanceof lt.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof lt.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(d=>d.toText()).join("");n=[new lt.TextNode(o)]}var c=new lt.MathNode("mi",n);c.setAttribute("mathvariant","normal");var u=new lt.MathNode("mo",[Fo("","text")]);return e.parentIsSupSub?new lt.MathNode("mrow",[c,u]):lt.newDocumentFragment([c,u])};kt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:ui(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Eee,mathmlBuilder:t8e});se("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");R0({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Le.makeFragment(Fi(e.body,t,!1)):Le.makeSpan(["mord"],Fi(e.body,t,!0),t)},mathmlBuilder(e,t){return bf(e.body,t,!0)}});kt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Bn(e.body,t.havingCrampedStyle()),r=Le.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return Le.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var n=new lt.MathNode("mo",[new lt.TextNode("")]);n.setAttribute("stretchy","true");var r=new lt.MathNode("mover",[mr(e.body,t),n]);return r.setAttribute("accent","true"),r}});kt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:ui(r)}},htmlBuilder:(e,t)=>{var n=Fi(e.body,t.withPhantom(),!1);return Le.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=ka(e.body,t);return new lt.MathNode("mphantom",n)}});kt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Le.makeSpan([],[Bn(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Le.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=ka(ui(e.body),t),r=new lt.MathNode("mphantom",n),i=new lt.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});kt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=Le.makeSpan(["inner"],[Bn(e.body,t.withPhantom())]),r=Le.makeSpan(["fix"],[]);return Le.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=ka(ui(e.body),t),r=new lt.MathNode("mphantom",n),i=new lt.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});kt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=bn(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Bn(e.body,t),r=Vr(e.dy,t);return Le.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new lt.MathNode("mpadded",[mr(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}});kt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});kt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],s=bn(t[0],"size"),a=bn(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&bn(i,"size").value,width:s.value,height:a.value}},htmlBuilder(e,t){var n=Le.makeSpan(["mord","rule"],[],t),r=Vr(e.width,t),i=Vr(e.height,t),s=e.shift?Vr(e.shift,t):0;return n.style.borderRightWidth=yt(r),n.style.borderTopWidth=yt(i),n.style.bottom=yt(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=Vr(e.width,t),r=Vr(e.height,t),i=e.shift?Vr(e.shift,t):0,s=t.color&&t.getColor()||"black",a=new lt.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",yt(n)),a.setAttribute("height",yt(r));var o=new lt.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",yt(i)):(o.setAttribute("height",yt(i)),o.setAttribute("depth",yt(-i))),o.setAttribute("voffset",yt(i)),o}});function See(e,t,n){for(var r=Fi(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,t.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+t.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return Le.makeFragment(r)}var tz=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],n8e=(e,t)=>{var n=t.havingSize(e.size);return See(e.body,n,t)};kt({type:"sizing",names:tz,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:tz.indexOf(r)+1,body:s}},htmlBuilder:n8e,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=ka(e.body,n),i=new lt.MathNode("mstyle",r);return i.setAttribute("mathsize",yt(n.sizeMultiplier)),i}});kt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,s=!1,a=n[0]&&bn(n[0],"ordgroup");if(a)for(var o="",c=0;c<a.body.length;++c){var u=a.body[c];if(o=u.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var d=t[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:s}},htmlBuilder:(e,t)=>{var n=Le.makeSpan([],[Bn(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Le.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var n=new lt.MathNode("mpadded",[mr(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});kt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],s=t[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(e,t){var n=Bn(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=Le.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,s=i;t.style.id<sn.TEXT.id&&(s=t.fontMetrics().xHeight);var a=i+s/4,o=n.height+n.depth+a+i,{span:c,ruleWidth:u,advanceWidth:d}=xu.sqrtImage(o,t),f=c.height-u;f>n.height+n.depth+a&&(a=(a+f-n.height-n.depth)/2);var h=c.height-n.height-a-u;n.style.paddingLeft=yt(d);var p=Le.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:c},{type:"kern",size:u}]},t);if(e.index){var v=t.havingStyle(sn.SCRIPTSCRIPT),x=Bn(e.index,v,t),b=.6*(p.height-p.depth),w=Le.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:x}]},t),E=Le.makeSpan(["root"],[w]);return Le.makeSpan(["mord","sqrt"],[E,p],t)}else return Le.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new lt.MathNode("mroot",[mr(n,t),mr(r,t)]):new lt.MathNode("msqrt",[mr(n,t)])}});var nz={display:sn.DISPLAY,text:sn.TEXT,script:sn.SCRIPT,scriptscript:sn.SCRIPTSCRIPT};kt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(e,t){var n=nz[e.style],r=t.havingStyle(n).withFont("");return See(e.body,r,t)},mathmlBuilder(e,t){var n=nz[e.style],r=t.havingStyle(n),i=ka(e.body,r),s=new lt.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[e.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var r8e=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===sn.DISPLAY.size||r.alwaysHandleSupSub);return i?xg:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===sn.DISPLAY.size||r.limits);return s?Eee:null}else{if(r.type==="accent")return Kn.isCharacterBox(r.base)?gI:null;if(r.type==="horizBrace"){var a=!t.sub;return a===r.isOver?xee:null}else return null}else return null};R0({type:"supsub",htmlBuilder(e,t){var n=r8e(e,t);if(n)return n(e,t);var{base:r,sup:i,sub:s}=e,a=Bn(r,t),o,c,u=t.fontMetrics(),d=0,f=0,h=r&&Kn.isCharacterBox(r);if(i){var p=t.havingStyle(t.style.sup());o=Bn(i,p,t),h||(d=a.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(s){var v=t.havingStyle(t.style.sub());c=Bn(s,v,t),h||(f=a.depth+v.fontMetrics().subDrop*v.sizeMultiplier/t.sizeMultiplier)}var x;t.style===sn.DISPLAY?x=u.sup1:t.style.cramped?x=u.sup3:x=u.sup2;var b=t.sizeMultiplier,w=yt(.5/u.ptPerEm/b),E=null;if(c){var k=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(a instanceof Lo||k)&&(E=yt(-a.italic))}var _;if(o&&c){d=Math.max(d,x,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var A=u.defaultRuleThickness,T=4*A;if(d-o.depth-(c.height-f)<T){f=T-(d-o.depth)+c.height;var C=.8*u.xHeight-(d-o.depth);C>0&&(d+=C,f-=C)}var I=[{type:"elem",elem:c,shift:f,marginRight:w,marginLeft:E},{type:"elem",elem:o,shift:-d,marginRight:w}];_=Le.makeVList({positionType:"individualShift",children:I},t)}else if(c){f=Math.max(f,u.sub1,c.height-.8*u.xHeight);var B=[{type:"elem",elem:c,marginLeft:E,marginRight:w}];_=Le.makeVList({positionType:"shift",positionData:f,children:B},t)}else if(o)d=Math.max(d,x,o.depth+.25*u.xHeight),_=Le.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:w}]},t);else throw new Error("supsub must have either sup or sub.");var $=yA(a,"right")||"mord";return Le.makeSpan([$],[a,Le.makeSpan(["msupsub"],[_])],t)},mathmlBuilder(e,t){var n=!1,r,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[mr(e.base,t)];e.sub&&s.push(mr(e.sub,t)),e.sup&&s.push(mr(e.sup,t));var a;if(n)a=r?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===sn.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===sn.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var c=e.base;c&&c.type==="op"&&c.limits&&(t.style===sn.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===sn.DISPLAY)?a="munder":a="msub"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===sn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===sn.DISPLAY)?a="mover":a="msup"}return new lt.MathNode(a,s)}});R0({type:"atom",htmlBuilder(e,t){return Le.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new lt.MathNode("mo",[Fo(e.text,e.mode)]);if(e.family==="bin"){var r=mI(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var kee={mi:"italic",mn:"normal",mtext:"normal"};R0({type:"mathord",htmlBuilder(e,t){return Le.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new lt.MathNode("mi",[Fo(e.text,e.mode,t)]),r=mI(e,t)||"italic";return r!==kee[n.type]&&n.setAttribute("mathvariant",r),n}});R0({type:"textord",htmlBuilder(e,t){return Le.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Fo(e.text,e.mode,t),r=mI(e,t)||"normal",i;return e.mode==="text"?i=new lt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?i=new lt.MathNode("mn",[n]):e.text==="\\prime"?i=new lt.MathNode("mo",[n]):i=new lt.MathNode("mi",[n]),r!==kee[i.type]&&i.setAttribute("mathvariant",r),i}});var qN={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},WN={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};R0({type:"spacing",htmlBuilder(e,t){if(WN.hasOwnProperty(e.text)){var n=WN[e.text].className||"";if(e.mode==="text"){var r=Le.makeOrd(e,t,"textord");return r.classes.push(n),r}else return Le.makeSpan(["mspace",n],[Le.mathsym(e.text,e.mode,t)],t)}else{if(qN.hasOwnProperty(e.text))return Le.makeSpan(["mspace",qN[e.text]],[],t);throw new ut('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(WN.hasOwnProperty(e.text))n=new lt.MathNode("mtext",[new lt.TextNode("")]);else{if(qN.hasOwnProperty(e.text))return new lt.MathNode("mspace");throw new ut('Unknown type of space "'+e.text+'"')}return n}});var rz=()=>{var e=new lt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};R0({type:"tag",mathmlBuilder(e,t){var n=new lt.MathNode("mtable",[new lt.MathNode("mtr",[rz(),new lt.MathNode("mtd",[bf(e.body,t)]),rz(),new lt.MathNode("mtd",[bf(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var iz={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},sz={"\\textbf":"textbf","\\textmd":"textmd"},i8e={"\\textit":"textit","\\textup":"textup"},az=(e,t)=>{var n=e.font;if(n){if(iz[n])return t.withTextFontFamily(iz[n]);if(sz[n])return t.withTextFontWeight(sz[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(i8e[n])};kt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:ui(i),font:r}},htmlBuilder(e,t){var n=az(e,t),r=Fi(e.body,n,!0);return Le.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=az(e,t);return bf(e.body,n)}});kt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Bn(e.body,t),r=Le.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=Le.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return Le.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var n=new lt.MathNode("mo",[new lt.TextNode("")]);n.setAttribute("stretchy","true");var r=new lt.MathNode("munder",[mr(e.body,t),n]);return r.setAttribute("accentunder","true"),r}});kt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Bn(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return Le.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new lt.MathNode("mpadded",[mr(e.body,t)],["vcenter"])}});kt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ut("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=oz(e),r=[],i=t.havingStyle(t.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(Le.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Le.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Le.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new lt.TextNode(oz(e)),r=new lt.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var oz=e=>e.body.replace(/ /g,e.star?"":""),rf=GJ,_ee=`[ \r
	]`,s8e="\\\\[a-zA-Z@]+",a8e="\\\\[^\uD800-\uDFFF]",o8e="("+s8e+")"+_ee+"*",l8e=`\\\\(
|[ \r	]+
?)[ \r	]*`,EA="[-]",c8e=new RegExp(EA+"+$"),u8e="("+_ee+"+)|"+(l8e+"|")+"([!-\\[\\]---]"+(EA+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(EA+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+o8e)+("|"+a8e+")");class lz{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(u8e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Wa("EOF",new ga(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ut("Unexpected character: '"+t[n]+"'",new Wa(t[n],new ga(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Wa(i,new ga(this,n,this.tokenRegex.lastIndex))}}class d8e{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ut("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var f8e=mee;se("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});se("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});se("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});se("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});se("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});se("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");se("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var cz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};se("\\char",function(e){var t=e.popToken(),n,r="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ut("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=cz[t.text],r==null||r>=n)throw new ut("Invalid base-"+n+" digit "+t.text);for(var i;(i=cz[e.future().text])!=null&&i<n;)r*=n,r+=i,e.popToken()}return"\\@char{"+r+"}"});var kI=(e,t,n,r)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new ut("\\newcommand's first argument must be a macro name");var s=i[0].text,a=e.isDefined(s);if(a&&!t)throw new ut("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!n)throw new ut("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var c="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)c+=u.text,u=e.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new ut("Invalid number of arguments: "+c);o=parseInt(c),i=e.consumeArg().tokens}return a&&r||e.macros.set(s,{tokens:i,numArgs:o}),""};se("\\newcommand",e=>kI(e,!1,!0,!1));se("\\renewcommand",e=>kI(e,!0,!1,!1));se("\\providecommand",e=>kI(e,!0,!0,!0));se("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});se("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});se("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),rf[n],Er.math[n],Er.text[n]),""});se("\\bgroup","{");se("\\egroup","}");se("~","\\nobreakspace");se("\\lq","`");se("\\rq","'");se("\\aa","\\r a");se("\\AA","\\r A");se("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");se("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");se("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");se("","\\mathscr{B}");se("","\\mathscr{E}");se("","\\mathscr{F}");se("","\\mathscr{H}");se("","\\mathscr{I}");se("","\\mathscr{L}");se("","\\mathscr{M}");se("","\\mathscr{R}");se("","\\mathfrak{C}");se("","\\mathfrak{H}");se("","\\mathfrak{Z}");se("\\Bbbk","\\Bbb{k}");se("","\\cdotp");se("\\llap","\\mathllap{\\textrm{#1}}");se("\\rlap","\\mathrlap{\\textrm{#1}}");se("\\clap","\\mathclap{\\textrm{#1}}");se("\\mathstrut","\\vphantom{(}");se("\\underbar","\\underline{\\text{#1}}");se("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');se("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");se("\\ne","\\neq");se("","\\neq");se("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");se("","\\notin");se("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");se("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");se("","\\perp");se("","\\mathclose{!\\mkern-0.8mu!}");se("","\\notni");se("","\\ulcorner");se("","\\urcorner");se("","\\llcorner");se("","\\lrcorner");se("","\\copyright");se("","\\textregistered");se("","\\textregistered");se("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');se("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');se("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');se("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');se("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");se("","\\vdots");se("\\varGamma","\\mathit{\\Gamma}");se("\\varDelta","\\mathit{\\Delta}");se("\\varTheta","\\mathit{\\Theta}");se("\\varLambda","\\mathit{\\Lambda}");se("\\varXi","\\mathit{\\Xi}");se("\\varPi","\\mathit{\\Pi}");se("\\varSigma","\\mathit{\\Sigma}");se("\\varUpsilon","\\mathit{\\Upsilon}");se("\\varPhi","\\mathit{\\Phi}");se("\\varPsi","\\mathit{\\Psi}");se("\\varOmega","\\mathit{\\Omega}");se("\\substack","\\begin{subarray}{c}#1\\end{subarray}");se("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");se("\\boxed","\\fbox{$\\displaystyle{#1}$}");se("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");se("\\implies","\\DOTSB\\;\\Longrightarrow\\;");se("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");se("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");se("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var uz={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};se("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in uz?t=uz[n]:(n.slice(0,4)==="\\not"||n in Er.math&&["bin","rel"].includes(Er.math[n].group))&&(t="\\dotsb"),t});var _I={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};se("\\dotso",function(e){var t=e.future().text;return t in _I?"\\ldots\\,":"\\ldots"});se("\\dotsc",function(e){var t=e.future().text;return t in _I&&t!==","?"\\ldots\\,":"\\ldots"});se("\\cdots",function(e){var t=e.future().text;return t in _I?"\\@cdots\\,":"\\@cdots"});se("\\dotsb","\\cdots");se("\\dotsm","\\cdots");se("\\dotsi","\\!\\cdots");se("\\dotsx","\\ldots\\,");se("\\DOTSI","\\relax");se("\\DOTSB","\\relax");se("\\DOTSX","\\relax");se("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");se("\\,","\\tmspace+{3mu}{.1667em}");se("\\thinspace","\\,");se("\\>","\\mskip{4mu}");se("\\:","\\tmspace+{4mu}{.2222em}");se("\\medspace","\\:");se("\\;","\\tmspace+{5mu}{.2777em}");se("\\thickspace","\\;");se("\\!","\\tmspace-{3mu}{.1667em}");se("\\negthinspace","\\!");se("\\negmedspace","\\tmspace-{4mu}{.2222em}");se("\\negthickspace","\\tmspace-{5mu}{.277em}");se("\\enspace","\\kern.5em ");se("\\enskip","\\hskip.5em\\relax");se("\\quad","\\hskip1em\\relax");se("\\qquad","\\hskip2em\\relax");se("\\tag","\\@ifstar\\tag@literal\\tag@paren");se("\\tag@paren","\\tag@literal{({#1})}");se("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ut("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});se("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");se("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");se("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");se("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");se("\\newline","\\\\\\relax");se("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Cee=yt(cc["Main-Regular"][84][1]-.7*cc["Main-Regular"][65][1]);se("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Cee+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");se("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Cee+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");se("\\hspace","\\@ifstar\\@hspacer\\@hspace");se("\\@hspace","\\hskip #1\\relax");se("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");se("\\ordinarycolon",":");se("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");se("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');se("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');se("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');se("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');se("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');se("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');se("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');se("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');se("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');se("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');se("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');se("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');se("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');se("","\\dblcolon");se("","\\eqcolon");se("","\\coloneqq");se("","\\eqqcolon");se("","\\Coloneqq");se("\\ratio","\\vcentcolon");se("\\coloncolon","\\dblcolon");se("\\colonequals","\\coloneqq");se("\\coloncolonequals","\\Coloneqq");se("\\equalscolon","\\eqqcolon");se("\\equalscoloncolon","\\Eqqcolon");se("\\colonminus","\\coloneq");se("\\coloncolonminus","\\Coloneq");se("\\minuscolon","\\eqcolon");se("\\minuscoloncolon","\\Eqcolon");se("\\coloncolonapprox","\\Colonapprox");se("\\coloncolonsim","\\Colonsim");se("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");se("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");se("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");se("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");se("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");se("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");se("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");se("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");se("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");se("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");se("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");se("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");se("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");se("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");se("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");se("\\ngeqq","\\html@mathml{\\@ngeqq}{}");se("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");se("\\nleqq","\\html@mathml{\\@nleqq}{}");se("\\nleqslant","\\html@mathml{\\@nleqslant}{}");se("\\nshortmid","\\html@mathml{\\@nshortmid}{}");se("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");se("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");se("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");se("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");se("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");se("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");se("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");se("\\imath","\\html@mathml{\\@imath}{}");se("\\jmath","\\html@mathml{\\@jmath}{}");se("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");se("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");se("","\\llbracket");se("","\\rrbracket");se("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");se("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");se("","\\lBrace");se("","\\rBrace");se("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");se("","\\minuso");se("\\darr","\\downarrow");se("\\dArr","\\Downarrow");se("\\Darr","\\Downarrow");se("\\lang","\\langle");se("\\rang","\\rangle");se("\\uarr","\\uparrow");se("\\uArr","\\Uparrow");se("\\Uarr","\\Uparrow");se("\\N","\\mathbb{N}");se("\\R","\\mathbb{R}");se("\\Z","\\mathbb{Z}");se("\\alef","\\aleph");se("\\alefsym","\\aleph");se("\\Alpha","\\mathrm{A}");se("\\Beta","\\mathrm{B}");se("\\bull","\\bullet");se("\\Chi","\\mathrm{X}");se("\\clubs","\\clubsuit");se("\\cnums","\\mathbb{C}");se("\\Complex","\\mathbb{C}");se("\\Dagger","\\ddagger");se("\\diamonds","\\diamondsuit");se("\\empty","\\emptyset");se("\\Epsilon","\\mathrm{E}");se("\\Eta","\\mathrm{H}");se("\\exist","\\exists");se("\\harr","\\leftrightarrow");se("\\hArr","\\Leftrightarrow");se("\\Harr","\\Leftrightarrow");se("\\hearts","\\heartsuit");se("\\image","\\Im");se("\\infin","\\infty");se("\\Iota","\\mathrm{I}");se("\\isin","\\in");se("\\Kappa","\\mathrm{K}");se("\\larr","\\leftarrow");se("\\lArr","\\Leftarrow");se("\\Larr","\\Leftarrow");se("\\lrarr","\\leftrightarrow");se("\\lrArr","\\Leftrightarrow");se("\\Lrarr","\\Leftrightarrow");se("\\Mu","\\mathrm{M}");se("\\natnums","\\mathbb{N}");se("\\Nu","\\mathrm{N}");se("\\Omicron","\\mathrm{O}");se("\\plusmn","\\pm");se("\\rarr","\\rightarrow");se("\\rArr","\\Rightarrow");se("\\Rarr","\\Rightarrow");se("\\real","\\Re");se("\\reals","\\mathbb{R}");se("\\Reals","\\mathbb{R}");se("\\Rho","\\mathrm{P}");se("\\sdot","\\cdot");se("\\sect","\\S");se("\\spades","\\spadesuit");se("\\sub","\\subset");se("\\sube","\\subseteq");se("\\supe","\\supseteq");se("\\Tau","\\mathrm{T}");se("\\thetasym","\\vartheta");se("\\weierp","\\wp");se("\\Zeta","\\mathrm{Z}");se("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");se("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");se("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");se("\\bra","\\mathinner{\\langle{#1}|}");se("\\ket","\\mathinner{|{#1}\\rangle}");se("\\braket","\\mathinner{\\langle{#1}\\rangle}");se("\\Bra","\\left\\langle#1\\right|");se("\\Ket","\\left|#1\\right\\rangle");var Nee=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,a=t.macros.get("|"),o=t.macros.get("\\|");t.macros.beginGroup();var c=f=>h=>{e&&(h.macros.set("|",a),i.length&&h.macros.set("\\|",o));var p=f;if(!f&&i.length){var v=h.future();v.text==="|"&&(h.popToken(),p=!0)}return{tokens:p?i:r,numArgs:0}};t.macros.set("|",c(!1)),i.length&&t.macros.set("\\|",c(!0));var u=t.consumeArg().tokens,d=t.expandTokens([...s,...u,...n]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};se("\\bra@ket",Nee(!1));se("\\bra@set",Nee(!0));se("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");se("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");se("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");se("\\angln","{\\angl n}");se("\\blue","\\textcolor{##6495ed}{#1}");se("\\orange","\\textcolor{##ffa500}{#1}");se("\\pink","\\textcolor{##ff00af}{#1}");se("\\red","\\textcolor{##df0030}{#1}");se("\\green","\\textcolor{##28ae7b}{#1}");se("\\gray","\\textcolor{gray}{#1}");se("\\purple","\\textcolor{##9d38bd}{#1}");se("\\blueA","\\textcolor{##ccfaff}{#1}");se("\\blueB","\\textcolor{##80f6ff}{#1}");se("\\blueC","\\textcolor{##63d9ea}{#1}");se("\\blueD","\\textcolor{##11accd}{#1}");se("\\blueE","\\textcolor{##0c7f99}{#1}");se("\\tealA","\\textcolor{##94fff5}{#1}");se("\\tealB","\\textcolor{##26edd5}{#1}");se("\\tealC","\\textcolor{##01d1c1}{#1}");se("\\tealD","\\textcolor{##01a995}{#1}");se("\\tealE","\\textcolor{##208170}{#1}");se("\\greenA","\\textcolor{##b6ffb0}{#1}");se("\\greenB","\\textcolor{##8af281}{#1}");se("\\greenC","\\textcolor{##74cf70}{#1}");se("\\greenD","\\textcolor{##1fab54}{#1}");se("\\greenE","\\textcolor{##0d923f}{#1}");se("\\goldA","\\textcolor{##ffd0a9}{#1}");se("\\goldB","\\textcolor{##ffbb71}{#1}");se("\\goldC","\\textcolor{##ff9c39}{#1}");se("\\goldD","\\textcolor{##e07d10}{#1}");se("\\goldE","\\textcolor{##a75a05}{#1}");se("\\redA","\\textcolor{##fca9a9}{#1}");se("\\redB","\\textcolor{##ff8482}{#1}");se("\\redC","\\textcolor{##f9685d}{#1}");se("\\redD","\\textcolor{##e84d39}{#1}");se("\\redE","\\textcolor{##bc2612}{#1}");se("\\maroonA","\\textcolor{##ffbde0}{#1}");se("\\maroonB","\\textcolor{##ff92c6}{#1}");se("\\maroonC","\\textcolor{##ed5fa6}{#1}");se("\\maroonD","\\textcolor{##ca337c}{#1}");se("\\maroonE","\\textcolor{##9e034e}{#1}");se("\\purpleA","\\textcolor{##ddd7ff}{#1}");se("\\purpleB","\\textcolor{##c6b9fc}{#1}");se("\\purpleC","\\textcolor{##aa87ff}{#1}");se("\\purpleD","\\textcolor{##7854ab}{#1}");se("\\purpleE","\\textcolor{##543b78}{#1}");se("\\mintA","\\textcolor{##f5f9e8}{#1}");se("\\mintB","\\textcolor{##edf2df}{#1}");se("\\mintC","\\textcolor{##e0e5cc}{#1}");se("\\grayA","\\textcolor{##f6f7f7}{#1}");se("\\grayB","\\textcolor{##f0f1f2}{#1}");se("\\grayC","\\textcolor{##e3e5e6}{#1}");se("\\grayD","\\textcolor{##d6d8da}{#1}");se("\\grayE","\\textcolor{##babec2}{#1}");se("\\grayF","\\textcolor{##888d93}{#1}");se("\\grayG","\\textcolor{##626569}{#1}");se("\\grayH","\\textcolor{##3b3e40}{#1}");se("\\grayI","\\textcolor{##21242c}{#1}");se("\\kaBlue","\\textcolor{##314453}{#1}");se("\\kaGreen","\\textcolor{##71B307}{#1}");var Tee={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class h8e{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new d8e(f8e,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new lz(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Wa("EOF",r.loc)),this.pushTokens(i),new Wa("",ga.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new ut("Extra }",s)}else if(s.text==="EOF")throw new ut("Unexpected end of input in a macro argument, expected '"+(t&&r?t[o]:"}")+"'",s);if(t&&r)if((a===0||a===1&&t[o]==="{")&&s.text===t[o]){if(++o,o===t.length){n.splice(-o,o);break}}else o=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ut("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new ut("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<t;o++)a.push(this.consumeArg(n&&n[o+1]).tokens);return a}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ut("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ut("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var c=s[o];if(c.text==="#"){if(o===0)throw new ut("Incomplete placeholder at end of macro body",c);if(c=s[--o],c.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(c.text))s.splice(o,2,...a[+c.text-1]);else throw new ut("Not a valid argument number",c)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Wa(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new lz(i,this.settings),c=[],u=o.lex();u.text!=="EOF";)c.push(u),u=o.lex();c.reverse();var d={tokens:c,numArgs:s};return d}return i}isDefined(t){return this.macros.has(t)||rf.hasOwnProperty(t)||Er.math.hasOwnProperty(t)||Er.text.hasOwnProperty(t)||Tee.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:rf.hasOwnProperty(t)&&!rf[t].primitive}}var dz=/^[]/,Kw=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),GN={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},fz={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let Aee=class jee{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new h8e(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ut("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Wa("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(jee.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&rf[i.text]&&rf[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new ut("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var s,a,o=t.slice(0,n),c=t.slice(n+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,t[n],a],[]):u=this.callFunction(r,[s,a],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(t)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new ut("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ut("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ut("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new ut("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ut("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(Kw[s.text]){var u=dz.test(s.text),d=[];for(d.push(new Wa(Kw[s.text])),this.consume();;){var f=this.fetch().text;if(!Kw[f]||dz.test(f)!==u)break;d.unshift(new Wa(Kw[f])),this.consume()}var h=this.subparse(d);u?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,s=rf[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ut("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ut("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ut("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,r,t)}callFunction(t,n,r,i,s){var a={funcName:t,parser:this,token:i,breakOnTokenText:s},o=rf[t];if(o&&o.handler)return o.handler(a,n,r);throw new ut("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var o=n.argTypes&&n.argTypes[a],c=a<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",o,c);if(c)s.push(u);else if(u!=null)i.push(u);else throw new ut("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ut("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new ut("Expected group as "+t,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ut("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&t.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new ut("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ut("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ut("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!FJ(s))throw new ut("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(t,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),c=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ga.range(r,c),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,t)||this.parseSymbol(),s==null&&i[0]==="\\"&&!Tee.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ut("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],s=i.text;s==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:ga.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:ga.range(i,t[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&t[r+1].text===s&&(t.splice(r,2,{type:"textord",mode:"text",loc:ga.range(i,t[r+1]),text:s+s}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ut(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}fz.hasOwnProperty(n[0])&&!Er[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=fz[n[0]]+n.slice(1));var s=c8e.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var a;if(Er[this.mode][n]){this.settings.strict&&this.mode==="math"&&vA.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var o=Er[this.mode][n].group,c=ga.range(t),u;if(tAe.hasOwnProperty(o)){var d=o;u={type:"atom",mode:this.mode,family:d,loc:c,text:n}}else u={type:o,mode:this.mode,loc:c,text:n};a=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(DJ(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),a={type:"textord",mode:"text",loc:ga.range(t),text:n};else return null;if(this.consume(),s)for(var f=0;f<s[0].length;f++){var h=s[0][f];if(!GN[h])throw new ut("Unknown accent ' "+h+"'",t);var p=GN[h][this.mode]||GN[h].text;if(!p)throw new ut("Accent "+h+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:ga.range(t),label:p,isStretchy:!1,isShifty:!0,base:a}}return a}};Aee.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var CI=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Aee(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ut("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Wa("\\df@tag")])}]}return i},NI=function(t,n,r){n.textContent="";var i=kk(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),NI=function(){throw new ut("KaTeX doesn't work in quirks mode.")});var Pee=function(t,n){var r=kk(t,n).toMarkup();return r},Iee=function(t,n){var r=new lI(n);return CI(t,r)},Ree=function(t,n,r){if(r.throwOnError||!(t instanceof ut))throw t;var i=Le.makeSpan(["katex-error"],[new Lo(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},kk=function(t,n){var r=new lI(n);try{var i=CI(t,r);return kAe(i,t,r)}catch(s){return Ree(s,t,r)}},Mee=function(t,n){var r=new lI(n);try{var i=CI(t,r);return _Ae(i,t,r)}catch(s){return Ree(s,t,r)}},Oee="0.16.25",Dee={Span:px,Anchor:dI,SymbolNode:Lo,SvgNode:Au,PathNode:xf,LineNode:gA},SA={version:Oee,render:NI,renderToString:Pee,ParseError:ut,SETTINGS_SCHEMA:pv,__parse:Iee,__renderToDomTree:kk,__renderToHTMLTree:Mee,__setFontMetrics:LJ,__defineSymbol:D,__defineFunction:kt,__defineMacro:se,__domTree:Dee};const H2t=Object.freeze(Object.defineProperty({__proto__:null,ParseError:ut,SETTINGS_SCHEMA:pv,__defineFunction:kt,__defineMacro:se,__defineSymbol:D,__domTree:Dee,__parse:Iee,__renderToDomTree:kk,__renderToHTMLTree:Mee,__setFontMetrics:LJ,default:SA,get render(){return NI},renderToString:Pee,version:Oee},Symbol.toStringTag,{value:"Module"})),m8e={},p8e=[];function g8e(e){const t=e||m8e;return function(n,r){tI(n,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:p8e,o=a.includes("language-math"),c=a.includes("math-display"),u=a.includes("math-inline");let d=c;if(!o&&!c&&!u)return;let f=s[s.length-1],h=i;if(i.tagName==="code"&&o&&f&&f.type==="element"&&f.tagName==="pre"&&(h=f,f=s[s.length-2],d=!0),!f)return;const p=m6e(h,{whitespace:"pre"});let v;try{v=SA.renderToString(p,{...t,displayMode:d,throwOnError:!0})}catch(b){const w=b,E=w.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:w,place:i.position,ruleId:E,source:"rehype-katex"});try{v=SA.renderToString(p,{...t,displayMode:d,strict:"ignore",throwOnError:!1})}catch{v=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(b)},children:[{type:"text",value:p}]}]}}typeof v=="string"&&(v=a6e(v).children);const x=f.children.indexOf(h);return f.children.splice(x,1,...v),$4})}}function v8e(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const c=hz(t,n[a-1]);o=c===-1?t.length+1:c+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],c=hz(t,o),u=c===-1?t.length+1:c+1;if(o===u)break;n.push(u)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function hz(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Lee={}.hasOwnProperty,y8e=Object.prototype;function x8e(e,t){const n=t||{};return TI({file:n.file||void 0,location:!1,schema:n.space==="svg"?Pf:ux,verbose:n.verbose||!1},e)}function TI(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},X2(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:Fee(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=v8e(s),o=a.toPoint(0),c=a.toPoint(s.length);n.position={start:o,end:c}}return n}case"#documentType":{const r=t;return n={type:"doctype"},X2(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},X2(e,r,n),n}default:return n=b8e(e,t),n}}function Fee(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=TI(e,t[n]);r.push(i)}return r}function b8e(e,t){const n=e.schema;e.schema=t.namespaceURI===lc.svg?Pf:ux;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],c=(o.prefix?o.prefix+":":"")+o.name;Lee.call(y8e,c)||(i[c]=o.value)}const a=(e.schema.space==="svg"?TJ:NJ)(t.tagName,i,Fee(e,t.childNodes));if(X2(e,t,a),a.tagName==="template"){const o=t,c=o.sourceCodeLocation,u=c&&c.startTag&&Lm(c.startTag),d=c&&c.endTag&&Lm(c.endTag),f=TI(e,o.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),a.content=f}return e.schema=n,a}function X2(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=w8e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function w8e(e,t,n){const r=Lm(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)Lee.call(n.attrs,a)&&(s[fk(e.schema,a).property]=Lm(n.attrs[a]));n.startTag;const o=Lm(n.startTag),c=n.endTag?Lm(n.endTag):void 0,u={opening:o};c&&(u.closing=c),u.properties=s,t.data={position:u}}}return r}function Lm(e){const t=mz({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=mz({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function mz(e){return e.line&&e.column?e:void 0}class vx{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}vx.prototype.property={};vx.prototype.normal={};vx.prototype.space=null;function $ee(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new vx(n,r,t)}function kA(e){return e.toLowerCase()}class Uo{constructor(t,n){this.property=t,this.attribute=n}}Uo.prototype.space=null;Uo.prototype.boolean=!1;Uo.prototype.booleanish=!1;Uo.prototype.overloadedBoolean=!1;Uo.prototype.number=!1;Uo.prototype.commaSeparated=!1;Uo.prototype.spaceSeparated=!1;Uo.prototype.commaOrSpaceSeparated=!1;Uo.prototype.mustUseProperty=!1;Uo.prototype.defined=!1;let E8e=0;const pn=M0(),vi=M0(),zee=M0(),ft=M0(),xr=M0(),rp=M0(),Ma=M0();function M0(){return 2**++E8e}const _A=Object.freeze(Object.defineProperty({__proto__:null,boolean:pn,booleanish:vi,commaOrSpaceSeparated:Ma,commaSeparated:rp,number:ft,overloadedBoolean:zee,spaceSeparated:xr},Symbol.toStringTag,{value:"Module"})),KN=Object.keys(_A);class AI extends Uo{constructor(t,n,r,i){let s=-1;if(super(t,n),pz(this,"space",i),typeof r=="number")for(;++s<KN.length;){const a=KN[s];pz(this,KN[s],(r&_A[a])===_A[a])}}}AI.prototype.defined=!0;function pz(e,t,n){n&&(e[t]=n)}const S8e={}.hasOwnProperty;function bg(e){const t={},n={};let r;for(r in e.properties)if(S8e.call(e.properties,r)){const i=e.properties[r],s=new AI(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[kA(r)]=r,n[kA(s.attribute)]=r}return new vx(t,n,e.space)}const Bee=bg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Uee=bg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Hee(e,t){return t in e?e[t]:t}function Vee(e,t){return Hee(e,t.toLowerCase())}const qee=bg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Vee,properties:{xmlns:null,xmlnsXLink:null}}),Wee=bg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:vi,ariaAutoComplete:null,ariaBusy:vi,ariaChecked:vi,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:xr,ariaCurrent:null,ariaDescribedBy:xr,ariaDetails:null,ariaDisabled:vi,ariaDropEffect:xr,ariaErrorMessage:null,ariaExpanded:vi,ariaFlowTo:xr,ariaGrabbed:vi,ariaHasPopup:null,ariaHidden:vi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xr,ariaLevel:ft,ariaLive:null,ariaModal:vi,ariaMultiLine:vi,ariaMultiSelectable:vi,ariaOrientation:null,ariaOwns:xr,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:vi,ariaReadOnly:vi,ariaRelevant:null,ariaRequired:vi,ariaRoleDescription:xr,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:vi,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null}}),k8e=bg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Vee,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rp,acceptCharset:xr,accessKey:xr,action:null,allow:null,allowFullScreen:pn,allowPaymentRequest:pn,allowUserMedia:pn,alt:null,as:null,async:pn,autoCapitalize:null,autoComplete:xr,autoFocus:pn,autoPlay:pn,blocking:xr,capture:null,charSet:null,checked:pn,cite:null,className:xr,cols:ft,colSpan:null,content:null,contentEditable:vi,controls:pn,controlsList:xr,coords:ft|rp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pn,defer:pn,dir:null,dirName:null,disabled:pn,download:zee,draggable:vi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pn,formTarget:null,headers:xr,height:ft,hidden:pn,high:ft,href:null,hrefLang:null,htmlFor:xr,httpEquiv:xr,id:null,imageSizes:null,imageSrcSet:null,inert:pn,inputMode:null,integrity:null,is:null,isMap:pn,itemId:null,itemProp:xr,itemRef:xr,itemScope:pn,itemType:xr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pn,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:pn,muted:pn,name:null,nonce:null,noModule:pn,noValidate:pn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pn,optimum:ft,pattern:null,ping:xr,placeholder:null,playsInline:pn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pn,referrerPolicy:null,rel:xr,required:pn,reversed:pn,rows:ft,rowSpan:ft,sandbox:xr,scope:null,scoped:pn,seamless:pn,selected:pn,shadowRootClonable:pn,shadowRootDelegatesFocus:pn,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:vi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:pn,useMap:null,value:vi,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xr,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pn,declare:pn,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:pn,noHref:pn,noShade:pn,noWrap:pn,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:vi,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pn,disableRemotePlayback:pn,prefix:null,property:null,results:ft,security:null,unselectable:null}}),_8e=bg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Hee,properties:{about:Ma,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:xr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:pn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rp,g2:rp,glyphName:rp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:Ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ma,rev:Ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ma,requiredFeatures:Ma,requiredFonts:Ma,requiredFormats:Ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:Ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ma,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),C8e=/^data[-\w.:]+$/i,gz=/-[a-z]/g,N8e=/[A-Z]/g;function T8e(e,t){const n=kA(t);let r=t,i=Uo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&C8e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(gz,j8e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!gz.test(s)){let a=s.replace(N8e,A8e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=AI}return new i(r,t)}function A8e(e){return"-"+e.toLowerCase()}function j8e(e){return e.charAt(1).toUpperCase()}const P8e=$ee([Uee,Bee,qee,Wee,k8e],"html"),Gee=$ee([Uee,Bee,qee,Wee,_8e],"svg"),vz={}.hasOwnProperty;function jI(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&vz.call(i,e)){const c=String(i[e]);a=vz.call(o,c)?o[c]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const I8e={},R8e={}.hasOwnProperty,Kee=jI("type",{handlers:{root:O8e,element:z8e,text:F8e,comment:$8e,doctype:L8e}});function M8e(e,t){const r=(t||I8e).space;return Kee(e,r==="svg"?Gee:P8e)}function O8e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=PI(e.children,n,t),wg(e,n),n}function D8e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=PI(e.children,n,t),wg(e,n),n}function L8e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return wg(e,t),t}function F8e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return wg(e,t),t}function $8e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return wg(e,t),t}function z8e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=Gee);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&R8e.call(e.properties,s)){const c=B8e(r,s,e.properties[s]);c&&i.push(c)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:lc[a],childNodes:[],parentNode:null};return o.childNodes=PI(e.children,o,r),wg(e,o),e.tagName==="template"&&e.content&&(o.content=D8e(e.content,r)),o}function B8e(e,t,n){const r=T8e(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?UP(n):VP(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=lc[r.space]}return i}function PI(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=Kee(e[r],n);s.parentNode=t,i.push(s)}return i}function wg(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Yee=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],U8e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Ir="";var oe;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(oe||(oe={}));const la={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Xee(e){return e>=55296&&e<=57343}function H8e(e){return e>=56320&&e<=57343}function V8e(e,t){return(e-55296)*1024+9216+t}function Qee(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Zee(e){return e>=64976&&e<=65007||U8e.has(e)}var He;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(He||(He={}));const q8e=65536;class W8e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=q8e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(H8e(n))return this.pos++,this._addGap(),V8e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,oe.EOF;return this._err(He.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,oe.EOF;const r=this.html.charCodeAt(n);return r===oe.CARRIAGE_RETURN?oe.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,oe.EOF;let t=this.html.charCodeAt(this.pos);return t===oe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,oe.LINE_FEED):t===oe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Xee(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===oe.LINE_FEED||t===oe.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){Qee(t)?this._err(He.controlCharacterInInputStream):Zee(t)&&this._err(He.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var jn;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(jn||(jn={}));function Jee(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const G8e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),K8e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Y8e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=K8e.get(e))!==null&&t!==void 0?t:e}var ts;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ts||(ts={}));const X8e=32;var sf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(sf||(sf={}));function CA(e){return e>=ts.ZERO&&e<=ts.NINE}function Q8e(e){return e>=ts.UPPER_A&&e<=ts.UPPER_F||e>=ts.LOWER_A&&e<=ts.LOWER_F}function Z8e(e){return e>=ts.UPPER_A&&e<=ts.UPPER_Z||e>=ts.LOWER_A&&e<=ts.LOWER_Z||CA(e)}function J8e(e){return e===ts.EQUALS||Z8e(e)}var Ki;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Ki||(Ki={}));var lu;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(lu||(lu={}));class eje{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Ki.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=lu.Strict}startEntity(t){this.decodeMode=t,this.state=Ki.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Ki.EntityStart:return t.charCodeAt(n)===ts.NUM?(this.state=Ki.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Ki.NamedEntity,this.stateNamedEntity(t,n));case Ki.NumericStart:return this.stateNumericStart(t,n);case Ki.NumericDecimal:return this.stateNumericDecimal(t,n);case Ki.NumericHex:return this.stateNumericHex(t,n);case Ki.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|X8e)===ts.LOWER_X?(this.state=Ki.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Ki.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(CA(i)||Q8e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(CA(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===ts.SEMI)this.consumed+=1;else if(this.decodeMode===lu.Strict)return 0;return this.emitCodePoint(Y8e(this.result),this.consumed),this.errors&&(t!==ts.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&sf.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=tje(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===lu.Attribute&&(s===0||J8e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&sf.VALUE_LENGTH)>>14,s!==0){if(a===ts.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==lu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&sf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~sf.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Ki.NamedEntity:return this.result!==0&&(this.decodeMode!==lu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ki.NumericDecimal:return this.emitNumericEntity(0,2);case Ki.NumericHex:return this.emitNumericEntity(0,3);case Ki.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ki.EntityStart:return 0}}}function tje(e,t,n,r){const i=(t&sf.BRANCH_LENGTH)>>7,s=t&sf.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const c=r-s;return c<0||c>=i?-1:e[n+c]-1}let a=n,o=a+i-1;for(;a<=o;){const c=a+o>>>1,u=e[c];if(u<r)a=c+1;else if(u>r)o=c-1;else return e[c+i]}return-1}var rt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(rt||(rt={}));var zh;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(zh||(zh={}));var Eo;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Eo||(Eo={}));var Me;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Me||(Me={}));var P;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(P||(P={}));const nje=new Map([[Me.A,P.A],[Me.ADDRESS,P.ADDRESS],[Me.ANNOTATION_XML,P.ANNOTATION_XML],[Me.APPLET,P.APPLET],[Me.AREA,P.AREA],[Me.ARTICLE,P.ARTICLE],[Me.ASIDE,P.ASIDE],[Me.B,P.B],[Me.BASE,P.BASE],[Me.BASEFONT,P.BASEFONT],[Me.BGSOUND,P.BGSOUND],[Me.BIG,P.BIG],[Me.BLOCKQUOTE,P.BLOCKQUOTE],[Me.BODY,P.BODY],[Me.BR,P.BR],[Me.BUTTON,P.BUTTON],[Me.CAPTION,P.CAPTION],[Me.CENTER,P.CENTER],[Me.CODE,P.CODE],[Me.COL,P.COL],[Me.COLGROUP,P.COLGROUP],[Me.DD,P.DD],[Me.DESC,P.DESC],[Me.DETAILS,P.DETAILS],[Me.DIALOG,P.DIALOG],[Me.DIR,P.DIR],[Me.DIV,P.DIV],[Me.DL,P.DL],[Me.DT,P.DT],[Me.EM,P.EM],[Me.EMBED,P.EMBED],[Me.FIELDSET,P.FIELDSET],[Me.FIGCAPTION,P.FIGCAPTION],[Me.FIGURE,P.FIGURE],[Me.FONT,P.FONT],[Me.FOOTER,P.FOOTER],[Me.FOREIGN_OBJECT,P.FOREIGN_OBJECT],[Me.FORM,P.FORM],[Me.FRAME,P.FRAME],[Me.FRAMESET,P.FRAMESET],[Me.H1,P.H1],[Me.H2,P.H2],[Me.H3,P.H3],[Me.H4,P.H4],[Me.H5,P.H5],[Me.H6,P.H6],[Me.HEAD,P.HEAD],[Me.HEADER,P.HEADER],[Me.HGROUP,P.HGROUP],[Me.HR,P.HR],[Me.HTML,P.HTML],[Me.I,P.I],[Me.IMG,P.IMG],[Me.IMAGE,P.IMAGE],[Me.INPUT,P.INPUT],[Me.IFRAME,P.IFRAME],[Me.KEYGEN,P.KEYGEN],[Me.LABEL,P.LABEL],[Me.LI,P.LI],[Me.LINK,P.LINK],[Me.LISTING,P.LISTING],[Me.MAIN,P.MAIN],[Me.MALIGNMARK,P.MALIGNMARK],[Me.MARQUEE,P.MARQUEE],[Me.MATH,P.MATH],[Me.MENU,P.MENU],[Me.META,P.META],[Me.MGLYPH,P.MGLYPH],[Me.MI,P.MI],[Me.MO,P.MO],[Me.MN,P.MN],[Me.MS,P.MS],[Me.MTEXT,P.MTEXT],[Me.NAV,P.NAV],[Me.NOBR,P.NOBR],[Me.NOFRAMES,P.NOFRAMES],[Me.NOEMBED,P.NOEMBED],[Me.NOSCRIPT,P.NOSCRIPT],[Me.OBJECT,P.OBJECT],[Me.OL,P.OL],[Me.OPTGROUP,P.OPTGROUP],[Me.OPTION,P.OPTION],[Me.P,P.P],[Me.PARAM,P.PARAM],[Me.PLAINTEXT,P.PLAINTEXT],[Me.PRE,P.PRE],[Me.RB,P.RB],[Me.RP,P.RP],[Me.RT,P.RT],[Me.RTC,P.RTC],[Me.RUBY,P.RUBY],[Me.S,P.S],[Me.SCRIPT,P.SCRIPT],[Me.SEARCH,P.SEARCH],[Me.SECTION,P.SECTION],[Me.SELECT,P.SELECT],[Me.SOURCE,P.SOURCE],[Me.SMALL,P.SMALL],[Me.SPAN,P.SPAN],[Me.STRIKE,P.STRIKE],[Me.STRONG,P.STRONG],[Me.STYLE,P.STYLE],[Me.SUB,P.SUB],[Me.SUMMARY,P.SUMMARY],[Me.SUP,P.SUP],[Me.TABLE,P.TABLE],[Me.TBODY,P.TBODY],[Me.TEMPLATE,P.TEMPLATE],[Me.TEXTAREA,P.TEXTAREA],[Me.TFOOT,P.TFOOT],[Me.TD,P.TD],[Me.TH,P.TH],[Me.THEAD,P.THEAD],[Me.TITLE,P.TITLE],[Me.TR,P.TR],[Me.TRACK,P.TRACK],[Me.TT,P.TT],[Me.U,P.U],[Me.UL,P.UL],[Me.SVG,P.SVG],[Me.VAR,P.VAR],[Me.WBR,P.WBR],[Me.XMP,P.XMP]]);function Eg(e){var t;return(t=nje.get(e))!==null&&t!==void 0?t:P.UNKNOWN}const ot=P,rje={[rt.HTML]:new Set([ot.ADDRESS,ot.APPLET,ot.AREA,ot.ARTICLE,ot.ASIDE,ot.BASE,ot.BASEFONT,ot.BGSOUND,ot.BLOCKQUOTE,ot.BODY,ot.BR,ot.BUTTON,ot.CAPTION,ot.CENTER,ot.COL,ot.COLGROUP,ot.DD,ot.DETAILS,ot.DIR,ot.DIV,ot.DL,ot.DT,ot.EMBED,ot.FIELDSET,ot.FIGCAPTION,ot.FIGURE,ot.FOOTER,ot.FORM,ot.FRAME,ot.FRAMESET,ot.H1,ot.H2,ot.H3,ot.H4,ot.H5,ot.H6,ot.HEAD,ot.HEADER,ot.HGROUP,ot.HR,ot.HTML,ot.IFRAME,ot.IMG,ot.INPUT,ot.LI,ot.LINK,ot.LISTING,ot.MAIN,ot.MARQUEE,ot.MENU,ot.META,ot.NAV,ot.NOEMBED,ot.NOFRAMES,ot.NOSCRIPT,ot.OBJECT,ot.OL,ot.P,ot.PARAM,ot.PLAINTEXT,ot.PRE,ot.SCRIPT,ot.SECTION,ot.SELECT,ot.SOURCE,ot.STYLE,ot.SUMMARY,ot.TABLE,ot.TBODY,ot.TD,ot.TEMPLATE,ot.TEXTAREA,ot.TFOOT,ot.TH,ot.THEAD,ot.TITLE,ot.TR,ot.TRACK,ot.UL,ot.WBR,ot.XMP]),[rt.MATHML]:new Set([ot.MI,ot.MO,ot.MN,ot.MS,ot.MTEXT,ot.ANNOTATION_XML]),[rt.SVG]:new Set([ot.TITLE,ot.FOREIGN_OBJECT,ot.DESC]),[rt.XLINK]:new Set,[rt.XML]:new Set,[rt.XMLNS]:new Set},NA=new Set([ot.H1,ot.H2,ot.H3,ot.H4,ot.H5,ot.H6]);Me.STYLE,Me.SCRIPT,Me.XMP,Me.IFRAME,Me.NOEMBED,Me.NOFRAMES,Me.PLAINTEXT;var ce;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(ce||(ce={}));const ci={DATA:ce.DATA,RCDATA:ce.RCDATA,RAWTEXT:ce.RAWTEXT,SCRIPT_DATA:ce.SCRIPT_DATA,PLAINTEXT:ce.PLAINTEXT,CDATA_SECTION:ce.CDATA_SECTION};function ije(e){return e>=oe.DIGIT_0&&e<=oe.DIGIT_9}function tv(e){return e>=oe.LATIN_CAPITAL_A&&e<=oe.LATIN_CAPITAL_Z}function sje(e){return e>=oe.LATIN_SMALL_A&&e<=oe.LATIN_SMALL_Z}function jd(e){return sje(e)||tv(e)}function yz(e){return jd(e)||ije(e)}function Yw(e){return e+32}function ete(e){return e===oe.SPACE||e===oe.LINE_FEED||e===oe.TABULATION||e===oe.FORM_FEED}function xz(e){return ete(e)||e===oe.SOLIDUS||e===oe.GREATER_THAN_SIGN}function aje(e){return e===oe.NULL?He.nullCharacterReference:e>1114111?He.characterReferenceOutsideUnicodeRange:Xee(e)?He.surrogateCharacterReference:Zee(e)?He.noncharacterCharacterReference:Qee(e)||e===oe.CARRIAGE_RETURN?He.controlCharacterReference:null}class oje{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=ce.DATA,this.returnState=ce.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new W8e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new eje(G8e,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(He.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(He.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=aje(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:jn.START_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:jn.END_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:jn.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:jn.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Jee(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(He.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Eg(t.tagName),t.type===jn.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(He.endTagWithAttributes),t.selfClosing&&this._err(He.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case jn.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case jn.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case jn.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:jn.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=ete(t)?jn.WHITESPACE_CHARACTER:t===oe.NULL?jn.NULL_CHARACTER:jn.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(jn.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=ce.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?lu.Attribute:lu.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===ce.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case ce.DATA:{this._stateData(t);break}case ce.RCDATA:{this._stateRcdata(t);break}case ce.RAWTEXT:{this._stateRawtext(t);break}case ce.SCRIPT_DATA:{this._stateScriptData(t);break}case ce.PLAINTEXT:{this._statePlaintext(t);break}case ce.TAG_OPEN:{this._stateTagOpen(t);break}case ce.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case ce.TAG_NAME:{this._stateTagName(t);break}case ce.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case ce.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case ce.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case ce.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case ce.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case ce.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case ce.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case ce.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case ce.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case ce.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case ce.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case ce.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case ce.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case ce.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case ce.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case ce.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case ce.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case ce.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case ce.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case ce.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case ce.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case ce.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case ce.BOGUS_COMMENT:{this._stateBogusComment(t);break}case ce.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case ce.COMMENT_START:{this._stateCommentStart(t);break}case ce.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case ce.COMMENT:{this._stateComment(t);break}case ce.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case ce.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case ce.COMMENT_END:{this._stateCommentEnd(t);break}case ce.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case ce.DOCTYPE:{this._stateDoctype(t);break}case ce.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case ce.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case ce.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case ce.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case ce.CDATA_SECTION:{this._stateCdataSection(t);break}case ce.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case ce.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case ce.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case ce.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case oe.LESS_THAN_SIGN:{this.state=ce.TAG_OPEN;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitCodePoint(t);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case oe.AMPERSAND:{this._startCharacterReference();break}case oe.LESS_THAN_SIGN:{this.state=ce.RCDATA_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case oe.LESS_THAN_SIGN:{this.state=ce.RAWTEXT_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(jd(t))this._createStartTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case oe.EXCLAMATION_MARK:{this.state=ce.MARKUP_DECLARATION_OPEN;break}case oe.SOLIDUS:{this.state=ce.END_TAG_OPEN;break}case oe.QUESTION_MARK:{this._err(He.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t);break}case oe.EOF:{this._err(He.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(He.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=ce.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(jd(t))this._createEndTagToken(),this.state=ce.TAG_NAME,this._stateTagName(t);else switch(t){case oe.GREATER_THAN_SIGN:{this._err(He.missingEndTagName),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(He.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case oe.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.tagName+=Ir;break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(tv(t)?Yw(t):t)}}_stateRcdataLessThanSign(t){t===oe.SOLIDUS?this.state=ce.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){jd(t)?(this.state=ce.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=ce.BEFORE_ATTRIBUTE_NAME,!1;case oe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=ce.SELF_CLOSING_START_TAG,!1;case oe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=ce.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===oe.SOLIDUS?this.state=ce.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){jd(t)?(this.state=ce.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case oe.SOLIDUS:{this.state=ce.SCRIPT_DATA_END_TAG_OPEN;break}case oe.EXCLAMATION_MARK:{this.state=ce.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){jd(t)?(this.state=ce.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===oe.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===oe.HYPHEN_MINUS?(this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case oe.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case oe.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case oe.HYPHEN_MINUS:{this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_ESCAPED,this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===oe.SOLIDUS?this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:jd(t)?(this._emitChars("<"),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){jd(t)?(this.state=ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(la.SCRIPT,!1)&&xz(this.preprocessor.peek(la.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<la.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case oe.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case oe.HYPHEN_MINUS:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case oe.HYPHEN_MINUS:{this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.GREATER_THAN_SIGN:{this.state=ce.SCRIPT_DATA,this._emitChars(">");break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Ir);break}case oe.EOF:{this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===oe.SOLIDUS?(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(la.SCRIPT,!1)&&xz(this.preprocessor.peek(la.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<la.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=ce.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.SOLIDUS:case oe.GREATER_THAN_SIGN:case oe.EOF:{this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case oe.EQUALS_SIGN:{this._err(He.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ce.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:case oe.SOLIDUS:case oe.GREATER_THAN_SIGN:case oe.EOF:{this._leaveAttrName(),this.state=ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case oe.EQUALS_SIGN:{this._leaveAttrName(),this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case oe.QUOTATION_MARK:case oe.APOSTROPHE:case oe.LESS_THAN_SIGN:{this._err(He.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.currentAttr.name+=Ir;break}default:this.currentAttr.name+=String.fromCodePoint(tv(t)?Yw(t):t)}}_stateAfterAttributeName(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.SOLIDUS:{this.state=ce.SELF_CLOSING_START_TAG;break}case oe.EQUALS_SIGN:{this.state=ce.BEFORE_ATTRIBUTE_VALUE;break}case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{this.state=ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this.state=ce.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingAttributeValue),this.state=ce.DATA,this.emitCurrentTagToken();break}default:this.state=ce.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case oe.QUOTATION_MARK:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ir;break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case oe.APOSTROPHE:{this.state=ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ir;break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ir;break}case oe.QUOTATION_MARK:case oe.APOSTROPHE:case oe.LESS_THAN_SIGN:case oe.EQUALS_SIGN:case oe.GRAVE_ACCENT:{this._err(He.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this._leaveAttrValue(),this.state=ce.BEFORE_ATTRIBUTE_NAME;break}case oe.SOLIDUS:{this._leaveAttrValue(),this.state=ce.SELF_CLOSING_START_TAG;break}case oe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=ce.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this._err(He.missingWhitespaceBetweenAttributes),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case oe.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=ce.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(He.eofInTag),this._emitEOFToken();break}default:this._err(He.unexpectedSolidusInTag),this.state=ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.data+=Ir;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(la.DASH_DASH,!0)?(this._createCommentToken(la.DASH_DASH.length+1),this.state=ce.COMMENT_START):this._consumeSequenceIfMatch(la.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(la.DOCTYPE.length+1),this.state=ce.DOCTYPE):this._consumeSequenceIfMatch(la.CDATA_START,!0)?this.inForeignNode?this.state=ce.CDATA_SECTION:(this._err(He.cdataInHtmlContent),this._createCommentToken(la.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=ce.BOGUS_COMMENT):this._ensureHibernation()||(this._err(He.incorrectlyOpenedComment),this._createCommentToken(2),this.state=ce.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case oe.HYPHEN_MINUS:{this.state=ce.COMMENT_START_DASH;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptClosingOfEmptyComment),this.state=ce.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case oe.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptClosingOfEmptyComment),this.state=ce.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this._err(He.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case oe.HYPHEN_MINUS:{this.state=ce.COMMENT_END_DASH;break}case oe.LESS_THAN_SIGN:{n.data+="<",this.state=ce.COMMENT_LESS_THAN_SIGN;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.data+=Ir;break}case oe.EOF:{this._err(He.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case oe.EXCLAMATION_MARK:{n.data+="!",this.state=ce.COMMENT_LESS_THAN_SIGN_BANG;break}case oe.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===oe.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=ce.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===oe.HYPHEN_MINUS?this.state=ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=ce.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==oe.GREATER_THAN_SIGN&&t!==oe.EOF&&this._err(He.nestedComment),this.state=ce.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case oe.HYPHEN_MINUS:{this.state=ce.COMMENT_END;break}case oe.EOF:{this._err(He.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentComment(n);break}case oe.EXCLAMATION_MARK:{this.state=ce.COMMENT_END_BANG;break}case oe.HYPHEN_MINUS:{n.data+="-";break}case oe.EOF:{this._err(He.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=ce.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case oe.HYPHEN_MINUS:{n.data+="--!",this.state=ce.COMMENT_END_DASH;break}case oe.GREATER_THAN_SIGN:{this._err(He.incorrectlyClosedComment),this.state=ce.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this._err(He.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=ce.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case oe.EOF:{this._err(He.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingWhitespaceBeforeDoctypeName),this.state=ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(tv(t))this._createDoctypeToken(String.fromCharCode(Yw(t))),this.state=ce.DOCTYPE_NAME;else switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.NULL:{this._err(He.unexpectedNullCharacter),this._createDoctypeToken(Ir),this.state=ce.DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=ce.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.AFTER_DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.name+=Ir;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(tv(t)?Yw(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(la.PUBLIC,!1)?this.state=ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(la.SYSTEM,!1)?this.state=ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(He.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.QUOTATION_MARK:{this._err(He.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(He.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.publicId="",this.state=ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case oe.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.publicId+=Ir;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case oe.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.publicId+=Ir;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case oe.GREATER_THAN_SIGN:{this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.QUOTATION_MARK:{this._err(He.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(He.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.QUOTATION_MARK:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.QUOTATION_MARK:{this._err(He.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(He.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.systemId="",this.state=ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(He.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case oe.QUOTATION_MARK:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.systemId+=Ir;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case oe.APOSTROPHE:{this.state=ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.NULL:{this._err(He.unexpectedNullCharacter),n.systemId+=Ir;break}case oe.GREATER_THAN_SIGN:{this._err(He.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.EOF:{this._err(He.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(He.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=ce.DATA;break}case oe.NULL:{this._err(He.unexpectedNullCharacter);break}case oe.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case oe.RIGHT_SQUARE_BRACKET:{this.state=ce.CDATA_SECTION_BRACKET;break}case oe.EOF:{this._err(He.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===oe.RIGHT_SQUARE_BRACKET?this.state=ce.CDATA_SECTION_END:(this._emitChars("]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case oe.GREATER_THAN_SIGN:{this.state=ce.DATA;break}case oe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=ce.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(oe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&yz(this.preprocessor.peek(1))?ce.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){yz(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===oe.SEMICOLON&&this._err(He.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const tte=new Set([P.DD,P.DT,P.LI,P.OPTGROUP,P.OPTION,P.P,P.RB,P.RP,P.RT,P.RTC]),bz=new Set([...tte,P.CAPTION,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]),q4=new Set([P.APPLET,P.CAPTION,P.HTML,P.MARQUEE,P.OBJECT,P.TABLE,P.TD,P.TEMPLATE,P.TH]),lje=new Set([...q4,P.OL,P.UL]),cje=new Set([...q4,P.BUTTON]),wz=new Set([P.ANNOTATION_XML,P.MI,P.MN,P.MO,P.MS,P.MTEXT]),Ez=new Set([P.DESC,P.FOREIGN_OBJECT,P.TITLE]),uje=new Set([P.TR,P.TEMPLATE,P.HTML]),dje=new Set([P.TBODY,P.TFOOT,P.THEAD,P.TEMPLATE,P.HTML]),fje=new Set([P.TABLE,P.TEMPLATE,P.HTML]),hje=new Set([P.TD,P.TH]);class mje{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=P.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===P.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===rt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==rt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(NA,rt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(hje,rt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(fje,rt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dje,rt.HTML)}clearBackToTableRowContext(){this.clearBackTo(uje,rt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===P.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===P.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case rt.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case rt.SVG:{if(Ez.has(i))return!1;break}case rt.MATHML:{if(wz.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,q4)}hasInListItemScope(t){return this.hasInDynamicScope(t,lje)}hasInButtonScope(t){return this.hasInDynamicScope(t,cje)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case rt.HTML:{if(NA.has(n))return!0;if(q4.has(n))return!1;break}case rt.SVG:{if(Ez.has(n))return!1;break}case rt.MATHML:{if(wz.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===rt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===rt.HTML)switch(this.tagIDs[t]){case P.TBODY:case P.THEAD:case P.TFOOT:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===rt.HTML)switch(this.tagIDs[n]){case t:return!0;case P.OPTION:case P.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&tte.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&bz.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&bz.has(this.currentTagId);)this.pop()}}const YN=3;var tc;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(tc||(tc={}));const Sz={type:tc.Marker};class pje{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const c=this.entries[o];if(c.type===tc.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const d=this.treeAdapter.getAttrList(u);d.length===i&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<YN)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<YN)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(c=>i.get(c.name)===c.value)&&(s+=1,s>=YN&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(Sz)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:tc.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:tc.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Sz);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===tc.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===tc.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===tc.Element&&n.element===t)}}const Pd={createDocument(){return{nodeName:"#document",mode:Eo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Pd.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Pd.isTextNode(n)){n.value+=t;return}}Pd.appendChild(e,Pd.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Pd.isTextNode(r)?r.value+=t:Pd.insertBefore(e,Pd.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},nte="html",gje="about:legacy-compat",vje="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",rte=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],yje=[...rte,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],xje=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ite=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],bje=[...ite,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function kz(e,t){return t.some(n=>e.startsWith(n))}function wje(e){return e.name===nte&&e.publicId===null&&(e.systemId===null||e.systemId===gje)}function Eje(e){if(e.name!==nte)return Eo.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===vje)return Eo.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),xje.has(n))return Eo.QUIRKS;let r=t===null?yje:rte;if(kz(n,r))return Eo.QUIRKS;if(r=t===null?ite:bje,kz(n,r))return Eo.LIMITED_QUIRKS}return Eo.NO_QUIRKS}const _z={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Sje="definitionurl",kje="definitionURL",_je=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Cje=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:rt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:rt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:rt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:rt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:rt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:rt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:rt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:rt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:rt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:rt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:rt.XMLNS}]]),Nje=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Tje=new Set([P.B,P.BIG,P.BLOCKQUOTE,P.BODY,P.BR,P.CENTER,P.CODE,P.DD,P.DIV,P.DL,P.DT,P.EM,P.EMBED,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HR,P.I,P.IMG,P.LI,P.LISTING,P.MENU,P.META,P.NOBR,P.OL,P.P,P.PRE,P.RUBY,P.S,P.SMALL,P.SPAN,P.STRONG,P.STRIKE,P.SUB,P.SUP,P.TABLE,P.TT,P.U,P.UL,P.VAR]);function Aje(e){const t=e.tagID;return t===P.FONT&&e.attrs.some(({name:r})=>r===zh.COLOR||r===zh.SIZE||r===zh.FACE)||Tje.has(t)}function ste(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Sje){e.attrs[t].name=kje;break}}function ate(e){for(let t=0;t<e.attrs.length;t++){const n=_je.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function II(e){for(let t=0;t<e.attrs.length;t++){const n=Cje.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function jje(e){const t=Nje.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Eg(e.tagName))}function Pje(e,t){return t===rt.MATHML&&(e===P.MI||e===P.MO||e===P.MN||e===P.MS||e===P.MTEXT)}function Ije(e,t,n){if(t===rt.MATHML&&e===P.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===zh.ENCODING){const i=n[r].value.toLowerCase();return i===_z.TEXT_HTML||i===_z.APPLICATION_XML}}return t===rt.SVG&&(e===P.FOREIGN_OBJECT||e===P.DESC||e===P.TITLE)}function Rje(e,t,n,r){return(!r||r===rt.HTML)&&Ije(e,t,n)||(!r||r===rt.MATHML)&&Pje(e,t)}const Mje="hidden",Oje=8,Dje=3;var xe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(xe||(xe={}));const Lje={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},ote=new Set([P.TABLE,P.TBODY,P.TFOOT,P.THEAD,P.TR]),Cz={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Pd,onParseError:null};class Nz{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=xe.INITIAL,this.originalInsertionMode=xe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Cz,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new oje(this.options,this),this.activeFormattingElements=new pje(this.treeAdapter),this.fragmentContextID=r?Eg(this.treeAdapter.getTagName(r)):P.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new mje(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Cz,...n};t??(t=r.treeAdapter.createElement(Me.TEMPLATE,rt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",rt.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===P.TEMPLATE&&s.tmplInsertionModeStack.unshift(xe.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Lje,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===rt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,rt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=xe.TEXT}switchToPlaintextParsing(){this.insertionMode=xe.TEXT,this.originalInsertionMode=xe.IN_BODY,this.tokenizer.state=ci.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Me.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==rt.HTML))switch(this.fragmentContextID){case P.TITLE:case P.TEXTAREA:{this.tokenizer.state=ci.RCDATA;break}case P.STYLE:case P.XMP:case P.IFRAME:case P.NOEMBED:case P.NOFRAMES:case P.NOSCRIPT:{this.tokenizer.state=ci.RAWTEXT;break}case P.SCRIPT:{this.tokenizer.state=ci.SCRIPT_DATA;break}case P.PLAINTEXT:{this.tokenizer.state=ci.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,rt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,rt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Me.HTML,rt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,P.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:c,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===jn.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===P.SVG&&this.treeAdapter.getTagName(n)===Me.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===rt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===P.MGLYPH||t.tagID===P.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,rt.HTML)}_processToken(t){switch(t.type){case jn.CHARACTER:{this.onCharacter(t);break}case jn.NULL_CHARACTER:{this.onNullCharacter(t);break}case jn.COMMENT:{this.onComment(t);break}case jn.DOCTYPE:{this.onDoctype(t);break}case jn.START_TAG:{this._processStartTag(t);break}case jn.END_TAG:{this.onEndTag(t);break}case jn.EOF:{this.onEof(t);break}case jn.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Rje(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===tc.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=xe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(P.P),this.openElements.popUntilTagNamePopped(P.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case P.TR:{this.insertionMode=xe.IN_ROW;return}case P.TBODY:case P.THEAD:case P.TFOOT:{this.insertionMode=xe.IN_TABLE_BODY;return}case P.CAPTION:{this.insertionMode=xe.IN_CAPTION;return}case P.COLGROUP:{this.insertionMode=xe.IN_COLUMN_GROUP;return}case P.TABLE:{this.insertionMode=xe.IN_TABLE;return}case P.BODY:{this.insertionMode=xe.IN_BODY;return}case P.FRAMESET:{this.insertionMode=xe.IN_FRAMESET;return}case P.SELECT:{this._resetInsertionModeForSelect(t);return}case P.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case P.HTML:{this.insertionMode=this.headElement?xe.AFTER_HEAD:xe.BEFORE_HEAD;return}case P.TD:case P.TH:{if(t>0){this.insertionMode=xe.IN_CELL;return}break}case P.HEAD:{if(t>0){this.insertionMode=xe.IN_HEAD;return}break}}this.insertionMode=xe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===P.TEMPLATE)break;if(r===P.TABLE){this.insertionMode=xe.IN_SELECT_IN_TABLE;return}}this.insertionMode=xe.IN_SELECT}_isElementCausesFosterParenting(t){return ote.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case P.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===rt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case P.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return rje[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hIe(this,t);return}switch(this.insertionMode){case xe.INITIAL:{T1(this,t);break}case xe.BEFORE_HTML:{vv(this,t);break}case xe.BEFORE_HEAD:{yv(this,t);break}case xe.IN_HEAD:{xv(this,t);break}case xe.IN_HEAD_NO_SCRIPT:{bv(this,t);break}case xe.AFTER_HEAD:{wv(this,t);break}case xe.IN_BODY:case xe.IN_CAPTION:case xe.IN_CELL:case xe.IN_TEMPLATE:{cte(this,t);break}case xe.TEXT:case xe.IN_SELECT:case xe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case xe.IN_TABLE:case xe.IN_TABLE_BODY:case xe.IN_ROW:{XN(this,t);break}case xe.IN_TABLE_TEXT:{pte(this,t);break}case xe.IN_COLUMN_GROUP:{W4(this,t);break}case xe.AFTER_BODY:{G4(this,t);break}case xe.AFTER_AFTER_BODY:{Q2(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){fIe(this,t);return}switch(this.insertionMode){case xe.INITIAL:{T1(this,t);break}case xe.BEFORE_HTML:{vv(this,t);break}case xe.BEFORE_HEAD:{yv(this,t);break}case xe.IN_HEAD:{xv(this,t);break}case xe.IN_HEAD_NO_SCRIPT:{bv(this,t);break}case xe.AFTER_HEAD:{wv(this,t);break}case xe.TEXT:{this._insertCharacters(t);break}case xe.IN_TABLE:case xe.IN_TABLE_BODY:case xe.IN_ROW:{XN(this,t);break}case xe.IN_COLUMN_GROUP:{W4(this,t);break}case xe.AFTER_BODY:{G4(this,t);break}case xe.AFTER_AFTER_BODY:{Q2(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){TA(this,t);return}switch(this.insertionMode){case xe.INITIAL:case xe.BEFORE_HTML:case xe.BEFORE_HEAD:case xe.IN_HEAD:case xe.IN_HEAD_NO_SCRIPT:case xe.AFTER_HEAD:case xe.IN_BODY:case xe.IN_TABLE:case xe.IN_CAPTION:case xe.IN_COLUMN_GROUP:case xe.IN_TABLE_BODY:case xe.IN_ROW:case xe.IN_CELL:case xe.IN_SELECT:case xe.IN_SELECT_IN_TABLE:case xe.IN_TEMPLATE:case xe.IN_FRAMESET:case xe.AFTER_FRAMESET:{TA(this,t);break}case xe.IN_TABLE_TEXT:{A1(this,t);break}case xe.AFTER_BODY:{Vje(this,t);break}case xe.AFTER_AFTER_BODY:case xe.AFTER_AFTER_FRAMESET:{qje(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case xe.INITIAL:{Wje(this,t);break}case xe.BEFORE_HEAD:case xe.IN_HEAD:case xe.IN_HEAD_NO_SCRIPT:case xe.AFTER_HEAD:{this._err(t,He.misplacedDoctype);break}case xe.IN_TABLE_TEXT:{A1(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,He.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?mIe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case xe.INITIAL:{T1(this,t);break}case xe.BEFORE_HTML:{Gje(this,t);break}case xe.BEFORE_HEAD:{Yje(this,t);break}case xe.IN_HEAD:{Ml(this,t);break}case xe.IN_HEAD_NO_SCRIPT:{Zje(this,t);break}case xe.AFTER_HEAD:{ePe(this,t);break}case xe.IN_BODY:{Ms(this,t);break}case xe.IN_TABLE:{Pp(this,t);break}case xe.IN_TABLE_TEXT:{A1(this,t);break}case xe.IN_CAPTION:{XPe(this,t);break}case xe.IN_COLUMN_GROUP:{OI(this,t);break}case xe.IN_TABLE_BODY:{Nk(this,t);break}case xe.IN_ROW:{Tk(this,t);break}case xe.IN_CELL:{JPe(this,t);break}case xe.IN_SELECT:{yte(this,t);break}case xe.IN_SELECT_IN_TABLE:{tIe(this,t);break}case xe.IN_TEMPLATE:{rIe(this,t);break}case xe.AFTER_BODY:{sIe(this,t);break}case xe.IN_FRAMESET:{aIe(this,t);break}case xe.AFTER_FRAMESET:{lIe(this,t);break}case xe.AFTER_AFTER_BODY:{uIe(this,t);break}case xe.AFTER_AFTER_FRAMESET:{dIe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?pIe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case xe.INITIAL:{T1(this,t);break}case xe.BEFORE_HTML:{Kje(this,t);break}case xe.BEFORE_HEAD:{Xje(this,t);break}case xe.IN_HEAD:{Qje(this,t);break}case xe.IN_HEAD_NO_SCRIPT:{Jje(this,t);break}case xe.AFTER_HEAD:{tPe(this,t);break}case xe.IN_BODY:{Ck(this,t);break}case xe.TEXT:{zPe(this,t);break}case xe.IN_TABLE:{ry(this,t);break}case xe.IN_TABLE_TEXT:{A1(this,t);break}case xe.IN_CAPTION:{QPe(this,t);break}case xe.IN_COLUMN_GROUP:{ZPe(this,t);break}case xe.IN_TABLE_BODY:{AA(this,t);break}case xe.IN_ROW:{vte(this,t);break}case xe.IN_CELL:{eIe(this,t);break}case xe.IN_SELECT:{xte(this,t);break}case xe.IN_SELECT_IN_TABLE:{nIe(this,t);break}case xe.IN_TEMPLATE:{iIe(this,t);break}case xe.AFTER_BODY:{wte(this,t);break}case xe.IN_FRAMESET:{oIe(this,t);break}case xe.AFTER_FRAMESET:{cIe(this,t);break}case xe.AFTER_AFTER_BODY:{Q2(this,t);break}}}onEof(t){switch(this.insertionMode){case xe.INITIAL:{T1(this,t);break}case xe.BEFORE_HTML:{vv(this,t);break}case xe.BEFORE_HEAD:{yv(this,t);break}case xe.IN_HEAD:{xv(this,t);break}case xe.IN_HEAD_NO_SCRIPT:{bv(this,t);break}case xe.AFTER_HEAD:{wv(this,t);break}case xe.IN_BODY:case xe.IN_TABLE:case xe.IN_CAPTION:case xe.IN_COLUMN_GROUP:case xe.IN_TABLE_BODY:case xe.IN_ROW:case xe.IN_CELL:case xe.IN_SELECT:case xe.IN_SELECT_IN_TABLE:{hte(this,t);break}case xe.TEXT:{BPe(this,t);break}case xe.IN_TABLE_TEXT:{A1(this,t);break}case xe.IN_TEMPLATE:{bte(this,t);break}case xe.AFTER_BODY:case xe.IN_FRAMESET:case xe.AFTER_FRAMESET:case xe.AFTER_AFTER_BODY:case xe.AFTER_AFTER_FRAMESET:{MI(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===oe.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case xe.IN_HEAD:case xe.IN_HEAD_NO_SCRIPT:case xe.AFTER_HEAD:case xe.TEXT:case xe.IN_COLUMN_GROUP:case xe.IN_SELECT:case xe.IN_SELECT_IN_TABLE:case xe.IN_FRAMESET:case xe.AFTER_FRAMESET:{this._insertCharacters(t);break}case xe.IN_BODY:case xe.IN_CAPTION:case xe.IN_CELL:case xe.IN_TEMPLATE:case xe.AFTER_BODY:case xe.AFTER_AFTER_BODY:case xe.AFTER_AFTER_FRAMESET:{lte(this,t);break}case xe.IN_TABLE:case xe.IN_TABLE_BODY:case xe.IN_ROW:{XN(this,t);break}case xe.IN_TABLE_TEXT:{mte(this,t);break}}}}function Fje(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fte(e,t),n}function $je(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function zje(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),c=o&&s>=Dje;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=Bje(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function Bje(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Uje(e,t,n){const r=e.treeAdapter.getTagName(t),i=Eg(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===P.TEMPLATE&&s===rt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Hje(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function RI(e,t){for(let n=0;n<Oje;n++){const r=Fje(e,t);if(!r)break;const i=$je(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=zje(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&Uje(e,a,s),Hje(e,i,r)}}function TA(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Vje(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qje(e,t){e._appendCommentNode(t,e.document)}function MI(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function Wje(e,t){e._setDocumentType(t);const n=t.forceQuirks?Eo.QUIRKS:Eje(t);wje(t)||e._err(t,He.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=xe.BEFORE_HTML}function T1(e,t){e._err(t,He.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Eo.QUIRKS),e.insertionMode=xe.BEFORE_HTML,e._processToken(t)}function Gje(e,t){t.tagID===P.HTML?(e._insertElement(t,rt.HTML),e.insertionMode=xe.BEFORE_HEAD):vv(e,t)}function Kje(e,t){const n=t.tagID;(n===P.HTML||n===P.HEAD||n===P.BODY||n===P.BR)&&vv(e,t)}function vv(e,t){e._insertFakeRootElement(),e.insertionMode=xe.BEFORE_HEAD,e._processToken(t)}function Yje(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.HEAD:{e._insertElement(t,rt.HTML),e.headElement=e.openElements.current,e.insertionMode=xe.IN_HEAD;break}default:yv(e,t)}}function Xje(e,t){const n=t.tagID;n===P.HEAD||n===P.BODY||n===P.HTML||n===P.BR?yv(e,t):e._err(t,He.endTagWithoutMatchingOpenElement)}function yv(e,t){e._insertFakeElement(Me.HEAD,P.HEAD),e.headElement=e.openElements.current,e.insertionMode=xe.IN_HEAD,e._processToken(t)}function Ml(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case P.TITLE:{e._switchToTextParsing(t,ci.RCDATA);break}case P.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,ci.RAWTEXT):(e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_HEAD_NO_SCRIPT);break}case P.NOFRAMES:case P.STYLE:{e._switchToTextParsing(t,ci.RAWTEXT);break}case P.SCRIPT:{e._switchToTextParsing(t,ci.SCRIPT_DATA);break}case P.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=xe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(xe.IN_TEMPLATE);break}case P.HEAD:{e._err(t,He.misplacedStartTagForHeadElement);break}default:xv(e,t)}}function Qje(e,t){switch(t.tagID){case P.HEAD:{e.openElements.pop(),e.insertionMode=xe.AFTER_HEAD;break}case P.BODY:case P.BR:case P.HTML:{xv(e,t);break}case P.TEMPLATE:{O0(e,t);break}default:e._err(t,He.endTagWithoutMatchingOpenElement)}}function O0(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==P.TEMPLATE&&e._err(t,He.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,He.endTagWithoutMatchingOpenElement)}function xv(e,t){e.openElements.pop(),e.insertionMode=xe.AFTER_HEAD,e._processToken(t)}function Zje(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.BASEFONT:case P.BGSOUND:case P.HEAD:case P.LINK:case P.META:case P.NOFRAMES:case P.STYLE:{Ml(e,t);break}case P.NOSCRIPT:{e._err(t,He.nestedNoscriptInHead);break}default:bv(e,t)}}function Jje(e,t){switch(t.tagID){case P.NOSCRIPT:{e.openElements.pop(),e.insertionMode=xe.IN_HEAD;break}case P.BR:{bv(e,t);break}default:e._err(t,He.endTagWithoutMatchingOpenElement)}}function bv(e,t){const n=t.type===jn.EOF?He.openElementsLeftAfterEof:He.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=xe.IN_HEAD,e._processToken(t)}function ePe(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.BODY:{e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=xe.IN_BODY;break}case P.FRAMESET:{e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_FRAMESET;break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{e._err(t,He.abandonedHeadElementChild),e.openElements.push(e.headElement,P.HEAD),Ml(e,t),e.openElements.remove(e.headElement);break}case P.HEAD:{e._err(t,He.misplacedStartTagForHeadElement);break}default:wv(e,t)}}function tPe(e,t){switch(t.tagID){case P.BODY:case P.HTML:case P.BR:{wv(e,t);break}case P.TEMPLATE:{O0(e,t);break}default:e._err(t,He.endTagWithoutMatchingOpenElement)}}function wv(e,t){e._insertFakeElement(Me.BODY,P.BODY),e.insertionMode=xe.IN_BODY,_k(e,t)}function _k(e,t){switch(t.type){case jn.CHARACTER:{cte(e,t);break}case jn.WHITESPACE_CHARACTER:{lte(e,t);break}case jn.COMMENT:{TA(e,t);break}case jn.START_TAG:{Ms(e,t);break}case jn.END_TAG:{Ck(e,t);break}case jn.EOF:{hte(e,t);break}}}function lte(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function cte(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function nPe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function rPe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function iPe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_FRAMESET)}function sPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML)}function aPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&NA.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,rt.HTML)}function oPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lPe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML),n||(e.formElement=e.openElements.current))}function cPe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===P.LI&&i===P.LI||(n===P.DD||n===P.DT)&&(i===P.DD||i===P.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==P.ADDRESS&&i!==P.DIV&&i!==P.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML)}function uPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.tokenizer.state=ci.PLAINTEXT}function dPe(e,t){e.openElements.hasInScope(P.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.framesetOk=!1}function fPe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Me.A);n&&(RI(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function hPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mPe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(P.NOBR)&&(RI(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,rt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function gPe(e,t){e.treeAdapter.getDocumentMode(e.document)!==Eo.QUIRKS&&e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=xe.IN_TABLE}function ute(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,rt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dte(e){const t=Jee(e,zh.TYPE);return t!=null&&t.toLowerCase()===Mje}function vPe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,rt.HTML),dte(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function yPe(e,t){e._appendElement(t,rt.HTML),t.ackSelfClosing=!0}function xPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._appendElement(t,rt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function bPe(e,t){t.tagName=Me.IMG,t.tagID=P.IMG,ute(e,t)}function wPe(e,t){e._insertElement(t,rt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=ci.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=xe.TEXT}function EPe(e,t){e.openElements.hasInButtonScope(P.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,ci.RAWTEXT)}function SPe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,ci.RAWTEXT)}function Tz(e,t){e._switchToTextParsing(t,ci.RAWTEXT)}function kPe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===xe.IN_TABLE||e.insertionMode===xe.IN_CAPTION||e.insertionMode===xe.IN_TABLE_BODY||e.insertionMode===xe.IN_ROW||e.insertionMode===xe.IN_CELL?xe.IN_SELECT_IN_TABLE:xe.IN_SELECT}function _Pe(e,t){e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML)}function CPe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,rt.HTML)}function NPe(e,t){e.openElements.hasInScope(P.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(P.RTC),e._insertElement(t,rt.HTML)}function TPe(e,t){e._reconstructActiveFormattingElements(),ste(t),II(t),t.selfClosing?e._appendElement(t,rt.MATHML):e._insertElement(t,rt.MATHML),t.ackSelfClosing=!0}function APe(e,t){e._reconstructActiveFormattingElements(),ate(t),II(t),t.selfClosing?e._appendElement(t,rt.SVG):e._insertElement(t,rt.SVG),t.ackSelfClosing=!0}function Az(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,rt.HTML)}function Ms(e,t){switch(t.tagID){case P.I:case P.S:case P.B:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.SMALL:case P.STRIKE:case P.STRONG:{hPe(e,t);break}case P.A:{fPe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{aPe(e,t);break}case P.P:case P.DL:case P.OL:case P.UL:case P.DIV:case P.DIR:case P.NAV:case P.MAIN:case P.MENU:case P.ASIDE:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.DETAILS:case P.ADDRESS:case P.ARTICLE:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{sPe(e,t);break}case P.LI:case P.DD:case P.DT:{cPe(e,t);break}case P.BR:case P.IMG:case P.WBR:case P.AREA:case P.EMBED:case P.KEYGEN:{ute(e,t);break}case P.HR:{xPe(e,t);break}case P.RB:case P.RTC:{CPe(e,t);break}case P.RT:case P.RP:{NPe(e,t);break}case P.PRE:case P.LISTING:{oPe(e,t);break}case P.XMP:{EPe(e,t);break}case P.SVG:{APe(e,t);break}case P.HTML:{nPe(e,t);break}case P.BASE:case P.LINK:case P.META:case P.STYLE:case P.TITLE:case P.SCRIPT:case P.BGSOUND:case P.BASEFONT:case P.TEMPLATE:{Ml(e,t);break}case P.BODY:{rPe(e,t);break}case P.FORM:{lPe(e,t);break}case P.NOBR:{mPe(e,t);break}case P.MATH:{TPe(e,t);break}case P.TABLE:{gPe(e,t);break}case P.INPUT:{vPe(e,t);break}case P.PARAM:case P.TRACK:case P.SOURCE:{yPe(e,t);break}case P.IMAGE:{bPe(e,t);break}case P.BUTTON:{dPe(e,t);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{pPe(e,t);break}case P.IFRAME:{SPe(e,t);break}case P.SELECT:{kPe(e,t);break}case P.OPTION:case P.OPTGROUP:{_Pe(e,t);break}case P.NOEMBED:case P.NOFRAMES:{Tz(e,t);break}case P.FRAMESET:{iPe(e,t);break}case P.TEXTAREA:{wPe(e,t);break}case P.NOSCRIPT:{e.options.scriptingEnabled?Tz(e,t):Az(e,t);break}case P.PLAINTEXT:{uPe(e,t);break}case P.COL:case P.TH:case P.TD:case P.TR:case P.HEAD:case P.FRAME:case P.TBODY:case P.TFOOT:case P.THEAD:case P.CAPTION:case P.COLGROUP:break;default:Az(e,t)}}function jPe(e,t){if(e.openElements.hasInScope(P.BODY)&&(e.insertionMode=xe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function PPe(e,t){e.openElements.hasInScope(P.BODY)&&(e.insertionMode=xe.AFTER_BODY,wte(e,t))}function IPe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function RPe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(P.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(P.FORM):n&&e.openElements.remove(n))}function MPe(e){e.openElements.hasInButtonScope(P.P)||e._insertFakeElement(Me.P,P.P),e._closePElement()}function OPe(e){e.openElements.hasInListItemScope(P.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(P.LI),e.openElements.popUntilTagNamePopped(P.LI))}function DPe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function LPe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function FPe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function $Pe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Me.BR,P.BR),e.openElements.pop(),e.framesetOk=!1}function fte(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==P.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function Ck(e,t){switch(t.tagID){case P.A:case P.B:case P.I:case P.S:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.NOBR:case P.SMALL:case P.STRIKE:case P.STRONG:{RI(e,t);break}case P.P:{MPe(e);break}case P.DL:case P.UL:case P.OL:case P.DIR:case P.DIV:case P.NAV:case P.PRE:case P.MAIN:case P.MENU:case P.ASIDE:case P.BUTTON:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.ADDRESS:case P.ARTICLE:case P.DETAILS:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.LISTING:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{IPe(e,t);break}case P.LI:{OPe(e);break}case P.DD:case P.DT:{DPe(e,t);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{LPe(e);break}case P.BR:{$Pe(e);break}case P.BODY:{jPe(e,t);break}case P.HTML:{PPe(e,t);break}case P.FORM:{RPe(e);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{FPe(e,t);break}case P.TEMPLATE:{O0(e,t);break}default:fte(e,t)}}function hte(e,t){e.tmplInsertionModeStack.length>0?bte(e,t):MI(e,t)}function zPe(e,t){var n;t.tagID===P.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function BPe(e,t){e._err(t,He.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function XN(e,t){if(e.openElements.currentTagId!==void 0&&ote.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=xe.IN_TABLE_TEXT,t.type){case jn.CHARACTER:{pte(e,t);break}case jn.WHITESPACE_CHARACTER:{mte(e,t);break}}else yx(e,t)}function UPe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_CAPTION}function HPe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_COLUMN_GROUP}function VPe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Me.COLGROUP,P.COLGROUP),e.insertionMode=xe.IN_COLUMN_GROUP,OI(e,t)}function qPe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_TABLE_BODY}function WPe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Me.TBODY,P.TBODY),e.insertionMode=xe.IN_TABLE_BODY,Nk(e,t)}function GPe(e,t){e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function KPe(e,t){dte(t)?e._appendElement(t,rt.HTML):yx(e,t),t.ackSelfClosing=!0}function YPe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,rt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Pp(e,t){switch(t.tagID){case P.TD:case P.TH:case P.TR:{WPe(e,t);break}case P.STYLE:case P.SCRIPT:case P.TEMPLATE:{Ml(e,t);break}case P.COL:{VPe(e,t);break}case P.FORM:{YPe(e,t);break}case P.TABLE:{GPe(e,t);break}case P.TBODY:case P.TFOOT:case P.THEAD:{qPe(e,t);break}case P.INPUT:{KPe(e,t);break}case P.CAPTION:{UPe(e,t);break}case P.COLGROUP:{HPe(e,t);break}default:yx(e,t)}}function ry(e,t){switch(t.tagID){case P.TABLE:{e.openElements.hasInTableScope(P.TABLE)&&(e.openElements.popUntilTagNamePopped(P.TABLE),e._resetInsertionMode());break}case P.TEMPLATE:{O0(e,t);break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:yx(e,t)}}function yx(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,_k(e,t),e.fosterParentingEnabled=n}function mte(e,t){e.pendingCharacterTokens.push(t)}function pte(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function A1(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)yx(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const gte=new Set([P.CAPTION,P.COL,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]);function XPe(e,t){const n=t.tagID;gte.has(n)?e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=xe.IN_TABLE,Pp(e,t)):Ms(e,t)}function QPe(e,t){const n=t.tagID;switch(n){case P.CAPTION:case P.TABLE:{e.openElements.hasInTableScope(P.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(P.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=xe.IN_TABLE,n===P.TABLE&&ry(e,t));break}case P.BODY:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:Ck(e,t)}}function OI(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.COL:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case P.TEMPLATE:{Ml(e,t);break}default:W4(e,t)}}function ZPe(e,t){switch(t.tagID){case P.COLGROUP:{e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=xe.IN_TABLE);break}case P.TEMPLATE:{O0(e,t);break}case P.COL:break;default:W4(e,t)}}function W4(e,t){e.openElements.currentTagId===P.COLGROUP&&(e.openElements.pop(),e.insertionMode=xe.IN_TABLE,e._processToken(t))}function Nk(e,t){switch(t.tagID){case P.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_ROW;break}case P.TH:case P.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Me.TR,P.TR),e.insertionMode=xe.IN_ROW,Tk(e,t);break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE,Pp(e,t));break}default:Pp(e,t)}}function AA(e,t){const n=t.tagID;switch(t.tagID){case P.TBODY:case P.TFOOT:case P.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE);break}case P.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE,ry(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:case P.TR:break;default:ry(e,t)}}function Tk(e,t){switch(t.tagID){case P.TH:case P.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,rt.HTML),e.insertionMode=xe.IN_CELL,e.activeFormattingElements.insertMarker();break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE_BODY,Nk(e,t));break}default:Pp(e,t)}}function vte(e,t){switch(t.tagID){case P.TR:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE_BODY);break}case P.TABLE:{e.openElements.hasInTableScope(P.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE_BODY,AA(e,t));break}case P.TBODY:case P.TFOOT:case P.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(P.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=xe.IN_TABLE_BODY,AA(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:break;default:ry(e,t)}}function JPe(e,t){const n=t.tagID;gte.has(n)?(e.openElements.hasInTableScope(P.TD)||e.openElements.hasInTableScope(P.TH))&&(e._closeTableCell(),Tk(e,t)):Ms(e,t)}function eIe(e,t){const n=t.tagID;switch(n){case P.TD:case P.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=xe.IN_ROW);break}case P.TABLE:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),vte(e,t));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:break;default:Ck(e,t)}}function yte(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e._insertElement(t,rt.HTML);break}case P.OPTGROUP:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._insertElement(t,rt.HTML);break}case P.HR:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop(),e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case P.INPUT:case P.KEYGEN:case P.TEXTAREA:case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),t.tagID!==P.SELECT&&e._processStartTag(t));break}case P.SCRIPT:case P.TEMPLATE:{Ml(e,t);break}}}function xte(e,t){switch(t.tagID){case P.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===P.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===P.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===P.OPTGROUP&&e.openElements.pop();break}case P.OPTION:{e.openElements.currentTagId===P.OPTION&&e.openElements.pop();break}case P.SELECT:{e.openElements.hasInSelectScope(P.SELECT)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode());break}case P.TEMPLATE:{O0(e,t);break}}}function tIe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e._processStartTag(t)):yte(e,t)}function nIe(e,t){const n=t.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(P.SELECT),e._resetInsertionMode(),e.onEndTag(t)):xte(e,t)}function rIe(e,t){switch(t.tagID){case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{Ml(e,t);break}case P.CAPTION:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{e.tmplInsertionModeStack[0]=xe.IN_TABLE,e.insertionMode=xe.IN_TABLE,Pp(e,t);break}case P.COL:{e.tmplInsertionModeStack[0]=xe.IN_COLUMN_GROUP,e.insertionMode=xe.IN_COLUMN_GROUP,OI(e,t);break}case P.TR:{e.tmplInsertionModeStack[0]=xe.IN_TABLE_BODY,e.insertionMode=xe.IN_TABLE_BODY,Nk(e,t);break}case P.TD:case P.TH:{e.tmplInsertionModeStack[0]=xe.IN_ROW,e.insertionMode=xe.IN_ROW,Tk(e,t);break}default:e.tmplInsertionModeStack[0]=xe.IN_BODY,e.insertionMode=xe.IN_BODY,Ms(e,t)}}function iIe(e,t){t.tagID===P.TEMPLATE&&O0(e,t)}function bte(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(P.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):MI(e,t)}function sIe(e,t){t.tagID===P.HTML?Ms(e,t):G4(e,t)}function wte(e,t){var n;if(t.tagID===P.HTML){if(e.fragmentContext||(e.insertionMode=xe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===P.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else G4(e,t)}function G4(e,t){e.insertionMode=xe.IN_BODY,_k(e,t)}function aIe(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.FRAMESET:{e._insertElement(t,rt.HTML);break}case P.FRAME:{e._appendElement(t,rt.HTML),t.ackSelfClosing=!0;break}case P.NOFRAMES:{Ml(e,t);break}}}function oIe(e,t){t.tagID===P.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==P.FRAMESET&&(e.insertionMode=xe.AFTER_FRAMESET))}function lIe(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.NOFRAMES:{Ml(e,t);break}}}function cIe(e,t){t.tagID===P.HTML&&(e.insertionMode=xe.AFTER_AFTER_FRAMESET)}function uIe(e,t){t.tagID===P.HTML?Ms(e,t):Q2(e,t)}function Q2(e,t){e.insertionMode=xe.IN_BODY,_k(e,t)}function dIe(e,t){switch(t.tagID){case P.HTML:{Ms(e,t);break}case P.NOFRAMES:{Ml(e,t);break}}}function fIe(e,t){t.chars=Ir,e._insertCharacters(t)}function hIe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Ete(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==rt.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function mIe(e,t){if(Aje(t))Ete(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===rt.MATHML?ste(t):r===rt.SVG&&(jje(t),ate(t)),II(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function pIe(e,t){if(t.tagID===P.P||t.tagID===P.BR){Ete(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===rt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Me.AREA,Me.BASE,Me.BASEFONT,Me.BGSOUND,Me.BR,Me.COL,Me.EMBED,Me.FRAME,Me.HR,Me.IMG,Me.INPUT,Me.KEYGEN,Me.LINK,Me.META,Me.PARAM,Me.SOURCE,Me.TRACK,Me.WBR;const gIe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,vIe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),jz={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Ste(e,t){const n=NIe(e),r=jI("type",{handlers:{root:yIe,element:xIe,text:bIe,comment:_te,doctype:wIe,raw:SIe},unknown:kIe}),i={parser:n?new Nz(jz):Nz.getFragmentParser(void 0,jz),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),Sg(i,Ac());const s=n?i.parser.document:i.parser.getFragment(),a=x8e(s,{file:i.options.file});return i.stitches&&r0(a,"comment",function(o,c,u){const d=o;if(d.value.stitch&&u&&c!==void 0){const f=u.children;return f[c]=d.value.stitch,c}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function kte(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function yIe(e,t){kte(e.children,t)}function xIe(e,t){_Ie(e,t),kte(e.children,t),CIe(e,t)}function bIe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:jn.CHARACTER,chars:e.value,location:xx(e)};Sg(t,Ac(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function wIe(e,t){const n={type:jn.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:xx(e)};Sg(t,Ac(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function EIe(e,t){t.stitches=!0;const n=TIe(e);if("children"in e&&"children"in n){const r=Ste({type:"root",children:e.children},t.options);n.children=r.children}_te({type:"comment",value:{stitch:n}},t)}function _te(e,t){const n=e.value,r={type:jn.COMMENT,data:n,location:xx(e)};Sg(t,Ac(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function SIe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Cte(t,Ac(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(gIe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function kIe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))EIe(n,t);else{let r="";throw vIe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Sg(e,t){Cte(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=ci.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Cte(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function _Ie(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===ci.PLAINTEXT)return;Sg(t,Ac(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:lc.html;i===lc.html&&n==="svg"&&(i=lc.svg);const s=M8e({...e,children:[]},{space:i===lc.svg?"svg":"html"}),a={type:jn.START_TAG,tagName:n,tagID:Eg(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:xx(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function CIe(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&Yee.includes(n)||t.parser.tokenizer.state===ci.PLAINTEXT)return;Sg(t,hk(e));const r={type:jn.END_TAG,tagName:n,tagID:Eg(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:xx(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===ci.RCDATA||t.parser.tokenizer.state===ci.RAWTEXT||t.parser.tokenizer.state===ci.SCRIPT_DATA)&&(t.parser.tokenizer.state=ci.DATA)}function NIe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function xx(e){const t=Ac(e)||{line:void 0,column:void 0,offset:void 0},n=hk(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function TIe(e){return"children"in e?Ap({...e,children:[]}):Ap(e)}function AIe(e){return function(t,n){return Ste(t,{...e,file:n})}}function K4(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function jIe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function PIe(e,t,n){const i=fx((n||{}).ignore||[]),s=IIe(t);let a=-1;for(;++a<s.length;)tI(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],v=h?h.children:void 0;if(i(p,v?v.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=s[a][0],p=s[a][1];let v=0;const b=f.children.indexOf(u);let w=!1,E=[];h.lastIndex=0;let k=h.exec(u.value);for(;k;){const _=k.index,A={index:k.index,input:k.input,stack:[...d,u]};let T=p(...k,A);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?h.lastIndex=_+1:(v!==_&&E.push({type:"text",value:u.value.slice(v,_)}),Array.isArray(T)?E.push(...T):T&&E.push(T),v=_+k[0].length,w=!0),!h.global)break;k=h.exec(u.value)}return w?(v<u.value.length&&E.push({type:"text",value:u.value.slice(v)}),f.children.splice(b,1,...E)):E=[u],b+E.length}}function IIe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([RIe(i[0]),MIe(i[1])])}return t}function RIe(e){return typeof e=="string"?new RegExp(jIe(e),"g"):e}function MIe(e){return typeof e=="function"?e:function(){return e}}const QN="phrasing",ZN=["autolink","link","image","label"];function OIe(){return{transforms:[UIe],enter:{literalAutolink:LIe,literalAutolinkEmail:JN,literalAutolinkHttp:JN,literalAutolinkWww:JN},exit:{literalAutolink:BIe,literalAutolinkEmail:zIe,literalAutolinkHttp:FIe,literalAutolinkWww:$Ie}}}function DIe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:QN,notInConstruct:ZN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:QN,notInConstruct:ZN},{character:":",before:"[ps]",after:"\\/",inConstruct:QN,notInConstruct:ZN}]}}function LIe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function JN(e){this.config.enter.autolinkProtocol.call(this,e)}function FIe(e){this.config.exit.autolinkProtocol.call(this,e)}function $Ie(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function zIe(e){this.config.exit.autolinkEmail.call(this,e)}function BIe(e){this.exit(e)}function UIe(e){PIe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,HIe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),VIe]],{ignore:["link","linkReference"]})}function HIe(e,t,n,r,i){let s="";if(!Nte(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!qIe(n)))return!1;const a=WIe(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function VIe(e,t,n,r){return!Nte(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function qIe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function WIe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=K4(e,"(");let s=K4(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Nte(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||n0(n)||mk(n))&&(!t||n!==47)}Tte.peek=t7e;function GIe(){this.buffer()}function KIe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function YIe(){this.buffer()}function XIe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function QIe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Sl(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ZIe(e){this.exit(e)}function JIe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Sl(this.sliceSerialize(e)).toLowerCase(),n.label=t}function e7e(e){this.exit(e)}function t7e(){return"["}function Tte(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function n7e(){return{enter:{gfmFootnoteCallString:GIe,gfmFootnoteCall:KIe,gfmFootnoteDefinitionLabelString:YIe,gfmFootnoteDefinition:XIe},exit:{gfmFootnoteCallString:QIe,gfmFootnoteCall:ZIe,gfmFootnoteDefinitionLabelString:JIe,gfmFootnoteDefinition:e7e}}}function r7e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Tte},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?Ate:i7e))),u(),c}}function i7e(e,t,n){return t===0?e:Ate(e,t,n)}function Ate(e,t,n){return(n?"":"    ")+e}const s7e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jte.peek=u7e;function a7e(){return{canContainEols:["delete"],enter:{strikethrough:l7e},exit:{strikethrough:c7e}}}function o7e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:s7e}],handlers:{delete:jte}}}function l7e(e){this.enter({type:"delete",children:[]},e)}function c7e(e){this.exit(e)}function jte(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function u7e(){return"~"}function d7e(e){return e.length}function f7e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||d7e,s=[],a=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const x=[],b=[];let w=-1;for(e[d].length>u&&(u=e[d].length);++w<e[d].length;){const E=h7e(e[d][w]);if(n.alignDelimiters!==!1){const k=i(E);b[w]=k,(c[w]===void 0||k>c[w])&&(c[w]=k)}x.push(E)}a[d]=x,o[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=Pz(r[f]);else{const x=Pz(r);for(;++f<u;)s[f]=x}f=-1;const h=[],p=[];for(;++f<u;){const x=s[f];let b="",w="";x===99?(b=":",w=":"):x===108?b=":":x===114&&(w=":");let E=n.alignDelimiters===!1?1:Math.max(1,c[f]-b.length-w.length);const k=b+"-".repeat(E)+w;n.alignDelimiters!==!1&&(E=b.length+E+w.length,E>c[f]&&(c[f]=E),p[f]=E),h[f]=k}a.splice(1,0,h),o.splice(1,0,p),d=-1;const v=[];for(;++d<a.length;){const x=a[d],b=o[d];f=-1;const w=[];for(;++f<u;){const E=x[f]||"";let k="",_="";if(n.alignDelimiters!==!1){const A=c[f]-(b[f]||0),T=s[f];T===114?k=" ".repeat(A):T===99?A%2?(k=" ".repeat(A/2+.5),_=" ".repeat(A/2-.5)):(k=" ".repeat(A/2),_=k):_=" ".repeat(A)}n.delimiterStart!==!1&&!f&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||f)&&w.push(" "),n.alignDelimiters!==!1&&w.push(k),w.push(E),n.alignDelimiters!==!1&&w.push(_),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&w.push("|")}v.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return v.join(`
`)}function h7e(e){return e==null?"":String(e)}function Pz(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function m7e(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),p7e);return i(),a}function p7e(e,t,n){return">"+(n?"":" ")+e}function g7e(e,t){return Iz(e,t.inConstruct,!0)&&!Iz(e,t.notInConstruct,!1)}function Iz(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Rz(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&g7e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Pte(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function v7e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function y7e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function x7e(e,t,n,r){const i=y7e(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(v7e(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(s,b7e);return f(),h}const o=n.createTracker(r),c=i.repeat(Math.max(Pte(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),u(),d}function b7e(e,t,n){return(n?"":"    ")+e}function DI(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function w7e(e,t,n,r){const i=DI(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),a(),u}function E7e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function iy(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Y4(e,t,n){const r=Tp(e),i=Tp(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ite.peek=S7e;function Ite(e,t,n,r){const i=E7e(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Y4(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=iy(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Y4(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+iy(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function S7e(e,t,n){return n.options.emphasis||"*"}function k7e(e,t){let n=!1;return r0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,lA}),!!((!e.depth||e.depth<3)&&KP(e)&&(t.options.setext||n))}function _7e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(k7e(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=iy(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),o(),u}Rte.peek=C7e;function Rte(e){return e.value||""}function C7e(){return"<"}Mte.peek=N7e;function Mte(e,t,n,r){const i=DI(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),a(),u}function N7e(){return"!"}Ote.peek=T7e;function Ote(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function T7e(){return"!"}Dte.peek=A7e;function Dte(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function A7e(){return"`"}function Lte(e,t){const n=KP(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Fte.peek=j7e;function Fte(e,t,n,r){const i=DI(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,c;if(Lte(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),o(),u}function j7e(e,t,n){return Lte(e,n)?"<":"["}$te.peek=P7e;function $te(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function P7e(){return"["}function LI(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function I7e(e){const t=LI(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function R7e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function zte(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function M7e(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?R7e(n):LI(n);const o=e.ordered?a==="."?")":".":I7e(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),zte(n)===a&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function O7e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function D7e(e,t,n,r){const i=O7e(n);let s=n.bulletCurrent||LI(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return c(),u;function d(f,h,p){return h?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function L7e(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const F7e=fx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $7e(e,t,n,r){return(e.children.some(function(a){return F7e(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function z7e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Bte.peek=B7e;function Bte(e,t,n,r){const i=z7e(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Y4(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=iy(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Y4(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+iy(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function B7e(e,t,n){return n.options.strong||"*"}function U7e(e,t,n,r){return n.safe(e.value,r)}function H7e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function V7e(e,t,n){const r=(zte(n)+(n.options.ruleSpaces?" ":"")).repeat(H7e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Ute={blockquote:m7e,break:Rz,code:x7e,definition:w7e,emphasis:Ite,hardBreak:Rz,heading:_7e,html:Rte,image:Mte,imageReference:Ote,inlineCode:Dte,link:Fte,linkReference:$te,list:M7e,listItem:D7e,paragraph:L7e,root:$7e,strong:Bte,text:U7e,thematicBreak:V7e};function q7e(){return{enter:{table:W7e,tableData:Mz,tableHeader:Mz,tableRow:K7e},exit:{codeText:Y7e,table:G7e,tableData:eT,tableHeader:eT,tableRow:eT}}}function W7e(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function G7e(e){this.exit(e),this.data.inTable=void 0}function K7e(e){this.enter({type:"tableRow",children:[]},e)}function eT(e){this.exit(e)}function Mz(e){this.enter({type:"tableCell",children:[]},e)}function Y7e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,X7e));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function X7e(e,t){return t==="|"?t:e}function Q7e(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:o}};function a(p,v,x,b){return u(d(p,x,b),p.align)}function o(p,v,x,b){const w=f(p,x,b),E=u([w]);return E.slice(0,E.indexOf(`
`))}function c(p,v,x,b){const w=x.enter("tableCell"),E=x.enter("phrasing"),k=x.containerPhrasing(p,{...b,before:s,after:s});return E(),w(),k}function u(p,v){return f7e(p,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function d(p,v,x){const b=p.children;let w=-1;const E=[],k=v.enter("table");for(;++w<b.length;)E[w]=f(b[w],v,x);return k(),E}function f(p,v,x){const b=p.children;let w=-1;const E=[],k=v.enter("tableRow");for(;++w<b.length;)E[w]=c(b[w],p,v,x);return k(),E}function h(p,v,x){let b=Ute.inlineCode(p,v,x);return x.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function Z7e(){return{exit:{taskListCheckValueChecked:Oz,taskListCheckValueUnchecked:Oz,paragraph:eRe}}}function J7e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tRe}}}function Oz(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function eRe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function tRe(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let c=Ute.listItem(e,t,n,{...r,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function nRe(){return[OIe(),n7e(),a7e(),q7e(),Z7e()]}function rRe(e){return{extensions:[DIe(),r7e(e),o7e(),Q7e(e),J7e()]}}const iRe={tokenize:uRe,partial:!0},Hte={tokenize:dRe,partial:!0},Vte={tokenize:fRe,partial:!0},qte={tokenize:hRe,partial:!0},sRe={tokenize:mRe,partial:!0},Wte={name:"wwwAutolink",tokenize:lRe,previous:Kte},Gte={name:"protocolAutolink",tokenize:cRe,previous:Yte},Gu={name:"emailAutolink",tokenize:oRe,previous:Xte},Rc={};function aRe(){return{text:Rc}}let sh=48;for(;sh<123;)Rc[sh]=Gu,sh++,sh===58?sh=65:sh===91&&(sh=97);Rc[43]=Gu;Rc[45]=Gu;Rc[46]=Gu;Rc[95]=Gu;Rc[72]=[Gu,Gte];Rc[104]=[Gu,Gte];Rc[87]=[Gu,Wte];Rc[119]=[Gu,Wte];function oRe(e,t,n){const r=this;let i,s;return a;function a(f){return!jA(f)||!Xte.call(r,r.previous)||FI(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return jA(f)?(e.consume(f),o):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(sRe,d,u)(f):f===45||f===95||As(f)?(s=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return s&&i&&Vs(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function lRe(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Kte.call(r,r.previous)||FI(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(iRe,e.attempt(Hte,e.attempt(Vte,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function cRe(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&Yte.call(r,r.previous)&&!FI(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Vs(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):n(f)}function u(f){return f===null||L4(f)||hr(f)||n0(f)||mk(f)?n(f):e.attempt(Hte,e.attempt(Vte,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function uRe(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function dRe(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(qte,c,o)(u):u===null||hr(u)||n0(u)||u!==45&&mk(u)?c(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function fRe(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(qte,t,s)(a):a===null||hr(a)||n0(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function hRe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||hr(o)||n0(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||hr(o)||n0(o)?t(o):r(o)}function s(o){return Vs(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Vs(o)?(e.consume(o),a):n(o)}}function mRe(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return As(s)?n(s):t(s)}}function Kte(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||hr(e)}function Yte(e){return!Vs(e)}function Xte(e){return!(e===47||jA(e))}function jA(e){return e===43||e===45||e===46||e===95||As(e)}function FI(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const pRe={tokenize:SRe,partial:!0};function gRe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:bRe,continuation:{tokenize:wRe},exit:ERe}},text:{91:{name:"gfmFootnoteCall",tokenize:xRe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vRe,resolveTo:yRe}}}}function vRe(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const u=Sl(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function yRe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function xRe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||hr(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Sl(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return hr(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function bRe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(v)}function d(v){if(a>999||v===93&&!o||v===null||v===91||hr(v))return n(v);if(v===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return s=Sl(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return hr(v)||(o=!0),a++,e.consume(v),v===92?f:d}function f(v){return v===91||v===92||v===93?(e.consume(v),a++,d):d(v)}function h(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(s)||i.push(s),Pn(e,p,"gfmFootnoteDefinitionWhitespace")):n(v)}function p(v){return t(v)}}function wRe(e,t,n){return e.check(dx,t,e.attempt(pRe,t,n))}function ERe(e){e.exit("gfmFootnoteDefinition")}function SRe(e,t,n){const r=this;return Pn(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function kRe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},h=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&qa(h,h.length,0,pk(p,a.slice(u+1,c),o)),qa(h,h.length,0,[["exit",f,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),qa(a,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const u=this.previous,d=this.events;let f=0;return h;function h(v){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(v):(a.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const x=Tp(u);if(v===126)return f>1?c(v):(a.consume(v),f++,p);if(f<2&&!n)return c(v);const b=a.exit("strikethroughSequenceTemporary"),w=Tp(v);return b._open=!w||w===2&&!!x,b._close=!x||x===2&&!!w,o(v)}}}class _Re{constructor(){this.map=[]}add(t,n,r){CRe(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function CRe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function NRe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function TRe(){return{flow:{null:{name:"table",tokenize:ARe,resolveAll:jRe}}}}function ARe(e,t,n){const r=this;let i=0,s=0,a;return o;function o($){let L=r.events.length-1;for(;L>-1;){const V=r.events[L][1].type;if(V==="lineEnding"||V==="linePrefix")L--;else break}const U=L>-1?r.events[L][1].type:null,Y=U==="tableHead"||U==="tableRow"?T:c;return Y===T&&r.parser.lazy[r.now().line]?n($):Y($)}function c($){return e.enter("tableHead"),e.enter("tableRow"),u($)}function u($){return $===124||(a=!0,s+=1),d($)}function d($){return $===null?n($):Qt($)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),p):n($):Mn($)?Pn(e,d,"whitespace")($):(s+=1,a&&(a=!1,i+=1),$===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f($)))}function f($){return $===null||$===124||hr($)?(e.exit("data"),d($)):(e.consume($),$===92?h:f)}function h($){return $===92||$===124?(e.consume($),f):f($)}function p($){return r.interrupt=!1,r.parser.lazy[r.now().line]?n($):(e.enter("tableDelimiterRow"),a=!1,Mn($)?Pn(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):v($))}function v($){return $===45||$===58?b($):$===124?(a=!0,e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),x):A($)}function x($){return Mn($)?Pn(e,b,"whitespace")($):b($)}function b($){return $===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),w):$===45?(s+=1,w($)):$===null||Qt($)?_($):A($)}function w($){return $===45?(e.enter("tableDelimiterFiller"),E($)):A($)}function E($){return $===45?(e.consume($),E):$===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume($),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k($))}function k($){return Mn($)?Pn(e,_,"whitespace")($):_($)}function _($){return $===124?v($):$===null||Qt($)?!a||i!==s?A($):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t($)):A($)}function A($){return n($)}function T($){return e.enter("tableRow"),C($)}function C($){return $===124?(e.enter("tableCellDivider"),e.consume($),e.exit("tableCellDivider"),C):$===null||Qt($)?(e.exit("tableRow"),t($)):Mn($)?Pn(e,C,"whitespace")($):(e.enter("data"),I($))}function I($){return $===null||$===124||hr($)?(e.exit("data"),C($)):(e.consume($),$===92?B:I)}function B($){return $===92||$===124?(e.consume($),I):I($)}}function jRe(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,u,d,f;const h=new _Re;for(;++n<e.length;){const p=e[n],v=p[1];p[0]==="enter"?v.type==="tableHead"?(o=!1,c!==0&&(Dz(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(n,0,[["enter",u,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(n,0,[["enter",d,t]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=Xw(h,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=Xw(h,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):v.type==="tableHead"?(o=!0,c=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],f=Xw(h,t,s,i,n,f)):a[1]!==0&&(f=Xw(h,t,a,i,n,f)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&Dz(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=NRe(t.events,n))}return e}function Xw(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Am(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=Am(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Am(t.events,n[2]),d=Am(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,x=n[3]-n[2]-1;e.add(v,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},Am(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Dz(e,t,n,r,i){const s=[],a=Am(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function Am(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const PRe={name:"tasklistCheck",tokenize:RRe};function IRe(){return{text:{91:PRe}}}function RRe(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return hr(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return Qt(c)?t(c):Mn(c)?e.check({tokenize:MRe},t,n)(c):n(c)}}function MRe(e,t,n){return Pn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function ORe(e){return sJ([aRe(),gRe(),kRe(e),TRe(),IRe()])}const DRe={};function Qte(e){const t=this,n=e||DRe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ORe(n)),s.push(nRe()),a.push(rRe(n))}function LRe(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:a,mathTextData:o}};function e(c){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},c)}function t(){this.buffer()}function n(){const c=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=c}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(c){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u;const f=d.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function a(c){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u,d.data.hChildren.push({type:"text",value:u})}function o(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function FRe(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,a,o,c){const u=s.value||"",d=o.createTracker(c),f="$".repeat(Math.max(Pte(u,"$")+1,2)),h=o.enter("mathFlow");let p=d.move(f);if(s.meta){const v=o.enter("mathFlowMeta");p+=d.move(o.safe(s.meta,{after:`
`,before:p,encode:["$"],...d.current()})),v()}return p+=d.move(`
`),u&&(p+=d.move(u+`
`)),p+=d.move(f),h(),p}function r(s,a,o){let c=s.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(c);)u++;const d="$".repeat(u);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let f=-1;for(;++f<o.unsafe.length;){const h=o.unsafe[f];if(!h.atBreak)continue;const p=o.compilePattern(h);let v;for(;v=p.exec(c);){let x=v.index;c.codePointAt(x)===10&&c.codePointAt(x-1)===13&&x--,c=c.slice(0,x)+" "+c.slice(v.index+1)}}return d+c+d}function i(){return"$"}}const $Re={tokenize:zRe,concrete:!0,name:"mathFlow"},Lz={tokenize:BRe,partial:!0};function zRe(e,t,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(E){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),c(E)}function c(E){return E===36?(e.consume(E),a++,c):a<2?n(E):(e.exit("mathFlowFenceSequence"),Pn(e,u,"whitespace")(E))}function u(E){return E===null||Qt(E)?f(E):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||Qt(E)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),f(E)):E===36?n(E):(e.consume(E),d)}function f(E){return e.exit("mathFlowFence"),r.interrupt?t(E):e.attempt(Lz,h,b)(E)}function h(E){return e.attempt({tokenize:w,partial:!0},b,p)(E)}function p(E){return(s?Pn(e,v,"linePrefix",s+1):v)(E)}function v(E){return E===null?b(E):Qt(E)?e.attempt(Lz,h,b)(E):(e.enter("mathFlowValue"),x(E))}function x(E){return E===null||Qt(E)?(e.exit("mathFlowValue"),v(E)):(e.consume(E),x)}function b(E){return e.exit("mathFlow"),t(E)}function w(E,k,_){let A=0;return Pn(E,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function T(B){return E.enter("mathFlowFence"),E.enter("mathFlowFenceSequence"),C(B)}function C(B){return B===36?(A++,E.consume(B),C):A<a?_(B):(E.exit("mathFlowFenceSequence"),Pn(E,I,"whitespace")(B))}function I(B){return B===null||Qt(B)?(E.exit("mathFlowFence"),k(B)):_(B)}}}function BRe(e,t,n){const r=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function URe(e){let n=(e||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:HRe,previous:VRe,name:"mathText"};function r(i,s,a){let o=0,c,u;return d;function d(x){return i.enter("mathText"),i.enter("mathTextSequence"),f(x)}function f(x){return x===36?(i.consume(x),o++,f):o<2&&!n?a(x):(i.exit("mathTextSequence"),h(x))}function h(x){return x===null?a(x):x===36?(u=i.enter("mathTextSequence"),c=0,v(x)):x===32?(i.enter("space"),i.consume(x),i.exit("space"),h):Qt(x)?(i.enter("lineEnding"),i.consume(x),i.exit("lineEnding"),h):(i.enter("mathTextData"),p(x))}function p(x){return x===null||x===32||x===36||Qt(x)?(i.exit("mathTextData"),h(x)):(i.consume(x),p)}function v(x){return x===36?(i.consume(x),c++,v):c===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(x)):(u.type="mathTextData",p(x))}}}function HRe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[n][1].type="mathTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="mathTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function VRe(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function qRe(e){return{flow:{36:$Re},text:{36:URe(e)}}}const WRe={};function GRe(e){const t=this,n=e||WRe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(qRe(n)),s.push(LRe()),a.push(FRe(n))}var Vl={};const KRe=NK(G5e);function YRe({defaultOrigin:e="",allowedLinkPrefixes:t=[],allowedImagePrefixes:n=[],allowDataImages:r=!1,blockedImageClass:i="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:s="text-gray-500"}){const a=t.length&&!t.every(c=>c==="*"),o=n.length&&!n.every(c=>c==="*");if(!e&&(a||o))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return c=>{const u=ZRe(e,t,n,r,i,s);r0(c,u)}}function Fz(e,t){if(typeof e!="string")return null;try{return new URL(e)}catch{if(t)try{return new URL(e,t)}catch{return null}return null}}function XRe(e){return typeof e!="string"?!1:e.startsWith("/")}const QRe=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:"]);function $z(e,t,n,r=!1,i=!1){if(!e)return null;if(typeof e=="string"&&e.startsWith("#")&&!i)try{if(new URL(e,"http://example.com").hash===e)return e}catch{}if(typeof e=="string"&&e.startsWith("data:"))return i&&r&&e.startsWith("data:image/")?e:null;const s=Fz(e,n);if(!s||!QRe.has(s.protocol))return null;if(s.protocol==="mailto:")return s.href;const a=XRe(e);return s&&t.some(o=>{const c=Fz(o,n);return!c||c.origin!==s.origin?!1:s.href.startsWith(c.href)})?a?s.pathname+s.search+s.hash:s.href:t.includes("*")?s.protocol!=="https:"&&s.protocol!=="http:"?null:a?s.pathname+s.search+s.hash:s.href:null}const tT=Symbol("node-seen"),ZRe=(e,t,n,r,i,s)=>{const a=(o,c,u)=>{if(o.type!=="element"||o[tT])return J1;if(o.tagName==="a"){const d=$z(o.properties.href,t,e,!1,!1);return d===null?(o[tT]=!0,r0(o,a),u&&typeof c=="number"&&(u.children[c]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(o.properties.href),class:s},children:[...o.children,{type:"text",value:" [blocked]"}]}),$4):(o.properties.href=d,o.properties.target="_blank",o.properties.rel="noopener noreferrer",J1)}if(o.tagName==="img"){const d=$z(o.properties.src,n,e,r,!0);return d===null?(o[tT]=!0,r0(o,a),u&&typeof c=="number"&&(u.children[c]={type:"element",tagName:"span",properties:{class:i},children:[{type:"text",value:"[Image blocked: "+String(o.properties.alt||"No description")+"]"}]}),$4):(o.properties.src=d,J1)}return J1};return a},JRe=Object.freeze(Object.defineProperty({__proto__:null,harden:YRe},Symbol.toStringTag,{value:"Module"})),eMe=NK(JRe);var zz;function tMe(){if(zz)return Vl;zz=1;var e=Vl&&Vl.__assign||function(){return e=Object.assign||function(o){for(var c,u=1,d=arguments.length;u<d;u++){c=arguments[u];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o},e.apply(this,arguments)},t=Vl&&Vl.__rest||function(o,c){var u={};for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&c.indexOf(d)<0&&(u[d]=o[d]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,d=Object.getOwnPropertySymbols(o);f<d.length;f++)c.indexOf(d[f])<0&&Object.prototype.propertyIsEnumerable.call(o,d[f])&&(u[d[f]]=o[d[f]]);return u},n=Vl&&Vl.__spreadArray||function(o,c,u){if(u||arguments.length===2)for(var d=0,f=c.length,h;d<f;d++)(h||!(d in c))&&(h||(h=Array.prototype.slice.call(c,0,d)),h[d]=c[d]);return o.concat(h||Array.prototype.slice.call(c))};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.default=a;var r=TK(),i=KRe,s=eMe;function a(o){return function(u){var d=u.defaultOrigin,f=u.allowedLinkPrefixes,h=u.allowedImagePrefixes,p=u.allowDataImages,v=u.rehypePlugins,x=u.urlTransform,b=t(u,["defaultOrigin","allowedLinkPrefixes","allowedImagePrefixes","allowDataImages","rehypePlugins","urlTransform"]),w=function(E,k,_){return p&&k==="src"&&E.startsWith("data:image/")?E:x?x(E,k,_):(0,i.defaultUrlTransform)(E)};return(0,r.jsx)(o,e({},b,{urlTransform:w,rehypePlugins:n([[s.harden,{defaultOrigin:d,allowedLinkPrefixes:f,allowedImagePrefixes:h,allowDataImages:p}]],v??[],!0)}))}}return Vl}var nMe=tMe();const Bz=Xa(nMe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rMe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iMe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Uz=e=>{const t=iMe(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zte=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),sMe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aMe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oMe=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>y.createElement("svg",{ref:c,...aMe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zte("lucide",i),...!s&&!sMe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=(e,t)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(oMe,{ref:s,iconNode:t,className:Zte(`lucide-${rMe(Uz(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Uz(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lMe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jte=$I("check",lMe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cMe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ene=$I("copy",cMe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uMe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zI=$I("download",uMe);let wi=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function dMe(e){return BI(e)}function BI(e){return Array.isArray(e)?fMe(e):e instanceof RegExp?e:typeof e=="object"?hMe(e):e}function fMe(e){let t=[];for(let n=0,r=e.length;n<r;n++)t[n]=BI(e[n]);return t}function hMe(e){let t={};for(let n in e)t[n]=BI(e[n]);return t}function tne(e,...t){return t.forEach(n=>{for(let r in n)e[r]=n[r]}),e}function nne(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?nne(e.substring(0,e.length-1)):e.substr(~t+1)}var nT=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Qw=class{static hasCaptures(e){return e===null?!1:(nT.lastIndex=0,nT.test(e))}static replaceCaptures(e,t,n){return e.replace(nT,(r,i,s,a)=>{let o=n[parseInt(i||s,10)];if(o){let c=t.substring(o.start,o.end);for(;c[0]===".";)c=c.substring(1);switch(a){case"downcase":return c.toLowerCase();case"upcase":return c.toUpperCase();default:return c}}else return r})}};function rne(e,t){return e<t?-1:e>t?1:0}function ine(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let n=e.length,r=t.length;if(n===r){for(let i=0;i<n;i++){let s=rne(e[i],t[i]);if(s!==0)return s}return 0}return n-r}function Hz(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function sne(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var ane=class{constructor(e){Oe(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},X4=class{constructor(e,t,n){Oe(this,"_cachedMatchRoot",new ane(e=>this._root.match(e)));this._colorMap=e,this._defaults=t,this._root=n}static createFromRawTheme(e,t){return this.createFromParsedTheme(gMe(e),t)}static createFromParsedTheme(e,t){return yMe(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,r=this._cachedMatchRoot.get(t).find(i=>mMe(e.parent,i.parentScopes));return r?new one(r.fontStyle,r.foreground,r.background):null}},rT=class Z2{constructor(t,n){this.parent=t,this.scopeName=n}static push(t,n){for(const r of n)t=new Z2(t,r);return t}static from(...t){let n=null;for(let r=0;r<t.length;r++)n=new Z2(n,t[r]);return n}push(t){return new Z2(this,t)}getSegments(){let t=this;const n=[];for(;t;)n.push(t.scopeName),t=t.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const n=[];let r=this;for(;r&&r!==t;)n.push(r.scopeName),r=r.parent;return r===t?n.reverse():void 0}};function mMe(e,t){if(t.length===0)return!0;for(let n=0;n<t.length;n++){let r=t[n],i=!1;if(r===">"){if(n===t.length-1)return!1;r=t[++n],i=!0}for(;e&&!pMe(e.scopeName,r);){if(i)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function pMe(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}var one=class{constructor(e,t,n){this.fontStyle=e,this.foregroundId=t,this.backgroundId=n}};function gMe(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,n=[],r=0;for(let i=0,s=t.length;i<s;i++){let a=t[i];if(!a.settings)continue;let o;if(typeof a.scope=="string"){let f=a.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),o=f.split(",")}else Array.isArray(a.scope)?o=a.scope:o=[""];let c=-1;if(typeof a.settings.fontStyle=="string"){c=0;let f=a.settings.fontStyle.split(" ");for(let h=0,p=f.length;h<p;h++)switch(f[h]){case"italic":c=c|1;break;case"bold":c=c|2;break;case"underline":c=c|4;break;case"strikethrough":c=c|8;break}}let u=null;typeof a.settings.foreground=="string"&&Hz(a.settings.foreground)&&(u=a.settings.foreground);let d=null;typeof a.settings.background=="string"&&Hz(a.settings.background)&&(d=a.settings.background);for(let f=0,h=o.length;f<h;f++){let v=o[f].trim().split(" "),x=v[v.length-1],b=null;v.length>1&&(b=v.slice(0,v.length-1),b.reverse()),n[r++]=new vMe(x,b,i,c,u,d)}}return n}var vMe=class{constructor(e,t,n,r,i,s){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=i,this.background=s}},Ns=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(Ns||{});function yMe(e,t){e.sort((c,u)=>{let d=rne(c.scope,u.scope);return d!==0||(d=ine(c.parentScopes,u.parentScopes),d!==0)?d:c.index-u.index});let n=0,r="#000000",i="#ffffff";for(;e.length>=1&&e[0].scope==="";){let c=e.shift();c.fontStyle!==-1&&(n=c.fontStyle),c.foreground!==null&&(r=c.foreground),c.background!==null&&(i=c.background)}let s=new xMe(t),a=new one(n,s.getId(r),s.getId(i)),o=new wMe(new PA(0,null,-1,0,0),[]);for(let c=0,u=e.length;c<u;c++){let d=e[c];o.insert(0,d.scope,d.parentScopes,d.fontStyle,s.getId(d.foreground),s.getId(d.background))}return new X4(s,a,o)}var xMe=class{constructor(e){Oe(this,"_isFrozen");Oe(this,"_lastColorId");Oe(this,"_id2color");Oe(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},bMe=Object.freeze([]),PA=class lne{constructor(t,n,r,i,s){Oe(this,"scopeDepth");Oe(this,"parentScopes");Oe(this,"fontStyle");Oe(this,"foreground");Oe(this,"background");this.scopeDepth=t,this.parentScopes=n||bMe,this.fontStyle=r,this.foreground=i,this.background=s}clone(){return new lne(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let n=[];for(let r=0,i=t.length;r<i;r++)n[r]=t[r].clone();return n}acceptOverwrite(t,n,r,i){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},wMe=class IA{constructor(t,n=[],r={}){Oe(this,"_rulesWithParentScopes");this._mainRule=t,this._children=r,this._rulesWithParentScopes=n}static _cmpBySpecificity(t,n){if(t.scopeDepth!==n.scopeDepth)return n.scopeDepth-t.scopeDepth;let r=0,i=0;for(;t.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=t.parentScopes.length||i>=n.parentScopes.length);){const s=n.parentScopes[i].length-t.parentScopes[r].length;if(s!==0)return s;r++,i++}return n.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let r=t.indexOf("."),i,s;if(r===-1?(i=t,s=""):(i=t.substring(0,r),s=t.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(IA._cmpBySpecificity),n}insert(t,n,r,i,s,a){if(n===""){this._doInsertHere(t,r,i,s,a);return}let o=n.indexOf("."),c,u;o===-1?(c=n,u=""):(c=n.substring(0,o),u=n.substring(o+1));let d;this._children.hasOwnProperty(c)?d=this._children[c]:(d=new IA(this._mainRule.clone(),PA.cloneArr(this._rulesWithParentScopes)),this._children[c]=d),d.insert(t+1,u,r,i,s,a)}_doInsertHere(t,n,r,i,s){if(n===null){this._mainRule.acceptOverwrite(t,r,i,s);return}for(let a=0,o=this._rulesWithParentScopes.length;a<o;a++){let c=this._rulesWithParentScopes[a];if(ine(c.parentScopes,n)===0){c.acceptOverwrite(t,r,i,s);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new PA(t,n,r,i,s))}},Ip=class ho{static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const n=ho.getLanguageId(t),r=ho.getTokenType(t),i=ho.getFontStyle(t),s=ho.getForeground(t),a=ho.getBackground(t);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:s,background:a})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,n,r,i,s,a,o){let c=ho.getLanguageId(t),u=ho.getTokenType(t),d=ho.containsBalancedBrackets(t)?1:0,f=ho.getFontStyle(t),h=ho.getForeground(t),p=ho.getBackground(t);return n!==0&&(c=n),r!==8&&(u=r),i!==null&&(d=i?1:0),s!==-1&&(f=s),a!==0&&(h=a),o!==0&&(p=o),(c<<0|u<<8|d<<10|f<<11|h<<15|p<<24)>>>0}};function Q4(e,t){const n=[],r=EMe(e);let i=r.next();for(;i!==null;){let c=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":c=1;break;case"L":c=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let u=a();if(n.push({matcher:u,priority:c}),i!==",")break;i=r.next()}return n;function s(){if(i==="-"){i=r.next();const c=s();return u=>!!c&&!c(u)}if(i==="("){i=r.next();const c=o();return i===")"&&(i=r.next()),c}if(Vz(i)){const c=[];do c.push(i),i=r.next();while(Vz(i));return u=>t(c,u)}return null}function a(){const c=[];let u=s();for(;u;)c.push(u),u=s();return d=>c.every(f=>f(d))}function o(){const c=[];let u=a();for(;u&&(c.push(u),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");u=a()}return d=>c.some(f=>f(d))}}function Vz(e){return!!e&&!!e.match(/[\w\.:]+/)}function EMe(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=t.exec(e);return{next:()=>{if(!n)return null;const r=n[0];return n=t.exec(e),r}}}function cne(e){typeof e.dispose=="function"&&e.dispose()}var sy=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},SMe=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},kMe=class{constructor(){Oe(this,"_references",[]);Oe(this,"_seenReferenceKeys",new Set);Oe(this,"visitedRule",new Set)}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},_Me=class{constructor(e,t){Oe(this,"seenFullScopeRequests",new Set);Oe(this,"seenPartialScopeRequests",new Set);Oe(this,"Q");this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new sy(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new kMe;for(const n of e)CMe(n,this.initialScopeName,this.repo,t);for(const n of t.references)if(n instanceof sy){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function CMe(e,t,n,r){const i=n.lookup(e.scopeName);if(!i){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const s=n.lookup(t);e instanceof sy?J2({baseGrammar:s,selfGrammar:i},r):RA(e.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},r);const a=n.injections(e.scopeName);if(a)for(const o of a)r.add(new sy(o))}function RA(e,t,n){if(t.repository&&t.repository[e]){const r=t.repository[e];Z4([r],t,n)}}function J2(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&Z4(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&Z4(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function Z4(e,t,n){for(const r of e){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?tne({},t.repository,r.repository):t.repository;Array.isArray(r.patterns)&&Z4(r.patterns,{...t,repository:i},n);const s=r.include;if(!s)continue;const a=une(s);switch(a.kind){case 0:J2({...t,selfGrammar:t.baseGrammar},n);break;case 1:J2(t,n);break;case 2:RA(a.ruleName,{...t,repository:i},n);break;case 3:case 4:const o=a.scopeName===t.selfGrammar.scopeName?t.selfGrammar:a.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(o){const c={baseGrammar:t.baseGrammar,selfGrammar:o,repository:i};a.kind===4?RA(a.ruleName,c,n):J2(c,n)}else a.kind===4?n.add(new SMe(a.scopeName,a.ruleName)):n.add(new sy(a.scopeName));break}}}var NMe=class{constructor(){Oe(this,"kind",0)}},TMe=class{constructor(){Oe(this,"kind",1)}},AMe=class{constructor(e){Oe(this,"kind",2);this.ruleName=e}},jMe=class{constructor(e){Oe(this,"kind",3);this.scopeName=e}},PMe=class{constructor(e,t){Oe(this,"kind",4);this.scopeName=e,this.ruleName=t}};function une(e){if(e==="$base")return new NMe;if(e==="$self")return new TMe;const t=e.indexOf("#");if(t===-1)return new jMe(e);if(t===0)return new AMe(e.substring(1));{const n=e.substring(0,t),r=e.substring(t+1);return new PMe(n,r)}}var IMe=/\\(\d+)/,qz=/\\(\d+)/g,RMe=-1,dne=-2;var bx=class{constructor(e,t,n,r){Oe(this,"$location");Oe(this,"id");Oe(this,"_nameIsCapturing");Oe(this,"_name");Oe(this,"_contentNameIsCapturing");Oe(this,"_contentName");this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=Qw.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Qw.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${nne(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:Qw.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Qw.replaceCaptures(this._contentName,e,t)}},MMe=class extends bx{constructor(t,n,r,i,s){super(t,n,r,i);Oe(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,n){throw new Error("Not supported!")}compile(t,n){throw new Error("Not supported!")}compileAG(t,n,r,i){throw new Error("Not supported!")}},OMe=class extends bx{constructor(t,n,r,i,s){super(t,n,r,null);Oe(this,"_match");Oe(this,"captures");Oe(this,"_cachedCompiledPatterns");this._match=new ay(i,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,n){n.push(this._match)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,r,i){return this._getCachedCompiledPatterns(t).compileAG(t,r,i)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new oy,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Wz=class extends bx{constructor(t,n,r,i,s){super(t,n,r,i);Oe(this,"hasMissingPatterns");Oe(this,"patterns");Oe(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,n){for(const r of this.patterns)t.getRule(r).collectPatterns(t,n)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,r,i){return this._getCachedCompiledPatterns(t).compileAG(t,r,i)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new oy,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},MA=class extends bx{constructor(t,n,r,i,s,a,o,c,u,d){super(t,n,r,i);Oe(this,"_begin");Oe(this,"beginCaptures");Oe(this,"_end");Oe(this,"endHasBackReferences");Oe(this,"endCaptures");Oe(this,"applyEndPatternLast");Oe(this,"hasMissingPatterns");Oe(this,"patterns");Oe(this,"_cachedCompiledPatterns");this._begin=new ay(s,this.id),this.beginCaptures=a,this._end=new ay(o||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=c,this.applyEndPatternLast=u||!1,this.patterns=d.patterns,this.hasMissingPatterns=d.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,n){return this._end.resolveBackReferences(t,n)}collectPatterns(t,n){n.push(this._begin)}compile(t,n){return this._getCachedCompiledPatterns(t,n).compile(t)}compileAG(t,n,r,i){return this._getCachedCompiledPatterns(t,n).compileAG(t,r,i)}_getCachedCompiledPatterns(t,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new oy;for(const r of this.patterns)t.getRule(r).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},J4=class extends bx{constructor(t,n,r,i,s,a,o,c,u){super(t,n,r,i);Oe(this,"_begin");Oe(this,"beginCaptures");Oe(this,"whileCaptures");Oe(this,"_while");Oe(this,"whileHasBackReferences");Oe(this,"hasMissingPatterns");Oe(this,"patterns");Oe(this,"_cachedCompiledPatterns");Oe(this,"_cachedCompiledWhilePatterns");this._begin=new ay(s,this.id),this.beginCaptures=a,this.whileCaptures=c,this._while=new ay(o,dne),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,n){return this._while.resolveBackReferences(t,n)}collectPatterns(t,n){n.push(this._begin)}compile(t,n){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,n,r,i){return this._getCachedCompiledPatterns(t).compileAG(t,r,i)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new oy;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,n){return this._getCachedCompiledWhilePatterns(t,n).compile(t)}compileWhileAG(t,n,r,i){return this._getCachedCompiledWhilePatterns(t,n).compileAG(t,r,i)}_getCachedCompiledWhilePatterns(t,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new oy,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||""),this._cachedCompiledWhilePatterns}},fne=class Es{static createCaptureRule(t,n,r,i,s){return t.registerRule(a=>new MMe(n,a,r,i,s))}static getCompiledRuleId(t,n,r){return t.id||n.registerRule(i=>{if(t.id=i,t.match)return new OMe(t.$vscodeTextmateLocation,t.id,t.name,t.match,Es._compileCaptures(t.captures,n,r));if(typeof t.begin>"u"){t.repository&&(r=tne({},r,t.repository));let s=t.patterns;return typeof s>"u"&&t.include&&(s=[{include:t.include}]),new Wz(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,Es._compilePatterns(s,n,r))}return t.while?new J4(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Es._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,Es._compileCaptures(t.whileCaptures||t.captures,n,r),Es._compilePatterns(t.patterns,n,r)):new MA(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,Es._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,Es._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,Es._compilePatterns(t.patterns,n,r))}),t.id}static _compileCaptures(t,n,r){let i=[];if(t){let s=0;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);o>s&&(s=o)}for(let a=0;a<=s;a++)i[a]=null;for(const a in t){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);let c=0;t[a].patterns&&(c=Es.getCompiledRuleId(t[a],n,r)),i[o]=Es.createCaptureRule(n,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,c)}}return i}static _compilePatterns(t,n,r){let i=[];if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s];let c=-1;if(o.include){const u=une(o.include);switch(u.kind){case 0:case 1:c=Es.getCompiledRuleId(r[o.include],n,r);break;case 2:let d=r[u.ruleName];d&&(c=Es.getCompiledRuleId(d,n,r));break;case 3:case 4:const f=u.scopeName,h=u.kind===4?u.ruleName:null,p=n.getExternalGrammar(f,r);if(p)if(h){let v=p.repository[h];v&&(c=Es.getCompiledRuleId(v,n,p.repository))}else c=Es.getCompiledRuleId(p.repository.$self,n,p.repository);break}}else c=Es.getCompiledRuleId(o,n,r);if(c!==-1){const u=n.getRule(c);let d=!1;if((u instanceof Wz||u instanceof MA||u instanceof J4)&&u.hasMissingPatterns&&u.patterns.length===0&&(d=!0),d)continue;i.push(c)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}}},ay=class hne{constructor(t,n){Oe(this,"source");Oe(this,"ruleId");Oe(this,"hasAnchor");Oe(this,"hasBackReferences");Oe(this,"_anchorCache");if(t&&typeof t=="string"){const r=t.length;let i=0,s=[],a=!1;for(let o=0;o<r;o++)if(t.charAt(o)==="\\"&&o+1<r){const u=t.charAt(o+1);u==="z"?(s.push(t.substring(i,o)),s.push("$(?!\\n)(?<!\\n)"),i=o+2):(u==="A"||u==="G")&&(a=!0),o++}this.hasAnchor=a,i===0?this.source=t:(s.push(t.substring(i,r)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=IMe.test(this.source):this.hasBackReferences=!1}clone(){return new hne(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>t.substring(i.start,i.end));return qz.lastIndex=0,this.source.replace(qz,(i,s)=>sne(r[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],n=[],r=[],i=[],s,a,o,c;for(s=0,a=this.source.length;s<a;s++)o=this.source.charAt(s),t[s]=o,n[s]=o,r[s]=o,i[s]=o,o==="\\"&&s+1<a&&(c=this.source.charAt(s+1),c==="A"?(t[s+1]="",n[s+1]="",r[s+1]="A",i[s+1]="A"):c==="G"?(t[s+1]="",n[s+1]="G",r[s+1]="",i[s+1]="G"):(t[s+1]=c,n[s+1]=c,r[s+1]=c,i[s+1]=c),s++);return{A0_G0:t.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(t,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},oy=class{constructor(){Oe(this,"_items");Oe(this,"_hasAnchors");Oe(this,"_cached");Oe(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(n=>n.source);this._cached=new Gz(e,t,this._items.map(n=>n.ruleId))}return this._cached}compileAG(e,t,n){return this._hasAnchors?t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,n){let r=this._items.map(i=>i.resolveAnchors(t,n));return new Gz(e,r,this._items.map(i=>i.ruleId))}},Gz=class{constructor(e,t,n){Oe(this,"scanner");this.regExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,n=this.rules.length;t<n;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,n){const r=this.scanner.findNextMatchSync(e,t,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},iT=class{constructor(e,t){this.languageId=e,this.tokenType=t}},du,DMe=(du=class{constructor(t,n){Oe(this,"_defaultAttributes");Oe(this,"_embeddedLanguagesMatcher");Oe(this,"_getBasicScopeAttributes",new ane(t=>{const n=this._scopeToLanguage(t),r=this._toStandardTokenType(t);return new iT(n,r)}));this._defaultAttributes=new iT(t,8),this._embeddedLanguagesMatcher=new LMe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?du._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const n=t.match(du.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},Oe(du,"_NULL_SCOPE_METADATA",new iT(0,0)),Oe(du,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),du),LMe=class{constructor(e){Oe(this,"values");Oe(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([n,r])=>sne(n));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}},Kz=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function mne(e,t,n,r,i,s,a,o){const c=t.content.length;let u=!1,d=-1;if(a){const p=FMe(e,t,n,r,i,s);i=p.stack,r=p.linePos,n=p.isFirstLine,d=p.anchorPosition}const f=Date.now();for(;!u;){if(o!==0&&Date.now()-f>o)return new Kz(i,!0);h()}return new Kz(i,!1);function h(){const p=$Me(e,t,n,r,i,d);if(!p){s.produce(i,c),u=!0;return}const v=p.captureIndices,x=p.matchedRuleId,b=v&&v.length>0?v[0].end>r:!1;if(x===RMe){const w=i.getRule(e);s.produce(i,v[0].start),i=i.withContentNameScopesList(i.nameScopesList),nv(e,t,n,i,s,w.endCaptures,v),s.produce(i,v[0].end);const E=i;if(i=i.parent,d=E.getAnchorPos(),!b&&E.getEnterPos()===r){i=E,s.produce(i,c),u=!0;return}}else{const w=e.getRule(x);s.produce(i,v[0].start);const E=i,k=w.getName(t.content,v),_=i.contentNameScopesList.pushAttributed(k,e);if(i=i.push(x,r,d,v[0].end===c,null,_,_),w instanceof MA){const A=w;nv(e,t,n,i,s,A.beginCaptures,v),s.produce(i,v[0].end),d=v[0].end;const T=A.getContentName(t.content,v),C=_.pushAttributed(T,e);if(i=i.withContentNameScopesList(C),A.endHasBackReferences&&(i=i.withEndRule(A.getEndWithResolvedBackReferences(t.content,v))),!b&&E.hasSameRuleAs(i)){i=i.pop(),s.produce(i,c),u=!0;return}}else if(w instanceof J4){const A=w;nv(e,t,n,i,s,A.beginCaptures,v),s.produce(i,v[0].end),d=v[0].end;const T=A.getContentName(t.content,v),C=_.pushAttributed(T,e);if(i=i.withContentNameScopesList(C),A.whileHasBackReferences&&(i=i.withEndRule(A.getWhileWithResolvedBackReferences(t.content,v))),!b&&E.hasSameRuleAs(i)){i=i.pop(),s.produce(i,c),u=!0;return}}else if(nv(e,t,n,i,s,w.captures,v),s.produce(i,v[0].end),i=i.pop(),!b){i=i.safePop(),s.produce(i,c),u=!0;return}}v[0].end>r&&(r=v[0].end,n=!1)}}function FMe(e,t,n,r,i,s){let a=i.beginRuleCapturedEOL?0:-1;const o=[];for(let c=i;c;c=c.pop()){const u=c.getRule(e);u instanceof J4&&o.push({rule:u,stack:c})}for(let c=o.pop();c;c=o.pop()){const{ruleScanner:u,findOptions:d}=UMe(c.rule,e,c.stack.endRule,n,r===a),f=u.findNextMatchSync(t,r,d);if(f){if(f.ruleId!==dne){i=c.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(c.stack,f.captureIndices[0].start),nv(e,t,n,c.stack,s,c.rule.whileCaptures,f.captureIndices),s.produce(c.stack,f.captureIndices[0].end),a=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=c.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:a,isFirstLine:n}}function $Me(e,t,n,r,i,s){const a=zMe(e,t,n,r,i,s),o=e.getInjections();if(o.length===0)return a;const c=BMe(o,e,t,n,r,i,s);if(!c)return a;if(!a)return c;const u=a.captureIndices[0].start,d=c.captureIndices[0].start;return d<u||c.priorityMatch&&d===u?c:a}function zMe(e,t,n,r,i,s){const a=i.getRule(e),{ruleScanner:o,findOptions:c}=pne(a,e,i.endRule,n,r===s),u=o.findNextMatchSync(t,r,c);return u?{captureIndices:u.captureIndices,matchedRuleId:u.ruleId}:null}function BMe(e,t,n,r,i,s,a){let o=Number.MAX_VALUE,c=null,u,d=0;const f=s.contentNameScopesList.getScopeNames();for(let h=0,p=e.length;h<p;h++){const v=e[h];if(!v.matcher(f))continue;const x=t.getRule(v.ruleId),{ruleScanner:b,findOptions:w}=pne(x,t,null,r,i===a),E=b.findNextMatchSync(n,i,w);if(!E)continue;const k=E.captureIndices[0].start;if(!(k>=o)&&(o=k,c=E.captureIndices,u=E.ruleId,d=v.priority,o===i))break}return c?{priorityMatch:d===-1,captureIndices:c,matchedRuleId:u}:null}function pne(e,t,n,r,i){return{ruleScanner:e.compileAG(t,n,r,i),findOptions:0}}function UMe(e,t,n,r,i){return{ruleScanner:e.compileWhileAG(t,n,r,i),findOptions:0}}function nv(e,t,n,r,i,s,a){if(s.length===0)return;const o=t.content,c=Math.min(s.length,a.length),u=[],d=a[0].end;for(let f=0;f<c;f++){const h=s[f];if(h===null)continue;const p=a[f];if(p.length===0)continue;if(p.start>d)break;for(;u.length>0&&u[u.length-1].endPos<=p.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,p.start):i.produce(r,p.start),h.retokenizeCapturedWithRuleId){const x=h.getName(o,a),b=r.contentNameScopesList.pushAttributed(x,e),w=h.getContentName(o,a),E=b.pushAttributed(w,e),k=r.push(h.retokenizeCapturedWithRuleId,p.start,-1,!1,null,b,E),_=e.createOnigString(o.substring(0,p.end));mne(e,_,n&&p.start===0,p.start,k,i,!1,0),cne(_);continue}const v=h.getName(o,a);if(v!==null){const b=(u.length>0?u[u.length-1].scopes:r.contentNameScopesList).pushAttributed(v,e);u.push(new HMe(b,p.end))}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}var HMe=class{constructor(e,t){Oe(this,"scopes");Oe(this,"endPos");this.scopes=e,this.endPos=t}};function VMe(e,t,n,r,i,s,a,o){return new WMe(e,t,n,r,i,s,a,o)}function Yz(e,t,n,r,i){const s=Q4(t,eE),a=fne.getCompiledRuleId(n,r,i.repository);for(const o of s)e.push({debugSelector:t,matcher:o.matcher,ruleId:a,grammar:i,priority:o.priority})}function eE(e,t){if(t.length<e.length)return!1;let n=0;return e.every(r=>{for(let i=n;i<t.length;i++)if(qMe(t[i],r))return n=i+1,!0;return!1})}function qMe(e,t){if(!e)return!1;if(e===t)return!0;const n=t.length;return e.length>n&&e.substr(0,n)===t&&e[n]==="."}var WMe=class{constructor(e,t,n,r,i,s,a,o){Oe(this,"_rootId");Oe(this,"_lastRuleId");Oe(this,"_ruleId2desc");Oe(this,"_includedGrammars");Oe(this,"_grammarRepository");Oe(this,"_grammar");Oe(this,"_injections");Oe(this,"_basicScopeAttributesProvider");Oe(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=s,this._onigLib=o,this._basicScopeAttributesProvider=new DMe(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=Xz(t,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const c of Object.keys(i)){const u=Q4(c,eE);for(const d of u)this._tokenTypeMatchers.push({matcher:d.matcher,type:i[c]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},t=[],n=this._rootScopeName,r=e.lookup(n);if(r){const i=r.injections;if(i)for(let a in i)Yz(t,a,i[a],this,r);const s=this._grammarRepository.injections(n);s&&s.forEach(a=>{const o=this.getExternalGrammar(a);if(o){const c=o.injectionSelector;c&&Yz(t,c,o,this,o)}})}return t.sort((i,s)=>i.priority-s.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=Xz(n,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,n=0){const r=this._tokenize(e,t,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(e,t,n=0){const r=this._tokenize(e,t,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(e,t,n,r){this._rootId===-1&&(this._rootId=fne.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!t||t===OA.NULL){i=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),d=this.themeProvider.getDefaults(),f=Ip.set(0,u.languageId,u.tokenType,null,d.fontStyle,d.foregroundId,d.backgroundId),h=this.getRule(this._rootId).getName(null,null);let p;h?p=Ev.createRootAndLookUpScopeName(h,f,this):p=Ev.createRoot("unknown",f),t=new OA(null,this._rootId,-1,-1,!1,null,p,p)}else i=!1,t.reset();e=e+`
`;const s=this.createOnigString(e),a=s.content.length,o=new KMe(n,e,this._tokenTypeMatchers,this.balancedBracketSelectors),c=mne(this,s,i,0,t,o,!0,r);return cne(s),{lineLength:a,lineTokens:o,ruleStack:c.stack,stoppedEarly:c.stoppedEarly}}};function Xz(e,t){return e=dMe(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Ev=class ql{constructor(t,n,r){this.parent=t,this.scopePath=n,this.tokenAttributes=r}static fromExtension(t,n){let r=t,i=(t==null?void 0:t.scopePath)??null;for(const s of n)i=rT.push(i,s.scopeNames),r=new ql(r,i,s.encodedTokenAttributes);return r}static createRoot(t,n){return new ql(null,new rT(null,t),n)}static createRootAndLookUpScopeName(t,n,r){const i=r.getMetadataForScope(t),s=new rT(null,t),a=r.themeProvider.themeMatch(s),o=ql.mergeAttributes(n,i,a);return new ql(null,s,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return ql.equals(this,t)}static equals(t,n){do{if(t===n||!t&&!n)return!0;if(!t||!n||t.scopeName!==n.scopeName||t.tokenAttributes!==n.tokenAttributes)return!1;t=t.parent,n=n.parent}while(!0)}static mergeAttributes(t,n,r){let i=-1,s=0,a=0;return r!==null&&(i=r.fontStyle,s=r.foregroundId,a=r.backgroundId),Ip.set(t,n.languageId,n.tokenType,null,i,s,a)}pushAttributed(t,n){if(t===null)return this;if(t.indexOf(" ")===-1)return ql._pushAttributed(this,t,n);const r=t.split(/ /g);let i=this;for(const s of r)i=ql._pushAttributed(i,s,n);return i}static _pushAttributed(t,n,r){const i=r.getMetadataForScope(n),s=t.scopePath.push(n),a=r.themeProvider.themeMatch(s),o=ql.mergeAttributes(t.tokenAttributes,i,a);return new ql(t,s,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){var i;const n=[];let r=this;for(;r&&r!==t;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((i=r.parent)==null?void 0:i.scopePath)??null)}),r=r.parent;return r===t?n.reverse():void 0}},ko,OA=(ko=class{constructor(t,n,r,i,s,a,o,c){Oe(this,"_stackElementBrand");Oe(this,"_enterPos");Oe(this,"_anchorPos");Oe(this,"depth");this.parent=t,this.ruleId=n,this.beginRuleCapturedEOL=s,this.endRule=a,this.nameScopesList=o,this.contentNameScopesList=c,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}equals(t){return t===null?!1:ko._equals(this,t)}static _equals(t,n){return t===n?!0:this._structuralEquals(t,n)?Ev.equals(t.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(t,n){do{if(t===n||!t&&!n)return!0;if(!t||!n||t.depth!==n.depth||t.ruleId!==n.ruleId||t.endRule!==n.endRule)return!1;t=t.parent,n=n.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){ko._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,n,r,i,s,a,o){return new ko(this,t,n,r,i,s,a,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,n){var r,i;return this.parent&&(n=this.parent._writeString(t,n)),t[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(i=this.contentNameScopesList)==null?void 0:i.toString()})`,n}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new ko(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let n=this;for(;n&&n._enterPos===t._enterPos;){if(n.ruleId===t.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var t,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((t=this.parent)==null?void 0:t.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(t,n){const r=Ev.fromExtension((t==null?void 0:t.nameScopesList)??null,n.nameScopesList);return new ko(t,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,Ev.fromExtension(r,n.contentNameScopesList))}},Oe(ko,"NULL",new ko(null,0,0,0,!1,null,null,null)),ko),GMe=class{constructor(e,t){Oe(this,"balancedBracketScopes");Oe(this,"unbalancedBracketScopes");Oe(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(n=>n==="*"?(this.allowAny=!0,[]):Q4(n,eE).map(r=>r.matcher)),this.unbalancedBracketScopes=t.flatMap(n=>Q4(n,eE).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},KMe=class{constructor(e,t,n,r){Oe(this,"_emitBinaryTokens");Oe(this,"_lineText");Oe(this,"_tokens");Oe(this,"_binaryTokens");Oe(this,"_lastTokenEndIndex");Oe(this,"_tokenTypeOverrides");this.balancedBracketSelectors=r,this._emitBinaryTokens=e,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var r;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let i=(e==null?void 0:e.tokenAttributes)??0,s=!1;if((r=this.balancedBracketSelectors)!=null&&r.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const a=(e==null?void 0:e.getScopeNames())??[];for(const o of this._tokenTypeOverrides)o.matcher(a)&&(i=Ip.set(i,0,o.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(a))}if(s&&(i=Ip.set(i,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===i){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(i),this._lastTokenEndIndex=t;return}const n=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:n}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},YMe=class{constructor(e,t){Oe(this,"_grammars",new Map);Oe(this,"_rawGrammars",new Map);Oe(this,"_injectionGrammars",new Map);Oe(this,"_theme");this._onigLib=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,n,r,i){if(!this._grammars.has(e)){let s=this._rawGrammars.get(e);if(!s)return null;this._grammars.set(e,VMe(e,s,t,n,r,i,this,this._onigLib))}return this._grammars.get(e)}},XMe=class{constructor(t){Oe(this,"_options");Oe(this,"_syncRegistry");Oe(this,"_ensureGrammarCache");this._options=t,this._syncRegistry=new YMe(X4.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,n){this._syncRegistry.setTheme(X4.createFromRawTheme(t,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,n,r){return this.loadGrammarWithConfiguration(t,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(t,n,r){return this._loadGrammar(t,n,r.embeddedLanguages,r.tokenTypes,new GMe(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,n,r,i,s){const a=new _Me(this._syncRegistry,t);for(;a.Q.length>0;)a.Q.map(o=>this._loadSingleGrammar(o.scopeName)),a.processQueue();return this._grammarForScopeName(t,n,r,i,s)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const n=this._options.loadGrammar(t);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(t,n=[],r=0,i=null){return this._syncRegistry.addGrammar(t,n),this._grammarForScopeName(t.scopeName,r,i)}_grammarForScopeName(t,n=0,r=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(t,n,r,i,s)}},DA=OA.NULL;const QMe=/["&'<>`]/g,ZMe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JMe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,eOe=/[|\\{}()[\]^$+*?.]/g,Qz=new WeakMap;function tOe(e,t){if(e=e.replace(t.subset?nOe(t.subset):QMe,r),t.subset||t.escapeOnly)return e;return e.replace(ZMe,n).replace(JMe,r);function n(i,s,a){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(s+2),t)}function r(i,s,a){return t.format(i.charCodeAt(0),a.charCodeAt(s+1),t)}}function nOe(e){let t=Qz.get(e);return t||(t=rOe(e),Qz.set(e,t)),t}function rOe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(eOe,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const iOe=/[\dA-Fa-f]/;function sOe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!iOe.test(String.fromCharCode(t))?r:r+";"}const aOe=/\d/;function oOe(e,t,n){const r="&#"+String(e);return n&&t&&!aOe.test(String.fromCharCode(t))?r:r+";"}const lOe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],sT={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},cOe=["cent","copy","divide","gt","lt","not","para","times"],gne={}.hasOwnProperty,LA={};let Zw;for(Zw in sT)gne.call(sT,Zw)&&(LA[sT[Zw]]=Zw);const uOe=/[^\dA-Za-z]/;function dOe(e,t,n,r){const i=String.fromCharCode(e);if(gne.call(LA,i)){const s=LA[i],a="&"+s;return n&&lOe.includes(s)&&!cOe.includes(s)&&(!r||t&&t!==61&&uOe.test(String.fromCharCode(t)))?a:a+";"}return""}function fOe(e,t,n){let r=sOe(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=dOe(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=oOe(e,t,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function ip(e,t){return tOe(e,Object.assign({format:fOe},t))}const hOe=/^>|^->|<!--|-->|--!>|<!-$/g,mOe=[">"],pOe=["<",">"];function gOe(e,t,n,r){return r.settings.bogusComments?"<?"+ip(e.value,Object.assign({},r.settings.characterReferences,{subset:mOe}))+">":"<!--"+e.value.replace(hOe,i)+"-->";function i(s){return ip(s,Object.assign({},r.settings.characterReferences,{subset:pOe}))}}function vOe(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const $i=yne(1),vne=yne(-1),yOe=[];function yne(e){return t;function t(n,r,i){const s=n?n.children:yOe;let a=(r||0)+e,o=s[a];if(!i)for(;o&&dk(o);)a+=e,o=s[a];return o}}const xOe={}.hasOwnProperty;function xne(e){return t;function t(n,r,i){return xOe.call(e,n.tagName)&&e[n.tagName](n,r,i)}}const UI=xne({body:wOe,caption:aT,colgroup:aT,dd:_Oe,dt:kOe,head:aT,html:bOe,li:SOe,optgroup:COe,option:NOe,p:EOe,rp:Zz,rt:Zz,tbody:AOe,td:Jz,tfoot:jOe,th:Jz,thead:TOe,tr:POe});function aT(e,t,n){const r=$i(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&dk(r.value.charAt(0)))}function bOe(e,t,n){const r=$i(n,t);return!r||r.type!=="comment"}function wOe(e,t,n){const r=$i(n,t);return!r||r.type!=="comment"}function EOe(e,t,n){const r=$i(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function SOe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&r.tagName==="li"}function kOe(e,t,n){const r=$i(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function _Oe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Zz(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function COe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function NOe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function TOe(e,t,n){const r=$i(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function AOe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function jOe(e,t,n){return!$i(n,t)}function POe(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function Jz(e,t,n){const r=$i(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const IOe=xne({body:OOe,colgroup:DOe,head:MOe,html:ROe,tbody:LOe});function ROe(e){const t=$i(e,-1);return!t||t.type!=="comment"}function MOe(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function OOe(e){const t=$i(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&dk(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function DOe(e,t,n){const r=vne(n,t),i=$i(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&UI(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function LOe(e,t,n){const r=vne(n,t),i=$i(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&UI(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Jw={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function FOe(e,t,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const o=[];let c;i.space==="html"&&e.tagName==="svg"&&(r.schema=Pf);const u=$Oe(r,e.properties),d=r.all(i.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=i,d&&(a=!1),(u||!s||!IOe(e,t,n))&&(o.push("<",e.tagName,u?" "+u:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(c=u.charAt(u.length-1),(!r.settings.tightSelfClosing||c==="/"||c&&c!=='"'&&c!=="'")&&o.push(" "),o.push("/")),o.push(">")),o.push(d),!a&&(!s||!UI(e,t,n))&&o.push("</"+e.tagName+">"),o.join("")}function $Oe(e,t){const n=[];let r=-1,i;if(t){for(i in t)if(t[i]!==null&&t[i]!==void 0){const s=zOe(e,i,t[i]);s&&n.push(s)}}for(;++r<n.length;){const s=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function zOe(e,t,n){const r=fk(e.schema,t),i=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,s=e.settings.allowDangerousCharacters?0:1;let a=e.quote,o;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const c=ip(r.attribute,Object.assign({},e.settings.characterReferences,{subset:Jw.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?UP:VP)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?c:(e.settings.preferUnquoted&&(o=ip(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:Jw.unquoted[i][s]}))),o!==n&&(e.settings.quoteSmart&&K4(n,a)>K4(n,e.alternative)&&(a=e.alternative),o=a+ip(n,Object.assign({},e.settings.characterReferences,{subset:(a==="'"?Jw.single:Jw.double)[i][s],attribute:!0}))+a),c+(o&&"="+o))}const BOe=["<","&"];function bne(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:ip(e.value,Object.assign({},r.settings.characterReferences,{subset:BOe}))}function UOe(e,t,n,r){return r.settings.allowDangerousHtml?e.value:bne(e,t,n,r)}function HOe(e,t,n,r){return r.all(e)}const VOe=jI("type",{invalid:qOe,unknown:WOe,handlers:{comment:gOe,doctype:vOe,element:FOe,raw:UOe,root:HOe,text:bne}});function qOe(e){throw new Error("Expected node, not `"+e+"`")}function WOe(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const GOe={},KOe={},YOe=[];function XOe(e,t){const n=t||GOe,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:QOe,all:ZOe,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||Yee,characterReferences:n.characterReferences||KOe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Pf:ux,quote:r,alternative:i}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function QOe(e,t,n){return VOe(e,t,n,this)}function ZOe(e){const t=[],n=e&&e.children||YOe;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function tE(e,t){const n=typeof e=="string"?{}:{...e.colorReplacements},r=typeof e=="string"?e:e.name;for(const[i,s]of Object.entries((t==null?void 0:t.colorReplacements)||{}))typeof s=="string"?n[i]=s:i===r&&Object.assign(n,s);return n}function lf(e,t){return e&&((t==null?void 0:t[e==null?void 0:e.toLowerCase()])||e)}function JOe(e){return Array.isArray(e)?e:[e]}async function wne(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}function HI(e){return!e||["plaintext","txt","text","plain"].includes(e)}function Ene(e){return e==="ansi"||HI(e)}function VI(e){return e==="none"}function Sne(e){return VI(e)}function kne(e,t){var r;if(!t)return e;e.properties||(e.properties={}),(r=e.properties).class||(r.class=[]),typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const n=Array.isArray(t)?t:t.split(/\s+/g);for(const i of n)i&&!e.properties.class.includes(i)&&e.properties.class.push(i);return e}function Ak(e,t=!1){var s;const n=e.split(/(\r?\n)/g);let r=0;const i=[];for(let a=0;a<n.length;a+=2){const o=t?n[a]+(n[a+1]||""):n[a];i.push([o,r]),r+=n[a].length,r+=((s=n[a+1])==null?void 0:s.length)||0}return i}function eDe(e){const t=Ak(e,!0).map(([i])=>i);function n(i){if(i===e.length)return{line:t.length-1,character:t[t.length-1].length};let s=i,a=0;for(const o of t){if(s<o.length)break;s-=o.length,a++}return{line:a,character:s}}function r(i,s){let a=0;for(let o=0;o<i;o++)a+=t[o].length;return a+=s,a}return{lines:t,indexToPos:n,posToIndex:r}}const qI="light-dark()",tDe=["color","background-color"];function nDe(e,t){let n=0;const r=[];for(const i of t)i>n&&r.push({...e,content:e.content.slice(n,i),offset:e.offset+n}),n=i;return n<e.content.length&&r.push({...e,content:e.content.slice(n),offset:e.offset+n}),r}function rDe(e,t){const n=Array.from(t instanceof Set?t:new Set(t)).sort((r,i)=>r-i);return n.length?e.map(r=>r.flatMap(i=>{const s=n.filter(a=>i.offset<a&&a<i.offset+i.content.length).map(a=>a-i.offset).sort((a,o)=>a-o);return s.length?nDe(i,s):i})):e}function iDe(e,t,n,r,i="css-vars"){const s={content:e.content,explanation:e.explanation,offset:e.offset},a=t.map(d=>nE(e.variants[d])),o=new Set(a.flatMap(d=>Object.keys(d))),c={},u=(d,f)=>{const h=f==="color"?"":f==="background-color"?"-bg":`-${f}`;return n+t[d]+(f==="color"?"":h)};return a.forEach((d,f)=>{for(const h of o){const p=d[h]||"inherit";if(f===0&&r&&tDe.includes(h))if(r===qI&&a.length>1){const v=t.findIndex(E=>E==="light"),x=t.findIndex(E=>E==="dark");if(v===-1||x===-1)throw new wi('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const b=a[v][h]||"inherit",w=a[x][h]||"inherit";c[h]=`light-dark(${b}, ${w})`,i==="css-vars"&&(c[u(f,h)]=p)}else c[h]=p;else i==="css-vars"&&(c[u(f,h)]=p)}}),s.htmlStyle=c,s}function nE(e){const t={};if(e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle){e.fontStyle&Ns.Italic&&(t["font-style"]="italic"),e.fontStyle&Ns.Bold&&(t["font-weight"]="bold");const n=[];e.fontStyle&Ns.Underline&&n.push("underline"),e.fontStyle&Ns.Strikethrough&&n.push("line-through"),n.length&&(t["text-decoration"]=n.join(" "))}return t}function FA(e){return typeof e=="string"?e:Object.entries(e).map(([t,n])=>`${t}:${n}`).join(";")}const _ne=new WeakMap;function jk(e,t){_ne.set(e,t)}function ly(e){return _ne.get(e)}class kg{constructor(...t){Oe(this,"_stacks",{});Oe(this,"lang");if(t.length===2){const[n,r]=t;this.lang=r,this._stacks=n}else{const[n,r,i]=t;this.lang=r,this._stacks={[i]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,n){return new kg(Object.fromEntries(JOe(n).map(r=>[r,DA])),t)}getInternalStack(t=this.theme){return this._stacks[t]}getScopes(t=this.theme){return sDe(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function sDe(e){const t=[],n=new Set;function r(i){var a;if(n.has(i))return;n.add(i);const s=(a=i==null?void 0:i.nameScopesList)==null?void 0:a.scopeName;s&&t.push(s),i.parent&&r(i.parent)}return r(e),t}function aDe(e,t){if(!(e instanceof kg))throw new wi("Invalid grammar state");return e.getInternalStack(t)}function oDe(){const e=new WeakMap;function t(n){if(!e.has(n.meta)){let r=function(a){if(typeof a=="number"){if(a<0||a>n.source.length)throw new wi(`Invalid decoration offset: ${a}. Code length: ${n.source.length}`);return{...i.indexToPos(a),offset:a}}else{const o=i.lines[a.line];if(o===void 0)throw new wi(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${i.lines.length}`);let c=a.character;if(c<0&&(c=o.length+c),c<0||c>o.length)throw new wi(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${o.length}`);return{...a,character:c,offset:i.posToIndex(a.line,c)}}};const i=eDe(n.source),s=(n.options.decorations||[]).map(a=>({...a,start:r(a.start),end:r(a.end)}));lDe(s),e.set(n.meta,{decorations:s,converter:i,source:n.source})}return e.get(n.meta)}return{name:"shiki:decorations",tokens(n){var a;if(!((a=this.options.decorations)!=null&&a.length))return;const i=t(this).decorations.flatMap(o=>[o.start.offset,o.end.offset]);return rDe(n,i)},code(n){var d;if(!((d=this.options.decorations)!=null&&d.length))return;const r=t(this),i=Array.from(n.children).filter(f=>f.type==="element"&&f.tagName==="span");if(i.length!==r.converter.lines.length)throw new wi(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(f,h,p,v){const x=i[f];let b="",w=-1,E=-1;if(h===0&&(w=0),p===0&&(E=0),p===Number.POSITIVE_INFINITY&&(E=x.children.length),w===-1||E===-1)for(let _=0;_<x.children.length;_++)b+=Cne(x.children[_]),w===-1&&b.length===h&&(w=_+1),E===-1&&b.length===p&&(E=_+1);if(w===-1)throw new wi(`Failed to find start index for decoration ${JSON.stringify(v.start)}`);if(E===-1)throw new wi(`Failed to find end index for decoration ${JSON.stringify(v.end)}`);const k=x.children.slice(w,E);if(!v.alwaysWrap&&k.length===x.children.length)o(x,v,"line");else if(!v.alwaysWrap&&k.length===1&&k[0].type==="element")o(k[0],v,"token");else{const _={type:"element",tagName:"span",properties:{},children:k};o(_,v,"wrapper"),x.children.splice(w,k.length,_)}}function a(f,h){i[f]=o(i[f],h,"line")}function o(f,h,p){var b;const v=h.properties||{},x=h.transform||(w=>w);return f.tagName=h.tagName||"span",f.properties={...f.properties,...v,class:f.properties.class},(b=h.properties)!=null&&b.class&&kne(f,h.properties.class),f=x(f,p)||f,f}const c=[],u=r.decorations.sort((f,h)=>h.start.offset-f.start.offset||f.end.offset-h.end.offset);for(const f of u){const{start:h,end:p}=f;if(h.line===p.line)s(h.line,h.character,p.character,f);else if(h.line<p.line){s(h.line,h.character,Number.POSITIVE_INFINITY,f);for(let v=h.line+1;v<p.line;v++)c.unshift(()=>a(v,f));s(p.line,0,p.character,f)}}c.forEach(f=>f())}}}function lDe(e){for(let t=0;t<e.length;t++){const n=e[t];if(n.start.offset>n.end.offset)throw new wi(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=t+1;r<e.length;r++){const i=e[r],s=n.start.offset<=i.start.offset&&i.start.offset<n.end.offset,a=n.start.offset<i.end.offset&&i.end.offset<=n.end.offset,o=i.start.offset<=n.start.offset&&n.start.offset<i.end.offset,c=i.start.offset<n.end.offset&&n.end.offset<=i.end.offset;if(s||a||o||c){if(s&&a||o&&c||o&&n.start.offset===n.end.offset||a&&i.start.offset===i.end.offset)continue;throw new wi(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function Cne(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(Cne).join(""):""}const cDe=[oDe()];function rE(e){const t=uDe(e.transformers||[]);return[...t.pre,...t.normal,...t.post,...cDe]}function uDe(e){const t=[],n=[],r=[];for(const i of e)switch(i.enforce){case"pre":t.push(i);break;case"post":n.push(i);break;default:r.push(i)}return{pre:t,post:n,normal:r}}var vh=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],oT={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function dDe(e,t){const n=e.indexOf("\x1B",t);if(n!==-1&&e[n+1]==="["){const r=e.indexOf("m",n);if(r!==-1)return{sequence:e.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:e.length}}function eB(e){const t=e.shift();if(t==="2"){const n=e.splice(0,3).map(r=>Number.parseInt(r));return n.length!==3||n.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:n}}else if(t==="5"){const n=e.shift();if(n)return{type:"table",index:Number(n)}}}function fDe(e){const t=[];for(;e.length>0;){const n=e.shift();if(!n)continue;const r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)t.push({type:"resetAll"});else if(r<=9)oT[r]&&t.push({type:"setDecoration",value:oT[r]});else if(r<=29){const i=oT[r-20];i&&(t.push({type:"resetDecoration",value:i}),i==="dim"&&t.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)t.push({type:"setForegroundColor",value:{type:"named",name:vh[r-30]}});else if(r===38){const i=eB(e);i&&t.push({type:"setForegroundColor",value:i})}else if(r===39)t.push({type:"resetForegroundColor"});else if(r<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:vh[r-40]}});else if(r===48){const i=eB(e);i&&t.push({type:"setBackgroundColor",value:i})}else r===49?t.push({type:"resetBackgroundColor"}):r===53?t.push({type:"setDecoration",value:"overline"}):r===55?t.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?t.push({type:"setForegroundColor",value:{type:"named",name:vh[r-90+8]}}):r>=100&&r<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:vh[r-100+8]}})}return t}function hDe(){let e=null,t=null,n=new Set;return{parse(r){const i=[];let s=0;do{const a=dDe(r,s),o=a.sequence?r.substring(s,a.startPosition):r.substring(s);if(o.length>0&&i.push({value:o,foreground:e,background:t,decorations:new Set(n)}),a.sequence){const c=fDe(a.sequence);for(const u of c)u.type==="resetAll"?(e=null,t=null,n.clear()):u.type==="resetForegroundColor"?e=null:u.type==="resetBackgroundColor"?t=null:u.type==="resetDecoration"&&n.delete(u.value);for(const u of c)u.type==="setForegroundColor"?e=u.value:u.type==="setBackgroundColor"?t=u.value:u.type==="setDecoration"&&n.add(u.value)}s=a.position}while(s<r.length);return i}}}var mDe={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function pDe(e=mDe){function t(o){return e[o]}function n(o){return`#${o.map(c=>Math.max(0,Math.min(c,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let u=0;u<vh.length;u++)r.push(t(vh[u]));let o=[0,95,135,175,215,255];for(let u=0;u<6;u++)for(let d=0;d<6;d++)for(let f=0;f<6;f++)r.push(n([o[u],o[d],o[f]]));let c=8;for(let u=0;u<24;u++,c+=10)r.push(n([c,c,c]));return r}function s(o){return i()[o]}function a(o){switch(o.type){case"named":return t(o.name);case"rgb":return n(o.rgb);case"table":return s(o.index)}}return{value:a}}const gDe={black:"#000000",red:"#cd3131",green:"#0DBC79",yellow:"#E5E510",blue:"#2472C8",magenta:"#BC3FBC",cyan:"#11A8CD",white:"#E5E5E5",brightBlack:"#666666",brightRed:"#F14C4C",brightGreen:"#23D18B",brightYellow:"#F5F543",brightBlue:"#3B8EEA",brightMagenta:"#D670D6",brightCyan:"#29B8DB",brightWhite:"#FFFFFF"};function vDe(e,t,n){const r=tE(e,n),i=Ak(t),s=Object.fromEntries(vh.map(c=>{var f;const u=`terminal.ansi${c[0].toUpperCase()}${c.substring(1)}`,d=(f=e.colors)==null?void 0:f[u];return[c,d||gDe[c]]})),a=pDe(s),o=hDe();return i.map(c=>o.parse(c[0]).map(u=>{let d,f;u.decorations.has("reverse")?(d=u.background?a.value(u.background):e.bg,f=u.foreground?a.value(u.foreground):e.fg):(d=u.foreground?a.value(u.foreground):e.fg,f=u.background?a.value(u.background):void 0),d=lf(d,r),f=lf(f,r),u.decorations.has("dim")&&(d=yDe(d));let h=Ns.None;return u.decorations.has("bold")&&(h|=Ns.Bold),u.decorations.has("italic")&&(h|=Ns.Italic),u.decorations.has("underline")&&(h|=Ns.Underline),u.decorations.has("strikethrough")&&(h|=Ns.Strikethrough),{content:u.value,offset:c[1],color:d,bgColor:f,fontStyle:h}}))}function yDe(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/i);if(t)if(t[3]){const r=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${r}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(r=>`${r}${r}`).join("")}80`;const n=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:e}function WI(e,t,n={}){const{lang:r="text",theme:i=e.getLoadedThemes()[0]}=n;if(HI(r)||VI(i))return Ak(t).map(c=>[{content:c[0],offset:c[1]}]);const{theme:s,colorMap:a}=e.setTheme(i);if(r==="ansi")return vDe(s,t,n);const o=e.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==o.name)throw new wi(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${o.name}"`);if(!n.grammarState.themes.includes(s.name))throw new wi(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return bDe(t,o,s,a,n)}function xDe(...e){if(e.length===2)return ly(e[1]);const[t,n,r={}]=e,{lang:i="text",theme:s=t.getLoadedThemes()[0]}=r;if(HI(i)||VI(s))throw new wi("Plain language does not have grammar state");if(i==="ansi")throw new wi("ANSI language does not have grammar state");const{theme:a,colorMap:o}=t.setTheme(s),c=t.getLanguage(i);return new kg(iE(n,c,a,o,r).stateStack,c.name,a.name)}function bDe(e,t,n,r,i){const s=iE(e,t,n,r,i),a=new kg(iE(e,t,n,r,i).stateStack,t.name,n.name);return jk(s.tokens,a),s.tokens}function iE(e,t,n,r,i){const s=tE(n,i),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:o=500}=i,c=Ak(e);let u=i.grammarState?aDe(i.grammarState,n.name)??DA:i.grammarContextCode!=null?iE(i.grammarContextCode,t,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:DA,d=[];const f=[];for(let h=0,p=c.length;h<p;h++){const[v,x]=c[h];if(v===""){d=[],f.push([]);continue}if(a>0&&v.length>=a){d=[],f.push([{content:v,offset:x,color:"",fontStyle:0}]);continue}let b,w,E;i.includeExplanation&&(b=t.tokenizeLine(v,u,o),w=b.tokens,E=0);const k=t.tokenizeLine2(v,u,o),_=k.tokens.length/2;for(let A=0;A<_;A++){const T=k.tokens[2*A],C=A+1<_?k.tokens[2*A+2]:v.length;if(T===C)continue;const I=k.tokens[2*A+1],B=lf(r[Ip.getForeground(I)],s),$=Ip.getFontStyle(I),L={content:v.substring(T,C),offset:x+T,color:B,fontStyle:$};if(i.includeExplanation){const U=[];if(i.includeExplanation!=="scopeName")for(const V of n.settings){let K;switch(typeof V.scope){case"string":K=V.scope.split(/,/).map(W=>W.trim());break;case"object":K=V.scope;break;default:continue}U.push({settings:V,selectors:K.map(W=>W.split(/ /))})}L.explanation=[];let Y=0;for(;T+Y<C;){const V=w[E],K=v.substring(V.startIndex,V.endIndex);Y+=K.length,L.explanation.push({content:K,scopes:i.includeExplanation==="scopeName"?wDe(V.scopes):EDe(U,V.scopes)}),E+=1}}d.push(L)}f.push(d),d=[],u=k.ruleStack}return{tokens:f,stateStack:u}}function wDe(e){return e.map(t=>({scopeName:t}))}function EDe(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r];n[r]={scopeName:s,themeMatches:kDe(e,s,t.slice(0,r))}}return n}function tB(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}function SDe(e,t,n){if(!tB(e[e.length-1],t))return!1;let r=e.length-2,i=n.length-1;for(;r>=0&&i>=0;)tB(e[r],n[i])&&(r-=1),i-=1;return r===-1}function kDe(e,t,n){const r=[];for(const{selectors:i,settings:s}of e)for(const a of i)if(SDe(a,t,n)){r.push(s);break}return r}function Nne(e,t,n){const r=Object.entries(n.themes).filter(c=>c[1]).map(c=>({color:c[0],theme:c[1]})),i=r.map(c=>{const u=WI(e,t,{...n,theme:c.theme}),d=ly(u),f=typeof c.theme=="string"?c.theme:c.theme.name;return{tokens:u,state:d,theme:f}}),s=_De(...i.map(c=>c.tokens)),a=s[0].map((c,u)=>c.map((d,f)=>{const h={content:d.content,variants:{},offset:d.offset};return"includeExplanation"in n&&n.includeExplanation&&(h.explanation=d.explanation),s.forEach((p,v)=>{const{content:x,explanation:b,offset:w,...E}=p[u][f];h.variants[r[v].color]=E}),h})),o=i[0].state?new kg(Object.fromEntries(i.map(c=>{var u;return[c.theme,(u=c.state)==null?void 0:u.getInternalStack(c.theme)]})),i[0].state.lang):void 0;return o&&jk(a,o),a}function _De(...e){const t=e.map(()=>[]),n=e.length;for(let r=0;r<e[0].length;r++){const i=e.map(c=>c[r]),s=t.map(()=>[]);t.forEach((c,u)=>c.push(s[u]));const a=i.map(()=>0),o=i.map(c=>c[0]);for(;o.every(c=>c);){const c=Math.min(...o.map(u=>u.content.length));for(let u=0;u<n;u++){const d=o[u];d.content.length===c?(s[u].push(d),a[u]+=1,o[u]=i[u][a[u]]):(s[u].push({...d,content:d.content.slice(0,c)}),o[u]={...d,content:d.content.slice(c),offset:d.offset+c})}}}return t}function sE(e,t,n){let r,i,s,a,o,c;if("themes"in n){const{defaultColor:u="light",cssVariablePrefix:d="--shiki-",colorsRendering:f="css-vars"}=n,h=Object.entries(n.themes).filter(w=>w[1]).map(w=>({color:w[0],theme:w[1]})).sort((w,E)=>w.color===u?-1:E.color===u?1:0);if(h.length===0)throw new wi("`themes` option must not be empty");const p=Nne(e,t,n);if(c=ly(p),u&&qI!==u&&!h.find(w=>w.color===u))throw new wi(`\`themes\` option must contain the defaultColor key \`${u}\``);const v=h.map(w=>e.getTheme(w.theme)),x=h.map(w=>w.color);s=p.map(w=>w.map(E=>iDe(E,x,d,u,f))),c&&jk(s,c);const b=h.map(w=>tE(w.theme,n));i=nB(h,v,b,d,u,"fg",f),r=nB(h,v,b,d,u,"bg",f),a=`shiki-themes ${v.map(w=>w.name).join(" ")}`,o=u?void 0:[i,r].join(";")}else if("theme"in n){const u=tE(n.theme,n);s=WI(e,t,n);const d=e.getTheme(n.theme);r=lf(d.bg,u),i=lf(d.fg,u),a=d.name,c=ly(s)}else throw new wi("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:r,themeName:a,rootStyle:o,grammarState:c}}function nB(e,t,n,r,i,s,a){return e.map((o,c)=>{const u=lf(t[c][s],n[c])||"inherit",d=`${r+o.color}${s==="bg"?"-bg":""}:${u}`;if(c===0&&i){if(i===qI&&e.length>1){const f=e.findIndex(x=>x.color==="light"),h=e.findIndex(x=>x.color==="dark");if(f===-1||h===-1)throw new wi('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const p=lf(t[f][s],n[f])||"inherit",v=lf(t[h][s],n[h])||"inherit";return`light-dark(${p}, ${v});${d}`}return u}return a==="css-vars"?d:null}).filter(o=>!!o).join(";")}function aE(e,t,n,r={meta:{},options:n,codeToHast:(i,s)=>aE(e,i,s),codeToTokens:(i,s)=>sE(e,i,s)}){var v,x;let i=t;for(const b of rE(n))i=((v=b.preprocess)==null?void 0:v.call(r,i,n))||i;let{tokens:s,fg:a,bg:o,themeName:c,rootStyle:u,grammarState:d}=sE(e,i,n);const{mergeWhitespaces:f=!0,mergeSameStyleTokens:h=!1}=n;f===!0?s=NDe(s):f==="never"&&(s=TDe(s)),h&&(s=ADe(s));const p={...r,get source(){return i}};for(const b of rE(n))s=((x=b.tokens)==null?void 0:x.call(p,s))||s;return CDe(s,{...n,fg:a,bg:o,themeName:c,rootStyle:u},p,d)}function CDe(e,t,n,r=ly(e)){var v,x,b;const i=rE(t),s=[],a={type:"root",children:[]},{structure:o="classic",tabindex:c="0"}=t;let u={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...c!==!1&&c!=null?{tabindex:c.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([w])=>!w.startsWith("_")))},children:[]},d={type:"element",tagName:"code",properties:{},children:s};const f=[],h={...n,structure:o,addClassToHast:kne,get source(){return n.source},get tokens(){return e},get options(){return t},get root(){return a},get pre(){return u},get code(){return d},get lines(){return f}};if(e.forEach((w,E)=>{var A,T;E&&(o==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):o==="classic"&&s.push({type:"text",value:`
`}));let k={type:"element",tagName:"span",properties:{class:"line"},children:[]},_=0;for(const C of w){let I={type:"element",tagName:"span",properties:{...C.htmlAttrs},children:[{type:"text",value:C.content}]};const B=FA(C.htmlStyle||nE(C));B&&(I.properties.style=B);for(const $ of i)I=((A=$==null?void 0:$.span)==null?void 0:A.call(h,I,E+1,_,k,C))||I;o==="inline"?a.children.push(I):o==="classic"&&k.children.push(I),_+=C.content.length}if(o==="classic"){for(const C of i)k=((T=C==null?void 0:C.line)==null?void 0:T.call(h,k,E+1))||k;f.push(k),s.push(k)}}),o==="classic"){for(const w of i)d=((v=w==null?void 0:w.code)==null?void 0:v.call(h,d))||d;u.children.push(d);for(const w of i)u=((x=w==null?void 0:w.pre)==null?void 0:x.call(h,u))||u;a.children.push(u)}let p=a;for(const w of i)p=((b=w==null?void 0:w.root)==null?void 0:b.call(h,p))||p;return r&&jk(p,r),p}function NDe(e){return e.map(t=>{const n=[];let r="",i=0;return t.forEach((s,a)=>{const c=!(s.fontStyle&&(s.fontStyle&Ns.Underline||s.fontStyle&Ns.Strikethrough));c&&s.content.match(/^\s+$/)&&t[a+1]?(i||(i=s.offset),r+=s.content):r?(c?n.push({...s,offset:i,content:r+s.content}):n.push({content:r,offset:i},s),i=0,r=""):n.push(s)}),n})}function TDe(e){return e.map(t=>t.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,s,a]=r;if(!i&&!a)return n;const o=[{...n,offset:n.offset+i.length,content:s}];return i&&o.unshift({content:i,offset:n.offset}),a&&o.push({content:a,offset:n.offset+i.length+s.length}),o}))}function ADe(e){return e.map(t=>{const n=[];for(const r of t){if(n.length===0){n.push({...r});continue}const i=n[n.length-1],s=FA(i.htmlStyle||nE(i)),a=FA(r.htmlStyle||nE(r)),o=i.fontStyle&&(i.fontStyle&Ns.Underline||i.fontStyle&Ns.Strikethrough),c=r.fontStyle&&(r.fontStyle&Ns.Underline||r.fontStyle&Ns.Strikethrough);!o&&!c&&s===a?i.content+=r.content:n.push({...r})}return n})}const jDe=XOe;function PDe(e,t,n){var s;const r={meta:{},options:n,codeToHast:(a,o)=>aE(e,a,o),codeToTokens:(a,o)=>sE(e,a,o)};let i=jDe(aE(e,t,n,r));for(const a of rE(n))i=((s=a.postprocess)==null?void 0:s.call(r,i,n))||i;return i}const rB={light:"#333333",dark:"#bbbbbb"},iB={light:"#fffffe",dark:"#1e1e1e"},sB="__shiki_resolved";function GI(e){var o,c,u,d,f;if(e!=null&&e[sB])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||(t.type="dark"),t.colorReplacements={...t.colorReplacements},t.settings||(t.settings=[]);let{bg:n,fg:r}=t;if(!n||!r){const h=t.settings?t.settings.find(p=>!p.name&&!p.scope):void 0;(o=h==null?void 0:h.settings)!=null&&o.foreground&&(r=h.settings.foreground),(c=h==null?void 0:h.settings)!=null&&c.background&&(n=h.settings.background),!r&&((u=t==null?void 0:t.colors)!=null&&u["editor.foreground"])&&(r=t.colors["editor.foreground"]),!n&&((d=t==null?void 0:t.colors)!=null&&d["editor.background"])&&(n=t.colors["editor.background"]),r||(r=t.type==="light"?rB.light:rB.dark),n||(n=t.type==="light"?iB.light:iB.dark),t.fg=r,t.bg=n}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let i=0;const s=new Map;function a(h){var v;if(s.has(h))return s.get(h);i+=1;const p=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return(v=t.colorReplacements)!=null&&v[`#${p}`]?a(h):(s.set(h,p),p)}t.settings=t.settings.map(h=>{var b,w;const p=((b=h.settings)==null?void 0:b.foreground)&&!h.settings.foreground.startsWith("#"),v=((w=h.settings)==null?void 0:w.background)&&!h.settings.background.startsWith("#");if(!p&&!v)return h;const x={...h,settings:{...h.settings}};if(p){const E=a(h.settings.foreground);t.colorReplacements[E]=h.settings.foreground,x.settings.foreground=E}if(v){const E=a(h.settings.background);t.colorReplacements[E]=h.settings.background,x.settings.background=E}return x});for(const h of Object.keys(t.colors||{}))if((h==="editor.foreground"||h==="editor.background"||h.startsWith("terminal.ansi"))&&!((f=t.colors[h])!=null&&f.startsWith("#"))){const p=a(t.colors[h]);t.colorReplacements[p]=t.colors[h],t.colors[h]=p}return Object.defineProperty(t,sB,{enumerable:!1,writable:!1,value:!0}),t}async function Tne(e){return Array.from(new Set((await Promise.all(e.filter(t=>!Ene(t)).map(async t=>await wne(t).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Ane(e){return(await Promise.all(e.map(async n=>Sne(n)?null:GI(await wne(n))))).filter(n=>!!n)}let IDe=3;function RDe(e,t=3){t>IDe||console.trace(`[SHIKI DEPRECATE]: ${e}`)}let Fm=class extends Error{constructor(t){super(t),this.name="ShikiError"}};class MDe extends XMe{constructor(n,r,i,s={}){super(n);Oe(this,"_resolvedThemes",new Map);Oe(this,"_resolvedGrammars",new Map);Oe(this,"_langMap",new Map);Oe(this,"_langGraph",new Map);Oe(this,"_textmateThemeCache",new WeakMap);Oe(this,"_loadedThemesCache",null);Oe(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=i,this._alias=s,this._themes.map(a=>this.loadTheme(a)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const r=GI(n);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=X4.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new Fm(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var a,o,c,u;if(this.getGrammar(n.name))return;const r=new Set([...this._langMap.values()].filter(d=>{var f;return(f=d.embeddedLangsLazy)==null?void 0:f.includes(n.name)}));this._resolver.addLanguage(n);const i={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const s=this.loadGrammarWithConfiguration(n.scopeName,1,i);if(s.name=n.name,this._resolvedGrammars.set(n.name,s),n.aliases&&n.aliases.forEach(d=>{this._alias[d]=n.name}),this._loadedLanguagesCache=null,r.size)for(const d of r)this._resolvedGrammars.delete(d.name),this._loadedLanguagesCache=null,(o=(a=this._syncRegistry)==null?void 0:a._injectionGrammars)==null||o.delete(d.scopeName),(u=(c=this._syncRegistry)==null?void 0:c._grammars)==null||u.delete(d.scopeName),this.loadLanguage(this._langMap.get(d.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const s of n)this.resolveEmbeddedLanguages(s);const r=Array.from(this._langGraph.entries()),i=r.filter(([s,a])=>!a);if(i.length){const s=r.filter(([a,o])=>{var c;return o&&((c=o.embeddedLangs)==null?void 0:c.some(u=>i.map(([d])=>d).includes(u)))}).filter(a=>!i.includes(a));throw new Fm(`Missing languages ${i.map(([a])=>`\`${a}\``).join(", ")}, required by ${s.map(([a])=>`\`${a}\``).join(", ")}`)}for(const[s,a]of r)this._resolver.addLanguage(a);for(const[s,a]of r)this.loadLanguage(a)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class ODe{constructor(t,n){Oe(this,"_langs",new Map);Oe(this,"_scopeToLang",new Map);Oe(this,"_injections",new Map);Oe(this,"_onigLib");this._onigLib={createOnigScanner:r=>t.createScanner(r),createOnigString:r=>t.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(n=>{this._langs.set(n,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(t.scopeName)})}getInjections(t){const n=t.split(".");let r=[];for(let i=1;i<=n.length;i++){const s=n.slice(0,i).join(".");r=[...r,...this._injections.get(s)||[]]}return r}}let j1=0;function DDe(e){j1+=1,e.warnings!==!1&&j1>=10&&j1%10===0&&console.warn(`[Shiki] ${j1} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new Fm("`engine` option is required for synchronous mode");const n=(e.langs||[]).flat(1),r=(e.themes||[]).flat(1).map(GI),i=new ODe(e.engine,n),s=new MDe(i,r,n,e.langAlias);let a;function o(E){b();const k=s.getGrammar(typeof E=="string"?E:E.name);if(!k)throw new Fm(`Language \`${E}\` not found, you may need to load it first`);return k}function c(E){if(E==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};b();const k=s.getTheme(E);if(!k)throw new Fm(`Theme \`${E}\` not found, you may need to load it first`);return k}function u(E){b();const k=c(E);a!==E&&(s.setTheme(k),a=E);const _=s.getColorMap();return{theme:k,colorMap:_}}function d(){return b(),s.getLoadedThemes()}function f(){return b(),s.getLoadedLanguages()}function h(...E){b(),s.loadLanguages(E.flat(1))}async function p(...E){return h(await Tne(E))}function v(...E){b();for(const k of E.flat(1))s.loadTheme(k)}async function x(...E){return b(),v(await Ane(E))}function b(){if(t)throw new Fm("Shiki instance has been disposed")}function w(){t||(t=!0,s.dispose(),j1-=1)}return{setTheme:u,getTheme:c,getLanguage:o,getLoadedThemes:d,getLoadedLanguages:f,loadLanguage:p,loadLanguageSync:h,loadTheme:x,loadThemeSync:v,dispose:w,[Symbol.dispose]:w}}async function LDe(e){e.engine||RDe("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[t,n,r]=await Promise.all([Ane(e.themes||[]),Tne(e.langs||[]),e.engine]);return DDe({...e,themes:t,langs:n,engine:r})}async function FDe(e){const t=await LDe(e);return{getLastGrammarState:(...n)=>xDe(t,...n),codeToTokensBase:(n,r)=>WI(t,n,r),codeToTokensWithThemes:(n,r)=>Nne(t,n,r),codeToTokens:(n,r)=>sE(t,n,r),codeToHast:(n,r)=>aE(t,n,r),codeToHtml:(n,r)=>PDe(t,n,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...t,getInternalContext:()=>t}}function $De(e){const t=e.langs,n=e.themes,r=e.engine;async function i(s){function a(f){var h;if(typeof f=="string"){if(Ene(f))return[];f=((h=s.langAlias)==null?void 0:h[f])||f;const p=t[f];if(!p)throw new wi(`Language \`${f}\` is not included in this bundle. You may want to load it from external source.`);return p}return f}function o(f){if(Sne(f))return"none";if(typeof f=="string"){const h=n[f];if(!h)throw new wi(`Theme \`${f}\` is not included in this bundle. You may want to load it from external source.`);return h}return f}const c=(s.themes??[]).map(f=>o(f)),u=(s.langs??[]).map(f=>a(f)),d=await FDe({engine:s.engine??r(),...s,themes:c,langs:u});return{...d,loadLanguage(...f){return d.loadLanguage(...f.map(a))},loadTheme(...f){return d.loadTheme(...f.map(o))},getBundledLanguages(){return t},getBundledThemes(){return n}}}return i}const jne=[{id:"abap",name:"ABAP",import:(()=>le(()=>import("./abap-BdImnpbu.js"),[]))},{id:"actionscript-3",name:"ActionScript",import:(()=>le(()=>import("./actionscript-3-CfeIJUat.js"),[]))},{id:"ada",name:"Ada",import:(()=>le(()=>import("./ada-bCR0ucgS.js"),[]))},{id:"angular-html",name:"Angular HTML",import:(()=>le(()=>import("./angular-html-CU67Zn6k.js").then(e=>e.f),__vite__mapDeps([0,1,2,3])))},{id:"angular-ts",name:"Angular TypeScript",import:(()=>le(()=>import("./angular-ts-BwZT4LLn.js"),__vite__mapDeps([4,0,1,2,3,5])))},{id:"apache",name:"Apache Conf",import:(()=>le(()=>import("./apache-Pmp26Uib.js"),[]))},{id:"apex",name:"Apex",import:(()=>le(()=>import("./apex-DhZLUxFE.js"),[]))},{id:"apl",name:"APL",import:(()=>le(()=>import("./apl-dKokRX4l.js"),__vite__mapDeps([6,1,2,3,7,8,9])))},{id:"applescript",name:"AppleScript",import:(()=>le(()=>import("./applescript-Co6uUVPk.js"),[]))},{id:"ara",name:"Ara",import:(()=>le(()=>import("./ara-BRHolxvo.js"),[]))},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:(()=>le(()=>import("./asciidoc-Dv7Oe6Be.js"),[]))},{id:"asm",name:"Assembly",import:(()=>le(()=>import("./asm-D_Q5rh1f.js"),[]))},{id:"astro",name:"Astro",import:(()=>le(()=>import("./astro-CbQHKStN.js"),__vite__mapDeps([10,9,2,11,3,12,13])))},{id:"awk",name:"AWK",import:(()=>le(()=>import("./awk-DMzUqQB5.js"),[]))},{id:"ballerina",name:"Ballerina",import:(()=>le(()=>import("./ballerina-BFfxhgS-.js"),[]))},{id:"bat",name:"Batch File",aliases:["batch"],import:(()=>le(()=>import("./bat-BkioyH1T.js"),[]))},{id:"beancount",name:"Beancount",import:(()=>le(()=>import("./beancount-k_qm7-4y.js"),[]))},{id:"berry",name:"Berry",aliases:["be"],import:(()=>le(()=>import("./berry-D08WgyRC.js"),[]))},{id:"bibtex",name:"BibTeX",import:(()=>le(()=>import("./bibtex-CHM0blh-.js"),[]))},{id:"bicep",name:"Bicep",import:(()=>le(()=>import("./bicep-Bmn6On1c.js"),[]))},{id:"blade",name:"Blade",import:(()=>le(()=>import("./blade-DVc8C-J4.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9])))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:(()=>le(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18])))},{id:"c",name:"C",import:(()=>le(()=>import("./c-BIGW1oBm.js"),[]))},{id:"cadence",name:"Cadence",aliases:["cdc"],import:(()=>le(()=>import("./cadence-Bv_4Rxtq.js"),[]))},{id:"cairo",name:"Cairo",import:(()=>le(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20])))},{id:"clarity",name:"Clarity",import:(()=>le(()=>import("./clarity-D53aC0YG.js"),[]))},{id:"clojure",name:"Clojure",aliases:["clj"],import:(()=>le(()=>import("./clojure-P80f7IUj.js"),[]))},{id:"cmake",name:"CMake",import:(()=>le(()=>import("./cmake-D1j8_8rp.js"),[]))},{id:"cobol",name:"COBOL",import:(()=>le(()=>import("./cobol-nwyudZeR.js"),__vite__mapDeps([21,1,2,3,8])))},{id:"codeowners",name:"CODEOWNERS",import:(()=>le(()=>import("./codeowners-Bp6g37R7.js"),[]))},{id:"codeql",name:"CodeQL",aliases:["ql"],import:(()=>le(()=>import("./codeql-DsOJ9woJ.js"),[]))},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:(()=>le(()=>import("./coffee-Ch7k5sss.js"),__vite__mapDeps([22,2])))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:(()=>le(()=>import("./common-lisp-Cg-RD9OK.js"),[]))},{id:"coq",name:"Coq",import:(()=>le(()=>import("./coq-DkFqJrB1.js"),[]))},{id:"cpp",name:"C++",aliases:["c++"],import:(()=>le(()=>import("./cpp-CofmeUqb.js"),__vite__mapDeps([23,24,25,26,16])))},{id:"crystal",name:"Crystal",import:(()=>le(()=>import("./crystal-tKQVLTB8.js"),__vite__mapDeps([27,1,2,3,16,26,28])))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:(()=>le(()=>import("./csharp-CX12Zw3r.js"),[]))},{id:"css",name:"CSS",import:(()=>le(()=>import("./css-DPfMkruS.js"),[]))},{id:"csv",name:"CSV",import:(()=>le(()=>import("./csv-fuZLfV_i.js"),[]))},{id:"cue",name:"CUE",import:(()=>le(()=>import("./cue-D82EKSYY.js"),[]))},{id:"cypher",name:"Cypher",aliases:["cql"],import:(()=>le(()=>import("./cypher-COkxafJQ.js"),[]))},{id:"d",name:"D",import:(()=>le(()=>import("./d-85-TOEBH.js"),[]))},{id:"dart",name:"Dart",import:(()=>le(()=>import("./dart-CF10PKvl.js"),[]))},{id:"dax",name:"DAX",import:(()=>le(()=>import("./dax-CEL-wOlO.js"),[]))},{id:"desktop",name:"Desktop",import:(()=>le(()=>import("./desktop-BmXAJ9_W.js"),[]))},{id:"diff",name:"Diff",import:(()=>le(()=>import("./diff-D97Zzqfu.js"),[]))},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:(()=>le(()=>import("./docker-BcOcwvcX.js"),[]))},{id:"dotenv",name:"dotEnv",import:(()=>le(()=>import("./dotenv-Da5cRb03.js"),[]))},{id:"dream-maker",name:"Dream Maker",import:(()=>le(()=>import("./dream-maker-BtqSS_iP.js"),[]))},{id:"edge",name:"Edge",import:(()=>le(()=>import("./edge-BkV0erSs.js"),__vite__mapDeps([29,11,1,2,3,15])))},{id:"elixir",name:"Elixir",import:(()=>le(()=>import("./elixir-CDX3lj18.js"),__vite__mapDeps([30,1,2,3])))},{id:"elm",name:"Elm",import:(()=>le(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26])))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:(()=>le(()=>import("./emacs-lisp-C9XAeP06.js"),[]))},{id:"erb",name:"ERB",import:(()=>le(()=>import("./erb-BOJIQeun.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"erlang",name:"Erlang",aliases:["erl"],import:(()=>le(()=>import("./erlang-DsQrWhSR.js"),__vite__mapDeps([39,40])))},{id:"fennel",name:"Fennel",import:(()=>le(()=>import("./fennel-BYunw83y.js"),[]))},{id:"fish",name:"Fish",import:(()=>le(()=>import("./fish-BvzEVeQv.js"),[]))},{id:"fluent",name:"Fluent",aliases:["ftl"],import:(()=>le(()=>import("./fluent-C4IJs8-o.js"),[]))},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:(()=>le(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([41,42])))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:(()=>le(()=>import("./fortran-free-form-D22FLkUw.js"),[]))},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:(()=>le(()=>import("./fsharp-CXgrBDvD.js"),__vite__mapDeps([43,40])))},{id:"gdresource",name:"GDResource",import:(()=>le(()=>import("./gdresource-B7Tvp0Sc.js"),__vite__mapDeps([44,45,46])))},{id:"gdscript",name:"GDScript",import:(()=>le(()=>import("./gdscript-DTMYz4Jt.js"),[]))},{id:"gdshader",name:"GDShader",import:(()=>le(()=>import("./gdshader-DkwncUOv.js"),[]))},{id:"genie",name:"Genie",import:(()=>le(()=>import("./genie-D0YGMca9.js"),[]))},{id:"gherkin",name:"Gherkin",import:(()=>le(()=>import("./gherkin-DyxjwDmM.js"),[]))},{id:"git-commit",name:"Git Commit Message",import:(()=>le(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([47,48])))},{id:"git-rebase",name:"Git Rebase Message",import:(()=>le(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([49,28])))},{id:"gleam",name:"Gleam",import:(()=>le(()=>import("./gleam-BspZqrRM.js"),[]))},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:(()=>le(()=>import("./glimmer-js-Rg0-pVw9.js"),__vite__mapDeps([50,2,11,3,1])))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:(()=>le(()=>import("./glimmer-ts-U6CK756n.js"),__vite__mapDeps([51,11,3,2,1])))},{id:"glsl",name:"GLSL",import:(()=>le(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26])))},{id:"gnuplot",name:"Gnuplot",import:(()=>le(()=>import("./gnuplot-DdkO51Og.js"),[]))},{id:"go",name:"Go",import:(()=>le(()=>import("./go-Dn2_MT6a.js"),[]))},{id:"graphql",name:"GraphQL",aliases:["gql"],import:(()=>le(()=>import("./graphql-ChdNCCLP.js"),__vite__mapDeps([35,2,11,36,13])))},{id:"groovy",name:"Groovy",import:(()=>le(()=>import("./groovy-gcz8RCvz.js"),[]))},{id:"hack",name:"Hack",import:(()=>le(()=>import("./hack-CaT9iCJl.js"),__vite__mapDeps([52,1,2,3,16])))},{id:"haml",name:"Ruby Haml",import:(()=>le(()=>import("./haml-B8DHNrY2.js"),__vite__mapDeps([34,2,3])))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:(()=>le(()=>import("./handlebars-BL8al0AC.js"),__vite__mapDeps([53,1,2,3,38])))},{id:"haskell",name:"Haskell",aliases:["hs"],import:(()=>le(()=>import("./haskell-Df6bDoY_.js"),[]))},{id:"haxe",name:"Haxe",import:(()=>le(()=>import("./haxe-CzTSHFRz.js"),[]))},{id:"hcl",name:"HashiCorp HCL",import:(()=>le(()=>import("./hcl-BWvSN4gD.js"),[]))},{id:"hjson",name:"Hjson",import:(()=>le(()=>import("./hjson-D5-asLiD.js"),[]))},{id:"hlsl",name:"HLSL",import:(()=>le(()=>import("./hlsl-D3lLCCz7.js"),[]))},{id:"html",name:"HTML",import:(()=>le(()=>import("./html-GMplVEZG.js"),__vite__mapDeps([1,2,3])))},{id:"html-derivative",name:"HTML (Derivative)",import:(()=>le(()=>import("./html-derivative-BFtXZ54Q.js"),__vite__mapDeps([15,1,2,3])))},{id:"http",name:"HTTP",import:(()=>le(()=>import("./http-jrhK8wxY.js"),__vite__mapDeps([54,28,9,7,8,35,2,11,36,13])))},{id:"hurl",name:"Hurl",import:(()=>le(()=>import("./hurl-irOxFIW8.js"),__vite__mapDeps([55,35,2,11,36,13,7,8,56])))},{id:"hxml",name:"HXML",import:(()=>le(()=>import("./hxml-Bvhsp5Yf.js"),__vite__mapDeps([57,58])))},{id:"hy",name:"Hy",import:(()=>le(()=>import("./hy-DFXneXwc.js"),[]))},{id:"imba",name:"Imba",import:(()=>le(()=>import("./imba-DGztddWO.js"),[]))},{id:"ini",name:"INI",aliases:["properties"],import:(()=>le(()=>import("./ini-BEwlwnbL.js"),[]))},{id:"java",name:"Java",import:(()=>le(()=>import("./java-CylS5w8V.js"),[]))},{id:"javascript",name:"JavaScript",aliases:["js","cjs","mjs"],import:(()=>le(()=>import("./javascript-wDzz0qaB.js"),[]))},{id:"jinja",name:"Jinja",import:(()=>le(()=>import("./jinja-4LBKfQ-Z.js"),__vite__mapDeps([59,1,2,3])))},{id:"jison",name:"Jison",import:(()=>le(()=>import("./jison-wvAkD_A8.js"),__vite__mapDeps([60,2])))},{id:"json",name:"JSON",import:(()=>le(()=>import("./json-Cp-IABpG.js"),[]))},{id:"json5",name:"JSON5",import:(()=>le(()=>import("./json5-C9tS-k6U.js"),[]))},{id:"jsonc",name:"JSON with Comments",import:(()=>le(()=>import("./jsonc-Des-eS-w.js"),[]))},{id:"jsonl",name:"JSON Lines",import:(()=>le(()=>import("./jsonl-DcaNXYhu.js"),[]))},{id:"jsonnet",name:"Jsonnet",import:(()=>le(()=>import("./jsonnet-DFQXde-d.js"),[]))},{id:"jssm",name:"JSSM",aliases:["fsl"],import:(()=>le(()=>import("./jssm-C2t-YnRu.js"),[]))},{id:"jsx",name:"JSX",import:(()=>le(()=>import("./jsx-g9-lgVsj.js"),[]))},{id:"julia",name:"Julia",aliases:["jl"],import:(()=>le(()=>import("./julia-C8NyazO9.js"),__vite__mapDeps([61,23,24,25,26,16,20,2,62])))},{id:"kdl",name:"KDL",import:(()=>le(()=>import("./kdl-DV7GczEv.js"),[]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:(()=>le(()=>import("./kotlin-BdnUsdx6.js"),[]))},{id:"kusto",name:"Kusto",aliases:["kql"],import:(()=>le(()=>import("./kusto-BvAqAH-y.js"),[]))},{id:"latex",name:"LaTeX",import:(()=>le(()=>import("./latex-BUKiar2Z.js"),__vite__mapDeps([63,64,62])))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:(()=>le(()=>import("./lean-DP1Csr6i.js"),[]))},{id:"less",name:"Less",import:(()=>le(()=>import("./less-B1dDrJ26.js"),[]))},{id:"liquid",name:"Liquid",import:(()=>le(()=>import("./liquid-DYVedYrR.js"),__vite__mapDeps([65,1,2,3,9])))},{id:"llvm",name:"LLVM IR",import:(()=>le(()=>import("./llvm-BtvRca6l.js"),[]))},{id:"log",name:"Log file",import:(()=>le(()=>import("./log-2UxHyX5q.js"),[]))},{id:"logo",name:"Logo",import:(()=>le(()=>import("./logo-BtOb2qkB.js"),[]))},{id:"lua",name:"Lua",import:(()=>le(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26])))},{id:"luau",name:"Luau",import:(()=>le(()=>import("./luau-CXu1NL6O.js"),[]))},{id:"make",name:"Makefile",aliases:["makefile"],import:(()=>le(()=>import("./make-CHLpvVh8.js"),[]))},{id:"markdown",name:"Markdown",aliases:["md"],import:(()=>le(()=>import("./markdown-Cvjx9yec.js"),[]))},{id:"marko",name:"Marko",import:(()=>le(()=>import("./marko-CPi9NSCl.js"),__vite__mapDeps([66,3,67,5,11])))},{id:"matlab",name:"MATLAB",import:(()=>le(()=>import("./matlab-D7o27uSR.js"),[]))},{id:"mdc",name:"MDC",import:(()=>le(()=>import("./mdc-DUICxH0z.js"),__vite__mapDeps([68,40,38,15,1,2,3])))},{id:"mdx",name:"MDX",import:(()=>le(()=>import("./mdx-Cmh6b_Ma.js"),[]))},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:(()=>le(()=>import("./mermaid-DKYwYmdq.js"),[]))},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:(()=>le(()=>import("./mipsasm-CKIfxQSi.js"),[]))},{id:"mojo",name:"Mojo",import:(()=>le(()=>import("./mojo-1DNp92w6.js"),[]))},{id:"move",name:"Move",import:(()=>le(()=>import("./move-Bu9oaDYs.js"),[]))},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:(()=>le(()=>import("./narrat-DRg8JJMk.js"),[]))},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:(()=>le(()=>import("./nextflow-CUEJCptM.js"),[]))},{id:"nginx",name:"Nginx",import:(()=>le(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([69,37,26])))},{id:"nim",name:"Nim",import:(()=>le(()=>import("./nim-CVrawwO9.js"),__vite__mapDeps([70,26,1,2,3,7,8,25,40])))},{id:"nix",name:"Nix",import:(()=>le(()=>import("./nix-BbRYJGeE.js"),[]))},{id:"nushell",name:"nushell",aliases:["nu"],import:(()=>le(()=>import("./nushell-C-sUppwS.js"),[]))},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:(()=>le(()=>import("./objective-c-DXmwc3jG.js"),[]))},{id:"objective-cpp",name:"Objective-C++",import:(()=>le(()=>import("./objective-cpp-CLxacb5B.js"),[]))},{id:"ocaml",name:"OCaml",import:(()=>le(()=>import("./ocaml-C0hk2d4L.js"),[]))},{id:"pascal",name:"Pascal",import:(()=>le(()=>import("./pascal-D93ZcfNL.js"),[]))},{id:"perl",name:"Perl",import:(()=>le(()=>import("./perl-C0TMdlhV.js"),__vite__mapDeps([71,1,2,3,7,8,16])))},{id:"php",name:"PHP",import:(()=>le(()=>import("./php-CDn_0X-4.js"),__vite__mapDeps([72,1,2,3,7,8,16,9])))},{id:"pkl",name:"Pkl",import:(()=>le(()=>import("./pkl-u5AG7uiY.js"),[]))},{id:"plsql",name:"PL/SQL",import:(()=>le(()=>import("./plsql-ChMvpjG-.js"),[]))},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:(()=>le(()=>import("./po-BTJTHyun.js"),[]))},{id:"polar",name:"Polar",import:(()=>le(()=>import("./polar-C0HS_06l.js"),[]))},{id:"postcss",name:"PostCSS",import:(()=>le(()=>import("./postcss-CXtECtnM.js"),[]))},{id:"powerquery",name:"PowerQuery",import:(()=>le(()=>import("./powerquery-CEu0bR-o.js"),[]))},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:(()=>le(()=>import("./powershell-Dpen1YoG.js"),[]))},{id:"prisma",name:"Prisma",import:(()=>le(()=>import("./prisma-Dd19v3D-.js"),[]))},{id:"prolog",name:"Prolog",import:(()=>le(()=>import("./prolog-CbFg5uaA.js"),[]))},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:(()=>le(()=>import("./proto-DyJlTyXw.js"),[]))},{id:"pug",name:"Pug",aliases:["jade"],import:(()=>le(()=>import("./pug-CGlum2m_.js"),__vite__mapDeps([73,2,3,1])))},{id:"puppet",name:"Puppet",import:(()=>le(()=>import("./puppet-BMWR74SV.js"),[]))},{id:"purescript",name:"PureScript",import:(()=>le(()=>import("./purescript-CklMAg4u.js"),[]))},{id:"python",name:"Python",aliases:["py"],import:(()=>le(()=>import("./python-B6aJPvgy.js"),[]))},{id:"qml",name:"QML",import:(()=>le(()=>import("./qml-3beO22l8.js"),__vite__mapDeps([74,2])))},{id:"qmldir",name:"QML Directory",import:(()=>le(()=>import("./qmldir-C8lEn-DE.js"),[]))},{id:"qss",name:"Qt Style Sheets",import:(()=>le(()=>import("./qss-IeuSbFQv.js"),[]))},{id:"r",name:"R",import:(()=>le(()=>import("./r-DiinP2Uv.js"),[]))},{id:"racket",name:"Racket",import:(()=>le(()=>import("./racket-BqYA7rlc.js"),[]))},{id:"raku",name:"Raku",aliases:["perl6"],import:(()=>le(()=>import("./raku-DXvB9xmW.js"),[]))},{id:"razor",name:"ASP.NET Razor",import:(()=>le(()=>import("./razor-WgofotgN.js"),__vite__mapDeps([75,1,2,3,76])))},{id:"reg",name:"Windows Registry Script",import:(()=>le(()=>import("./reg-C-SQnVFl.js"),[]))},{id:"regexp",name:"RegExp",aliases:["regex"],import:(()=>le(()=>import("./regexp-CDVJQ6XC.js"),[]))},{id:"rel",name:"Rel",import:(()=>le(()=>import("./rel-C3B-1QV4.js"),[]))},{id:"riscv",name:"RISC-V",import:(()=>le(()=>import("./riscv-BM1_JUlF.js"),[]))},{id:"rosmsg",name:"ROS Interface",import:(()=>le(()=>import("./rosmsg-BJDFO7_C.js"),[]))},{id:"rst",name:"reStructuredText",import:(()=>le(()=>import("./rst-B0xPkSld.js"),__vite__mapDeps([77,15,1,2,3,23,24,25,26,16,20,28,38,78,33,34,7,8,35,11,36,13,37])))},{id:"ruby",name:"Ruby",aliases:["rb"],import:(()=>le(()=>import("./ruby-BvKwtOVI.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38])))},{id:"rust",name:"Rust",aliases:["rs"],import:(()=>le(()=>import("./rust-B1yitclQ.js"),[]))},{id:"sas",name:"SAS",import:(()=>le(()=>import("./sas-cz2c8ADy.js"),__vite__mapDeps([79,16])))},{id:"sass",name:"Sass",import:(()=>le(()=>import("./sass-Cj5Yp3dK.js"),[]))},{id:"scala",name:"Scala",import:(()=>le(()=>import("./scala-C151Ov-r.js"),[]))},{id:"scheme",name:"Scheme",import:(()=>le(()=>import("./scheme-C98Dy4si.js"),[]))},{id:"scss",name:"SCSS",import:(()=>le(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3])))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:(()=>le(()=>import("./sdbl-DVxCFoDh.js"),[]))},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:(()=>le(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([80,81])))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:(()=>le(()=>import("./shellscript-Yzrsuije.js"),[]))},{id:"shellsession",name:"Shell Session",aliases:["console"],import:(()=>le(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([82,28])))},{id:"smalltalk",name:"Smalltalk",import:(()=>le(()=>import("./smalltalk-BERRCDM3.js"),[]))},{id:"solidity",name:"Solidity",import:(()=>le(()=>import("./solidity-BbcW6ACK.js"),[]))},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:(()=>le(()=>import("./soy-Brmx7dQM.js"),__vite__mapDeps([83,1,2,3])))},{id:"sparql",name:"SPARQL",import:(()=>le(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([84,85])))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:(()=>le(()=>import("./splunk-BtCnVYZw.js"),[]))},{id:"sql",name:"SQL",import:(()=>le(()=>import("./sql-BLtJtn59.js"),[]))},{id:"ssh-config",name:"SSH Config",import:(()=>le(()=>import("./ssh-config-_ykCGR6B.js"),[]))},{id:"stata",name:"Stata",import:(()=>le(()=>import("./stata-BH5u7GGu.js"),__vite__mapDeps([86,16])))},{id:"stylus",name:"Stylus",aliases:["styl"],import:(()=>le(()=>import("./stylus-BEDo0Tqx.js"),[]))},{id:"svelte",name:"Svelte",import:(()=>le(()=>import("./svelte-3Dk4HxPD.js"),__vite__mapDeps([87,2,11,3,12])))},{id:"swift",name:"Swift",import:(()=>le(()=>import("./swift-Dg5xB15N.js"),[]))},{id:"system-verilog",name:"SystemVerilog",import:(()=>le(()=>import("./system-verilog-CnnmHF94.js"),[]))},{id:"systemd",name:"Systemd Units",import:(()=>le(()=>import("./systemd-4A_iFExJ.js"),[]))},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:(()=>le(()=>import("./talonscript-CkByrt1z.js"),[]))},{id:"tasl",name:"Tasl",import:(()=>le(()=>import("./tasl-QIJgUcNo.js"),[]))},{id:"tcl",name:"Tcl",import:(()=>le(()=>import("./tcl-dwOrl1Do.js"),[]))},{id:"templ",name:"Templ",import:(()=>le(()=>import("./templ-W15q3VgB.js"),__vite__mapDeps([88,89,2,3])))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:(()=>le(()=>import("./terraform-BETggiCN.js"),[]))},{id:"tex",name:"TeX",import:(()=>le(()=>import("./tex-Cppo0RY3.js"),__vite__mapDeps([64,62])))},{id:"toml",name:"TOML",import:(()=>le(()=>import("./toml-vGWfd6FD.js"),[]))},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:(()=>le(()=>import("./ts-tags-zn1MmPIZ.js"),__vite__mapDeps([90,11,3,2,25,26,1,16,7,8])))},{id:"tsv",name:"TSV",import:(()=>le(()=>import("./tsv-B_m7g4N7.js"),[]))},{id:"tsx",name:"TSX",import:(()=>le(()=>import("./tsx-COt5Ahok.js"),[]))},{id:"turtle",name:"Turtle",import:(()=>le(()=>import("./turtle-BsS91CYL.js"),[]))},{id:"twig",name:"Twig",import:(()=>le(()=>import("./twig-CO9l9SDP.js"),__vite__mapDeps([91,3,2,5,72,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38])))},{id:"typescript",name:"TypeScript",aliases:["ts","cts","mts"],import:(()=>le(()=>import("./typescript-BPQ3VLAy.js"),[]))},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:(()=>le(()=>import("./typespec-Df68jz8_.js"),[]))},{id:"typst",name:"Typst",aliases:["typ"],import:(()=>le(()=>import("./typst-DHCkPAjA.js"),[]))},{id:"v",name:"V",import:(()=>le(()=>import("./v-BcVCzyr7.js"),[]))},{id:"vala",name:"Vala",import:(()=>le(()=>import("./vala-CsfeWuGM.js"),[]))},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:(()=>le(()=>import("./vb-D17OF-Vu.js"),[]))},{id:"verilog",name:"Verilog",import:(()=>le(()=>import("./verilog-BQ8w6xss.js"),[]))},{id:"vhdl",name:"VHDL",import:(()=>le(()=>import("./vhdl-CeAyd5Ju.js"),[]))},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:(()=>le(()=>import("./viml-CJc9bBzg.js"),[]))},{id:"vue",name:"Vue",import:(()=>le(()=>import("./vue-CCoi5OLL.js"),__vite__mapDeps([92,3,2,11,9,15,1])))},{id:"vue-html",name:"Vue HTML",import:(()=>le(()=>import("./vue-html-DAAvJJDi.js"),__vite__mapDeps([93,92,3,2,11,9,15,1])))},{id:"vue-vine",name:"Vue Vine",import:(()=>le(()=>import("./vue-vine-_Ih-lPRR.js"),__vite__mapDeps([94,3,5,67,95,12,92,2,11,9,15,1])))},{id:"vyper",name:"Vyper",aliases:["vy"],import:(()=>le(()=>import("./vyper-CDx5xZoG.js"),[]))},{id:"wasm",name:"WebAssembly",import:(()=>le(()=>import("./wasm-MzD3tlZU.js"),[]))},{id:"wenyan",name:"Wenyan",aliases:[""],import:(()=>le(()=>import("./wenyan-BV7otONQ.js"),[]))},{id:"wgsl",name:"WGSL",import:(()=>le(()=>import("./wgsl-Dx-B1_4e.js"),[]))},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:(()=>le(()=>import("./wikitext-BhOHFoWU.js"),[]))},{id:"wit",name:"WebAssembly Interface Types",import:(()=>le(()=>import("./wit-5i3qLPDT.js"),[]))},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:(()=>le(()=>import("./wolfram-lXgVvXCa.js"),[]))},{id:"xml",name:"XML",import:(()=>le(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8])))},{id:"xsl",name:"XSL",import:(()=>le(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([96,7,8])))},{id:"yaml",name:"YAML",aliases:["yml"],import:(()=>le(()=>import("./yaml-Buea-lGh.js"),[]))},{id:"zenscript",name:"ZenScript",import:(()=>le(()=>import("./zenscript-DVFEvuxE.js"),[]))},{id:"zig",name:"Zig",import:(()=>le(()=>import("./zig-VOosw3JB.js"),[]))}],zDe=Object.fromEntries(jne.map(e=>[e.id,e.import])),BDe=Object.fromEntries(jne.flatMap(e=>{var t;return((t=e.aliases)==null?void 0:t.map(n=>[n,e.import]))||[]})),Pne={...zDe,...BDe},UDe=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:(()=>le(()=>import("./andromeeda-C-Jbm3Hp.js"),[]))},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:(()=>le(()=>import("./aurora-x-D-2ljcwZ.js"),[]))},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:(()=>le(()=>import("./ayu-dark-Cv9koXgw.js"),[]))},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:(()=>le(()=>import("./catppuccin-frappe-DFWUc33u.js"),[]))},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:(()=>le(()=>import("./catppuccin-latte-C9dUb6Cb.js"),[]))},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:(()=>le(()=>import("./catppuccin-macchiato-DQyhUUbL.js"),[]))},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:(()=>le(()=>import("./catppuccin-mocha-D87Tk5Gz.js"),[]))},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:(()=>le(()=>import("./dark-plus-eOWES_5F.js"),[]))},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:(()=>le(()=>import("./dracula-BzJJZx-M.js"),[]))},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:(()=>le(()=>import("./dracula-soft-BXkSAIEj.js"),[]))},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:(()=>le(()=>import("./everforest-dark-BgDCqdQA.js"),[]))},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:(()=>le(()=>import("./everforest-light-C8M2exoo.js"),[]))},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:(()=>le(()=>import("./github-dark-DHJKELXO.js"),[]))},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:(()=>le(()=>import("./github-dark-default-Cuk6v7N8.js"),[]))},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:(()=>le(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[]))},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:(()=>le(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[]))},{id:"github-light",displayName:"GitHub Light",type:"light",import:(()=>le(()=>import("./github-light-DAi9KRSo.js"),[]))},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:(()=>le(()=>import("./github-light-default-D7oLnXFd.js"),[]))},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:(()=>le(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[]))},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:(()=>le(()=>import("./gruvbox-dark-hard-CFHQjOhq.js"),[]))},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:(()=>le(()=>import("./gruvbox-dark-medium-GsRaNv29.js"),[]))},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:(()=>le(()=>import("./gruvbox-dark-soft-CVdnzihN.js"),[]))},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:(()=>le(()=>import("./gruvbox-light-hard-CH1njM8p.js"),[]))},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:(()=>le(()=>import("./gruvbox-light-medium-DRw_LuNl.js"),[]))},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:(()=>le(()=>import("./gruvbox-light-soft-hJgmCMqR.js"),[]))},{id:"houston",displayName:"Houston",type:"dark",import:(()=>le(()=>import("./houston-DnULxvSX.js"),[]))},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:(()=>le(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[]))},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:(()=>le(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[]))},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:(()=>le(()=>import("./kanagawa-wave-DWedfzmr.js"),[]))},{id:"laserwave",displayName:"LaserWave",type:"dark",import:(()=>le(()=>import("./laserwave-DUszq2jm.js"),[]))},{id:"light-plus",displayName:"Light Plus",type:"light",import:(()=>le(()=>import("./light-plus-B7mTdjB0.js"),[]))},{id:"material-theme",displayName:"Material Theme",type:"dark",import:(()=>le(()=>import("./material-theme-D5KoaKCx.js"),[]))},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:(()=>le(()=>import("./material-theme-darker-BfHTSMKl.js"),[]))},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:(()=>le(()=>import("./material-theme-lighter-B0m2ddpp.js"),[]))},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:(()=>le(()=>import("./material-theme-ocean-CyktbL80.js"),[]))},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:(()=>le(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[]))},{id:"min-dark",displayName:"Min Dark",type:"dark",import:(()=>le(()=>import("./min-dark-CafNBF8u.js"),[]))},{id:"min-light",displayName:"Min Light",type:"light",import:(()=>le(()=>import("./min-light-CTRr51gU.js"),[]))},{id:"monokai",displayName:"Monokai",type:"dark",import:(()=>le(()=>import("./monokai-D4h5O-jR.js"),[]))},{id:"night-owl",displayName:"Night Owl",type:"dark",import:(()=>le(()=>import("./night-owl-C39BiMTA.js"),[]))},{id:"nord",displayName:"Nord",type:"dark",import:(()=>le(()=>import("./nord-Ddv68eIx.js"),[]))},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:(()=>le(()=>import("./one-dark-pro-DVMEJ2y_.js"),[]))},{id:"one-light",displayName:"One Light",type:"light",import:(()=>le(()=>import("./one-light-PoHY5YXO.js"),[]))},{id:"plastic",displayName:"Plastic",type:"dark",import:(()=>le(()=>import("./plastic-3e1v2bzS.js"),[]))},{id:"poimandres",displayName:"Poimandres",type:"dark",import:(()=>le(()=>import("./poimandres-CS3Unz2-.js"),[]))},{id:"red",displayName:"Red",type:"dark",import:(()=>le(()=>import("./red-bN70gL4F.js"),[]))},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:(()=>le(()=>import("./rose-pine-BHrmToEH.js"),[]))},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:(()=>le(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[]))},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:(()=>le(()=>import("./rose-pine-moon-NleAzG8P.js"),[]))},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:(()=>le(()=>import("./slack-dark-BthQWCQV.js"),[]))},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:(()=>le(()=>import("./slack-ochin-DqwNpetd.js"),[]))},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:(()=>le(()=>import("./snazzy-light-Bw305WKR.js"),[]))},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:(()=>le(()=>import("./solarized-dark-DXbdFlpD.js"),[]))},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:(()=>le(()=>import("./solarized-light-L9t79GZl.js"),[]))},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:(()=>le(()=>import("./synthwave-84-CbfX1IO0.js"),[]))},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:(()=>le(()=>import("./tokyo-night-hegEt444.js"),[]))},{id:"vesper",displayName:"Vesper",type:"dark",import:(()=>le(()=>import("./vesper-DU1UobuO.js"),[]))},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:(()=>le(()=>import("./vitesse-black-Bkuqu6BP.js"),[]))},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:(()=>le(()=>import("./vitesse-dark-D0r3Knsf.js"),[]))},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:(()=>le(()=>import("./vitesse-light-CVO1_9PV.js"),[]))}],HDe=Object.fromEntries(UDe.map(e=>[e.id,e.import]));class KI extends Error{constructor(t){super(t),this.name="ShikiError"}}function VDe(){return 2147483648}function qDe(){return typeof performance<"u"?performance.now():Date.now()}const WDe=(e,t)=>e+(t-e%t)%t;async function GDe(e){let t,n;const r={};function i(p){n=p,r.HEAPU8=new Uint8Array(p),r.HEAPU32=new Uint32Array(p)}function s(p,v,x){r.HEAPU8.copyWithin(p,v,v+x)}function a(p){try{return t.grow(p-n.byteLength+65535>>>16),i(t.buffer),1}catch{}}function o(p){const v=r.HEAPU8.length;p=p>>>0;const x=VDe();if(p>x)return!1;for(let b=1;b<=4;b*=2){let w=v*(1+.2/b);w=Math.min(w,p+100663296);const E=Math.min(x,WDe(Math.max(p,w),65536));if(a(E))return!0}return!1}const c=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function u(p,v,x=1024){const b=v+x;let w=v;for(;p[w]&&!(w>=b);)++w;if(w-v>16&&p.buffer&&c)return c.decode(p.subarray(v,w));let E="";for(;v<w;){let k=p[v++];if(!(k&128)){E+=String.fromCharCode(k);continue}const _=p[v++]&63;if((k&224)===192){E+=String.fromCharCode((k&31)<<6|_);continue}const A=p[v++]&63;if((k&240)===224?k=(k&15)<<12|_<<6|A:k=(k&7)<<18|_<<12|A<<6|p[v++]&63,k<65536)E+=String.fromCharCode(k);else{const T=k-65536;E+=String.fromCharCode(55296|T>>10,56320|T&1023)}}return E}function d(p,v){return p?u(r.HEAPU8,p,v):""}const f={emscripten_get_now:qDe,emscripten_memcpy_big:s,emscripten_resize_heap:o,fd_write:()=>0};async function h(){const v=await e({env:f,wasi_snapshot_preview1:f});t=v.memory,i(t.buffer),Object.assign(r,v),r.UTF8ToString=d}return await h(),r}var KDe=Object.defineProperty,YDe=(e,t,n)=>t in e?KDe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ii=(e,t,n)=>YDe(e,typeof t!="symbol"?t+"":t,n);let Zi=null;function XDe(e){throw new KI(e.UTF8ToString(e.getLastOnigError()))}class Pk{constructor(t){Ii(this,"utf16Length"),Ii(this,"utf8Length"),Ii(this,"utf16Value"),Ii(this,"utf8Value"),Ii(this,"utf16OffsetToUtf8"),Ii(this,"utf8OffsetToUtf16");const n=t.length,r=Pk._utf8ByteLength(t),i=r!==n,s=i?new Uint32Array(n+1):null;i&&(s[n]=r);const a=i?new Uint32Array(r+1):null;i&&(a[r]=n);const o=new Uint8Array(r);let c=0;for(let u=0;u<n;u++){const d=t.charCodeAt(u);let f=d,h=!1;if(d>=55296&&d<=56319&&u+1<n){const p=t.charCodeAt(u+1);p>=56320&&p<=57343&&(f=(d-55296<<10)+65536|p-56320,h=!0)}i&&(s[u]=c,h&&(s[u+1]=c),f<=127?a[c+0]=u:f<=2047?(a[c+0]=u,a[c+1]=u):f<=65535?(a[c+0]=u,a[c+1]=u,a[c+2]=u):(a[c+0]=u,a[c+1]=u,a[c+2]=u,a[c+3]=u)),f<=127?o[c++]=f:f<=2047?(o[c++]=192|(f&1984)>>>6,o[c++]=128|(f&63)>>>0):f<=65535?(o[c++]=224|(f&61440)>>>12,o[c++]=128|(f&4032)>>>6,o[c++]=128|(f&63)>>>0):(o[c++]=240|(f&1835008)>>>18,o[c++]=128|(f&258048)>>>12,o[c++]=128|(f&4032)>>>6,o[c++]=128|(f&63)>>>0),h&&u++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=t,this.utf8Value=o,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=a}static _utf8ByteLength(t){let n=0;for(let r=0,i=t.length;r<i;r++){const s=t.charCodeAt(r);let a=s,o=!1;if(s>=55296&&s<=56319&&r+1<i){const c=t.charCodeAt(r+1);c>=56320&&c<=57343&&(a=(s-55296<<10)+65536|c-56320,o=!0)}a<=127?n+=1:a<=2047?n+=2:a<=65535?n+=3:n+=4,o&&r++}return n}createString(t){const n=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,n),n}}const Ik=class Wl{constructor(t){if(Ii(this,"id",++Wl.LAST_ID),Ii(this,"_onigBinding"),Ii(this,"content"),Ii(this,"utf16Length"),Ii(this,"utf8Length"),Ii(this,"utf16OffsetToUtf8"),Ii(this,"utf8OffsetToUtf16"),Ii(this,"ptr"),!Zi)throw new KI("Must invoke loadWasm first.");this._onigBinding=Zi,this.content=t;const n=new Pk(t);this.utf16Length=n.utf16Length,this.utf8Length=n.utf8Length,this.utf16OffsetToUtf8=n.utf16OffsetToUtf8,this.utf8OffsetToUtf16=n.utf8OffsetToUtf16,this.utf8Length<1e4&&!Wl._sharedPtrInUse?(Wl._sharedPtr||(Wl._sharedPtr=Zi.omalloc(1e4)),Wl._sharedPtrInUse=!0,Zi.HEAPU8.set(n.utf8Value,Wl._sharedPtr),this.ptr=Wl._sharedPtr):this.ptr=n.createString(Zi)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Wl._sharedPtr?Wl._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Ii(Ik,"LAST_ID",0);Ii(Ik,"_sharedPtr",0);Ii(Ik,"_sharedPtrInUse",!1);let Ine=Ik;class QDe{constructor(t){if(Ii(this,"_onigBinding"),Ii(this,"_ptr"),!Zi)throw new KI("Must invoke loadWasm first.");const n=[],r=[];for(let o=0,c=t.length;o<c;o++){const u=new Pk(t[o]);n[o]=u.createString(Zi),r[o]=u.utf8Length}const i=Zi.omalloc(4*t.length);Zi.HEAPU32.set(n,i/4);const s=Zi.omalloc(4*t.length);Zi.HEAPU32.set(r,s/4);const a=Zi.createOnigScanner(i,s,t.length);for(let o=0,c=t.length;o<c;o++)Zi.ofree(n[o]);Zi.ofree(s),Zi.ofree(i),a===0&&XDe(Zi),this._onigBinding=Zi,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof t=="string"){t=new Ine(t);const s=this._findNextMatchSync(t,n,!1,i);return t.dispose(),s}return this._findNextMatchSync(t,n,!1,i)}_findNextMatchSync(t,n,r,i){const s=this._onigBinding,a=s.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(n),i);if(a===0)return null;const o=s.HEAPU32;let c=a/4;const u=o[c++],d=o[c++],f=[];for(let h=0;h<d;h++){const p=t.convertUtf8OffsetToUtf16(o[c++]),v=t.convertUtf8OffsetToUtf16(o[c++]);f[h]={start:p,end:v,length:v-p}}return{index:u,captureIndices:f}}}function ZDe(e){return typeof e.instantiator=="function"}function JDe(e){return typeof e.default=="function"}function e9e(e){return typeof e.data<"u"}function t9e(e){return typeof Response<"u"&&e instanceof Response}function n9e(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let e2;function r9e(e){if(e2)return e2;async function t(){Zi=await GDe(async n=>{let r=e;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),ZDe(r)?r=await r.instantiator(n):JDe(r)?r=await r.default(n):(e9e(r)&&(r=r.data),t9e(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await i9e(r)(n):r=await s9e(r)(n):n9e(r)?r=await lT(r)(n):r instanceof WebAssembly.Module?r=await lT(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await lT(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return e2=t(),e2}function lT(e){return t=>WebAssembly.instantiate(e,t)}function i9e(e){return t=>WebAssembly.instantiateStreaming(e,t)}function s9e(e){return async t=>{const n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}}async function a9e(e){return e&&await r9e(e),{createScanner(t){return new QDe(t.map(n=>typeof n=="string"?n:n.source))},createString(t){return new Ine(t)}}}const aB=$De({langs:Pne,themes:HDe,engine:()=>a9e(le(()=>import("./wasm-CG6Dc4jp.js"),[]))});function _g(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`);return e.codePointAt(0)}function o9e(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}const YI=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),ns=String.raw;function Cg(e,t){if(e==null)throw new Error(t??"Value expected");return e}const Rne=ns`\[\^?`,Mne=`c.? | C(?:-.?)?|${ns`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${ns`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${ns`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${ns`o\{[^\}]*\}?`}|${ns`\d{1,3}`}`,XI=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,t2=new RegExp(ns`
  \\ (?:
    ${Mne}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${XI.source})+
  | ${Rne}
  | .
`.replace(/\s+/g,""),"gsu"),cT=new RegExp(ns`
  \\ (?:
    ${Mne}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Rne}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function l9e(e,t={}){const n={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if(typeof e!="string")throw new Error("String expected as pattern");const r=N9e(n.flags),i=[r.extended],s={captureGroup:n.rules.captureGroup,getCurrentModX(){return i.at(-1)},numOpenGroups:0,popModX(){i.pop()},pushModX(f){i.push(f)},replaceCurrentModX(f){i[i.length-1]=f},singleline:n.rules.singleline};let a=[],o;for(t2.lastIndex=0;o=t2.exec(e);){const f=c9e(s,e,o[0],t2.lastIndex);f.tokens?a.push(...f.tokens):f.token&&a.push(f.token),f.lastIndex!==void 0&&(t2.lastIndex=f.lastIndex)}const c=[];let u=0;a.filter(f=>f.type==="GroupOpen").forEach(f=>{f.kind==="capturing"?f.number=++u:f.raw==="("&&c.push(f)}),u||c.forEach((f,h)=>{f.kind="capturing",f.number=h+1});const d=u||c.length;return{tokens:a.map(f=>f.type==="EscapedNumber"?A9e(f,d):f).flat(),flags:r}}function c9e(e,t,n,r){const[i,s]=n;if(n==="["||n==="[^"){const a=u9e(t,n,r);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(i==="\\"){if("AbBGyYzZ".includes(s))return{token:oB(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:b9e(n)}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:Dne(n)}}if(s==="K")return{token:Lne("keep",n)};if(s==="N"||s==="R")return{token:yh("newline",n,{negate:s==="N"})};if(s==="O")return{token:yh("any",n)};if(s==="X")return{token:yh("text_segment",n)};const a=One(n,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(i==="("){if(s==="*")return{token:k9e(n)};if(n==="(?{")throw new Error(`Unsupported callout "${n}"`);if(n.startsWith("(?#")){if(t[r]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:r+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:S9e(n,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,n==="("&&!e.captureGroup||n==="(?:")return{token:jm("group",n)};if(n==="(?>")return{token:jm("atomic",n)};if(n==="(?="||n==="(?!"||n==="(?<="||n==="(?<!")return{token:jm(n[2]==="<"?"lookbehind":"lookahead",n,{negate:n.endsWith("!")})};if(n==="("&&e.captureGroup||n.startsWith("(?<")&&n.endsWith(">")||n.startsWith("(?'")&&n.endsWith("'"))return{token:jm("capturing",n,{...n!=="("&&{name:n.slice(3,-1)}})};if(n.startsWith("(?~")){if(n==="(?~|")throw new Error(`Unsupported absence function kind "${n}"`);return{token:jm("absence_repeater",n)}}throw n==="(?("?new Error(`Unsupported conditional "${n}"`):new Error(`Invalid or unsupported group option "${n}"`)}if(n===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:v9e(n)}}if(e.getCurrentModX()){if(n==="#"){const a=t.indexOf(`
`,r);return{lastIndex:a===-1?t.length:a}}if(/^\s$/.test(n)){const a=/\s+/y;return a.lastIndex=r,{lastIndex:a.exec(t)?a.lastIndex:r}}}if(n===".")return{token:yh("dot",n)};if(n==="^"||n==="$"){const a=e.singleline?{"^":ns`\A`,$:ns`\Z`}[n]:n;return{token:oB(a,n)}}return n==="|"?{token:f9e(n)}:XI.test(n)?{tokens:j9e(n)}:{token:fu(_g(n),n)}}function u9e(e,t,n){const r=[lB(t[1]==="^",t)];let i=1,s;for(cT.lastIndex=n;s=cT.exec(e);){const a=s[0];if(a[0]==="["&&a[1]!==":")i++,r.push(lB(a[1]==="^",a));else if(a==="]"){if(r.at(-1).type==="CharacterClassOpen")r.push(fu(93,a));else if(i--,r.push(h9e(a)),!i)break}else{const o=d9e(a);Array.isArray(o)?r.push(...o):r.push(o)}}return{tokens:r,lastIndex:cT.lastIndex||e.length}}function d9e(e){if(e[0]==="\\")return One(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!YI.has(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return yh("posix",e,{value:t.groups.name,negate:!!t.groups.negate})}return e==="-"?m9e(e):e==="&&"?p9e(e):fu(_g(e),e)}function One(e,{inCharClass:t}){const n=e[1];if(n==="c"||n==="C")return E9e(e);if("dDhHsSwW".includes(n))return _9e(e);if(e.startsWith(ns`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return C9e(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const r=e.split(/\\x/).slice(1).map(a=>parseInt(a,16)),i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(r)),s=new TextEncoder;return[...i].map(a=>{const o=[...s.encode(a)].map(c=>`\\x${c.toString(16)}`).join("");return fu(_g(a),o)})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(n==="u"||n==="x")return fu(T9e(e),e);if(cB.has(n))return fu(cB.get(n),e);if(/\d/.test(n))return g9e(t,e);if(e==="\\")throw new Error(ns`Incomplete escape "\"`);if(n==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return fu(e.codePointAt(1),e);throw new Error(`Unexpected escape "${e}"`)}function f9e(e){return{type:"Alternator",raw:e}}function oB(e,t){return{type:"Assertion",kind:e,raw:t}}function Dne(e){return{type:"Backreference",raw:e}}function fu(e,t){return{type:"Character",value:e,raw:t}}function h9e(e){return{type:"CharacterClassClose",raw:e}}function m9e(e){return{type:"CharacterClassHyphen",raw:e}}function p9e(e){return{type:"CharacterClassIntersector",raw:e}}function lB(e,t){return{type:"CharacterClassOpen",negate:e,raw:t}}function yh(e,t,n={}){return{type:"CharacterSet",kind:e,...n,raw:t}}function Lne(e,t,n={}){return e==="keep"?{type:"Directive",kind:e,raw:t}:{type:"Directive",kind:e,flags:Cg(n.flags),raw:t}}function g9e(e,t){return{type:"EscapedNumber",inCharClass:e,raw:t}}function v9e(e){return{type:"GroupClose",raw:e}}function jm(e,t,n={}){return{type:"GroupOpen",kind:e,...n,raw:t}}function y9e(e,t,n,r){return{type:"NamedCallout",kind:e,tag:t,arguments:n,raw:r}}function x9e(e,t,n,r){return{type:"Quantifier",kind:e,min:t,max:n,raw:r}}function b9e(e){return{type:"Subroutine",raw:e}}const w9e=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),cB=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function E9e(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return fu(_g(t.toUpperCase())-64,e)}function S9e(e,t){let{on:n,off:r}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;r??(r="");const i=(t.getCurrentModX()||n.includes("x"))&&!r.includes("x"),s=dB(n),a=dB(r),o={};if(s&&(o.enable=s),a&&(o.disable=a),e.endsWith(")"))return t.replaceCurrentModX(i),Lne("flags",e,{flags:o});if(e.endsWith(":"))return t.pushModX(i),t.numOpenGroups++,jm("group",e,{...(s||a)&&{flags:o}});throw new Error(`Unexpected flag modifier "${e}"`)}function k9e(e){const t=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(e);if(!t)throw new Error(`Incomplete or invalid named callout "${e}"`);const{name:n,tag:r,args:i}=t.groups;if(!n)throw new Error(`Invalid named callout "${e}"`);if(r==="")throw new Error(`Named callout tag with empty value not allowed "${e}"`);const s=i?i.split(",").filter(d=>d!=="").map(d=>/^[+-]?\d+$/.test(d)?+d:d):[],[a,o,c]=s,u=w9e.has(n)?n.toLowerCase():"custom";switch(u){case"fail":case"mismatch":case"skip":if(s.length>0)throw new Error(`Named callout arguments not allowed "${s}"`);break;case"error":if(s.length>1)throw new Error(`Named callout allows only one argument "${s}"`);if(typeof a=="string")throw new Error(`Named callout argument must be a number "${a}"`);break;case"max":if(!s.length||s.length>2)throw new Error(`Named callout must have one or two arguments "${s}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(s.length===2&&(typeof o=="number"||!/^[<>X]$/.test(o)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${o}"`);break;case"count":case"total_count":if(s.length>1)throw new Error(`Named callout allows only one argument "${s}"`);if(s.length===1&&(typeof a=="number"||!/^[<>X]$/.test(a)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${a}"`);break;case"cmp":if(s.length!==3)throw new Error(`Named callout must have three arguments "${s}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument one must be a tag or number "${a}"`);if(typeof o=="number"||!/^(?:[<>!=]=|[<>])$/.test(o))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${o}"`);if(typeof c=="string"&&!/^[A-Za-z_]\w*$/.test(c))throw new Error(`Named callout argument three must be a tag or number "${c}"`);break;case"custom":throw new Error(`Undefined callout name "${n}"`);default:throw new Error(`Unexpected named callout kind "${u}"`)}return y9e(u,r??null,(i==null?void 0:i.split(","))??null,e)}function uB(e){let t=null,n,r;if(e[0]==="{"){const{minStr:i,maxStr:s}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(e).groups,a=1e5;if(+i>a||s&&+s>a)throw new Error("Quantifier value unsupported in Oniguruma");if(n=+i,r=s===void 0?+i:s===""?1/0:+s,n>r&&(t="possessive",[n,r]=[r,n]),e.endsWith("?")){if(t==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');t="lazy"}else t||(t="greedy")}else n=e[0]==="+"?1:0,r=e[0]==="?"?1:1/0,t=e[1]==="+"?"possessive":e[1]==="?"?"lazy":"greedy";return x9e(t,n,r,e)}function _9e(e){const t=e[1].toLowerCase();return yh({d:"digit",h:"hex",s:"space",w:"word"}[t],e,{negate:e[1]!==t})}function C9e(e){const{p:t,neg:n,value:r}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups;return yh("property",e,{value:r,negate:t==="P"&&!n||t==="p"&&!!n})}function dB(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function N9e(e){const t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let n=0;n<e.length;n++){const r=e[n];if(!"imxDPSWy".includes(r))throw new Error(`Invalid flag "${r}"`);if(r==="y"){if(!/^y{[gw]}/.test(e.slice(n)))throw new Error('Invalid or unspecified flag "y" mode');t.textSegmentMode=e[n+2]==="g"?"grapheme":"word",n+=3;continue}t[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[r]]=!0}return t}function T9e(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function A9e(e,t){const{raw:n,inCharClass:r}=e,i=n.slice(1);if(!r&&(i!=="0"&&i.length===1||i[0]!=="0"&&+i<=t))return[Dne(n)];const s=[],a=i.match(/^[0-7]+|\d/g);for(let o=0;o<a.length;o++){const c=a[o];let u;if(o===0&&c!=="8"&&c!=="9"){if(u=parseInt(c,8),u>127)throw new Error(ns`Octal encoded byte above 177 unsupported "${n}"`)}else u=_g(c);s.push(fu(u,(o===0?"\\":"")+c))}return s}function j9e(e){const t=[],n=new RegExp(XI,"gy");let r;for(;r=n.exec(e);){const i=r[0];if(i[0]==="{"){const s=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(i);if(s){const{min:a,max:o}=s.groups;if(+a>+o&&i.endsWith("?")){n.lastIndex--,t.push(uB(i.slice(0,-1)));continue}}}t.push(uB(i))}return t}function Fne(e,t){if(!Array.isArray(e.body))throw new Error("Expected node with body array");if(e.body.length!==1)return!1;const n=e.body[0];return!t||Object.keys(t).every(r=>t[r]===n[r])}function P9e(e){return I9e.has(e.type)}const I9e=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function $ne(e,t={}){const n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},r=l9e(e,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),i=(h,p)=>{const v=r.tokens[s.nextIndex];switch(s.parent=h,s.nextIndex++,v.type){case"Alternator":return i0();case"Assertion":return R9e(v);case"Backreference":return M9e(v,s);case"Character":return Rk(v.value,{useLastValid:!!p.isCheckingRangeEnd});case"CharacterClassHyphen":return O9e(v,s,p);case"CharacterClassOpen":return D9e(v,s,p);case"CharacterSet":return L9e(v,s);case"Directive":return H9e(v.kind,{flags:v.flags});case"GroupOpen":return F9e(v,s,p);case"NamedCallout":return q9e(v.kind,v.tag,v.arguments);case"Quantifier":return $9e(v,s);case"Subroutine":return z9e(v,s);default:throw new Error(`Unexpected token type "${v.type}"`)}},s={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:r.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:i},a=G9e(V9e(r.flags));let o=a.body[0];for(;s.nextIndex<r.tokens.length;){const h=i(o,{});h.type==="Alternative"?(a.body.push(h),o=h):o.body.push(h)}const{capturingGroups:c,hasNumberedRef:u,namedGroupsByName:d,subroutines:f}=s;if(u&&d.size&&!n.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:h}of f)if(typeof h=="number"){if(h>c.length)throw new Error("Subroutine uses a group number that's not defined");h&&(c[h-1].isSubroutined=!0)}else if(d.has(h)){if(d.get(h).length>1)throw new Error(ns`Subroutine uses a duplicate group name "\g<${h}>"`);d.get(h)[0].isSubroutined=!0}else throw new Error(ns`Subroutine uses a group name that's not defined "\g<${h}>"`);return a}function R9e({kind:e}){return $A(Cg({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[e],`Unexpected assertion kind "${e}"`),{negate:e===ns`\B`||e===ns`\Y`})}function M9e({raw:e},t){const n=/^\\k[<']/.test(e),r=n?e.slice(3,-1):e.slice(1),i=(s,a=!1)=>{const o=t.capturingGroups.length;let c=!1;if(s>o)if(t.skipBackrefValidation)c=!0;else throw new Error(`Not enough capturing groups defined to the left "${e}"`);return t.hasNumberedRef=!0,zA(a?o+1-s:s,{orphan:c})};if(n){const s=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(r);if(s)return i(+s.groups.num,!!s.groups.sign);if(/[-+]/.test(r))throw new Error(`Invalid backref name "${e}"`);if(!t.namedGroupsByName.has(r))throw new Error(`Group name not defined to the left "${e}"`);return zA(r)}return i(+r)}function O9e(e,t,n){const{tokens:r,walk:i}=t,s=t.parent,a=s.body.at(-1),o=r[t.nextIndex];if(!n.isCheckingRangeEnd&&a&&a.type!=="CharacterClass"&&a.type!=="CharacterClassRange"&&o&&o.type!=="CharacterClassOpen"&&o.type!=="CharacterClassClose"&&o.type!=="CharacterClassIntersector"){const c=i(s,{...n,isCheckingRangeEnd:!0});if(a.type==="Character"&&c.type==="Character")return s.body.pop(),U9e(a,c);throw new Error("Invalid character class range")}return Rk(_g("-"))}function D9e({negate:e},t,n){const{tokens:r,walk:i}=t,s=r[t.nextIndex],a=[e4()];let o=mB(s);for(;o.type!=="CharacterClassClose";){if(o.type==="CharacterClassIntersector")a.push(e4()),t.nextIndex++;else{const u=a.at(-1);u.body.push(i(u,n))}o=mB(r[t.nextIndex],s)}const c=e4({negate:e});return a.length===1?c.body=a[0].body:(c.kind="intersection",c.body=a.map(u=>u.body.length===1?u.body[0]:u)),t.nextIndex++,c}function L9e({kind:e,negate:t,value:n},r){const{normalizeUnknownPropertyNames:i,skipPropertyNameValidation:s,unicodePropertyMap:a}=r;if(e==="property"){const o=Mk(n);if(YI.has(o)&&!(a!=null&&a.has(o)))e="posix",n=o;else return Pm(n,{negate:t,normalizeUnknownPropertyNames:i,skipPropertyNameValidation:s,unicodePropertyMap:a})}return e==="posix"?W9e(n,{negate:t}):BA(e,{negate:t})}function F9e(e,t,n){const{tokens:r,capturingGroups:i,namedGroupsByName:s,skipLookbehindValidation:a,walk:o}=t,c=K9e(e),u=c.type==="AbsenceFunction",d=hB(c),f=d&&c.negate;if(c.type==="CapturingGroup"&&(i.push(c),c.name&&o9e(s,c.name,[]).push(c)),u&&n.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let h=pB(r[t.nextIndex]);for(;h.type!=="GroupClose";){if(h.type==="Alternator")c.body.push(i0()),t.nextIndex++;else{const p=c.body.at(-1),v=o(p,{...n,isInAbsenceFunction:n.isInAbsenceFunction||u,isInLookbehind:n.isInLookbehind||d,isInNegLookbehind:n.isInNegLookbehind||f});if(p.body.push(v),(d||n.isInLookbehind)&&!a){const x="Lookbehind includes a pattern not allowed by Oniguruma";if(f||n.isInNegLookbehind){if(fB(v)||v.type==="CapturingGroup")throw new Error(x)}else if(fB(v)||hB(v)&&v.negate)throw new Error(x)}}h=pB(r[t.nextIndex])}return t.nextIndex++,c}function $9e({kind:e,min:t,max:n},r){const i=r.parent,s=i.body.at(-1);if(!s||!P9e(s))throw new Error("Quantifier requires a repeatable token");const a=Bne(e,t,n,s);return i.body.pop(),a}function z9e({raw:e},t){const{capturingGroups:n,subroutines:r}=t;let i=e.slice(3,-1);const s=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(s){const o=+s.groups.num,c=n.length;if(t.hasNumberedRef=!0,i={"":o,"+":c+o,"-":c+1-o}[s.groups.sign],i<1)throw new Error("Invalid subroutine number")}else i==="0"&&(i=0);const a=Une(i);return r.push(a),a}function B9e(e,t){return{type:"AbsenceFunction",kind:e,body:wx(t==null?void 0:t.body)}}function i0(e){return{type:"Alternative",body:Hne(e==null?void 0:e.body)}}function $A(e,t){const n={type:"Assertion",kind:e};return(e==="word_boundary"||e==="text_segment_boundary")&&(n.negate=!!(t!=null&&t.negate)),n}function zA(e,t){const n=!!(t!=null&&t.orphan);return{type:"Backreference",ref:e,...n&&{orphan:n}}}function zne(e,t){const n={name:void 0,isSubroutined:!1,...t};if(n.name!==void 0&&!Y9e(n.name))throw new Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:e,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:wx(t==null?void 0:t.body)}}function Rk(e,t){const n={useLastValid:!1,...t};if(e>1114111){const r=e.toString(16);if(n.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${r}}"`):new Error(`Invalid code point out of range in JS "\\x{${r}}"`)}return{type:"Character",value:e}}function e4(e){const t={kind:"union",negate:!1,...e};return{type:"CharacterClass",kind:t.kind,negate:t.negate,body:Hne(e==null?void 0:e.body)}}function U9e(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:e,max:t}}function BA(e,t){const n=!!(t!=null&&t.negate),r={type:"CharacterSet",kind:e};return(e==="digit"||e==="hex"||e==="newline"||e==="space"||e==="word")&&(r.negate=n),(e==="text_segment"||e==="newline"&&!n)&&(r.variableLength=!0),r}function H9e(e,t={}){if(e==="keep")return{type:"Directive",kind:e};if(e==="flags")return{type:"Directive",kind:e,flags:Cg(t.flags)};throw new Error(`Unexpected directive kind "${e}"`)}function V9e(e){return{type:"Flags",...e}}function fl(e){const t=e==null?void 0:e.atomic,n=e==null?void 0:e.flags;if(t&&n)throw new Error("Atomic group cannot have flags");return{type:"Group",...t&&{atomic:t},...n&&{flags:n},body:wx(e==null?void 0:e.body)}}function mh(e){const t={behind:!1,negate:!1,...e};return{type:"LookaroundAssertion",kind:t.behind?"lookbehind":"lookahead",negate:t.negate,body:wx(e==null?void 0:e.body)}}function q9e(e,t,n){return{type:"NamedCallout",kind:e,tag:t,arguments:n}}function W9e(e,t){const n=!!(t!=null&&t.negate);if(!YI.has(e))throw new Error(`Invalid POSIX class "${e}"`);return{type:"CharacterSet",kind:"posix",value:e,negate:n}}function Bne(e,t,n,r){if(t>n)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:e,min:t,max:n,body:r}}function G9e(e,t){return{type:"Regex",body:wx(t==null?void 0:t.body),flags:e}}function Une(e){return{type:"Subroutine",ref:e}}function Pm(e,t){var i;const n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t};let r=(i=n.unicodePropertyMap)==null?void 0:i.get(Mk(e));if(!r){if(n.normalizeUnknownPropertyNames)r=X9e(e);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw new Error(ns`Invalid Unicode property "\p{${e}}"`)}return{type:"CharacterSet",kind:"property",value:r??e,negate:n.negate}}function K9e({flags:e,kind:t,name:n,negate:r,number:i}){switch(t){case"absence_repeater":return B9e("repeater");case"atomic":return fl({atomic:!0});case"capturing":return zne(i,{name:n});case"group":return fl({flags:e});case"lookahead":case"lookbehind":return mh({behind:t==="lookbehind",negate:r});default:throw new Error(`Unexpected group kind "${t}"`)}}function wx(e){if(e===void 0)e=[i0()];else if(!Array.isArray(e)||!e.length||!e.every(t=>t.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return e}function Hne(e){if(e===void 0)e=[];else if(!Array.isArray(e)||!e.every(t=>!!t.type))throw new Error("Invalid body; expected array of nodes");return e}function fB(e){return e.type==="LookaroundAssertion"&&e.kind==="lookahead"}function hB(e){return e.type==="LookaroundAssertion"&&e.kind==="lookbehind"}function Y9e(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function X9e(e){return e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,t=>t[0].toUpperCase()+t.slice(1).toLowerCase())}function Mk(e){return e.replace(/[- _]+/g,"").toLowerCase()}function mB(e,t){return Cg(e,`${(t==null?void 0:t.type)==="Character"&&t.value===93?"Empty":"Unclosed"} character class`)}function pB(e){return Cg(e,"Unclosed group")}function Sv(e,t,n=null){function r(s,a){for(let o=0;o<s.length;o++){const c=i(s[o],a,o,s);o=Math.max(-1,o+c)}}function i(s,a=null,o=null,c=null){var w,E;let u=0,d=!1;const f={node:s,parent:a,key:o,container:c,root:e,remove(){n2(c).splice(Math.max(0,wm(o)+u),1),u--,d=!0},removeAllNextSiblings(){return n2(c).splice(wm(o)+1)},removeAllPrevSiblings(){const k=wm(o)+u;return u-=k,n2(c).splice(0,Math.max(0,k))},replaceWith(k,_={}){const A=!!_.traverse;c?c[Math.max(0,wm(o)+u)]=k:Cg(a,"Can't replace root node")[o]=k,A&&i(k,a,o,c),d=!0},replaceWithMultiple(k,_={}){const A=!!_.traverse;if(n2(c).splice(Math.max(0,wm(o)+u),1,...k),u+=k.length-1,A){let T=0;for(let C=0;C<k.length;C++)T+=i(k[C],a,wm(o)+C+T,c)}d=!0},skip(){d=!0}},{type:h}=s,p=t["*"],v=t[h],x=typeof p=="function"?p:p==null?void 0:p.enter,b=typeof v=="function"?v:v==null?void 0:v.enter;if(x==null||x(f,n),b==null||b(f,n),!d)switch(h){case"AbsenceFunction":case"CapturingGroup":case"Group":r(s.body,s);break;case"Alternative":case"CharacterClass":r(s.body,s);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":i(s.min,s,"min"),i(s.max,s,"max");break;case"LookaroundAssertion":r(s.body,s);break;case"Quantifier":i(s.body,s,"body");break;case"Regex":r(s.body,s),i(s.flags,s,"flags");break;default:throw new Error(`Unexpected node type "${h}"`)}return(w=v==null?void 0:v.exit)==null||w.call(v,f,n),(E=p==null?void 0:p.exit)==null||E.call(p,f,n),u}return i(e),e}function n2(e){if(!Array.isArray(e))throw new Error("Container expected");return e}function wm(e){if(typeof e!="number")throw new Error("Numeric key expected");return e}const Q9e=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function Z9e(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function J9e(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n.length)}const To=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function QI(e,t,n,r){const i=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),s=[!1];let a=0,o="";for(const c of e.matchAll(i)){const{0:u,groups:{$skip:d}}=c;if(!d&&(!r||r===To.DEFAULT==!a)){n instanceof Function?o+=n(c,{context:a?To.CHAR_CLASS:To.DEFAULT,negated:s[s.length-1]}):o+=n;continue}u[0]==="["?(a++,s.push(u[1]==="^")):u==="]"&&a&&(a--,s.pop()),o+=u}return o}function Vne(e,t,n,r){QI(e,t,n,r)}function eLe(e,t,n=0,r){if(!new RegExp(t,"su").test(e))return null;const i=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=n;let s=0,a;for(;a=i.exec(e);){const{0:o,groups:{$skip:c}}=a;if(!c&&(!r||r===To.DEFAULT==!s))return a;o==="["?s++:o==="]"&&s&&s--,i.lastIndex==a.index&&i.lastIndex++}return null}function r2(e,t,n){return!!eLe(e,t,0,n)}function tLe(e,t){const n=/\\?./gsu;n.lastIndex=t;let r=e.length,i=0,s=1,a;for(;a=n.exec(e);){const[o]=a;if(o==="[")i++;else if(i)o==="]"&&i--;else if(o==="(")s++;else if(o===")"&&(s--,!s)){r=a.index;break}}return e.slice(t,r)}const gB=new RegExp(String.raw`(?<noncapturingStart>${Q9e})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function nLe(e,t){const n=(t==null?void 0:t.hiddenCaptures)??[];let r=(t==null?void 0:t.captureTransfers)??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:r,hiddenCaptures:n};const i="(?>",s="(?:(?=(",a=[0],o=[];let c=0,u=0,d=NaN,f;do{f=!1;let h=0,p=0,v=!1,x;for(gB.lastIndex=Number.isNaN(d)?0:d+s.length;x=gB.exec(e);){const{0:b,index:w,groups:{capturingStart:E,noncapturingStart:k}}=x;if(b==="[")h++;else if(h)b==="]"&&h--;else if(b===i&&!v)d=w,v=!0;else if(v&&k)p++;else if(E)v?p++:(c++,a.push(c+u));else if(b===")"&&v){if(!p){u++;const _=c+u;if(e=`${e.slice(0,d)}${s}${e.slice(d+i.length,w)}))<$$${_}>)${e.slice(w+1)}`,f=!0,o.push(_),Z9e(n,_),r.size){const A=new Map;r.forEach((T,C)=>{A.set(C>=_?C+1:C,T.map(I=>I>=_?I+1:I))}),r=A}break}p--}}}while(f);return n.push(...o),e=QI(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:h,groups:{backrefNum:p,wrappedBackrefNum:v}})=>{if(p){const x=+p;if(x>a.length-1)throw new Error(`Backref "${h}" greater than number of captures`);return`\\${a[x]}`}return`\\${v}`},To.DEFAULT),{pattern:e,captureTransfers:r,hiddenCaptures:n}}const qne=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,uT=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${qne})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function rLe(e){if(!new RegExp(`${qne}\\+`).test(e))return{pattern:e};const t=[];let n=null,r=null,i="",s=0,a;for(uT.lastIndex=0;a=uT.exec(e);){const{0:o,index:c,groups:{qBase:u,qMod:d,invalidQ:f}}=a;if(o==="[")s||(r=c),s++;else if(o==="]")s?s--:r=null;else if(!s)if(d==="+"&&i&&!i.startsWith("(")){if(f)throw new Error(`Invalid quantifier "${o}"`);let h=-1;if(/^\{\d+\}$/.test(u))e=J9e(e,c+u.length,d,"");else{if(i===")"||i==="]"){const p=i===")"?n:r;if(p===null)throw new Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,p)}(?>${e.slice(p,c)}${u})${e.slice(c+o.length)}`}else e=`${e.slice(0,c-i.length)}(?>${i}${u})${e.slice(c+o.length)}`;h+=4}uT.lastIndex+=h}else o[0]==="("?t.push(c):o===")"&&(n=t.length?t.pop():null);i=o}return{pattern:e}}const Co=String.raw,iLe=Co`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,UA=Co`\(\?R=(?<rDepth>[^\)]+)\)|${iLe}`,Ok=Co`\(\?<(?![=!])(?<captureName>[^>]+)>`,Wne=Co`${Ok}|(?<unnamed>\()(?!\?)`,ah=new RegExp(Co`${Ok}|${UA}|\(\?|\\?.`,"gsu"),dT="Cannot use multiple overlapping recursions";function sLe(e,t){const{hiddenCaptures:n,mode:r}={hiddenCaptures:[],mode:"plugin",...t};let i=(t==null?void 0:t.captureTransfers)??new Map;if(!new RegExp(UA,"su").test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:n};if(r==="plugin"&&r2(e,Co`\(\?\(DEFINE\)`,To.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const s=[],a=r2(e,Co`\\[1-9]`,To.DEFAULT),o=new Map,c=[];let u=!1,d=0,f=0,h;for(ah.lastIndex=0;h=ah.exec(e);){const{0:p,groups:{captureName:v,rDepth:x,gRNameOrNum:b,gRDepth:w}}=h;if(p==="[")d++;else if(d)p==="]"&&d--;else if(x){if(vB(x),u)throw new Error(dT);if(a)throw new Error(`${r==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const E=e.slice(0,h.index),k=e.slice(ah.lastIndex);if(r2(k,UA,To.DEFAULT))throw new Error(dT);const _=+x-1;e=yB(E,k,_,!1,n,s,f),i=bB(i,E,_,s.length,0,f);break}else if(b){vB(w);let E=!1;for(const U of c)if(U.name===b||U.num===+b){if(E=!0,U.hasRecursedWithin)throw new Error(dT);break}if(!E)throw new Error(Co`Recursive \g cannot be used outside the referenced group "${r==="external"?b:Co`\g<${b}&R=${w}>`}"`);const k=o.get(b),_=tLe(e,k);if(a&&r2(_,Co`${Ok}|\((?!\?)`,To.DEFAULT))throw new Error(`${r==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const A=e.slice(k,h.index),T=_.slice(A.length+p.length),C=s.length,I=+w-1,B=yB(A,T,I,!0,n,s,f);i=bB(i,A,I,s.length-C,C,f);const $=e.slice(0,k),L=e.slice(k+_.length);e=`${$}${B}${L}`,ah.lastIndex+=B.length-p.length-A.length-T.length,c.forEach(U=>U.hasRecursedWithin=!0),u=!0}else if(v)f++,o.set(String(f),ah.lastIndex),o.set(v,ah.lastIndex),c.push({num:f,name:v});else if(p[0]==="("){const E=p==="(";E&&(f++,o.set(String(f),ah.lastIndex)),c.push(E?{num:f}:{})}else p===")"&&c.pop()}return n.push(...s),{pattern:e,captureTransfers:i,hiddenCaptures:n}}function vB(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}function yB(e,t,n,r,i,s,a){const o=new Set;r&&Vne(e+t,Ok,({groups:{captureName:u}})=>{o.add(u)},To.DEFAULT);const c=[n,r?o:null,i,s,a];return`${e}${xB(`(?:${e}`,"forward",...c)}(?:)${xB(`${t})`,"backward",...c)}${t}`}function xB(e,t,n,r,i,s,a){const c=d=>t==="forward"?d+2:n-d+2-1;let u="";for(let d=0;d<n;d++){const f=c(d);u+=QI(e,Co`${Wne}|\\k<(?<backref>[^>]+)>`,({0:h,groups:{captureName:p,unnamed:v,backref:x}})=>{if(x&&r&&!r.has(x))return h;const b=`_$${f}`;if(v||p){const w=a+s.length+1;return s.push(w),aLe(i,w),v?h:`(?<${p}${b}>`}return Co`\k<${x}${b}>`},To.DEFAULT)}return u}function aLe(e,t){for(let n=0;n<e.length;n++)e[n]>=t&&e[n]++}function bB(e,t,n,r,i,s){if(e.size&&r){let a=0;Vne(t,Wne,()=>a++,To.DEFAULT);const o=s-a+i,c=new Map;return e.forEach((u,d)=>{const f=(r-a*n)/n,h=a*n,p=d>o+a?d+r:d,v=[];for(const x of u)if(x<=o)v.push(x);else if(x>o+a+f)v.push(x+r);else if(x<=o+a)for(let b=0;b<=n;b++)v.push(x+a*b);else for(let b=0;b<=n;b++)v.push(x+h+f*b);c.set(p,v)}),c}return e}var Ri=String.fromCodePoint,hn=String.raw,bu={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};bu.bugFlagVLiteralHyphenIsRange=bu.unicodeSets?(()=>{try{new RegExp(hn`[\d\-a]`,"v")}catch{return!0}return!1})():!1;bu.bugNestedClassIgnoresNegation=bu.unicodeSets&&new RegExp("[[^a]]","v").test("a");function oE(e,{enable:t,disable:n}){return{dotAll:!(n!=null&&n.dotAll)&&!!(t!=null&&t.dotAll||e.dotAll),ignoreCase:!(n!=null&&n.ignoreCase)&&!!(t!=null&&t.ignoreCase||e.ignoreCase)}}function cy(e,t,n){return e.has(t)||e.set(t,n),e.get(t)}function HA(e,t){return wB[e]>=wB[t]}function oLe(e,t){if(e==null)throw new Error(t??"Value expected");return e}var wB={ES2025:2025,ES2024:2024,ES2018:2018},lLe={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Gne(e={}){if({}.toString.call(e)!=="[object Object]")throw new Error("Unexpected options");if(e.target!==void 0&&!lLe[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return t.target==="auto"&&(t.target=bu.flagGroups?"ES2025":bu.unicodeSets?"ES2024":"ES2018"),t}var cLe="[	-\r ]",uLe=new Set([Ri(304),Ri(305)]),Gc=hn`[\p{L}\p{M}\p{N}\p{Pc}]`;function Kne(e){if(uLe.has(e))return[e];const t=new Set,n=e.toLowerCase(),r=n.toUpperCase(),i=hLe.get(n),s=dLe.get(n),a=fLe.get(n);return[...r].length===1&&t.add(r),a&&t.add(a),i&&t.add(i),t.add(n),s&&t.add(s),[...t]}var ZI=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[Mk(e),e])),dLe=new Map([["s",Ri(383)],[Ri(383),"s"]]),fLe=new Map([[Ri(223),Ri(7838)],[Ri(107),Ri(8490)],[Ri(229),Ri(8491)],[Ri(969),Ri(8486)]]),hLe=new Map([Id(453),Id(456),Id(459),Id(498),...fT(8072,8079),...fT(8088,8095),...fT(8104,8111),Id(8124),Id(8140),Id(8188)]),mLe=new Map([["alnum",hn`[\p{Alpha}\p{Nd}]`],["alpha",hn`\p{Alpha}`],["ascii",hn`\p{ASCII}`],["blank",hn`[\p{Zs}\t]`],["cntrl",hn`\p{Cc}`],["digit",hn`\p{Nd}`],["graph",hn`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",hn`\p{Lower}`],["print",hn`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",hn`[\p{P}\p{S}]`],["space",hn`\p{space}`],["upper",hn`\p{Upper}`],["word",hn`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",hn`\p{AHex}`]]);function pLe(e,t){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}function Id(e){const t=Ri(e);return[t.toLowerCase(),t]}function fT(e,t){return pLe(e,t).map(n=>Id(n))}var Yne=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function gLe(e,t){const n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};Xne(e);const r={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:HA(n.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};Sv(e,vLe,r);const i={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},s={currentFlags:i,prevFlags:null,globalFlags:i,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:r.subroutineRefMap};Sv(e,yLe,s);const a={groupsByName:s.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:s.reffedNodesByReferencer};return Sv(e,xLe,a),e._originMap=s.groupOriginByCopy,e._strategy=r.strategy,e}var vLe={AbsenceFunction({node:e,parent:t,replaceWith:n}){const{body:r,kind:i}=e;if(i==="repeater"){const s=fl();s.body[0].body.push(mh({negate:!0,body:r}),Pm("Any"));const a=fl();a.body[0].body.push(Bne("greedy",0,1/0,s)),n(si(a,t),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:e,parent:t,key:n},{flagDirectivesByAlt:r}){const i=e.body.filter(s=>s.kind==="flags");for(let s=n+1;s<t.body.length;s++){const a=t.body[s];cy(r,a,[]).push(...i)}},exit({node:e},{flagDirectivesByAlt:t}){var n;if((n=t.get(e))!=null&&n.length){const r=Zne(t.get(e));if(r){const i=fl({flags:r});i.body[0].body=e.body,e.body=[si(i,e)]}}}},Assertion({node:e,parent:t,key:n,container:r,root:i,remove:s,replaceWith:a},o){const{kind:c,negate:u}=e,{asciiWordBoundaries:d,avoidSubclass:f,supportedGNodes:h,wordIsAscii:p}=o;if(c==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${u?"Y":"y"}"`);if(c==="line_end")a(si(mh({body:[i0({body:[$A("string_end")]}),i0({body:[Rk(10)]})]}),t));else if(c==="line_start")a(si(Kc(hn`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(c==="search_start")if(h.has(e))i.flags.sticky=!0,s();else{const v=r[n-1];if(v&&_Le(v))a(si(mh({negate:!0}),t));else{if(f)throw new Error(hn`Uses "\G" in a way that requires a subclass`);a(Rd($A("string_start"),t)),o.strategy="clip_search"}}else if(!(c==="string_end"||c==="string_start"))if(c==="string_end_newline")a(si(Kc(hn`(?=\n?\z)`),t));else if(c==="word_boundary"){if(!p&&!d){const v=`(?:(?<=${Gc})(?!${Gc})|(?<!${Gc})(?=${Gc}))`,x=`(?:(?<=${Gc})(?=${Gc})|(?<!${Gc})(?!${Gc}))`;a(si(Kc(u?x:v),t))}}else throw new Error(`Unexpected assertion kind "${c}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:n}=e;typeof n=="string"&&!mT(n)&&(n=hT(n,t),e.ref=n)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:n}){let{name:r}=e;r&&!mT(r)&&(r=hT(r,t),e.name=r),n.set(e.number,e),r&&n.set(r,e)},CharacterClassRange({node:e,parent:t,replaceWith:n}){if(t.kind==="intersection"){const r=e4({body:[e]});n(si(r,t),{traverse:!0})}},CharacterSet({node:e,parent:t,replaceWith:n},{accuracy:r,minTargetEs2024:i,digitIsAscii:s,spaceIsAscii:a,wordIsAscii:o}){const{kind:c,negate:u,value:d}=e;if(s&&(c==="digit"||d==="digit")){n(Rd(BA("digit",{negate:u}),t));return}if(a&&(c==="space"||d==="space")){n(si(pT(Kc(cLe),u),t));return}if(o&&(c==="word"||d==="word")){n(Rd(BA("word",{negate:u}),t));return}if(c==="any")n(Rd(Pm("Any"),t));else if(c==="digit")n(Rd(Pm("Nd",{negate:u}),t));else if(c!=="dot")if(c==="text_segment"){if(r==="strict")throw new Error(hn`Use of "\X" requires non-strict accuracy`);const f="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",h=hn`\p{RI}{2}|${f}(?:\u200D${f})*`;n(si(Kc(hn`(?>\r\n|${i?hn`\p{RGI_Emoji}`:h}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(c==="hex")n(Rd(Pm("AHex",{negate:u}),t));else if(c==="newline")n(si(Kc(u?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),t));else if(c==="posix")if(!i&&(d==="graph"||d==="print")){if(r==="strict")throw new Error(`POSIX class "${d}" requires min target ES2024 or non-strict accuracy`);let f={graph:"!-~",print:" -~"}[d];u&&(f=`\0-${Ri(f.codePointAt(0)-1)}${Ri(f.codePointAt(2)+1)}-`),n(si(Kc(`[${f}]`),t))}else n(si(pT(Kc(mLe.get(d)),u),t));else if(c==="property")ZI.has(Mk(d))||(e.key="sc");else if(c==="space")n(Rd(Pm("space",{negate:u}),t));else if(c==="word")n(si(pT(Kc(Gc),u),t));else throw new Error(`Unexpected character set kind "${c}"`)},Directive({node:e,parent:t,root:n,remove:r,replaceWith:i,removeAllPrevSiblings:s,removeAllNextSiblings:a}){const{kind:o,flags:c}=e;if(o==="flags")if(!c.enable&&!c.disable)r();else{const u=fl({flags:c});u.body[0].body=a(),i(si(u,t),{traverse:!0})}else if(o==="keep"){const u=n.body[0],f=n.body.length===1&&Fne(u,{type:"Group"})&&u.body[0].body.length===1?u.body[0]:n;if(t.parent!==f||f.body.length>1)throw new Error(hn`Uses "\K" in a way that's unsupported`);const h=mh({behind:!0});h.body[0].body=s(),i(si(h,t))}else throw new Error(`Unexpected directive kind "${o}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw new Error('Unsupported flag "P"');if(e.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(n=>delete e[n]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:n}=e.flags;t!=null&&t.extended&&delete t.extended,n!=null&&n.extended&&delete n.extended,t!=null&&t.dotAll&&(n!=null&&n.dotAll)&&delete t.dotAll,t!=null&&t.ignoreCase&&(n!=null&&n.ignoreCase)&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,n&&!Object.keys(n).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},LookaroundAssertion({node:e},t){const{kind:n}=e;n==="lookbehind"&&(t.passedLookbehind=!0)},NamedCallout({node:e,parent:t,replaceWith:n}){const{kind:r}=e;if(r==="fail")n(si(mh({negate:!0}),t));else throw new Error(`Unsupported named callout "(*${r.toUpperCase()}"`)},Quantifier({node:e}){if(e.body.type==="Quantifier"){const t=fl();t.body[0].body.push(e.body),e.body=si(t,e)}},Regex:{enter({node:e},{supportedGNodes:t}){const n=[];let r=!1,i=!1;for(const s of e.body)if(s.body.length===1&&s.body[0].kind==="search_start")s.body.pop();else{const a=ere(s.body);a?(r=!0,Array.isArray(a)?n.push(...a):n.push(a)):i=!0}r&&!i&&n.forEach(s=>t.add(s))},exit(e,{accuracy:t,passedLookbehind:n,strategy:r}){if(t==="strict"&&n&&r)throw new Error(hn`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:n}=e;typeof n=="string"&&!mT(n)&&(n=hT(n,t),e.ref=n)}},yLe={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:n}){const{orphan:r,ref:i}=e;r||n.set(e,[...t.get(i).map(({node:s})=>s)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:n,skip:r},{groupOriginByCopy:i,groupsByName:s,multiplexCapturesToLeftByRef:a,openRefs:o,reffedNodesByReferencer:c}){const u=i.get(e);if(u&&o.has(e.number)){const f=Rd(EB(e.number),t);c.set(f,o.get(e.number)),n(f);return}o.set(e.number,e),a.set(e.number,[]),e.name&&cy(a,e.name,[]);const d=a.get(e.name??e.number);for(let f=0;f<d.length;f++){const h=d[f];if(u===h.node||u&&u===h.origin||e===h.origin){d.splice(f,1);break}}if(a.get(e.number).push({node:e,origin:u}),e.name&&a.get(e.name).push({node:e,origin:u}),e.name){const f=cy(s,e.name,new Map);let h=!1;if(u)h=!0;else for(const p of f.values())if(!p.hasDuplicateNameToRemove){h=!0;break}s.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:h})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=oE(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Subroutine({node:e,parent:t,replaceWith:n},r){const{isRecursive:i,ref:s}=e;if(i){let d=t;for(;(d=d.parent)&&!(d.type==="CapturingGroup"&&(d.name===s||d.number===s)););r.reffedNodesByReferencer.set(e,d);return}const a=r.subroutineRefMap.get(s),o=s===0,c=o?EB(0):Qne(a,r.groupOriginByCopy,null);let u=c;if(!o){const d=Zne(ELe(a,h=>h.type==="Group"&&!!h.flags)),f=d?oE(r.globalFlags,d):r.globalFlags;bLe(f,r.currentFlags)||(u=fl({flags:SLe(f)}),u.body[0].body.push(c))}n(si(u,t),{traverse:!o})}},xLe={Backreference({node:e,parent:t,replaceWith:n},r){if(e.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref);return}const s=r.reffedNodesByReferencer.get(e).filter(a=>wLe(a,e));if(!s.length)n(si(mh({negate:!0}),t));else if(s.length>1){const a=fl({atomic:!0,body:s.reverse().map(o=>i0({body:[zA(o.number)]}))});n(si(a,t))}else e.ref=s[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Regex:{exit({node:e},t){const n=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let r=0;r<n;r++){const i=zne();e.body.at(-1).body.push(i)}}},Subroutine({node:e},t){!e.isRecursive||e.ref===0||(e.ref=t.reffedNodesByReferencer.get(e).number)}};function Xne(e){Sv(e,{"*"({node:t,parent:n}){t.parent=n}})}function bLe(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function wLe(e,t){let n=t;do{if(n.type==="Regex")return!1;if(n.type==="Alternative")continue;if(n===e)return!1;const r=Jne(n.parent);for(const i of r){if(i===n)break;if(i===e||tre(i,e))return!0}}while(n=n.parent);throw new Error("Unexpected path")}function Qne(e,t,n,r){const i=Array.isArray(e)?[]:{};for(const[s,a]of Object.entries(e))s==="parent"?i.parent=Array.isArray(n)?r:n:a&&typeof a=="object"?i[s]=Qne(a,t,i,n):(s==="type"&&a==="CapturingGroup"&&t.set(i,t.get(e)??e),i[s]=a);return i}function EB(e){const t=Une(e);return t.isRecursive=!0,t}function ELe(e,t){const n=[];for(;e=e.parent;)(!t||t(e))&&n.push(e);return n}function hT(e,t){if(t.has(e))return t.get(e);const n=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,n),n}function Zne(e){const t=["dotAll","ignoreCase"],n={enable:{},disable:{}};return e.forEach(({flags:r})=>{t.forEach(i=>{var s,a;(s=r.enable)!=null&&s[i]&&(delete n.disable[i],n.enable[i]=!0),(a=r.disable)!=null&&a[i]&&(n.disable[i]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function SLe({dotAll:e,ignoreCase:t}){const n={};return(e||t)&&(n.enable={},e&&(n.enable.dotAll=!0),t&&(n.enable.ignoreCase=!0)),(!e||!t)&&(n.disable={},!e&&(n.disable.dotAll=!0),!t&&(n.disable.ignoreCase=!0)),n}function Jne(e){if(!e)throw new Error("Node expected");const{body:t}=e;return Array.isArray(t)?t:t?[t]:null}function ere(e){const t=e.find(n=>n.kind==="search_start"||CLe(n,{negate:!1})||!kLe(n));if(!t)return null;if(t.kind==="search_start")return t;if(t.type==="LookaroundAssertion")return t.body[0].body[0];if(t.type==="CapturingGroup"||t.type==="Group"){const n=[];for(const r of t.body){const i=ere(r.body);if(!i)return null;Array.isArray(i)?n.push(...i):n.push(i)}return n}return null}function tre(e,t){const n=Jne(e)??[];for(const r of n)if(r===t||tre(r,t))return!0;return!1}function kLe({type:e}){return e==="Assertion"||e==="Directive"||e==="LookaroundAssertion"}function _Le(e){const t=["Character","CharacterClass","CharacterSet"];return t.includes(e.type)||e.type==="Quantifier"&&e.min&&t.includes(e.body.type)}function CLe(e,t){const n={negate:null,...t};return e.type==="LookaroundAssertion"&&(n.negate===null||e.negate===n.negate)&&e.body.length===1&&Fne(e.body[0],{type:"Assertion",kind:"search_start"})}function mT(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function Kc(e,t){const r=$ne(e,{...t,unicodePropertyMap:ZI}).body;return r.length>1||r[0].body.length>1?fl({body:r}):r[0].body[0]}function pT(e,t){return e.negate=t,e}function Rd(e,t){return e.parent=t,e}function si(e,t){return Xne(e),e.parent=t,e}function NLe(e,t){const n=Gne(t),r=HA(n.target,"ES2024"),i=HA(n.target,"ES2025"),s=n.rules.recursionLimit;if(!Number.isInteger(s)||s<2||s>20)throw new Error("Invalid recursionLimit; use 2-20");let a=null,o=null;if(!i){const p=[e.flags.ignoreCase];Sv(e,TLe,{getCurrentModI:()=>p.at(-1),popModI(){p.pop()},pushModI(v){p.push(v)},setHasCasedChar(){p.at(-1)?a=!0:o=!0}})}const c={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||a)&&!o)};let u=e;const d={accuracy:n.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:u,originMap:e._originMap,recursionLimit:s,useAppliedIgnoreCase:!!(!i&&a&&o),useFlagMods:i,useFlagV:r,verbose:n.verbose};function f(p){return d.lastNode=u,u=p,oLe(ALe[p.type],`Unexpected node type "${p.type}"`)(p,d,f)}const h={pattern:e.body.map(f).join("|"),flags:f(e.flags),options:{...e.options}};return r||(delete h.options.force.v,h.options.disable.v=!0,h.options.unicodeSetsPlugin=null),h._captureTransfers=new Map,h._hiddenCaptures=[],d.captureMap.forEach((p,v)=>{p.hidden&&h._hiddenCaptures.push(v),p.transferTo&&cy(h._captureTransfers,p.transferTo,[]).push(v)}),h}var TLe={"*":{enter({node:e},t){if(kB(e)){const n=t.getCurrentModI();t.pushModI(e.flags?oE({ignoreCase:n},e.flags).ignoreCase:n)}},exit({node:e},t){kB(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){JI(Ri(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},n){t(),nre(e,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:e},t){e.kind==="property"&&Yne.has(e.value)&&t.setHasCasedChar()}},ALe={Alternative({body:e},t,n){return e.map(n).join("")},Assertion({kind:e,negate:t}){if(e==="string_end")return"$";if(e==="string_start")return"^";if(e==="word_boundary")return t?hn`\B`:hn`\b`;throw new Error(`Unexpected assertion kind "${e}"`)},Backreference({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e},CapturingGroup(e,t,n){const{body:r,name:i,number:s}=e,a={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(a.hidden=!0,s>o.number&&(a.transferTo=o.number)),t.captureMap.set(s,a),`(${i?`?<${i}>`:""}${r.map(n).join("|")})`},Character({value:e},t){const n=Ri(e),r=Em(e,{escDigit:t.lastNode.type==="Backreference",inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(r!==n)return r;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&JI(n)){const i=Kne(n);return t.inCharClass?i.join(""):i.length>1?`[${i.join("")}]`:i[0]}return n},CharacterClass(e,t,n){const{kind:r,negate:i,parent:s}=e;let{body:a}=e;if(r==="intersection"&&!t.useFlagV)throw new Error("Use of class intersection requires min target ES2024");bu.bugFlagVLiteralHyphenIsRange&&t.useFlagV&&a.some(_B)&&(a=[Rk(45),...a.filter(u=>!_B(u))]);const o=()=>`[${i?"^":""}${a.map(n).join(r==="intersection"?"&&":"")}]`;if(!t.inCharClass){if((!t.useFlagV||bu.bugNestedClassIgnoresNegation)&&!i){const d=a.filter(f=>f.type==="CharacterClass"&&f.kind==="union"&&f.negate);if(d.length){const f=fl(),h=f.body[0];return f.parent=s,h.parent=f,a=a.filter(p=>!d.includes(p)),e.body=a,a.length?(e.parent=h,h.body.push(e)):f.body.pop(),d.forEach(p=>{const v=i0({body:[p]});p.parent=v,v.parent=f,f.body.push(v)}),n(f)}}t.inCharClass=!0;const u=o();return t.inCharClass=!1,u}const c=a[0];if(r==="union"&&!i&&c&&((!t.useFlagV||!t.verbose)&&s.kind==="union"&&!(bu.bugFlagVLiteralHyphenIsRange&&t.useFlagV)||!t.verbose&&s.kind==="intersection"&&a.length===1&&c.type!=="CharacterClassRange"))return a.map(n).join("");if(!t.useFlagV&&s.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return o()},CharacterClassRange(e,t){const n=e.min.value,r=e.max.value,i={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},s=Em(n,i),a=Em(r,i),o=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const c=nre(e);MLe(c).forEach(d=>{o.add(Array.isArray(d)?`${Em(d[0],i)}-${Em(d[1],i)}`:Em(d,i))})}return`${s}-${a}${[...o].join("")}`},CharacterSet({kind:e,negate:t,value:n,key:r},i){if(e==="dot")return i.currentFlags.dotAll?i.appliedGlobalFlags.dotAll||i.useFlagMods?".":"[^]":hn`[^\n]`;if(e==="digit")return t?hn`\D`:hn`\d`;if(e==="property"){if(i.useAppliedIgnoreCase&&i.currentFlags.ignoreCase&&Yne.has(n))throw new Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${t?hn`\P`:hn`\p`}{${r?`${r}=`:""}${n}}`}if(e==="word")return t?hn`\W`:hn`\w`;throw new Error(`Unexpected character set kind "${e}"`)},Flags(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")},Group({atomic:e,body:t,flags:n,parent:r},i,s){const a=i.currentFlags;n&&(i.currentFlags=oE(a,n));const o=t.map(s).join("|"),c=!i.verbose&&t.length===1&&r.type!=="Quantifier"&&!e&&(!i.useFlagMods||!n)?o:`(?${OLe(e,n,i.useFlagMods)}${o})`;return i.currentFlags=a,c},LookaroundAssertion({body:e,kind:t,negate:n},r,i){return`(?${`${t==="lookahead"?"":"<"}${n?"!":"="}`}${e.map(i).join("|")})`},Quantifier(e,t,n){return n(e.body)+DLe(e)},Subroutine({isRecursive:e,ref:t},n){if(!e)throw new Error("Unexpected non-recursive subroutine in transformed AST");const r=n.recursionLimit;return t===0?`(?R=${r})`:hn`\g<${t}&R=${r}>`}},jLe=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),PLe=new Set(["-","\\","]","^","["]),ILe=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),SB=new Map([[9,hn`\t`],[10,hn`\n`],[11,hn`\v`],[12,hn`\f`],[13,hn`\r`],[8232,hn`\u2028`],[8233,hn`\u2029`],[65279,hn`\uFEFF`]]),RLe=new RegExp("^\\p{Cased}$","u");function JI(e){return RLe.test(e)}function nre(e,t){const n=!!(t!=null&&t.firstOnly),r=e.min.value,i=e.max.value,s=[];if(r<65&&(i===65535||i>=131071)||r===65536&&i>=131071)return s;for(let a=r;a<=i;a++){const o=Ri(a);if(!JI(o))continue;const c=Kne(o).filter(u=>{const d=u.codePointAt(0);return d<r||d>i});if(c.length&&(s.push(...c),n))break}return s}function Em(e,{escDigit:t,inCharClass:n,useFlagV:r}){if(SB.has(e))return SB.get(e);if(e<32||e>126&&e<160||e>262143||t&&LLe(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const i=n?r?ILe:PLe:jLe,s=Ri(e);return(i.has(s)?"\\":"")+s}function MLe(e){const t=e.map(i=>i.codePointAt(0)).sort((i,s)=>i-s),n=[];let r=null;for(let i=0;i<t.length;i++)t[i+1]===t[i]+1?r??(r=t[i]):r===null?n.push(t[i]):(n.push([r,t[i]]),r=null);return n}function OLe(e,t,n){if(e)return">";let r="";if(t&&n){const{enable:i,disable:s}=t;r=(i!=null&&i.ignoreCase?"i":"")+(i!=null&&i.dotAll?"s":"")+(s?"-":"")+(s!=null&&s.ignoreCase?"i":"")+(s!=null&&s.dotAll?"s":"")}return`${r}:`}function DLe({kind:e,max:t,min:n}){let r;return!n&&t===1?r="?":!n&&t===1/0?r="*":n===1&&t===1/0?r="+":n===t?r=`{${n}}`:r=`{${n},${t===1/0?"":t}}`,r+{greedy:"",lazy:"?",possessive:"+"}[e]}function kB({type:e}){return e==="CapturingGroup"||e==="Group"||e==="LookaroundAssertion"}function LLe(e){return e>47&&e<58}function _B({type:e,value:t}){return e==="Character"&&t===45}var Jd,ou,Oh,ef,Dh,Wy,VA,ff,FLe=(ff=class extends RegExp{constructor(n,r,i){var t=(...LEt)=>(super(...LEt),Gt(this,Wy),Gt(this,Jd,new Map),Gt(this,ou,null),Gt(this,Oh),Gt(this,ef,null),Gt(this,Dh,null),Oe(this,"rawOptions",{}),this);const s=!!(i!=null&&i.lazyCompile);if(n instanceof RegExp){if(i)throw new Error("Cannot provide options when copying a regexp");const a=n;t(a,r),xt(this,Oh,a.source),a instanceof ff&&(xt(this,Jd,be(a,Jd)),xt(this,ef,be(a,ef)),xt(this,Dh,be(a,Dh)),this.rawOptions=a.rawOptions)}else{const a={hiddenCaptures:[],strategy:null,transfers:[],...i};t(s?"":n,r),xt(this,Oh,n),xt(this,Jd,zLe(a.hiddenCaptures,a.transfers)),xt(this,Dh,a.strategy),this.rawOptions=i??{}}s||xt(this,ou,this)}get source(){return be(this,Oh)||"(?:)"}exec(n){if(!be(this,ou)){const{lazyCompile:s,...a}=this.rawOptions;xt(this,ou,new ff(be(this,Oh),this.flags,a))}const r=this.global||this.sticky,i=this.lastIndex;if(be(this,Dh)==="clip_search"&&r&&i){this.lastIndex=0;const s=mn(this,Wy,VA).call(this,n.slice(i));return s&&($Le(s,i,n,this.hasIndices),this.lastIndex+=i),s}return mn(this,Wy,VA).call(this,n)}},Jd=new WeakMap,ou=new WeakMap,Oh=new WeakMap,ef=new WeakMap,Dh=new WeakMap,Wy=new WeakSet,VA=function(n){be(this,ou).lastIndex=this.lastIndex;const r=eL(ff.prototype,this,"exec").call(be(this,ou),n);if(this.lastIndex=be(this,ou).lastIndex,!r||!be(this,Jd).size)return r;const i=[...r];r.length=1;let s;this.hasIndices&&(s=[...r.indices],r.indices.length=1);const a=[0];for(let o=1;o<i.length;o++){const{hidden:c,transferTo:u}=be(this,Jd).get(o)??{};if(c?a.push(null):(a.push(r.length),r.push(i[o]),this.hasIndices&&r.indices.push(s[o])),u&&i[o]!==void 0){const d=a[u];if(!d)throw new Error(`Invalid capture transfer to "${d}"`);if(r[d]=i[o],this.hasIndices&&(r.indices[d]=s[o]),r.groups){be(this,ef)||xt(this,ef,BLe(this.source));const f=be(this,ef).get(u);f&&(r.groups[f]=i[o],this.hasIndices&&(r.indices.groups[f]=s[o]))}}}return r},ff);function $Le(e,t,n,r){if(e.index+=t,e.input=n,r){const i=e.indices;for(let a=0;a<i.length;a++){const o=i[a];o&&(i[a]=[o[0]+t,o[1]+t])}const s=i.groups;s&&Object.keys(s).forEach(a=>{const o=s[a];o&&(s[a]=[o[0]+t,o[1]+t])})}}function zLe(e,t){const n=new Map;for(const r of e)n.set(r,{hidden:!0});for(const[r,i]of t)for(const s of i)cy(n,s,{}).transferTo=r;return n}function BLe(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map;let r=0,i=0,s;for(;s=t.exec(e);){const{0:a,groups:{capture:o,name:c}}=s;a==="["?r++:r?a==="]"&&r--:o&&(i++,c&&n.set(i,c))}return n}function ULe(e,t){const n=HLe(e,t);return n.options?new FLe(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}function HLe(e,t){const n=Gne(t),r=$ne(e,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:ZI}),i=gLe(r,{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),s=NLe(i,n),a=sLe(s.pattern,{captureTransfers:s._captureTransfers,hiddenCaptures:s._hiddenCaptures,mode:"external"}),o=rLe(a.pattern),c=nLe(o.pattern,{captureTransfers:a.captureTransfers,hiddenCaptures:a.hiddenCaptures}),u={pattern:c.pattern,flags:`${n.hasIndices?"d":""}${n.global?"g":""}${s.flags}${s.options.disable.v?"u":"v"}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const d=c.hiddenCaptures.sort((v,x)=>v-x),f=Array.from(c.captureTransfers),h=i._strategy,p=u.pattern.length>=n.lazyCompileLength;(d.length||f.length||h||p)&&(u.options={...d.length&&{hiddenCaptures:d},...f.length&&{transfers:f},...h&&{strategy:h},...p&&{lazyCompile:p}})}return u}const CB=4294967295;class VLe{constructor(t,n={}){Oe(this,"regexps");this.patterns=t,this.options=n;const{forgiving:r=!1,cache:i,regexConstructor:s}=n;if(!s)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(a=>{if(typeof a!="string")return a;const o=i==null?void 0:i.get(a);if(o){if(o instanceof RegExp)return o;if(r)return null;throw o}try{const c=s(a);return i==null||i.set(a,c),c}catch(c){if(i==null||i.set(a,c),r)return null;throw c}})}findNextMatchSync(t,n,r){const i=typeof t=="string"?t:t.content,s=[];function a(o,c,u=0){return{index:o,captureIndices:c.indices.map(d=>d==null?{start:CB,end:CB,length:0}:{start:d[0]+u,end:d[1]+u,length:d[1]-d[0]})}}for(let o=0;o<this.regexps.length;o++){const c=this.regexps[o];if(c)try{c.lastIndex=n;const u=c.exec(i);if(!u)continue;if(u.index===n)return a(o,u,0);s.push([o,u,0])}catch(u){if(this.options.forgiving)continue;throw u}}if(s.length){const o=Math.min(...s.map(c=>c[1].index));for(const[c,u,d]of s)if(u.index===o)return a(c,u,d)}return null}}function qLe(e,t){return ULe(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function WLe(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||(t.regexConstructor=n=>qLe(n,{target:t.target})),{createScanner(n){return new VLe(n,t)},createString(n){return{content:n}}}}function e7(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var D0=e7();function rre(e){D0=e}var kv={exec:()=>null};function Yn(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(Ws.caret,"$1"),n=n.replace(i,a),r},getRegex:()=>new RegExp(n,t)};return r}var GLe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ws={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},KLe=/^(?:[ \t]*(?:\n|$))+/,YLe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,XLe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ex=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QLe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,t7=/(?:[*+-]|\d{1,9}[.)])/,ire=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,sre=Yn(ire).replace(/bull/g,t7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ZLe=Yn(ire).replace(/bull/g,t7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),n7=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,JLe=/^[^\n]+/,r7=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,eFe=Yn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",r7).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),tFe=Yn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,t7).getRegex(),Dk="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",i7=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,nFe=Yn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",i7).replace("tag",Dk).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),are=Yn(n7).replace("hr",Ex).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dk).getRegex(),rFe=Yn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",are).getRegex(),s7={blockquote:rFe,code:YLe,def:eFe,fences:XLe,heading:QLe,hr:Ex,html:nFe,lheading:sre,list:tFe,newline:KLe,paragraph:are,table:kv,text:JLe},NB=Yn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ex).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dk).getRegex(),iFe={...s7,lheading:ZLe,table:NB,paragraph:Yn(n7).replace("hr",Ex).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",NB).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dk).getRegex()},sFe={...s7,html:Yn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",i7).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:kv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Yn(n7).replace("hr",Ex).replace("heading",` *#{1,6} *[^
]`).replace("lheading",sre).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},aFe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,oFe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ore=/^( {2,}|\\)\n(?!\s*$)/,lFe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Lk=/[\p{P}\p{S}]/u,a7=/[\s\p{P}\p{S}]/u,lre=/[^\s\p{P}\p{S}]/u,cFe=Yn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,a7).getRegex(),cre=/(?!~)[\p{P}\p{S}]/u,uFe=/(?!~)[\s\p{P}\p{S}]/u,dFe=/(?:[^\s\p{P}\p{S}]|~)/u,fFe=Yn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",GLe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ure=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,hFe=Yn(ure,"u").replace(/punct/g,Lk).getRegex(),mFe=Yn(ure,"u").replace(/punct/g,cre).getRegex(),dre="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",pFe=Yn(dre,"gu").replace(/notPunctSpace/g,lre).replace(/punctSpace/g,a7).replace(/punct/g,Lk).getRegex(),gFe=Yn(dre,"gu").replace(/notPunctSpace/g,dFe).replace(/punctSpace/g,uFe).replace(/punct/g,cre).getRegex(),vFe=Yn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lre).replace(/punctSpace/g,a7).replace(/punct/g,Lk).getRegex(),yFe=Yn(/\\(punct)/,"gu").replace(/punct/g,Lk).getRegex(),xFe=Yn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),bFe=Yn(i7).replace("(?:-->|$)","-->").getRegex(),wFe=Yn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",bFe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lE=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,EFe=Yn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",lE).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),fre=Yn(/^!?\[(label)\]\[(ref)\]/).replace("label",lE).replace("ref",r7).getRegex(),hre=Yn(/^!?\[(ref)\](?:\[\])?/).replace("ref",r7).getRegex(),SFe=Yn("reflink|nolink(?!\\()","g").replace("reflink",fre).replace("nolink",hre).getRegex(),TB=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,o7={_backpedal:kv,anyPunctuation:yFe,autolink:xFe,blockSkip:fFe,br:ore,code:oFe,del:kv,emStrongLDelim:hFe,emStrongRDelimAst:pFe,emStrongRDelimUnd:vFe,escape:aFe,link:EFe,nolink:hre,punctuation:cFe,reflink:fre,reflinkSearch:SFe,tag:wFe,text:lFe,url:kv},kFe={...o7,link:Yn(/^!?\[(label)\]\((.*?)\)/).replace("label",lE).getRegex(),reflink:Yn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lE).getRegex()},qA={...o7,emStrongRDelimAst:gFe,emStrongLDelim:mFe,url:Yn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",TB).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Yn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",TB).getRegex()},_Fe={...qA,br:Yn(ore).replace("{2,}","*").getRegex(),text:Yn(qA.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},i2={normal:s7,gfm:iFe,pedantic:sFe},P1={normal:o7,gfm:qA,breaks:_Fe,pedantic:kFe},CFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AB=e=>CFe[e];function Gl(e,t){if(t){if(Ws.escapeTest.test(e))return e.replace(Ws.escapeReplace,AB)}else if(Ws.escapeTestNoEncode.test(e))return e.replace(Ws.escapeReplaceNoEncode,AB);return e}function jB(e){try{e=encodeURI(e).replace(Ws.percentDecode,"%")}catch{return null}return e}function PB(e,t){var s;let n=e.replace(Ws.findPipe,(a,o,c)=>{let u=!1,d=o;for(;--d>=0&&c[d]==="\\";)u=!u;return u?"|":" |"}),r=n.split(Ws.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Ws.slashPipe,"|");return r}function I1(e,t,n){let r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function NFe(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function IB(e,t,n,r,i){let s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,c}function TFe(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let i=r[1];return t.split(`
`).map(s=>{let a=s.match(n.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var cE=class{constructor(t){Oe(this,"options");Oe(this,"rules");Oe(this,"lexer");this.options=t||D0}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:I1(r,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let r=n[0],i=TFe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=I1(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:I1(n[0],`
`)}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let r=I1(n[0],`
`).split(`
`),i="",s="",a=[];for(;r.length>0;){let o=!1,c=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))c.push(r[u]),o=!0;else if(!o)c.push(r[u]);else break;r=r.slice(u);let d=c.join(`
`),f=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,s=s?`${s}
${f}`:f;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,a,!0),this.lexer.state.top=h,r.length===0)break;let p=a.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let v=p,x=v.raw+`
`+r.join(`
`),b=this.blockquote(x);a[a.length-1]=b,i=i.substring(0,i.length-v.raw.length)+b.raw,s=s.substring(0,s.length-v.text.length)+b.text;break}else if((p==null?void 0:p.type)==="list"){let v=p,x=v.raw+`
`+r.join(`
`),b=this.list(x);a[a.length-1]=b,i=i.substring(0,i.length-p.raw.length)+b.raw,s=s.substring(0,s.length-v.raw.length)+b.raw,r=x.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let a=this.rules.other.listItemRegex(r),o=!1;for(;t;){let u=!1,d="",f="";if(!(n=a.exec(t))||this.rules.block.hr.test(t))break;d=n[0],t=t.substring(d.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),p=t.split(`
`,1)[0],v=!h.trim(),x=0;if(this.options.pedantic?(x=2,f=h.trimStart()):v?x=n[1].length+1:(x=n[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,f=h.slice(x),x+=n[1].length),v&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,t=t.substring(p.length+1),u=!0),!u){let E=this.rules.other.nextBulletRegex(x),k=this.rules.other.hrRegex(x),_=this.rules.other.fencesBeginRegex(x),A=this.rules.other.headingBeginRegex(x),T=this.rules.other.htmlBeginRegex(x);for(;t;){let C=t.split(`
`,1)[0],I;if(p=C,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),I=p):I=p.replace(this.rules.other.tabCharGlobal,"    "),_.test(p)||A.test(p)||T.test(p)||E.test(p)||k.test(p))break;if(I.search(this.rules.other.nonSpaceChar)>=x||!p.trim())f+=`
`+I.slice(x);else{if(v||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(h)||A.test(h)||k.test(h))break;f+=`
`+p}!v&&!p.trim()&&(v=!0),d+=C+`
`,t=t.substring(C.length+1),h=I.slice(x)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let b=null,w;this.options.gfm&&(b=this.rules.other.listIsTask.exec(f),b&&(w=b[0]!=="[ ] ",f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!b,checked:w,loose:!1,text:f,tokens:[]}),s.raw+=d}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let d=s.items[u].tokens.filter(h=>h.type==="space"),f=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=f}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(t){var o;let n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=PB(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=n[3])!=null&&o.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let c of i)this.rules.other.tableAlignRight.test(c)?a.align.push("right"):this.rules.other.tableAlignCenter.test(c)?a.align.push("center"):this.rules.other.tableAlignLeft.test(c)?a.align.push("left"):a.align.push(null);for(let c=0;c<r.length;c++)a.header.push({text:r[c],tokens:this.lexer.inline(r[c]),header:!0,align:a.align[c]});for(let c of s)a.rows.push(PB(c,a.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:a.align[d]})));return a}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let a=I1(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=NFe(n[2],"()");if(a===-2)return;if(a>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),IB(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return IB(r,s,r[0],this.lexer,this.rules)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,a,o,c=s,u=0,d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+s);(i=d.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){c+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){u+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+u);let f=[...i[0]][0].length,h=t.slice(0,s+i.index+f+o);if(Math.min(s,o)%2){let v=h.slice(1,-1);return{type:"em",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}let p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let n;if(n=this.rules.inline.url.exec(t)){let i,s;if(n[2]==="@")i=n[0],s="mailto:"+i;else{let a;do a=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(a!==n[0]);i=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},So=class WA{constructor(t){Oe(this,"tokens");Oe(this,"options");Oe(this,"state");Oe(this,"tokenizer");Oe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||D0,this.options.tokenizer=this.options.tokenizer||new cE,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Ws,block:i2.normal,inline:P1.normal};this.options.pedantic?(n.block=i2.pedantic,n.inline=P1.pedantic):this.options.gfm&&(n.block=i2.gfm,this.options.breaks?n.inline=P1.breaks:n.inline=P1.gfm),this.tokenizer.rules=n}static get rules(){return{block:i2,inline:P1}}static lex(t,n){return new WA(n).lex(t)}static lexInline(t,n){return new WA(n).inlineTokens(t)}lex(t){t=t.replace(Ws.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(Ws.tabCharGlobal,"    ").replace(Ws.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(u=>(o=u.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let u=n.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let c=t;if((a=this.options.extensions)!=null&&a.startBlock){let u=1/0,d=t.slice(1),f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(c=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(c))){let u=n.at(-1);r&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(o),r=c.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let u=n.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):n.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var c,u,d,f,h;let r=t,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((u=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:u.call({lexer:this},r))??r;let a=!1,o="";for(;t;){a||(o=""),a=!1;let p;if((f=(d=this.options.extensions)==null?void 0:d.inline)!=null&&f.some(x=>(p=x.call({lexer:this},t,n))?(t=t.substring(p.raw.length),n.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);let x=n.at(-1);p.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):n.push(p);continue}if(p=this.tokenizer.emStrong(t,r,o)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),n.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),n.push(p);continue}let v=t;if((h=this.options.extensions)!=null&&h.startInline){let x=1/0,b=t.slice(1),w;this.options.extensions.startInline.forEach(E=>{w=E.call({lexer:this},b),typeof w=="number"&&w>=0&&(x=Math.min(x,w))}),x<1/0&&x>=0&&(v=t.substring(0,x+1))}if(p=this.tokenizer.inlineText(v)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),a=!0;let x=n.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):n.push(p);continue}if(t){let x="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return n}},uE=class{constructor(t){Oe(this,"options");Oe(this,"parser");this.options=t||D0}space(t){return""}code({text:t,lang:n,escaped:r}){var a;let i=(a=(n||"").match(Ws.notSpaceStart))==null?void 0:a[0],s=t.replace(Ws.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Gl(i)+'">'+(r?s:Gl(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:Gl(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){let n=t.ordered,r=t.start,i="";for(let o=0;o<t.items.length;o++){let c=t.items[o];i+=this.listitem(c)}let s=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){var r;let n="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Gl(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):n+=i+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",r="";for(let s=0;s<t.header.length;s++)r+=this.tablecell(t.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<t.rows.length;s++){let a=t.rows[s];r="";for(let o=0;o<a.length;o++)r+=this.tablecell(a[o]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let n=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Gl(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:r}){let i=this.parser.parseInline(r),s=jB(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return n&&(a+=' title="'+Gl(n)+'"'),a+=">"+i+"</a>",a}image({href:t,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));let s=jB(t);if(s===null)return Gl(r);t=s;let a=`<img src="${t}" alt="${r}"`;return n&&(a+=` title="${Gl(n)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Gl(t.text)}},l7=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},cl=class GA{constructor(t){Oe(this,"options");Oe(this,"renderer");Oe(this,"textRenderer");this.options=t||D0,this.options.renderer=this.options.renderer||new uE,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new l7}static parse(t,n){return new GA(n).parse(t)}static parseInline(t,n){return new GA(n).parseInline(t)}parse(t,n=!0){var i,s;let r="";for(let a=0;a<t.length;a++){let o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let u=o,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){r+=d||"";continue}}let c=o;switch(c.type){case"space":{r+=this.renderer.space(c);continue}case"hr":{r+=this.renderer.hr(c);continue}case"heading":{r+=this.renderer.heading(c);continue}case"code":{r+=this.renderer.code(c);continue}case"table":{r+=this.renderer.table(c);continue}case"blockquote":{r+=this.renderer.blockquote(c);continue}case"list":{r+=this.renderer.list(c);continue}case"html":{r+=this.renderer.html(c);continue}case"def":{r+=this.renderer.def(c);continue}case"paragraph":{r+=this.renderer.paragraph(c);continue}case"text":{let u=c,d=this.renderer.text(u);for(;a+1<t.length&&t[a+1].type==="text";)u=t[++a],d+=`
`+this.renderer.text(u);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(t,n=this.renderer){var i,s;let r="";for(let a=0;a<t.length;a++){let o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=u||"";continue}}let c=o;switch(c.type){case"escape":{r+=n.text(c);break}case"html":{r+=n.html(c);break}case"link":{r+=n.link(c);break}case"image":{r+=n.image(c);break}case"strong":{r+=n.strong(c);break}case"em":{r+=n.em(c);break}case"codespan":{r+=n.codespan(c);break}case"br":{r+=n.br(c);break}case"del":{r+=n.del(c);break}case"text":{r+=n.text(c);break}default:{let u='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}},z2,rv=(z2=class{constructor(e){Oe(this,"options");Oe(this,"block");this.options=e||D0}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?So.lex:So.lexInline}provideParser(){return this.block?cl.parse:cl.parseInline}},Oe(z2,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Oe(z2,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),z2),AFe=class{constructor(...t){Oe(this,"defaults",e7());Oe(this,"options",this.setOptions);Oe(this,"parse",this.parseMarkdown(!0));Oe(this,"parseInline",this.parseMarkdown(!1));Oe(this,"Parser",cl);Oe(this,"Renderer",uE);Oe(this,"TextRenderer",l7);Oe(this,"Lexer",So);Oe(this,"Tokenizer",cE);Oe(this,"Hooks",rv);this.use(...t)}walkTokens(t,n){var i,s;let r=[];for(let a of t)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let o=a;for(let c of o.header)r=r.concat(this.walkTokens(c.tokens,n));for(let c of o.rows)for(let u of c)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{let o=a;r=r.concat(this.walkTokens(o.items,n));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(c=>{let u=o[c].flat(1/0);r=r.concat(this.walkTokens(u,n))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,n)))}}return r}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=n.renderers[s.name];a?n.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=a.apply(this,o)),c}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=n[s.level];a?a.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new uE(this.defaults);for(let a in r.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,c=r.renderer[o],u=s[o];s[o]=(...d)=>{let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new cE(this.defaults);for(let a in r.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,c=r.tokenizer[o],u=s[o];s[o]=(...d)=>{let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new rv;for(let a in r.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,c=r.hooks[o],u=s[o];rv.passThroughHooks.has(a)?s[o]=d=>{if(this.defaults.async&&rv.passThroughHooksRespectAsync.has(a))return(async()=>{let h=await c.call(s,d);return u.call(s,h)})();let f=c.call(s,d);return u.call(s,f)}:s[o]=(...d)=>{if(this.defaults.async)return(async()=>{let h=await c.apply(s,d);return h===!1&&(h=await u.apply(s,d)),h})();let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,a=r.walkTokens;i.walkTokens=function(o){let c=[];return c.push(a.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return So.lex(t,n??this.defaults)}parser(t,n){return cl.parse(t,n??this.defaults)}parseMarkdown(t){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,c=await(s.hooks?await s.hooks.provideLexer():t?So.lex:So.lexInline)(o,s),u=s.hooks?await s.hooks.processAllTokens(c):c;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():t?cl.parse:cl.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():t?So.lex:So.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():t?cl.parse:cl.parseInline)(o,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(t,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+Gl(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},s0=new AFe;function ar(e,t){return s0.parse(e,t)}ar.options=ar.setOptions=function(e){return s0.setOptions(e),ar.defaults=s0.defaults,rre(ar.defaults),ar};ar.getDefaults=e7;ar.defaults=D0;ar.use=function(...e){return s0.use(...e),ar.defaults=s0.defaults,rre(ar.defaults),ar};ar.walkTokens=function(e,t){return s0.walkTokens(e,t)};ar.parseInline=s0.parseInline;ar.Parser=cl;ar.parser=cl.parse;ar.Renderer=uE;ar.TextRenderer=l7;ar.Lexer=So;ar.lexer=So.lex;ar.Tokenizer=cE;ar.Hooks=rv;ar.parse=ar;ar.options;ar.setOptions;ar.use;ar.walkTokens;ar.parseInline;cl.parse;So.lex;var On=(...e)=>DY(Nr(e)),c7=(e,t,n)=>{let r=typeof t=="string"?new Blob([t],{type:n}):t,i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},jFe=/<pre(\s|>)/,u7=y.createContext({code:""}),PFe=class{constructor(){this.lightHighlighter=null,this.darkHighlighter=null,this.lightTheme=null,this.darkTheme=null,this.loadedLanguages=new Set,this.initializationPromise=null}isLanguageSupported(e){return Object.hasOwn(Pne,e)}getFallbackLanguage(){return"text"}async ensureHighlightersInitialized(e,t){var n,r;let[i,s]=e,a=WLe({forgiving:!0}),o=!this.lightHighlighter||this.lightTheme!==i,c=!this.darkHighlighter||this.darkTheme!==s;(o||c)&&this.loadedLanguages.clear();let u=this.isLanguageSupported(t),d=!this.loadedLanguages.has(t)&&u;if(o?(this.lightHighlighter=await aB({themes:[i],langs:u?[t]:[],engine:a}),this.lightTheme=i,u&&this.loadedLanguages.add(t)):d&&await((n=this.lightHighlighter)==null?void 0:n.loadLanguage(t)),c){let f=d?[...this.loadedLanguages].concat(u?[t]:[]):Array.from(this.loadedLanguages);this.darkHighlighter=await aB({themes:[s],langs:f.length>0?f:u?[t]:[],engine:a}),this.darkTheme=s}else d&&await((r=this.darkHighlighter)==null?void 0:r.loadLanguage(t));d&&this.loadedLanguages.add(t)}async highlightCode(e,t,n,r){var i,s;this.initializationPromise&&await this.initializationPromise,this.initializationPromise=this.ensureHighlightersInitialized(n,t),await this.initializationPromise,this.initializationPromise=null;let[a,o]=n,c=this.isLanguageSupported(t)?t:this.getFallbackLanguage(),u=(i=this.lightHighlighter)==null?void 0:i.codeToHtml(e,{lang:c,theme:a}),d=(s=this.darkHighlighter)==null?void 0:s.codeToHtml(e,{lang:c,theme:o}),f=h=>r?h.replace(jFe,`<pre class="${r}"$1`):h;return[RB(f(u)),RB(f(d))]}},IFe=new PFe,RB=e=>e.replace(/(<pre[^>]*)(style="[^"]*background[^";]*;?[^"]*")([^>]*>)/g,"$1$3"),RFe=({code:e,language:t,className:n,children:r,preClassName:i,...s})=>{let[a,o]=y.useState(""),[c,u]=y.useState(""),d=y.useRef(!1),[f,h]=y.useContext(Bre);return y.useEffect(()=>(d.current=!0,IFe.highlightCode(e,t,[f,h],i).then(([p,v])=>{d.current&&(o(p),u(v))}),()=>{d.current=!1}),[e,t,f,h,i]),l.jsx(u7.Provider,{value:{code:e},children:l.jsxs("div",{className:"my-4 w-full overflow-hidden rounded-xl border","data-code-block-container":!0,"data-language":t,children:[l.jsxs("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-code-block-header":!0,"data-language":t,children:[l.jsx("span",{className:"ml-1 font-mono lowercase",children:t}),l.jsx("div",{className:"flex items-center gap-2",children:r})]}),l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"min-w-full",children:[l.jsx("div",{className:On("overflow-x-auto dark:hidden",n),dangerouslySetInnerHTML:{__html:a},"data-code-block":!0,"data-language":t,...s}),l.jsx("div",{className:On("hidden overflow-x-auto dark:block",n),dangerouslySetInnerHTML:{__html:c},"data-code-block":!0,"data-language":t,...s})]})})]})})},MB={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},OB=({onDownload:e,onError:t,language:n,children:r,className:i,code:s,...a})=>{let o=y.useContext(u7).code,c=s??o,u=`file.${n&&n in MB?MB[n]:"txt"}`,d="text/plain",f=()=>{try{c7(u,c,d),e==null||e()}catch(h){t==null||t(h)}};return l.jsx("button",{className:On("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",i),onClick:f,title:"Download file",type:"button",...a,children:r??l.jsx(zI,{size:14})})},DB=({onCopy:e,onError:t,timeout:n=2e3,children:r,className:i,code:s,...a})=>{let[o,c]=y.useState(!1),u=y.useRef(0),d=y.useContext(u7).code,f=s??d,h=async()=>{var v;if(typeof window>"u"||!((v=navigator==null?void 0:navigator.clipboard)!=null&&v.writeText)){t==null||t(new Error("Clipboard API not available"));return}try{o||(await navigator.clipboard.writeText(f),c(!0),e==null||e(),u.current=window.setTimeout(()=>c(!1),n))}catch(x){t==null||t(x)}};y.useEffect(()=>()=>{window.clearTimeout(u.current)},[]);let p=o?Jte:ene;return l.jsx("button",{className:On("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",i),onClick:h,type:"button",...a,children:r??l.jsx(p,{size:14})})},MFe=({node:e,className:t,src:n,alt:r,...i})=>{let s=async()=>{var a;if(n)try{let o=await(await fetch(n)).blob(),c=new URL(n,window.location.origin).pathname.split("/").pop()||"",u=c.includes(".")&&((a=c.split(".").pop())==null?void 0:a.length)<=4,d="";if(u)d=c;else{let f=o.type,h="png";f.includes("jpeg")||f.includes("jpg")?h="jpg":f.includes("png")?h="png":f.includes("svg")?h="svg":f.includes("gif")?h="gif":f.includes("webp")&&(h="webp"),d=`${(r||c||"image").replace(/\.[^/.]+$/,"")}.${h}`}c7(d,o,o.type)}catch(o){console.error("Failed to download image:",o)}};return n?l.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[l.jsx("img",{alt:r,className:On("max-w-full rounded-lg",t),"data-streamdown":"image",src:n,...i}),l.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),l.jsx("button",{className:On("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:l.jsx(zI,{size:14})})]}):null},OFe=async e=>{let t={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...e},n=(await le(async()=>{const{default:r}=await import("./mermaid.core-CfqJaO63.js").then(i=>i.b7);return{default:r}},[])).default;return n.initialize(t),n},DFe=({chart:e,className:t,config:n})=>{let[r,i]=y.useState(null),[s,a]=y.useState(!0),[o,c]=y.useState(""),[u,d]=y.useState("");if(y.useEffect(()=>{(async()=>{try{i(null),a(!0);let h=await OFe(n),p=e.split("").reduce((b,w)=>(b<<5)-b+w.charCodeAt(0)|0,0),v=`mermaid-${Math.abs(p)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:x}=await h.render(v,e);c(x),d(x)}catch(h){if(!(u||o)){let p=h instanceof Error?h.message:"Failed to render Mermaid chart";i(p)}}finally{a(!1)}})()},[e,n]),s&&!o&&!u)return l.jsx("div",{className:On("my-4 flex justify-center p-4",t),children:l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),l.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(r&&!o&&!u)return l.jsxs("div",{className:On("rounded-lg border border-red-200 bg-red-50 p-4",t),children:[l.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",r]}),l.jsxs("details",{className:"mt-2",children:[l.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),l.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:e})]})]});let f=o||u;return l.jsx("div",{"aria-label":"Mermaid chart",className:On("my-4 flex justify-center",t),dangerouslySetInnerHTML:{__html:f},role:"img"})};function mre(e){var t,n;let r=[],i=[],s=e.querySelectorAll("thead th");for(let o of s)r.push(((t=o.textContent)==null?void 0:t.trim())||"");let a=e.querySelectorAll("tbody tr");for(let o of a){let c=[],u=o.querySelectorAll("td");for(let d of u)c.push(((n=d.textContent)==null?void 0:n.trim())||"");i.push(c)}return{headers:r,rows:i}}function pre(e){let{headers:t,rows:n}=e,r=s=>s.includes(",")||s.includes('"')||s.includes(`
`)?`"${s.replace(/"/g,'""')}"`:s,i=[];t.length>0&&i.push(t.map(r).join(","));for(let s of n)i.push(s.map(r).join(","));return i.join(`
`)}function gre(e){let{headers:t,rows:n}=e;if(t.length===0)return"";let r=[],i=t.map(s=>s.replace(/\|/g,"\\|"));r.push(`| ${i.join(" | ")} |`),r.push(`| ${t.map(()=>"---").join(" | ")} |`);for(let s of n){let a=[...s];for(;a.length<t.length;)a.push("");let o=a.map(c=>c.replace(/\|/g,"\\|"));r.push(`| ${o.join(" | ")} |`)}return r.join(`
`)}var LFe=({children:e,className:t,onCopy:n,onError:r,timeout:i=2e3,format:s="markdown"})=>{let[a,o]=y.useState(!1),c=y.useRef(0),u=async f=>{var h;if(typeof window>"u"||!((h=navigator==null?void 0:navigator.clipboard)!=null&&h.write)){r==null||r(new Error("Clipboard API not available"));return}try{if(!a){let p=f.currentTarget.closest('[data-streamdown="table-wrapper"]'),v=p==null?void 0:p.querySelector("table");if(!v){r==null||r(new Error("Table not found"));return}let x=mre(v),b=new ClipboardItem({"text/plain":s==="markdown"?gre(x):pre(x),"text/html":new Blob([v.outerHTML],{type:"text/html"})});await navigator.clipboard.write([b]),o(!0),n==null||n(),c.current=window.setTimeout(()=>o(!1),i)}}catch(p){r==null||r(p)}};y.useEffect(()=>()=>{window.clearTimeout(c.current)},[]);let d=a?Jte:ene;return l.jsx("button",{className:On("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",t),onClick:u,title:`Copy table as ${s}`,type:"button",children:e??l.jsx(d,{size:14})})},FFe=({children:e,className:t,onDownload:n,onError:r})=>{let[i,s]=y.useState(!1),a=y.useRef(null),o=c=>{var u;try{let d=(u=a.current)==null?void 0:u.closest('[data-streamdown="table-wrapper"]'),f=d==null?void 0:d.querySelector("table");if(!f){r==null||r(new Error("Table not found"));return}let h=mre(f),p=c==="csv"?pre(h):gre(h);c7(`table.${c==="csv"?"csv":"md"}`,p,c==="csv"?"text/csv":"text/markdown"),s(!1),n==null||n(c)}catch(d){r==null||r(d)}};return y.useEffect(()=>{let c=u=>{a.current&&!a.current.contains(u.target)&&s(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),l.jsxs("div",{className:"relative",ref:a,children:[l.jsx("button",{className:On("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground",t),onClick:()=>s(!i),title:"Download table",type:"button",children:e??l.jsx(zI,{size:14})}),i&&l.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] rounded-md border border-border bg-background shadow-lg",children:[l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>o("csv"),type:"button",children:"CSV"}),l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>o("markdown"),type:"button",children:"Markdown"})]})]})},$Fe=/language-([^\s]+)/;function Fk(e,t){if(!(e!=null&&e.position||t!=null&&t.position))return!0;if(!(e!=null&&e.position&&t!=null&&t.position))return!1;let n=e.position.start,r=t.position.start,i=e.position.end,s=t.position.end;return(n==null?void 0:n.line)===(r==null?void 0:r.line)&&(n==null?void 0:n.column)===(r==null?void 0:r.column)&&(i==null?void 0:i.line)===(s==null?void 0:s.line)&&(i==null?void 0:i.column)===(s==null?void 0:s.column)}function Ci(e,t){return e.className===t.className&&Fk(e.node,t.node)}var KA=(e,t)=>typeof e=="boolean"?e:e[t]!==!1,vre=y.memo(({children:e,className:t,...n})=>l.jsx("ol",{className:On("ml-4 list-outside list-decimal whitespace-normal",t),"data-streamdown":"ordered-list",...n,children:e}),(e,t)=>Ci(e,t));vre.displayName="MarkdownOl";var yre=y.memo(({children:e,className:t,...n})=>l.jsx("li",{className:On("py-1",t),"data-streamdown":"list-item",...n,children:e}),(e,t)=>e.className===t.className&&Fk(e.node,t.node));yre.displayName="MarkdownLi";var xre=y.memo(({children:e,className:t,...n})=>l.jsx("ul",{className:On("ml-4 list-outside list-disc whitespace-normal",t),"data-streamdown":"unordered-list",...n,children:e}),(e,t)=>Ci(e,t));xre.displayName="MarkdownUl";var bre=y.memo(({className:e,...t})=>l.jsx("hr",{className:On("my-6 border-border",e),"data-streamdown":"horizontal-rule",...t}),(e,t)=>Ci(e,t));bre.displayName="MarkdownHr";var wre=y.memo(({children:e,className:t,...n})=>l.jsx("span",{className:On("font-semibold",t),"data-streamdown":"strong",...n,children:e}),(e,t)=>Ci(e,t));wre.displayName="MarkdownStrong";var Ere=y.memo(({children:e,className:t,href:n,...r})=>{let i=n==="streamdown:incomplete-link";return l.jsx("a",{className:On("wrap-anywhere font-medium text-primary underline",t),"data-incomplete":i,"data-streamdown":"link",href:n,rel:"noreferrer",target:"_blank",...r,children:e})},(e,t)=>Ci(e,t)&&e.href===t.href);Ere.displayName="MarkdownA";var Sre=y.memo(({children:e,className:t,...n})=>l.jsx("h1",{className:On("mt-6 mb-2 font-semibold text-3xl",t),"data-streamdown":"heading-1",...n,children:e}),(e,t)=>Ci(e,t));Sre.displayName="MarkdownH1";var kre=y.memo(({children:e,className:t,...n})=>l.jsx("h2",{className:On("mt-6 mb-2 font-semibold text-2xl",t),"data-streamdown":"heading-2",...n,children:e}),(e,t)=>Ci(e,t));kre.displayName="MarkdownH2";var _re=y.memo(({children:e,className:t,...n})=>l.jsx("h3",{className:On("mt-6 mb-2 font-semibold text-xl",t),"data-streamdown":"heading-3",...n,children:e}),(e,t)=>Ci(e,t));_re.displayName="MarkdownH3";var Cre=y.memo(({children:e,className:t,...n})=>l.jsx("h4",{className:On("mt-6 mb-2 font-semibold text-lg",t),"data-streamdown":"heading-4",...n,children:e}),(e,t)=>Ci(e,t));Cre.displayName="MarkdownH4";var Nre=y.memo(({children:e,className:t,...n})=>l.jsx("h5",{className:On("mt-6 mb-2 font-semibold text-base",t),"data-streamdown":"heading-5",...n,children:e}),(e,t)=>Ci(e,t));Nre.displayName="MarkdownH5";var Tre=y.memo(({children:e,className:t,...n})=>l.jsx("h6",{className:On("mt-6 mb-2 font-semibold text-sm",t),"data-streamdown":"heading-6",...n,children:e}),(e,t)=>Ci(e,t));Tre.displayName="MarkdownH6";var Are=y.memo(({children:e,className:t,...n})=>{let r=y.useContext(d7),i=KA(r,"table");return l.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[i&&l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(LFe,{}),l.jsx(FFe,{})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:On("w-full border-collapse border border-border",t),"data-streamdown":"table",...n,children:e})})]})},(e,t)=>Ci(e,t));Are.displayName="MarkdownTable";var jre=y.memo(({children:e,className:t,...n})=>l.jsx("thead",{className:On("bg-muted/80",t),"data-streamdown":"table-header",...n,children:e}),(e,t)=>Ci(e,t));jre.displayName="MarkdownThead";var Pre=y.memo(({children:e,className:t,...n})=>l.jsx("tbody",{className:On("divide-y divide-border bg-muted/40",t),"data-streamdown":"table-body",...n,children:e}),(e,t)=>Ci(e,t));Pre.displayName="MarkdownTbody";var Ire=y.memo(({children:e,className:t,...n})=>l.jsx("tr",{className:On("border-border border-b",t),"data-streamdown":"table-row",...n,children:e}),(e,t)=>Ci(e,t));Ire.displayName="MarkdownTr";var Rre=y.memo(({children:e,className:t,...n})=>l.jsx("th",{className:On("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",t),"data-streamdown":"table-header-cell",...n,children:e}),(e,t)=>Ci(e,t));Rre.displayName="MarkdownTh";var Mre=y.memo(({children:e,className:t,...n})=>l.jsx("td",{className:On("px-4 py-2 text-sm",t),"data-streamdown":"table-cell",...n,children:e}),(e,t)=>Ci(e,t));Mre.displayName="MarkdownTd";var Ore=y.memo(({children:e,className:t,...n})=>l.jsx("blockquote",{className:On("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",t),"data-streamdown":"blockquote",...n,children:e}),(e,t)=>Ci(e,t));Ore.displayName="MarkdownBlockquote";var Dre=y.memo(({children:e,className:t,...n})=>l.jsx("sup",{className:On("text-sm",t),"data-streamdown":"superscript",...n,children:e}),(e,t)=>Ci(e,t));Dre.displayName="MarkdownSup";var Lre=y.memo(({children:e,className:t,...n})=>l.jsx("sub",{className:On("text-sm",t),"data-streamdown":"subscript",...n,children:e}),(e,t)=>Ci(e,t));Lre.displayName="MarkdownSub";var zFe=({node:e,className:t,children:n,...r})=>{var i,s,a;let o=((i=e==null?void 0:e.position)==null?void 0:i.start.line)===((s=e==null?void 0:e.position)==null?void 0:s.end.line),c=y.useContext(Ure),u=y.useContext(d7);if(o)return l.jsx("code",{className:On("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",t),"data-streamdown":"inline-code",...r,children:n});let d=t==null?void 0:t.match($Fe),f=(a=d==null?void 0:d.at(1))!=null?a:"",h="";if(y.isValidElement(n)&&n.props&&typeof n.props=="object"&&"children"in n.props&&typeof n.props.children=="string"?h=n.props.children:typeof n=="string"&&(h=n),f==="mermaid"){let v=KA(u,"mermaid");return l.jsxs("div",{className:On("group relative my-4 h-auto rounded-xl border p-4",t),"data-streamdown":"mermaid-block",children:[v&&l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(OB,{code:h,language:f}),l.jsx(DB,{code:h})]}),l.jsx(DFe,{chart:h,config:c})]})}let p=KA(u,"code");return l.jsx(RFe,{className:On("overflow-x-auto border-t",t),code:h,"data-language":f,"data-streamdown":"code-block",language:f,preClassName:"overflow-x-auto font-mono text-xs p-4 bg-muted/40",children:p&&l.jsxs(l.Fragment,{children:[l.jsx(OB,{code:h,language:f}),l.jsx(DB,{})]})})},Fre=y.memo(zFe,(e,t)=>e.className===t.className&&Fk(e.node,t.node));Fre.displayName="MarkdownCode";var $re=y.memo(MFe,(e,t)=>e.className===t.className&&Fk(e.node,t.node));$re.displayName="MarkdownImg";var BFe={ol:vre,li:yre,ul:xre,hr:bre,strong:wre,a:Ere,h1:Sre,h2:kre,h3:_re,h4:Cre,h5:Nre,h6:Tre,table:Are,thead:jre,tbody:Pre,tr:Ire,th:Rre,td:Mre,blockquote:Ore,code:Fre,img:$re,pre:({children:e})=>e,sup:Dre,sub:Lre},UFe=e=>{let t=So.lex(e,{gfm:!0}).map(r=>r.raw),n=[];for(let r of t){if(r.trim()==="$$"&&n.length>0){let i=n.at(-1);if(!i)continue;let s=i.trimStart().startsWith("$$"),a=(i.match(/\$\$/g)||[]).length;if(s&&a%2===1){n[n.length-1]=i+r;continue}}if(n.length>0&&r.trimEnd().endsWith("$$")){let i=n.at(-1);if(!i)continue;let s=i.trimStart().startsWith("$$"),a=(i.match(/\$\$/g)||[]).length,o=(r.match(/\$\$/g)||[]).length;if(s&&a%2===1&&!r.trimStart().startsWith("$$")&&o===1){n[n.length-1]=i+r;continue}}n.push(r)}return n},HFe=/(!?\[)([^\]]*?)$/,VFe=/(\*\*)([^*]*?)$/,qFe=/(__)([^_]*?)$/,WFe=/(\*\*\*)([^*]*?)$/,GFe=/(\*)([^*]*?)$/,KFe=/(_)([^_]*?)$/,YFe=/(`)([^`]*?)$/,XFe=/(~~)([^~]*?)$/,$k=e=>{let t=(e.match(/```/g)||[]).length;return t>0&&t%2===0&&e.includes(`
`)},QFe=e=>{let t=e.match(HFe);if(t){if(t[1].startsWith("!")){let n=e.lastIndexOf(t[1]);return e.substring(0,n)}return`${e}](streamdown:incomplete-link)`}return e},ZFe=e=>{if($k(e))return e;let t=e.match(VFe);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;let r=e.lastIndexOf(t[1]),i=e.substring(0,r).lastIndexOf(`
`),s=i===-1?0:i+1,a=e.substring(s,r);if(/^[\s]*[-*+][\s]+$/.test(a)&&n.includes(`
`))return e;if((e.match(/\*\*/g)||[]).length%2===1)return`${e}**`}return e},JFe=e=>{let t=e.match(qFe);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;let r=e.lastIndexOf(t[1]),i=e.substring(0,r).lastIndexOf(`
`),s=i===-1?0:i+1,a=e.substring(s,r);if(/^[\s]*[-*+][\s]+$/.test(a)&&n.includes(`
`))return e;if((e.match(/__/g)||[]).length%2===1)return`${e}__`}return e},e$e=e=>e.split("").reduce((t,n,r)=>{if(n==="*"){let i=e[r-1],s=e[r+1];if(i==="\\")return t;let a=r;for(let o=r-1;o>=0;o--){if(e[o]===`
`){a=o+1;break}if(o===0){a=0;break}}if(e.substring(a,r).trim()===""&&(s===" "||s==="	"))return t;if(i!=="*"&&s!=="*")return t+1}return t},0),t$e=e=>{if($k(e))return e;if(e.match(GFe)){let t=-1;for(let r=0;r<e.length;r++)if(e[r]==="*"&&e[r-1]!=="*"&&e[r+1]!=="*"){t=r;break}if(t===-1)return e;let n=e.substring(t+1);if(!n||/^[\s_~*`]*$/.test(n))return e;if(e$e(e)%2===1)return`${e}*`}return e},zre=(e,t)=>{let n=!1,r=!1;for(let i=0;i<e.length&&i<t;i++){if(e[i]==="\\"&&e[i+1]==="$"){i++;continue}e[i]==="$"&&(e[i+1]==="$"?(r=!r,i++,n=!1):r||(n=!n))}return n||r},n$e=e=>e.split("").reduce((t,n,r)=>{if(n==="_"){let i=e[r-1],s=e[r+1];if(i==="\\"||zre(e,r)||i&&s&&/[\p{L}\p{N}_]/u.test(i)&&/[\p{L}\p{N}_]/u.test(s))return t;if(i!=="_"&&s!=="_")return t+1}return t},0),r$e=e=>{if($k(e))return e;if(e.match(KFe)){let t=-1;for(let r=0;r<e.length;r++)if(e[r]==="_"&&e[r-1]!=="_"&&e[r+1]!=="_"&&e[r-1]!=="\\"&&!zre(e,r)){let i=r>0?e[r-1]:"",s=r<e.length-1?e[r+1]:"";if(i&&s&&/[\p{L}\p{N}_]/u.test(i)&&/[\p{L}\p{N}_]/u.test(s))continue;t=r;break}if(t===-1)return e;let n=e.substring(t+1);if(!n||/^[\s_~*`]*$/.test(n))return e;if(n$e(e)%2===1){let r=e.match(/\n+$/);return r?`${e.slice(0,-r[0].length)}_${r[0]}`:`${e}_`}}return e},i$e=(e,t)=>{let n=e.substring(t,t+3)==="```",r=t>0&&e.substring(t-1,t+2)==="```",i=t>1&&e.substring(t-2,t+1)==="```";return n||r||i},s$e=e=>{let t=0;for(let n=0;n<e.length;n++)e[n]==="`"&&!i$e(e,n)&&t++;return t},a$e=e=>{if(e.match(/^```[^`\n]*```?$/)&&!e.includes(`
`))return e.endsWith("``")&&!e.endsWith("```")?`${e}\``:e;let t=(e.match(/```/g)||[]).length,n=t%2===1;if(t>0&&t%2===0&&e.includes(`
`)||(e.endsWith("```\n")||e.endsWith("```"))&&t%2===0)return e;let r=e.match(YFe);if(r&&!n){let i=r[2];if(!i||/^[\s_~*`]*$/.test(i))return e;if(s$e(e)%2===1)return`${e}\``}return e},o$e=e=>{let t=e.match(XFe);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;if((e.match(/~~/g)||[]).length%2===1)return`${e}~~`}return e},l$e=e=>{if((e.match(/\$\$/g)||[]).length%2===0)return e;let t=e.indexOf("$$");return t!==-1&&e.indexOf(`
`,t)!==-1&&!e.endsWith(`
`)?`${e}
$$`:`${e}$$`},c$e=e=>{let t=0,n=e.match(/\*+/g)||[];for(let r of n){let i=r.length;i>=3&&(t+=Math.floor(i/3))}return t},u$e=e=>{if($k(e)||/^\*{4,}$/.test(e))return e;let t=e.match(WFe);if(t){let n=t[2];if(!n||/^[\s_~*`]*$/.test(n))return e;if(c$e(e)%2===1)return`${e}***`}return e},d$e=e=>{if(!e||typeof e!="string")return e;let t=e,n=QFe(t);return n.endsWith("](streamdown:incomplete-link)")?n:(t=n,t=u$e(t),t=ZFe(t),t=JFe(t),t=t$e(t),t=r$e(t),t=a$e(t),t=o$e(t),t=l$e(t),t)},f$e=Bz.default||Bz,h$e=f$e(rI),Bre=y.createContext(["github-light","github-dark"]),Ure=y.createContext(void 0),d7=y.createContext(!0),m$e={singleDollarTextMath:!1},p$e={},Hre=y.memo(({content:e,shouldParseIncompleteMarkdown:t,...n})=>{let r=y.useMemo(()=>typeof e=="string"&&t?d$e(e.trim()):e,[e,t]);return l.jsx(h$e,{...n,children:r})},(e,t)=>e.content===t.content);Hre.displayName="Block";var zk=y.memo(({children:e,allowedImagePrefixes:t=["*"],allowedLinkPrefixes:n=["*"],defaultOrigin:r,parseIncompleteMarkdown:i=!0,components:s,rehypePlugins:a,remarkPlugins:o,className:c,shikiTheme:u=["github-light","github-dark"],mermaidConfig:d,controls:f=!0,...h})=>{let p=y.useId(),v=y.useMemo(()=>UFe(typeof e=="string"?e:""),[e]),x=y.useMemo(()=>()=>g8e({errorColor:"var(--color-muted-foreground)"}),[]);return l.jsx(Bre.Provider,{value:u,children:l.jsx(Ure.Provider,{value:d,children:l.jsx(d7.Provider,{value:f,children:l.jsx("div",{className:On("space-y-4",c),...h,children:v.map((b,w)=>l.jsx(Hre,{allowedImagePrefixes:t,allowedLinkPrefixes:n,components:{...BFe,...s},content:b,defaultOrigin:r,rehypePlugins:[AIe,x,...a??[]],remarkPlugins:[[Qte,p$e],[GRe,m$e],...o??[]],shouldParseIncompleteMarkdown:i},`${p}-block_${w}`))})})})})},(e,t)=>e.children===t.children&&e.shikiTheme===t.shikiTheme);zk.displayName="Streamdown";const g$e=sg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),xn=y.forwardRef(({className:e,variant:t,asChild:n=!1,...r},i)=>{const s=n?_0:"span";return l.jsx(s,{ref:i,"data-slot":"badge",className:we(g$e({variant:t}),e),...r})});xn.displayName="Badge";var Bk="Dialog",[Vre,qre]=hs(Bk),[v$e,Ol]=Vre(Bk),Wre=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=y.useRef(null),c=y.useRef(null),[u,d]=ba({prop:r,defaultProp:i??!1,onChange:s,caller:Bk});return l.jsx(v$e,{scope:t,triggerRef:o,contentRef:c,contentId:Li(),titleId:Li(),descriptionId:Li(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Wre.displayName=Bk;var Gre="DialogTrigger",Kre=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ol(Gre,n),s=Nn(t,i.triggerRef);return l.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":m7(i.open),...r,ref:s,onClick:gt(e.onClick,i.onOpenToggle)})});Kre.displayName=Gre;var f7="DialogPortal",[y$e,Yre]=Vre(f7,{forceMount:void 0}),Xre=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Ol(f7,t);return l.jsx(y$e,{scope:t,forceMount:n,children:y.Children.map(r,a=>l.jsx(ms,{present:n||s.open,children:l.jsx(T0,{asChild:!0,container:i,children:a})}))})};Xre.displayName=f7;var dE="DialogOverlay",Qre=y.forwardRef((e,t)=>{const n=Yre(dE,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ol(dE,e.__scopeDialog);return s.modal?l.jsx(ms,{present:r||s.open,children:l.jsx(b$e,{...i,ref:t})}):null});Qre.displayName=dE;var x$e=mf("DialogOverlay.RemoveScroll"),b$e=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ol(dE,n);return l.jsx(ax,{as:x$e,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Lt.div,{"data-state":m7(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),a0="DialogContent",Zre=y.forwardRef((e,t)=>{const n=Yre(a0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ol(a0,e.__scopeDialog);return l.jsx(ms,{present:r||s.open,children:s.modal?l.jsx(w$e,{...i,ref:t}):l.jsx(E$e,{...i,ref:t})})});Zre.displayName=a0;var w$e=y.forwardRef((e,t)=>{const n=Ol(a0,e.__scopeDialog),r=y.useRef(null),i=Nn(t,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return nk(s)},[]),l.jsx(Jre,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:gt(e.onFocusOutside,s=>s.preventDefault())})}),E$e=y.forwardRef((e,t)=>{const n=Ol(a0,e.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return l.jsx(Jre,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Jre=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Ol(a0,n),c=y.useRef(null),u=Nn(t,c);return ek(),l.jsxs(l.Fragment,{children:[l.jsx(ix,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(N0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":m7(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(k$e,{titleId:o.titleId}),l.jsx(C$e,{contentRef:c,descriptionId:o.descriptionId})]})]})}),h7="DialogTitle",eie=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ol(h7,n);return l.jsx(Lt.h2,{id:i.titleId,...r,ref:t})});eie.displayName=h7;var tie="DialogDescription",nie=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ol(tie,n);return l.jsx(Lt.p,{id:i.descriptionId,...r,ref:t})});nie.displayName=tie;var rie="DialogClose",iie=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ol(rie,n);return l.jsx(Lt.button,{type:"button",...r,ref:t,onClick:gt(e.onClick,()=>i.onOpenChange(!1))})});iie.displayName=rie;function m7(e){return e?"open":"closed"}var sie="DialogTitleWarning",[S$e,aie]=Y2e(sie,{contentName:a0,titleName:h7,docsSlug:"dialog"}),k$e=({titleId:e})=>{const t=aie(sie),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},_$e="DialogDescriptionWarning",C$e=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aie(_$e).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Uk=Wre,p7=Kre,Hk=Xre,Ng=Qre,Tg=Zre,g7=eie,v7=nie,Vk=iie;function Ag({...e}){return l.jsx(Uk,{"data-slot":"dialog",...e})}function Q2t({...e}){return l.jsx(p7,{"data-slot":"dialog-trigger",...e})}function N$e({...e}){return l.jsx(Hk,{"data-slot":"dialog-portal",...e})}const oie=y.forwardRef(({className:e,...t},n)=>l.jsx(Ng,{ref:n,"data-slot":"dialog-overlay",className:we("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));oie.displayName=Ng.displayName;const L0=y.forwardRef(({className:e,children:t,showCloseButton:n=!0,...r},i)=>l.jsxs(N$e,{"data-slot":"dialog-portal",children:[l.jsx(oie,{}),l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:l.jsxs(Tg,{ref:i,"data-slot":"dialog-content",className:we("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 relative w-full max-w-[calc(100%-2rem)] grid gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&l.jsxs(Vk,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-6 right-6 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none cursor-pointer [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(li,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})})]}));L0.displayName=Tg.displayName;function Sx({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-header",className:we("flex flex-col gap-2 text-center sm:text-left",e),...t})}function lie({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-footer",className:we("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function kx({className:e,...t}){return l.jsx(g7,{"data-slot":"dialog-title",className:we("text-lg leading-none font-semibold",e),...t})}function _x({className:e,...t}){return l.jsx(v7,{"data-slot":"dialog-description",className:we("text-muted-foreground text-sm",e),...t})}const uy={all:["documentMetadata"],detail:e=>[...uy.all,e]};function T$e(e){return Uu({queryKey:uy.detail(e??""),queryFn:async()=>{if(!e)throw new Error("Document ID is required");return await k0.getDocumentMetadata(e)},enabled:!!e,staleTime:1e3*60*10})}function A$e(e){const t=/^\/internal\/blob_metadata\/([a-zA-F0-9-]+)$/i,n=e.match(t);return n?n[1]:null}function j$e({href:e,children:t,className:n,...r}){const i=ir(),[s,a]=y.useState(!1),[o,c]=y.useState(null),[u,d]=y.useState(!1),f=e?A$e(e):null;if(!f)return l.jsx("a",{href:e,className:n,target:"_blank",rel:"noopener noreferrer",...r,children:t});const h=async()=>{var v;a(!0),d(!0);try{const x=await i.ensureQueryData({queryKey:uy.detail(f),queryFn:async()=>{const{fileApi:w}=await le(async()=>{const{fileApi:E}=await Promise.resolve().then(()=>mY);return{fileApi:E}},void 0);return await w.getDocumentMetadata(f)}}),b=((v=x.metadata)==null?void 0:v.content)||"Document content is being processed. Please try again later.";c({title:x.filename,content:b}),console.log("Internal source link clicked:",{blobMetadataId:f,filename:x.filename,timestamp:new Date().toISOString()})}catch(x){console.error("Error loading document:",x),c({title:"Document",content:"Document not available."})}finally{d(!1)}},p=v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),h())};return l.jsxs(l.Fragment,{children:[l.jsx(xn,{variant:"secondary",className:we("ml-1 rounded-full cursor-pointer",n),onClick:h,onKeyDown:p,role:"button",tabIndex:0,"aria-label":`View source: ${t}`,children:t}),l.jsx(Ag,{open:s,onOpenChange:a,children:l.jsxs(L0,{className:"sm:max-w-5xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Sx,{children:[l.jsx(kx,{children:(o==null?void 0:o.title)||"Document"}),l.jsx(_x,{children:"Full document content"})]}),l.jsx("div",{className:"prose dark:prose-invert max-w-none",children:u?l.jsxs("div",{className:"flex items-center justify-center py-8",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"}),l.jsx("span",{className:"sr-only",children:"Loading document..."})]}):o!=null&&o.content?l.jsx(zk,{children:o.content}):l.jsx("p",{className:"text-muted-foreground",children:"No content available"})})]})})]})}const Rp=y.memo(({className:e,components:t,...n})=>l.jsx(zk,{className:we("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",e),defaultOrigin:typeof window<"u"?window.origin:void 0,components:{a:j$e,...t},...n}),(e,t)=>e.children===t.children);Rp.displayName="Response";const y7=y.createContext({});function qk(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const x7=typeof window<"u",b7=x7?y.useLayoutEffect:y.useEffect,Wk=y.createContext(null);function w7(e,t){e.indexOf(t)===-1&&e.push(t)}function E7(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Iu=(e,t,n)=>n>t?t:n<e?e:n;let S7=()=>{};const Ru={},cie=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function uie(e){return typeof e=="object"&&e!==null}const die=e=>/^0[^.\s]+$/u.test(e);function k7(e){let t;return()=>(t===void 0&&(t=e()),t)}const Oo=e=>e,P$e=(e,t)=>n=>t(e(n)),Cx=(...e)=>e.reduce(P$e),dy=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class _7{constructor(){this.subscriptions=[]}add(t){return w7(this.subscriptions,t),()=>E7(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pc=e=>e*1e3,Ao=e=>e/1e3;function fie(e,t){return t?e*(1e3/t):0}const hie=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,I$e=1e-7,R$e=12;function M$e(e,t,n,r,i){let s,a,o=0;do a=t+(n-t)/2,s=hie(a,r,i)-e,s>0?n=a:t=a;while(Math.abs(s)>I$e&&++o<R$e);return a}function Nx(e,t,n,r){if(e===t&&n===r)return Oo;const i=s=>M$e(s,0,1,e,n);return s=>s===0||s===1?s:hie(i(s),t,r)}const mie=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pie=e=>t=>1-e(1-t),gie=Nx(.33,1.53,.69,.99),C7=pie(gie),vie=mie(C7),yie=e=>(e*=2)<1?.5*C7(e):.5*(2-Math.pow(2,-10*(e-1))),N7=e=>1-Math.sin(Math.acos(e)),xie=pie(N7),bie=mie(N7),O$e=Nx(.42,0,1,1),D$e=Nx(0,0,.58,1),wie=Nx(.42,0,.58,1),L$e=e=>Array.isArray(e)&&typeof e[0]!="number",Eie=e=>Array.isArray(e)&&typeof e[0]=="number",F$e={linear:Oo,easeIn:O$e,easeInOut:wie,easeOut:D$e,circIn:N7,circInOut:bie,circOut:xie,backIn:C7,backInOut:vie,backOut:gie,anticipate:yie},$$e=e=>typeof e=="string",LB=e=>{if(Eie(e)){S7(e.length===4);const[t,n,r,i]=e;return Nx(t,n,r,i)}else if($$e(e))return F$e[e];return e},s2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function z$e(e,t){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),e()),d(o)}const u={schedule:(d,f=!1,h=!1)=>{const v=h&&i?n:r;return f&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const B$e=40;function Sie(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=s2.reduce((k,_)=>(k[_]=z$e(s),k),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:p,postRender:v}=a,x=()=>{const k=Ru.useManualTiming?i.timestamp:performance.now();n=!1,Ru.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,B$e),1)),i.timestamp=k,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),p.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(x))},b=()=>{n=!0,r=!0,i.isProcessing||e(x)};return{schedule:s2.reduce((k,_)=>{const A=a[_];return k[_]=(T,C=!1,I=!1)=>(n||b(),A.schedule(T,C,I)),k},{}),cancel:k=>{for(let _=0;_<s2.length;_++)a[s2[_]].cancel(k)},state:i,steps:a}}const{schedule:Mr,cancel:wf,state:us,steps:gT}=Sie(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oo,!0);let t4;function U$e(){t4=void 0}const ya={now:()=>(t4===void 0&&ya.set(us.isProcessing||Ru.useManualTiming?us.timestamp:performance.now()),t4),set:e=>{t4=e,queueMicrotask(U$e)}},kie=e=>t=>typeof t=="string"&&t.startsWith(e),T7=kie("--"),H$e=kie("var(--"),A7=e=>H$e(e)?V$e.test(e.split("/*")[0].trim()):!1,V$e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fy={...jg,transform:e=>Iu(0,1,e)},a2={...jg,default:1},_v=e=>Math.round(e*1e5)/1e5,j7=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q$e(e){return e==null}const W$e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P7=(e,t)=>n=>!!(typeof n=="string"&&W$e.test(n)&&n.startsWith(e)||t&&!q$e(n)&&Object.prototype.hasOwnProperty.call(n,t)),_ie=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(j7);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},G$e=e=>Iu(0,255,e),vT={...jg,transform:e=>Math.round(G$e(e))},xh={test:P7("rgb","red"),parse:_ie("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vT.transform(e)+", "+vT.transform(t)+", "+vT.transform(n)+", "+_v(fy.transform(r))+")"};function K$e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const YA={test:P7("#"),parse:K$e,transform:xh.transform},Tx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Md=Tx("deg"),gc=Tx("%"),ln=Tx("px"),Y$e=Tx("vh"),X$e=Tx("vw"),FB={...gc,parse:e=>gc.parse(e)/100,transform:e=>gc.transform(e*100)},$m={test:P7("hsl","hue"),parse:_ie("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+gc.transform(_v(t))+", "+gc.transform(_v(n))+", "+_v(fy.transform(r))+")"},yi={test:e=>xh.test(e)||YA.test(e)||$m.test(e),parse:e=>xh.test(e)?xh.parse(e):$m.test(e)?$m.parse(e):YA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xh.transform(e):$m.transform(e),getAnimatableNone:e=>{const t=yi.parse(e);return t.alpha=0,yi.transform(t)}},Q$e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z$e(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(j7))==null?void 0:t.length)||0)+(((n=e.match(Q$e))==null?void 0:n.length)||0)>0}const Cie="number",Nie="color",J$e="var",eze="var(",$B="${}",tze=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hy(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(tze,c=>(yi.test(c)?(r.color.push(s),i.push(Nie),n.push(yi.parse(c))):c.startsWith(eze)?(r.var.push(s),i.push(J$e),n.push(c)):(r.number.push(s),i.push(Cie),n.push(parseFloat(c))),++s,$B)).split($B);return{values:n,split:o,indexes:r,types:i}}function Tie(e){return hy(e).values}function Aie(e){const{split:t,types:n}=hy(e),r=t.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=t[a],i[a]!==void 0){const o=n[a];o===Cie?s+=_v(i[a]):o===Nie?s+=yi.transform(i[a]):s+=i[a]}return s}}const nze=e=>typeof e=="number"?0:yi.test(e)?yi.getAnimatableNone(e):e;function rze(e){const t=Tie(e);return Aie(e)(t.map(nze))}const Ef={test:Z$e,parse:Tie,createTransformer:Aie,getAnimatableNone:rze};function yT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ize({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,a=0;if(!t)i=s=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=yT(c,o,e+1/3),s=yT(c,o,e),a=yT(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function fE(e,t){return n=>n>0?t:e}const qr=(e,t,n)=>e+(t-e)*n,xT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},sze=[YA,xh,$m],aze=e=>sze.find(t=>t.test(e));function zB(e){const t=aze(e);if(!t)return!1;let n=t.parse(e);return t===$m&&(n=ize(n)),n}const BB=(e,t)=>{const n=zB(e),r=zB(t);if(!n||!r)return fE(e,t);const i={...n};return s=>(i.red=xT(n.red,r.red,s),i.green=xT(n.green,r.green,s),i.blue=xT(n.blue,r.blue,s),i.alpha=qr(n.alpha,r.alpha,s),xh.transform(i))},XA=new Set(["none","hidden"]);function oze(e,t){return XA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function lze(e,t){return n=>qr(e,t,n)}function I7(e){return typeof e=="number"?lze:typeof e=="string"?A7(e)?fE:yi.test(e)?BB:dze:Array.isArray(e)?jie:typeof e=="object"?yi.test(e)?BB:cze:fE}function jie(e,t){const n=[...e],r=n.length,i=e.map((s,a)=>I7(s)(s,t[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function cze(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=I7(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function uze(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][r[s]],o=e.values[a]??0;n[i]=o,r[s]++}return n}const dze=(e,t)=>{const n=Ef.createTransformer(t),r=hy(e),i=hy(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?XA.has(e)&&!i.values.length||XA.has(t)&&!r.values.length?oze(e,t):Cx(jie(uze(r,i),i.values),n):fE(e,t)};function Pie(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?qr(e,t,n):I7(e)(e,t)}const fze=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Mr.update(t,n),stop:()=>wf(t),now:()=>us.isProcessing?us.timestamp:ya.now()}},Iie=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},hE=2e4;function R7(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hE;)t+=n,r=e.next(t);return t>=hE?1/0:t}function hze(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(R7(r),hE);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Ao(i)}}const mze=5;function Rie(e,t,n){const r=Math.max(t-mze,0);return fie(n-e(r),t-r)}const Jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bT=.001;function pze({duration:e=Jr.duration,bounce:t=Jr.bounce,velocity:n=Jr.velocity,mass:r=Jr.mass}){let i,s,a=1-t;a=Iu(Jr.minDamping,Jr.maxDamping,a),e=Iu(Jr.minDuration,Jr.maxDuration,Ao(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-n,p=QA(u,a),v=Math.exp(-f);return bT-h/p*v},s=u=>{const f=u*a*e,h=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-f),x=QA(Math.pow(u,2),a);return(-i(u)+bT>0?-1:1)*((h-p)*v)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-bT+d*f},s=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,c=vze(i,s,o);if(e=pc(e),isNaN(c))return{stiffness:Jr.stiffness,damping:Jr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const gze=12;function vze(e,t,n){let r=n;for(let i=1;i<gze;i++)r=r-e(r)/t(r);return r}function QA(e,t){return e*Math.sqrt(1-t*t)}const yze=["duration","bounce"],xze=["stiffness","damping","mass"];function UB(e,t){return t.some(n=>e[n]!==void 0)}function bze(e){let t={velocity:Jr.velocity,stiffness:Jr.stiffness,damping:Jr.damping,mass:Jr.mass,isResolvedFromDuration:!1,...e};if(!UB(e,xze)&&UB(e,yze))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Iu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Jr.mass,stiffness:i,damping:s}}else{const n=pze(e);t={...t,...n,mass:Jr.mass},t.isResolvedFromDuration=!0}return t}function mE(e=Jr.visualDuration,t=Jr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=bze({...n,velocity:-Ao(n.velocity||0)}),v=h||0,x=u/(2*Math.sqrt(c*d)),b=a-s,w=Ao(Math.sqrt(c/d)),E=Math.abs(b)<5;r||(r=E?Jr.restSpeed.granular:Jr.restSpeed.default),i||(i=E?Jr.restDelta.granular:Jr.restDelta.default);let k;if(x<1){const A=QA(w,x);k=T=>{const C=Math.exp(-x*w*T);return a-C*((v+x*w*b)/A*Math.sin(A*T)+b*Math.cos(A*T))}}else if(x===1)k=A=>a-Math.exp(-w*A)*(b+(v+w*b)*A);else{const A=w*Math.sqrt(x*x-1);k=T=>{const C=Math.exp(-x*w*T),I=Math.min(A*T,300);return a-C*((v+x*w*b)*Math.sinh(I)+A*b*Math.cosh(I))/A}}const _={calculatedDuration:p&&f||null,next:A=>{const T=k(A);if(p)o.done=A>=f;else{let C=A===0?v:0;x<1&&(C=A===0?pc(v):Rie(k,A,T));const I=Math.abs(C)<=r,B=Math.abs(a-T)<=i;o.done=I&&B}return o.value=o.done?a:T,o},toString:()=>{const A=Math.min(R7(_),hE),T=Iie(C=>_.next(A*C).value,A,30);return A+"ms "+T},toTransition:()=>{}};return _}mE.applyToOptions=e=>{const t=hze(e,100,mE);return e.ease=t.ease,e.duration=pc(t.duration),e.type="keyframes",e};function ZA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=I=>o!==void 0&&I<o||c!==void 0&&I>c,v=I=>o===void 0?c:c===void 0||Math.abs(o-I)<Math.abs(c-I)?o:c;let x=n*t;const b=f+x,w=a===void 0?b:a(b);w!==b&&(x=w-f);const E=I=>-x*Math.exp(-I/r),k=I=>w+E(I),_=I=>{const B=E(I),$=k(I);h.done=Math.abs(B)<=u,h.value=h.done?w:$};let A,T;const C=I=>{p(h.value)&&(A=I,T=mE({keyframes:[h.value,v(h.value)],velocity:Rie(k,I,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:I=>{let B=!1;return!T&&A===void 0&&(B=!0,_(I),C(I)),A!==void 0&&I>=A?T.next(I-A):(!B&&_(I),h)}}}function wze(e,t,n){const r=[],i=n||Ru.mix||Pie,s=e.length-1;for(let a=0;a<s;a++){let o=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Oo:t;o=Cx(c,o)}r.push(o)}return r}function Eze(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(S7(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=wze(t,r,i),c=o.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=dy(e[f],e[f+1],d);return o[f](h)};return n?d=>u(Iu(e[0],e[s-1],d)):u}function Sze(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=dy(0,t,r);e.push(qr(n,1,i))}}function kze(e){const t=[0];return Sze(t,e.length-1),t}function _ze(e,t){return e.map(n=>n*t)}function Cze(e,t){return e.map(()=>t||wie).splice(0,e.length-1)}function Cv({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=L$e(r)?r.map(LB):LB(r),s={done:!1,value:t[0]},a=_ze(n&&n.length===t.length?n:kze(t),e),o=Eze(a,t,{ease:Array.isArray(i)?i:Cze(t,i)});return{calculatedDuration:e,next:c=>(s.value=o(c),s.done=c>=e,s)}}const Nze=e=>e!==null;function M7(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(Nze),o=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const Tze={decay:ZA,inertia:ZA,tween:Cv,keyframes:Cv,spring:mE};function Mie(e){typeof e.type=="string"&&(e.type=Tze[e.type])}class O7{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Aze=e=>e/100;class D7 extends O7{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ya.now()&&this.tick(ya.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Mie(t);const{type:n=Cv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:o}=t;const c=n||Cv;c!==Cv&&typeof o[0]!="number"&&(this.mixKeyframes=Cx(Aze,Pie(o[0],o[1])),o=[0,100]);const u=c({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=R7(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,_=r;if(f){const I=Math.min(this.currentTime,i)/o;let B=Math.floor(I),$=I%1;!$&&I>=1&&($=1),$===1&&B--,B=Math.min(B,f+1),!!(B%2)&&(h==="reverse"?($=1-$,p&&($-=p/o)):h==="mirror"&&(_=a)),k=Iu(0,1,$)*o}const A=E?{done:!1,value:d[0]}:_.next(k);s&&(A.value=s(A.value));let{done:T}=A;!E&&c!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&v!==ZA&&(A.value=M7(d,this.options,b,this.speed)),x&&x(A.value),C&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return Ao(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ao(t)}get time(){return Ao(this.currentTime)}set time(t){var n;t=pc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ya.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ao(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=fze,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ya.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function jze(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bh=e=>e*180/Math.PI,JA=e=>{const t=bh(Math.atan2(e[1],e[0]));return e8(t)},Pze={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:JA,rotateZ:JA,skewX:e=>bh(Math.atan(e[1])),skewY:e=>bh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e8=e=>(e=e%360,e<0&&(e+=360),e),HB=JA,VB=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qB=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ize={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VB,scaleY:qB,scale:e=>(VB(e)+qB(e))/2,rotateX:e=>e8(bh(Math.atan2(e[6],e[5]))),rotateY:e=>e8(bh(Math.atan2(-e[2],e[0]))),rotateZ:HB,rotate:HB,skewX:e=>bh(Math.atan(e[4])),skewY:e=>bh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function t8(e){return e.includes("scale")?1:0}function n8(e,t){if(!e||e==="none")return t8(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Ize,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Pze,i=o}if(!i)return t8(t);const s=r[t],a=i[1].split(",").map(Mze);return typeof s=="function"?s(a):a[s]}const Rze=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return n8(n,t)};function Mze(e){return parseFloat(e.trim())}const Pg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ig=new Set(Pg),WB=e=>e===jg||e===ln,Oze=new Set(["x","y","z"]),Dze=Pg.filter(e=>!Oze.has(e));function Lze(e){const t=[];return Dze.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Bh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>n8(t,"x"),y:(e,{transform:t})=>n8(t,"y")};Bh.translateX=Bh.x;Bh.translateY=Bh.y;const Uh=new Set;let r8=!1,i8=!1,s8=!1;function Oie(){if(i8){const e=Array.from(Uh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Lze(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}i8=!1,r8=!1,Uh.forEach(e=>e.complete(s8)),Uh.clear()}function Die(){Uh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(i8=!0)})}function Fze(){s8=!0,Die(),Oie(),s8=!1}class L7{constructor(t,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Uh.add(this),r8||(r8=!0,Mr.read(Die),Mr.resolveKeyframes(Oie))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}jze(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uh.delete(this)}cancel(){this.state==="scheduled"&&(Uh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $ze=e=>e.startsWith("--");function zze(e,t,n){$ze(t)?e.style.setProperty(t,n):e.style[t]=n}const Bze=k7(()=>window.ScrollTimeline!==void 0),Uze={};function Hze(e,t){const n=k7(e);return()=>Uze[t]??n()}const Lie=Hze(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,GB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iv([0,.65,.55,1]),circOut:iv([.55,0,1,.45]),backIn:iv([.31,.01,.66,-.59]),backOut:iv([.33,1.53,.69,.99])};function Fie(e,t){if(e)return typeof e=="function"?Lie()?Iie(e,t):"ease-out":Eie(e)?iv(e):Array.isArray(e)?e.map(n=>Fie(n,t)||GB.easeOut):GB[e]}function Vze(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=Fie(o,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function $ie(e){return typeof e=="function"&&"applyToOptions"in e}function qze({type:e,...t}){return $ie(e)&&Lie()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Wze extends O7{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,S7(typeof t.type!="string");const u=qze(t);this.animation=Vze(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=M7(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):zze(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ao(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ao(t)}get time(){return Ao(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=pc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Bze()?(this.animation.timeline=t,Oo):n(this)}}const zie={anticipate:yie,backInOut:vie,circInOut:bie};function Gze(e){return e in zie}function Kze(e){typeof e.ease=="string"&&Gze(e.ease)&&(e.ease=zie[e.ease])}const KB=10;class Yze extends Wze{constructor(t){Kze(t),Mie(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new D7({...a,autoplay:!1}),c=pc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-KB).value,o.sample(c).value,KB),o.stop()}}const YB=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ef.test(e)||e==="0")&&!e.startsWith("url("));function Xze(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Qze(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=YB(i,t),o=YB(s,t);return!a||!o?!1:Xze(e)||(n==="spring"||$ie(n))&&r}function a8(e){e.duration=0,e.type="keyframes"}const Zze=new Set(["opacity","clipPath","filter","transform"]),Jze=k7(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eBe(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Jze()&&n&&Zze.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const tBe=40;class nBe extends O7{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ya.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||L7;this.keyframeResolver=new p(o,(x,b,w)=>this.onKeyframesResolved(x,b,h,!w),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=ya.now(),Qze(t,s,a,o)||((Ru.instantAnimations||!c)&&(d==null||d(M7(t,r,n))),t[0]=t[t.length-1],a8(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>tBe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!u&&eBe(h)?new Yze({...h,element:h.motionValue.owner.current}):new D7(h);p.finished.then(()=>this.notifyFinished()).catch(Oo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Fze()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const rBe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iBe(e){const t=rBe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Bie(e,t,n=1){const[r,i]=iBe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const a=s.trim();return cie(a)?parseFloat(a):a}return A7(i)?Bie(i,t,n+1):i}function F7(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Uie=new Set(["width","height","top","left","right","bottom",...Pg]),sBe={test:e=>e==="auto",parse:e=>e},Hie=e=>t=>t.test(e),Vie=[jg,ln,gc,Md,X$e,Y$e,sBe],XB=e=>Vie.find(Hie(e));function aBe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||die(e):!0}const oBe=new Set(["brightness","contrast","saturate","opacity"]);function lBe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(j7)||[];if(!r)return e;const i=n.replace(r,"");let s=oBe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const cBe=/\b([a-z-]*)\(.*?\)/gu,o8={...Ef,getAnimatableNone:e=>{const t=e.match(cBe);return t?t.map(lBe).join(" "):e}},QB={...jg,transform:Math.round},uBe={rotate:Md,rotateX:Md,rotateY:Md,rotateZ:Md,scale:a2,scaleX:a2,scaleY:a2,scaleZ:a2,skew:Md,skewX:Md,skewY:Md,distance:ln,translateX:ln,translateY:ln,translateZ:ln,x:ln,y:ln,z:ln,perspective:ln,transformPerspective:ln,opacity:fy,originX:FB,originY:FB,originZ:ln},$7={borderWidth:ln,borderTopWidth:ln,borderRightWidth:ln,borderBottomWidth:ln,borderLeftWidth:ln,borderRadius:ln,radius:ln,borderTopLeftRadius:ln,borderTopRightRadius:ln,borderBottomRightRadius:ln,borderBottomLeftRadius:ln,width:ln,maxWidth:ln,height:ln,maxHeight:ln,top:ln,right:ln,bottom:ln,left:ln,padding:ln,paddingTop:ln,paddingRight:ln,paddingBottom:ln,paddingLeft:ln,margin:ln,marginTop:ln,marginRight:ln,marginBottom:ln,marginLeft:ln,backgroundPositionX:ln,backgroundPositionY:ln,...uBe,zIndex:QB,fillOpacity:fy,strokeOpacity:fy,numOctaves:QB},dBe={...$7,color:yi,backgroundColor:yi,outlineColor:yi,fill:yi,stroke:yi,borderColor:yi,borderTopColor:yi,borderRightColor:yi,borderBottomColor:yi,borderLeftColor:yi,filter:o8,WebkitFilter:o8},qie=e=>dBe[e];function Wie(e,t){let n=qie(e);return n!==o8&&(n=Ef),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fBe=new Set(["auto","none","0"]);function hBe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!fBe.has(s)&&hy(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Wie(n,i)}class mBe extends L7{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),A7(u))){const d=Bie(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Uie.has(r)||t.length!==2)return;const[i,s]=t,a=XB(i),o=XB(s);if(a!==o)if(WB(a)&&WB(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Bh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||aBe(t[i]))&&r.push(i);r.length&&hBe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Bh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Gie(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Kie=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Yie(e){return uie(e)&&"offsetHeight"in e}const ZB=30,pBe=e=>!isNaN(parseFloat(e));class gBe{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ya.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ya.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pBe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _7);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ya.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZB)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ZB);return fie(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mp(e,t){return new gBe(e,t)}const{schedule:z7}=Sie(queueMicrotask,!1),tl={x:!1,y:!1};function Xie(){return tl.x||tl.y}function vBe(e){return e==="x"||e==="y"?tl[e]?null:(tl[e]=!0,()=>{tl[e]=!1}):tl.x||tl.y?null:(tl.x=tl.y=!0,()=>{tl.x=tl.y=!1})}function Qie(e,t){const n=Gie(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function JB(e){return!(e.pointerType==="touch"||Xie())}function yBe(e,t,n={}){const[r,i,s]=Qie(e,n),a=o=>{if(!JB(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const d=f=>{JB(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const Zie=(e,t)=>t?e===t?!0:Zie(e,t.parentElement):!1,B7=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xBe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bBe(e){return xBe.has(e.tagName)||e.tabIndex!==-1}const n4=new WeakSet;function eU(e){return t=>{t.key==="Enter"&&e(t)}}function wT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wBe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=eU(()=>{if(n4.has(n))return;wT(n,"down");const i=eU(()=>{wT(n,"up")}),s=()=>wT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function tU(e){return B7(e)&&!Xie()}function EBe(e,t,n={}){const[r,i,s]=Qie(e,n),a=o=>{const c=o.currentTarget;if(!tU(o))return;n4.add(c);const u=t(c,o),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),n4.has(c)&&n4.delete(c),tU(p)&&typeof u=="function"&&u(p,{success:v})},f=p=>{d(p,c===window||c===document||n.useGlobalTarget||Zie(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),Yie(o)&&(o.addEventListener("focus",u=>wBe(u,i)),!bBe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function Jie(e){return uie(e)&&"ownerSVGElement"in e}function SBe(e){return Jie(e)&&e.tagName==="svg"}const js=e=>!!(e&&e.getVelocity),kBe=[...Vie,yi,Ef],_Be=e=>kBe.find(Hie(e)),U7=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function nU(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function CBe(...e){return t=>{let n=!1;const r=e.map(i=>{const s=nU(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():nU(e[i],null)}}}}function NBe(...e){return y.useCallback(CBe(...e),e)}class TBe extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Yie(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ABe({children:e,isPresent:t,anchorX:n,root:r}){const i=y.useId(),s=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(U7),c=NBe(s,e==null?void 0:e.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:p}=a.current;if(t||!s.current||!u||!d)return;const v=n==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");o&&(x.nonce=o);const b=r??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[t]),l.jsx(TBe,{isPresent:t,childRef:s,sizeRef:a,children:y.cloneElement(e,{ref:c})})}const jBe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:c})=>{const u=qk(PBe),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&f&&(h={...h}),y.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(e=l.jsx(ABe,{isPresent:n,anchorX:o,root:c,children:e})),l.jsx(Wk.Provider,{value:h,children:e})};function PBe(){return new Map}function ese(e=!0){const t=y.useContext(Wk);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=y.useId();y.useEffect(()=>{if(e)return i(s)},[e]);const a=y.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,a]:[!0]}const o2=e=>e.key||"";function rU(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const IBe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[u,d]=ese(a),f=y.useMemo(()=>rU(e),[e]),h=a&&!u?[]:f.map(o2),p=y.useRef(!0),v=y.useRef(f),x=qk(()=>new Map),[b,w]=y.useState(f),[E,k]=y.useState(f);b7(()=>{p.current=!1,v.current=f;for(let T=0;T<E.length;T++){const C=o2(E[T]);h.includes(C)?x.delete(C):x.get(C)!==!0&&x.set(C,!1)}},[E,h.length,h.join("-")]);const _=[];if(f!==b){let T=[...f];for(let C=0;C<E.length;C++){const I=E[C],B=o2(I);h.includes(B)||(T.splice(C,0,I),_.push(I))}return s==="wait"&&_.length&&(T=_),k(rU(T)),w(f),null}const{forceRender:A}=y.useContext(y7);return l.jsx(l.Fragment,{children:E.map(T=>{const C=o2(T),I=a&&!u?!1:f===E||h.includes(C),B=()=>{if(x.has(C))x.set(C,!0);else return;let $=!0;x.forEach(L=>{L||($=!1)}),$&&(A==null||A(),k(v.current),a&&(d==null||d()),r&&r())};return l.jsx(jBe,{isPresent:I,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:I?void 0:B,anchorX:o,children:T},C)})})},tse=y.createContext({strict:!1}),iU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Op={};for(const e in iU)Op[e]={isEnabled:t=>iU[e].some(n=>!!t[n])};function RBe(e){for(const t in e)Op[t]={...Op[t],...e[t]}}const MBe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||MBe.has(e)}let nse=e=>!pE(e);function OBe(e){typeof e=="function"&&(nse=t=>t.startsWith("on")?!pE(t):e(t))}try{OBe(require("@emotion/is-prop-valid").default)}catch{}function DBe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(nse(i)||n===!0&&pE(i)||!t&&!pE(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Gk=y.createContext({});function Kk(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function my(e){return typeof e=="string"||Array.isArray(e)}const H7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V7=["initial",...H7];function Yk(e){return Kk(e.animate)||V7.some(t=>my(e[t]))}function rse(e){return!!(Yk(e)||e.variants)}function LBe(e,t){if(Yk(e)){const{initial:n,animate:r}=e;return{initial:n===!1||my(n)?n:void 0,animate:my(r)?r:void 0}}return e.inherit!==!1?t:{}}function FBe(e){const{initial:t,animate:n}=LBe(e,y.useContext(Gk));return y.useMemo(()=>({initial:t,animate:n}),[sU(t),sU(n)])}function sU(e){return Array.isArray(e)?e.join(" "):e}const py={};function $Be(e){for(const t in e)py[t]=e[t],T7(t)&&(py[t].isCSSVariable=!0)}function ise(e,{layout:t,layoutId:n}){return Ig.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!py[e]||e==="opacity")}const zBe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BBe=Pg.length;function UBe(e,t,n){let r="",i=!0;for(let s=0;s<BBe;s++){const a=Pg[s],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=Kie(o,$7[a]);if(!c){i=!1;const d=zBe[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function q7(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(Ig.has(c)){a=!0;continue}else if(T7(c)){i[c]=u;continue}else{const d=Kie(u,$7[c]);c.startsWith("origin")?(o=!0,s[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=UBe(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const W7=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sse(e,t,n){for(const r in t)!js(t[r])&&!ise(r,n)&&(e[r]=t[r])}function HBe({transformTemplate:e},t){return y.useMemo(()=>{const n=W7();return q7(n,t,e),Object.assign({},n.vars,n.style)},[t])}function VBe(e,t){const n=e.style||{},r={};return sse(r,n,e),Object.assign(r,HBe(e,t)),r}function qBe(e,t){const n={},r=VBe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const WBe={offset:"stroke-dashoffset",array:"stroke-dasharray"},GBe={offset:"strokeDashoffset",array:"strokeDasharray"};function KBe(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?WBe:GBe;e[s.offset]=ln.transform(-r);const a=ln.transform(t),o=ln.transform(n);e[s.array]=`${a} ${o}`}function ase(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},c,u,d){if(q7(e,o,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&KBe(f,i,s,a,!1)}const ose=()=>({...W7(),attrs:{}}),lse=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YBe(e,t,n,r){const i=y.useMemo(()=>{const s=ose();return ase(s,t,lse(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};sse(s,e.style,e),i.style={...s,...i.style}}return i}const XBe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G7(e){return typeof e!="string"||e.includes("-")?!1:!!(XBe.indexOf(e)>-1||/[A-Z]/u.test(e))}function QBe(e,t,n,{latestValues:r},i,s=!1){const o=(G7(e)?YBe:qBe)(t,r,i,e),c=DBe(t,typeof e=="string",s),u=e!==y.Fragment?{...c,...o,ref:n}:{},{children:d}=t,f=y.useMemo(()=>js(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function aU(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function K7(e,t,n,r){if(typeof t=="function"){const[i,s]=aU(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=aU(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function r4(e){return js(e)?e.get():e}function ZBe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:JBe(n,r,i,e),renderState:t()}}function JBe(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=r4(s[h]);let{initial:a,animate:o}=e;const c=Yk(e),u=rse(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!Kk(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=K7(e,h[p]);if(v){const{transitionEnd:x,transition:b,...w}=v;for(const E in w){let k=w[E];if(Array.isArray(k)){const _=d?k.length-1:0;k=k[_]}k!==null&&(i[E]=k)}for(const E in x)i[E]=x[E]}}}return i}const cse=e=>(t,n)=>{const r=y.useContext(Gk),i=y.useContext(Wk),s=()=>ZBe(e,t,r,i);return n?s():qk(s)};function Y7(e,t,n){var s;const{style:r}=e,i={};for(const a in r)(js(r[a])||t.style&&js(t.style[a])||ise(a,e)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const eUe=cse({scrapeMotionValuesFromProps:Y7,createRenderState:W7});function use(e,t,n){const r=Y7(e,t,n);for(const i in e)if(js(e[i])||js(t[i])){const s=Pg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const tUe=cse({scrapeMotionValuesFromProps:use,createRenderState:ose}),dse=Symbol.for("motionComponentSymbol");function zm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nUe(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):zm(n)&&(n.current=r))},[t])}const X7=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rUe="framerAppearId",fse="data-"+X7(rUe),hse=y.createContext({});function iUe(e,t,n,r,i){var x,b;const{visualElement:s}=y.useContext(Gk),a=y.useContext(tse),o=y.useContext(Wk),c=y.useContext(U7).reducedMotion,u=y.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(hse);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&sUe(u.current,n,i,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(n,o)});const p=n[fse],v=y.useRef(!!p&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return b7(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),v.current=!1),d.enteringChildren=void 0)}),d}function sUe(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:mse(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&zm(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function mse(e){if(e)return e.options.allowProjection!==!1?e.projection:mse(e.parent)}function ET(e,{forwardMotionProps:t=!1}={},n,r){n&&RBe(n);const i=G7(e)?tUe:eUe;function s(o,c){let u;const d={...y.useContext(U7),...o,layoutId:aUe(o)},{isStatic:f}=d,h=FBe(o),p=i(o,f);if(!f&&x7){oUe();const v=lUe(d);u=v.MeasureLayout,h.visualElement=iUe(e,p,d,r,v.ProjectionNode)}return l.jsxs(Gk.Provider,{value:h,children:[u&&h.visualElement?l.jsx(u,{visualElement:h.visualElement,...d}):null,QBe(e,o,nUe(p,h.visualElement,c),p,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(s);return a[dse]=e,a}function aUe({layoutId:e}){const t=y.useContext(y7).id;return t&&e!==void 0?t+"-"+e:e}function oUe(e,t){y.useContext(tse).strict}function lUe(e){const{drag:t,layout:n}=Op;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function cUe(e,t){if(typeof Proxy>"u")return ET;const n=new Map,r=(s,a)=>ET(s,a,e,t),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,ET(a,void 0,e,t)),n.get(a))})}function pse({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function uUe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dUe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ST(e){return e===void 0||e===1}function l8({scale:e,scaleX:t,scaleY:n}){return!ST(e)||!ST(t)||!ST(n)}function uh(e){return l8(e)||gse(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gse(e){return oU(e.x)||oU(e.y)}function oU(e){return e&&e!=="0%"}function gE(e,t,n){const r=e-n,i=t*r;return n+i}function lU(e,t,n,r,i){return i!==void 0&&(e=gE(e,i,r)),gE(e,n,r)+t}function c8(e,t=0,n=1,r,i){e.min=lU(e.min,t,n,r,i),e.max=lU(e.max,t,n,r,i)}function vse(e,{x:t,y:n}){c8(e.x,t.translate,t.scale,t.originPoint),c8(e.y,n.translate,n.scale,n.originPoint)}const cU=.999999999999,uU=1.0000000000001;function fUe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Um(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,vse(e,a)),r&&uh(s.latestValues)&&Um(e,s.latestValues))}t.x<uU&&t.x>cU&&(t.x=1),t.y<uU&&t.y>cU&&(t.y=1)}function Bm(e,t){e.min=e.min+t,e.max=e.max+t}function dU(e,t,n,r,i=.5){const s=qr(e.min,e.max,i);c8(e,t,n,s,r)}function Um(e,t){dU(e.x,t.x,t.scaleX,t.scale,t.originX),dU(e.y,t.y,t.scaleY,t.scale,t.originY)}function yse(e,t){return pse(dUe(e.getBoundingClientRect(),t))}function hUe(e,t,n){const r=yse(e,n),{scroll:i}=t;return i&&(Bm(r.x,i.offset.x),Bm(r.y,i.offset.y)),r}const fU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hm=()=>({x:fU(),y:fU()}),hU=()=>({min:0,max:0}),oi=()=>({x:hU(),y:hU()}),u8={current:null},xse={current:!1};function mUe(){if(xse.current=!0,!!x7)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>u8.current=e.matches;e.addEventListener("change",t),t()}else u8.current=!1}const pUe=new WeakMap;function gUe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(js(i))e.addValue(r,i);else if(js(s))e.addValue(r,Mp(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,Mp(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const mU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vUe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L7,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ya.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Mr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Yk(n),this.isVariantNode=rse(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&js(p)&&p.set(c[h])}}mount(t){var n;this.current=t,pUe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),xse.current||mUe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:u8.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),wf(this.notifyUpdate),wf(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ig.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Op){const n=Op[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mU.length;r++){const i=mU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=gUe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Mp(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cie(r)||die(r))?r=parseFloat(r):!_Be(r)&&Ef.test(n)&&(r=Wie(t,n)),this.setBaseTarget(t,js(r)?r.get():r)),js(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=K7(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!js(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _7),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){z7.render(this.render)}}class bse extends vUe{constructor(){super(...arguments),this.KeyframeResolver=mBe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;js(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wse(e,{style:t,vars:n},r,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function yUe(e){return window.getComputedStyle(e)}class xUe extends bse{constructor(){super(...arguments),this.type="html",this.renderInstance=wse}readValueFromInstance(t,n){var r;if(Ig.has(n))return(r=this.projection)!=null&&r.isProjecting?t8(n):Rze(t,n);{const i=yUe(t),s=(T7(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yse(t,n)}build(t,n,r){q7(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Y7(t,n,r)}}const Ese=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bUe(e,t,n,r){wse(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ese.has(i)?i:X7(i),t.attrs[i])}class wUe extends bse{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oi}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ig.has(n)){const r=qie(n);return r&&r.default||0}return n=Ese.has(n)?n:X7(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return use(t,n,r)}build(t,n,r){ase(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){bUe(t,n,r,i)}mount(t){this.isSVGTag=lse(t.tagName),super.mount(t)}}const EUe=(e,t)=>G7(e)?new wUe(t):new xUe(t,{allowProjection:e!==y.Fragment});function sp(e,t,n){const r=e.getProps();return K7(r,t,n!==void 0?n:r.custom,e)}const d8=e=>Array.isArray(e);function SUe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mp(n))}function kUe(e){return d8(e)?e[e.length-1]||0:e}function Q7(e,t){const n=sp(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=kUe(s[a]);SUe(e,a,o)}}function _Ue(e){return!!(js(e)&&e.add)}function f8(e,t){const n=e.getValue("willChange");if(_Ue(n))return n.add(t);if(!n&&Ru.WillChange){const r=new Ru.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Sse(e){return e.props[fse]}const CUe=e=>e!==null;function NUe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(CUe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const TUe={type:"spring",stiffness:500,damping:25,restSpeed:10},AUe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jUe={type:"keyframes",duration:.8},PUe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IUe=(e,{keyframes:t})=>t.length>2?jUe:Ig.has(e)?e.startsWith("scale")?AUe(t[1]):TUe:PUe;function RUe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Z7=(e,t,n,r={},i,s)=>a=>{const o=F7(r,e)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-pc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};RUe(o)||Object.assign(d,IUe(e,d)),d.duration&&(d.duration=pc(d.duration)),d.repeatDelay&&(d.repeatDelay=pc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(a8(d),d.delay===0&&(f=!0)),(Ru.instantAnimations||Ru.skipAnimations)&&(f=!0,a8(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=NUe(d.keyframes,o);if(h!==void 0){Mr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new D7(d):new nBe(d)};function MUe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kse(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in o){const f=e.getValue(d,e.latestValues[d]??null),h=o[d];if(h===void 0||u&&MUe(u,d))continue;const p={delay:n,...F7(s||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=Sse(e);if(w){const E=window.MotionHandoffAnimation(w,d,Mr);E!==null&&(p.startTime=E,x=!0)}}f8(e,d),f.start(Z7(d,f,h,e.shouldReduceMotion&&Uie.has(d)?{type:!1}:p,e,x));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{Mr.update(()=>{a&&Q7(e,a)})}),c}function _se(e,t,n,r=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function h8(e,t,n={}){var c;const r=sp(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(kse(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return OUe(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function OUe(e,t,n=0,r=0,i=0,s=1,a){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(h8(c,t,{...a,delay:n+(typeof r=="function"?0:r)+_se(e.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function Cse(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>h8(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=h8(e,t,n);else{const i=typeof t=="function"?sp(e,t,n.custom):t;r=Promise.all(kse(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Nse(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const DUe=V7.length;function Tse(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Tse(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<DUe;n++){const r=V7[n],i=e.props[r];(my(i)||i===!1)&&(t[r]=i)}return t}const LUe=[...H7].reverse(),FUe=H7.length;function $Ue(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Cse(e,n,r)))}function zUe(e){let t=$Ue(e),n=pU(),r=!0;const i=c=>(u,d)=>{var h;const f=sp(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:v,...x}=f;u={...u,...x,...v}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=Tse(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let b=0;b<FUe;b++){const w=LUe[b],E=n[w],k=u[w]!==void 0?u[w]:d[w],_=my(k),A=w===c?E.isActive:null;A===!1&&(v=b);let T=k===d[w]&&k!==u[w]&&_;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),E.protectedKeys={...p},!E.isActive&&A===null||!k&&!E.prevProp||Kk(k)||typeof k=="boolean")continue;const C=BUe(E.prevProp,k);let I=C||w===c&&E.isActive&&!T&&_||b>v&&_,B=!1;const $=Array.isArray(k)?k:[k];let L=$.reduce(i(w),{});A===!1&&(L={});const{prevResolvedValues:U={}}=E,Y={...U,...L},V=J=>{I=!0,h.has(J)&&(B=!0,h.delete(J)),E.needsAnimating[J]=!0;const q=e.getValue(J);q&&(q.liveStyle=!1)};for(const J in Y){const q=L[J],G=U[J];if(p.hasOwnProperty(J))continue;let j=!1;d8(q)&&d8(G)?j=!Nse(q,G):j=q!==G,j?q!=null?V(J):h.add(J):q!==void 0&&h.has(J)?V(J):E.protectedKeys[J]=!0}E.prevProp=k,E.prevResolvedValues=L,E.isActive&&(p={...p,...L}),r&&e.blockInitialAnimation&&(I=!1);const K=T&&C;I&&(!K||B)&&f.push(...$.map(J=>{const q={type:w};if(typeof J=="string"&&r&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,j=sp(G,J);if(G.enteringChildren&&j){const{delayChildren:M}=j.transition||{};q.delay=_se(G.enteringChildren,e,M)}}return{animation:J,options:q}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const w=sp(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}h.forEach(w=>{const E=e.getBaseTarget(w),k=e.getValue(w);k&&(k.liveStyle=!0),b[w]=E??null}),f.push({animation:b})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function o(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=pU()}}}function BUe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Nse(t,e):!1}function oh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pU(){return{animate:oh(!0),whileInView:oh(),whileHover:oh(),whileTap:oh(),whileDrag:oh(),whileFocus:oh(),exit:oh()}}class Mf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class UUe extends Mf{constructor(t){super(t),t.animationState||(t.animationState=zUe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kk(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let HUe=0;class VUe extends Mf{constructor(){super(...arguments),this.id=HUe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qUe={animation:{Feature:UUe},exit:{Feature:VUe}};function gy(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ax(e){return{point:{x:e.pageX,y:e.pageY}}}const WUe=e=>t=>B7(t)&&e(t,Ax(t));function Nv(e,t,n,r){return gy(e,t,WUe(n),r)}const Ase=1e-4,GUe=1-Ase,KUe=1+Ase,jse=.01,YUe=0-jse,XUe=0+jse;function Gs(e){return e.max-e.min}function QUe(e,t,n){return Math.abs(e-t)<=n}function gU(e,t,n,r=.5){e.origin=r,e.originPoint=qr(t.min,t.max,e.origin),e.scale=Gs(n)/Gs(t),e.translate=qr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=GUe&&e.scale<=KUe||isNaN(e.scale))&&(e.scale=1),(e.translate>=YUe&&e.translate<=XUe||isNaN(e.translate))&&(e.translate=0)}function Tv(e,t,n,r){gU(e.x,t.x,n.x,r?r.originX:void 0),gU(e.y,t.y,n.y,r?r.originY:void 0)}function vU(e,t,n){e.min=n.min+t.min,e.max=e.min+Gs(t)}function ZUe(e,t,n){vU(e.x,t.x,n.x),vU(e.y,t.y,n.y)}function yU(e,t,n){e.min=t.min-n.min,e.max=e.min+Gs(t)}function Av(e,t,n){yU(e.x,t.x,n.x),yU(e.y,t.y,n.y)}function po(e){return[e("x"),e("y")]}const Pse=({current:e})=>e?e.ownerDocument.defaultView:null,xU=(e,t)=>Math.abs(e-t);function JUe(e,t){const n=xU(e.x,t.x),r=xU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Ise{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_T(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=JUe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:x}=h,{timestamp:b}=us;this.history.push({...x,timestamp:b});const{onStart:w,onMove:E}=this.handlers;p||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kT(p,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_T(h.type==="pointercancel"?this.lastMoveEventInfo:kT(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,w),x&&x(h,w)},!B7(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=Ax(t),c=kT(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=us;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,_T(c,this.history)),this.removeListeners=Cx(Nv(this.contextWindow,"pointermove",this.handlePointerMove),Nv(this.contextWindow,"pointerup",this.handlePointerUp),Nv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wf(this.updatePoint)}}function kT(e,t){return t?{point:t(e.point)}:e}function bU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _T({point:e},t){return{point:e,delta:bU(e,Rse(t)),offset:bU(e,eHe(t)),velocity:tHe(t,.1)}}function eHe(e){return e[0]}function Rse(e){return e[e.length-1]}function tHe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Rse(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pc(t)));)n--;if(!r)return{x:0,y:0};const s=Ao(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function nHe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?qr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?qr(n,e,r.max):Math.min(e,n)),e}function wU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function rHe(e,{top:t,left:n,bottom:r,right:i}){return{x:wU(e.x,n,i),y:wU(e.y,t,r)}}function EU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iHe(e,t){return{x:EU(e.x,t.x),y:EU(e.y,t.y)}}function sHe(e,t){let n=.5;const r=Gs(e),i=Gs(t);return i>r?n=dy(t.min,t.max-r,e.min):r>i&&(n=dy(e.min,e.max-i,t.min)),Iu(0,1,n)}function aHe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const m8=.35;function oHe(e=m8){return e===!1?e=0:e===!0&&(e=m8),{x:SU(e,"left","right"),y:SU(e,"top","bottom")}}function SU(e,t,n){return{min:kU(e,t),max:kU(e,n)}}function kU(e,t){return typeof e=="number"?e:e[t]||0}const lHe=new WeakMap;class cHe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ax(f).point)},a=(f,h)=>{const{drag:p,dragPropagation:v,onDragStart:x}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vBe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),po(w=>{let E=this.getAxisMotionValue(w).get()||0;if(gc.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const _=k.layout.layoutBox[w];_&&(E=Gs(_)*(parseFloat(E)/100))}}this.originPoint[w]=E}),x&&Mr.postRender(()=>x(f,h)),f8(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:x,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=h;if(v&&this.currentDirection===null){this.currentDirection=uHe(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>po(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Ise(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Pse(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Mr.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!l2(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=nHe(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&zm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=rHe(r.layoutBox,t):this.constraints=!1,this.elastic=oHe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&po(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=aHe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zm(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hUe(r,i.root,this.visualElement.getTransformPagePoint());let a=iHe(i.layout.layoutBox,s);if(n){const o=n(uUe(a));this.hasMutatedConstraints=!!o,o&&(a=pse(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=po(d=>{if(!l2(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return f8(this.visualElement,t),r.start(Z7(t,r,0,n,this.visualElement,!1))}stopAnimation(){po(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){po(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){po(n=>{const{drag:r}=this.getProps();if(!l2(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(t[n]-qr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};po(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=sHe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),po(a=>{if(!l2(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(qr(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;lHe.set(this.visualElement,this);const t=this.visualElement.current,n=Nv(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();zm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mr.read(r);const a=gy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(po(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=m8,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function l2(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uHe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dHe extends Mf{constructor(t){super(t),this.removeGroupControls=Oo,this.removeListeners=Oo,this.controls=new cHe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const _U=e=>(t,n)=>{e&&Mr.postRender(()=>e(t,n))};class fHe extends Mf{constructor(){super(...arguments),this.removePointerDownListener=Oo}onPointerDown(t){this.session=new Ise(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pse(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:_U(t),onStart:_U(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Mr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Nv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const R1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ln.test(e))e=parseFloat(e);else return e;const n=CU(e,t.target.x),r=CU(e,t.target.y);return`${n}% ${r}%`}},hHe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ef.parse(e);if(i.length>5)return r;const s=Ef.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=c;const u=qr(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let CT=!1;class mHe extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;$Be(pHe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),CT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),i4.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,CT=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||Mr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),z7.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;CT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mse(e){const[t,n]=ese(),r=y.useContext(y7);return l.jsx(mHe,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(hse),isPresent:t,safeToRemove:n})}const pHe={borderRadius:{...R1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:R1,borderTopRightRadius:R1,borderBottomLeftRadius:R1,borderBottomRightRadius:R1,boxShadow:hHe};function gHe(e,t,n){const r=js(e)?e:Mp(e);return r.start(Z7("",r,t,n)),r.animation}const vHe=(e,t)=>e.depth-t.depth;class yHe{constructor(){this.children=[],this.isDirty=!1}add(t){w7(this.children,t),this.isDirty=!0}remove(t){E7(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vHe),this.isDirty=!1,this.children.forEach(t)}}function xHe(e,t){const n=ya.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(wf(r),e(s-t))};return Mr.setup(r,!0),()=>wf(r)}const Ose=["TopLeft","TopRight","BottomLeft","BottomRight"],bHe=Ose.length,NU=e=>typeof e=="string"?parseFloat(e):e,TU=e=>typeof e=="number"||ln.test(e);function wHe(e,t,n,r,i,s){i?(e.opacity=qr(0,n.opacity??1,EHe(r)),e.opacityExit=qr(t.opacity??1,0,SHe(r))):s&&(e.opacity=qr(t.opacity??1,n.opacity??1,r));for(let a=0;a<bHe;a++){const o=`border${Ose[a]}Radius`;let c=AU(t,o),u=AU(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||TU(c)===TU(u)?(e[o]=Math.max(qr(NU(c),NU(u),r),0),(gc.test(u)||gc.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=qr(t.rotate||0,n.rotate||0,r))}function AU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EHe=Dse(0,.5,xie),SHe=Dse(.5,.95,Oo);function Dse(e,t,n){return r=>r<e?0:r>t?1:n(dy(e,t,r))}function jU(e,t){e.min=t.min,e.max=t.max}function co(e,t){jU(e.x,t.x),jU(e.y,t.y)}function PU(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function IU(e,t,n,r,i){return e-=t,e=gE(e,1/n,r),i!==void 0&&(e=gE(e,1/i,r)),e}function kHe(e,t=0,n=1,r=.5,i,s=e,a=e){if(gc.test(t)&&(t=parseFloat(t),t=qr(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=qr(s.min,s.max,r);e===s&&(o-=t),e.min=IU(e.min,t,n,o,i),e.max=IU(e.max,t,n,o,i)}function RU(e,t,[n,r,i],s,a){kHe(e,t[n],t[r],t[i],t.scale,s,a)}const _He=["x","scaleX","originX"],CHe=["y","scaleY","originY"];function MU(e,t,n,r){RU(e.x,t,_He,n?n.x:void 0,r?r.x:void 0),RU(e.y,t,CHe,n?n.y:void 0,r?r.y:void 0)}function OU(e){return e.translate===0&&e.scale===1}function Lse(e){return OU(e.x)&&OU(e.y)}function DU(e,t){return e.min===t.min&&e.max===t.max}function NHe(e,t){return DU(e.x,t.x)&&DU(e.y,t.y)}function LU(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Fse(e,t){return LU(e.x,t.x)&&LU(e.y,t.y)}function FU(e){return Gs(e.x)/Gs(e.y)}function $U(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class THe{constructor(){this.members=[]}add(t){w7(this.members,t),t.scheduleRender()}remove(t){if(E7(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AHe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const NT=["","X","Y","Z"],jHe=1e3;let PHe=0;function TT(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $se(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Sse(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Mr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$se(r)}function zse({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=PHe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MHe),this.nodes.forEach(FHe),this.nodes.forEach($He),this.nodes.forEach(OHe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yHe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new _7),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Jie(a)&&!SBe(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Mr.read(()=>{f=window.innerWidth}),e(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=xHe(h,250),i4.hasAnimatedSinceResize&&(i4.hasAnimatedSinceResize=!1,this.nodes.forEach(UU)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||VHe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!Fse(this.targetLayout,p),E=!f&&h;if(this.options.layoutRoot||this.resumeFrom||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...F7(v,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(d,E)}else f||UU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zHe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$se(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zU);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BU);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LHe),this.nodes.forEach(IHe),this.nodes.forEach(RHe)):this.nodes.forEach(BU),this.clearAllSnapshots();const o=ya.now();us.delta=Iu(0,1e3/60,o-us.timestamp),us.timestamp=o,us.isProcessing=!0,gT.update.process(us),gT.preRender.process(us),gT.render.process(us),us.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z7.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DHe),this.sharedNodes.forEach(BHe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gs(this.snapshot.measuredBox.x)&&!Gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Lse(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||uh(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),qHe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return oi();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(WHe))){const{scroll:d}=this.root;d&&(Bm(o.x,d.offset.x),Bm(o.y,d.offset.y))}return o}removeElementScroll(a){var c;const o=oi();if(co(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&co(o,a),Bm(o.x,f.offset.x),Bm(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const c=oi();co(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Um(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uh(d.latestValues)&&Um(c,d.latestValues)}return uh(this.latestValues)&&Um(c,this.latestValues),c}removeTransform(a){const o=oi();co(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!uh(u.latestValues))continue;l8(u.latestValues)&&u.updateSnapshot();const d=oi(),f=u.measurePageBox();co(d,f),MU(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return uh(this.latestValues)&&MU(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==us.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=us.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),Av(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),co(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=oi(),this.targetWithTransforms=oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZUe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):co(this.target,this.layout.layoutBox),vse(this.target,this.targetDelta)):co(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oi(),this.relativeTargetOrigin=oi(),Av(this.relativeTargetOrigin,this.target,p.target),co(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||l8(this.parent.latestValues)||gse(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===us.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;co(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;fUe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=oi());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PU(this.prevProjectionDelta.x,this.projectionDelta.x),PU(this.prevProjectionDelta.y,this.projectionDelta.y)),Tv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!$U(this.projectionDelta.x,this.prevProjectionDelta.x)||!$U(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hm(),this.projectionDelta=Hm(),this.projectionDeltaWithTransform=Hm()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Hm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=oi(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=p!==v,b=this.getStack(),w=!b||b.members.length<=1,E=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(HHe));this.animationProgress=0;let k;this.mixTargetDelta=_=>{const A=_/1e3;HU(f.x,a.x,A),HU(f.y,a.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Av(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UHe(this.relativeTarget,this.relativeTargetOrigin,h,A),k&&NHe(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=oi()),co(k,this.relativeTarget)),x&&(this.animationValues=d,wHe(d,u,this.latestValues,A,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(wf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{i4.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mp(0)),this.currentAnimation=gHe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jHe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&Bse(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||oi();const f=Gs(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Gs(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}co(o,c),Um(o,d),Tv(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new THe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&TT("z",a,u,this.animationValues);for(let d=0;d<NT.length;d++)TT(`rotate${NT[d]}`,a,u,this.animationValues),TT(`skew${NT[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=r4(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=r4(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!uh(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=AHe(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:p}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in py){if(d[v]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:w}=py[v],E=f==="none"?d[v]:x(d[v],u);if(b){const k=b.length;for(let _=0;_<k;_++)a[b[_]]=E}else w?this.options.visualElement.renderState.vars[v]=E:a[v]=E}this.options.layoutId&&(a.pointerEvents=u===this?r4(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(zU),this.root.sharedNodes.clear()}}}function IHe(e){e.updateLayout()}function RHe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?po(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],p=Gs(h);h.min=r[f].min,h.max=h.min+p}):Bse(s,t.layoutBox,r)&&po(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],p=Gs(r[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=Hm();Tv(o,r,t.layoutBox);const c=Hm();a?Tv(c,e.applyTransform(i,!0),t.measuredBox):Tv(c,r,t.layoutBox);const u=!Lse(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=oi();Av(v,t.layoutBox,h.layoutBox);const x=oi();Av(x,r,p.layoutBox),Fse(v,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function MHe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OHe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DHe(e){e.clearSnapshot()}function zU(e){e.clearMeasurements()}function BU(e){e.isLayoutDirty=!1}function LHe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FHe(e){e.resolveTargetDelta()}function $He(e){e.calcProjection()}function zHe(e){e.resetSkewAndRotation()}function BHe(e){e.removeLeadSnapshot()}function HU(e,t,n){e.translate=qr(t.translate,0,n),e.scale=qr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function VU(e,t,n,r){e.min=qr(t.min,n.min,r),e.max=qr(t.max,n.max,r)}function UHe(e,t,n,r){VU(e.x,t.x,n.x,r),VU(e.y,t.y,n.y,r)}function HHe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const VHe={duration:.45,ease:[.4,0,.1,1]},qU=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),WU=qU("applewebkit/")&&!qU("chrome/")?Math.round:Oo;function GU(e){e.min=WU(e.min),e.max=WU(e.max)}function qHe(e){GU(e.x),GU(e.y)}function Bse(e,t,n){return e==="position"||e==="preserve-aspect"&&!QUe(FU(t),FU(n),.2)}function WHe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const GHe=zse({attachResizeListener:(e,t)=>gy(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),AT={current:void 0},Use=zse({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!AT.current){const e=new GHe({});e.mount(window),e.setOptions({layoutScroll:!0}),AT.current=e}return AT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KHe={pan:{Feature:fHe},drag:{Feature:dHe,ProjectionNode:Use,MeasureLayout:Mse}};function KU(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Mr.postRender(()=>s(t,Ax(t)))}class YHe extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=yBe(t,(n,r)=>(KU(this.node,r,"Start"),i=>KU(this.node,i,"End"))))}unmount(){}}class XHe extends Mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cx(gy(this.node.current,"focus",()=>this.onFocus()),gy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YU(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Mr.postRender(()=>s(t,Ax(t)))}class QHe extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=EBe(t,(n,r)=>(YU(this.node,r,"Start"),(i,{success:s})=>YU(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p8=new WeakMap,jT=new WeakMap,ZHe=e=>{const t=p8.get(e.target);t&&t(e)},JHe=e=>{e.forEach(ZHe)};function eVe({root:e,...t}){const n=e||document;jT.has(n)||jT.set(n,{});const r=jT.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(JHe,{root:e,...t})),r[i]}function tVe(e,t,n){const r=eVe(t);return p8.set(e,n),r.observe(e),()=>{p8.delete(e),r.unobserve(e)}}const nVe={some:0,all:1};class rVe extends Mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nVe[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return tVe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iVe(t,n))&&this.startObserver()}unmount(){}}function iVe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const sVe={inView:{Feature:rVe},tap:{Feature:QHe},focus:{Feature:XHe},hover:{Feature:YHe}},aVe={layout:{ProjectionNode:Use,MeasureLayout:Mse}},oVe={...qUe,...sVe,...KHe,...aVe},wh=cUe(oVe,EUe);function lVe(e){e.values.forEach(t=>t.stop())}function g8(e,t){[...t].reverse().forEach(r=>{const i=e.getVariant(r);i&&Q7(e,i),e.variantChildren&&e.variantChildren.forEach(s=>{g8(s,t)})})}function cVe(e,t){if(Array.isArray(t))return g8(e,t);if(typeof t=="string")return g8(e,[t]);Q7(e,t)}function uVe(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(s=>{i.push(Cse(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{cVe(r,n)})},stop(){e.forEach(n=>{lVe(n)})},mount(){return()=>{t.stop()}}};return t}function dVe(){const e=qk(uVe);return b7(e.mount,[]),e}const fVe=dVe;function hVe(e){return e!==null&&typeof e=="object"&&dse in e}const mVe={some:0,all:1};function pVe(e,t,{root:n,margin:r,amount:i="some"}={}){const s=Gie(e),a=new WeakMap,o=u=>{u.forEach(d=>{const f=a.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=t(d.target,d);typeof h=="function"?a.set(d.target,h):c.unobserve(d.target)}else typeof f=="function"&&(f(d),a.delete(d.target))})},c=new IntersectionObserver(o,{root:n,rootMargin:r,threshold:typeof i=="number"?i:mVe[i]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function gVe(e,{root:t,margin:n,amount:r,once:i=!1,initial:s=!1}={}){const[a,o]=y.useState(s);return y.useEffect(()=>{if(!e.current||i&&a)return;const c=()=>(o(!0),i?void 0:()=>o(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return pVe(e.current,c,u)},[t,e,n,i,r]),a}function vVe(...e){return t=>{e.forEach(n=>{if(n)if(typeof n=="function")n(t);else{const r=n;r.current=t}})}}function yVe(e,t){const n={...e,...t};return(e.className||t.className)&&(n.className=we(e.className,t.className)),(e.style||t.style)&&(n.style={...e.style,...t.style}),n}const xVe=y.forwardRef(function({children:t,...n},r){const i=typeof t.type=="object"&&t.type!==null&&hVe(t.type),s=y.useMemo(()=>i?t.type:wh.create(t.type),[i,t.type]);if(!y.isValidElement(t))return null;const{ref:a,...o}=t.props,c=yVe(o,n);return l.jsx(s,{...c,ref:vVe(a,r)})});function bVe(e,t={}){const{inView:n,inViewOnce:r=!1,inViewMargin:i="0px"}=t,s=y.useRef(null);y.useImperativeHandle(e,()=>s.current);const a=gVe(s,{once:r,margin:i});return{ref:s,isInView:!n||a}}const XU={path:{initial:{pathLength:1},animate:{pathLength:[.05,1],transition:{duration:.8,ease:"easeInOut"}}},"path-loop":{initial:{pathLength:1},animate:{pathLength:[1,.05,1],transition:{duration:1.6,ease:"easeInOut"}}}},vE=y.createContext(null);function Hse(){const e=y.useContext(vE);return e||{controls:void 0,animation:"default",loop:void 0,loopDelay:void 0,active:void 0,animate:void 0,initialOnAnimateEnd:void 0,completeOnStop:void 0,persistOnAnimateEnd:void 0,delay:void 0}}function c2(e,t){return n=>{e==null||e(n),t==null||t(n)}}function QU({asChild:e=!1,animate:t=!1,animateOnHover:n=!1,animateOnTap:r=!1,animateOnView:i=!1,animateOnViewMargin:s="0px",animateOnViewOnce:a=!0,animation:o="default",loop:c=!1,loopDelay:u=0,initialOnAnimateEnd:d=!1,completeOnStop:f=!1,persistOnAnimateEnd:h=!1,delay:p=0,children:v,...x}){const b=fVe(),[w,E]=y.useState(()=>t===void 0||t===!1?!1:p<=0),[k,_]=y.useState(typeof t=="string"?t:o),[A,T]=y.useState("initial"),C=y.useRef(null),I=y.useRef(null),B=y.useRef(!1),$=y.useRef(null),L=y.useRef(null),U=y.useRef(w),Y=y.useRef(0),V=y.useRef(!1),K=y.useCallback(()=>{Y.current++},[]),W=y.useCallback(te=>{const ie=typeof te=="string"?te:o;K(),C.current&&(clearTimeout(C.current),C.current=null),_(ie),p>0?(E(!1),C.current=setTimeout(()=>{E(!0)},p)):E(!0)},[o,p,K]),J=y.useCallback(()=>{K(),C.current&&(clearTimeout(C.current),C.current=null),I.current&&(clearTimeout(I.current),I.current=null),E(!1)},[K]);y.useEffect(()=>{t!==void 0&&(_(typeof t=="string"?t:o),t?W(t):J())},[t,o,W,J]),y.useEffect(()=>()=>{C.current&&clearTimeout(C.current),I.current&&clearTimeout(I.current)},[]);const q=y.useRef(null),{ref:G,isInView:j}=bVe(q,{inView:!!i,inViewOnce:a,inViewMargin:s}),M=y.useCallback(async(te,ie="start")=>{try{await b[ie](te),T(te)}catch{return}},[b]);y.useEffect(()=>{i&&(j?W(i):J())},[j,i,W,J]),y.useEffect(()=>{const te=++Y.current;V.current=!1;async function ie(){var fe,he,ae;if(V.current||te!==Y.current){await M("initial");return}if(!w){if(f&&B.current&&$.current)try{await $.current}catch{}if(!h){if(V.current||te!==Y.current){await M("initial");return}await M("initial")}return}if(c){if(V.current||te!==Y.current){await M("initial");return}await M("initial","set")}if(B.current=!0,$.current=new Promise(Pe=>{L.current=Pe}),V.current||te!==Y.current){B.current=!1,(fe=L.current)==null||fe.call(L),L.current=null,$.current=null,await M("initial");return}if(await M("animate"),V.current||te!==Y.current){B.current=!1,(he=L.current)==null||he.call(L),L.current=null,$.current=null,await M("initial");return}if(B.current=!1,(ae=L.current)==null||ae.call(L),L.current=null,$.current=null,d){if(V.current||te!==Y.current){await M("initial");return}await M("initial","set")}if(c){if(u>0){if(await new Promise(Pe=>{I.current=setTimeout(()=>{I.current=null,Pe()},u)}),V.current||te!==Y.current){await M("initial");return}if(!U.current){A!=="initial"&&!h&&await M("initial");return}}else if(!U.current){A!=="initial"&&!h&&await M("initial");return}if(V.current||te!==Y.current){await M("initial");return}await ie()}}return ie(),()=>{V.current=!0,C.current&&(clearTimeout(C.current),C.current=null),I.current&&(clearTimeout(I.current),I.current=null)}},[w,b]);const z=y.isValidElement(v)?v.props:{},O=c2(z.onMouseEnter,()=>{n&&W(n)}),X=c2(z.onMouseLeave,()=>{(n||r)&&J()}),ne=c2(z.onPointerDown,()=>{r&&W(r)}),re=c2(z.onPointerUp,()=>{r&&J()}),Q=e?l.jsx(xVe,{ref:G,onMouseEnter:O,onMouseLeave:X,onPointerDown:ne,onPointerUp:re,...x,children:v}):l.jsx(wh.span,{ref:G,onMouseEnter:O,onMouseLeave:X,onPointerDown:ne,onPointerUp:re,...x,children:v});return l.jsx(vE.Provider,{value:{controls:b,animation:k,loop:c,loopDelay:u,active:w,animate:t,initialOnAnimateEnd:d,completeOnStop:f,delay:p},children:Q})}const u2="[&_[stroke-dasharray='1px_1px']]:![stroke-dasharray:1px_0px]";function wVe({size:e=28,animation:t,animate:n,animateOnHover:r,animateOnTap:i,animateOnView:s,animateOnViewMargin:a,animateOnViewOnce:o,icon:c,loop:u,loopDelay:d,persistOnAnimateEnd:f,initialOnAnimateEnd:h,delay:p,completeOnStop:v,className:x,...b}){const w=y.useContext(vE);if(w){const{controls:E,animation:k,loop:_,loopDelay:A,active:T,animate:C,persistOnAnimateEnd:I,initialOnAnimateEnd:B,delay:$,completeOnStop:L}=w;if(n!==void 0||r!==void 0||i!==void 0||s!==void 0||u!==void 0||d!==void 0||h!==void 0||f!==void 0||p!==void 0||v!==void 0){const J=n??C??(T?t??k??"default":!1);return l.jsx(QU,{animate:J,animateOnHover:r,animateOnTap:i,animateOnView:s,animateOnViewMargin:a,animateOnViewOnce:o,animation:t??k,loop:u??_,loopDelay:d??A,persistOnAnimateEnd:f??I,initialOnAnimateEnd:h??B,delay:p??$,completeOnStop:v??L,asChild:!0,children:l.jsx(c,{size:e,className:we(x,((t??k)==="path"||(t??k)==="path-loop")&&u2),...b})})}const Y=t??k,V=_,K=A;return l.jsx(vE.Provider,{value:{controls:E,animation:Y,loop:V,loopDelay:K,active:T,animate:C,initialOnAnimateEnd:B,delay:$,completeOnStop:L},children:l.jsx(c,{size:e,className:we(x,(Y==="path"||Y==="path-loop")&&u2),...b})})}return n!==void 0||r!==void 0||i!==void 0||s!==void 0||t!==void 0?l.jsx(QU,{animate:n,animateOnHover:r,animateOnTap:i,animateOnView:s,animateOnViewMargin:a,animateOnViewOnce:o,animation:t,loop:u,loopDelay:d,delay:p,completeOnStop:v,asChild:!0,children:l.jsx(c,{size:e,className:we(x,(t==="path"||t==="path-loop")&&u2),...b})}):l.jsx(c,{size:e,className:we(x,(t==="path"||t==="path-loop")&&u2),...b})}function EVe(e){const{animation:t}=Hse();let n;if(t in XU){const r=XU[t];n={};for(const i in e.default)(t==="path"||t==="path-loop")&&i.includes("group")||(n[i]=r)}else n=e[t]??e.default;return n}const SVe={default:{circle:{},line1:{initial:{rotate:0,transition:{ease:"easeInOut",duration:.6}},animate:{transformOrigin:"top left",rotate:[0,20,0],transition:{ease:"easeInOut",duration:.6}}},line2:{initial:{rotate:0,transition:{ease:"easeInOut",duration:.6}},animate:{transformOrigin:"bottom left",rotate:360,transition:{ease:"easeInOut",duration:.6}}}}},kVe=y.forwardRef(function({size:t,...n},r){const{controls:i}=Hse(),s=EVe(SVe);return l.jsxs(wh.svg,{ref:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...n,children:[l.jsx(wh.circle,{cx:12,cy:12,r:10,variants:s.circle,initial:"initial",animate:i}),l.jsx(wh.line,{x1:12,y1:12,x2:16,y2:14,variants:s.line1,initial:"initial",animate:i}),l.jsx(wh.line,{x1:12,y1:6,x2:12,y2:12,variants:s.line2,initial:"initial",animate:i})]})});function _Ve(e){return l.jsx(wVe,{icon:kVe,...e})}const Vse=y.createContext(null),CVe=()=>{const e=y.useContext(Vse);if(!e)throw new Error("Reasoning components must be used within Reasoning");return e},NVe=1e3,TVe=1e3,qse=y.memo(({className:e,isStreaming:t=!1,open:n,defaultOpen:r=!0,onOpenChange:i,duration:s,children:a,...o})=>{const[c,u]=ba({prop:n,defaultProp:r,onChange:i}),[d,f]=ba({prop:s,defaultProp:0}),[h,p]=y.useState(!1),[v,x]=y.useState(null);y.useEffect(()=>{t?v===null&&x(Date.now()):v!==null&&(f(Math.ceil((Date.now()-v)/TVe)),x(null))},[t,v,f]),y.useEffect(()=>{if(r&&!t&&c&&!h){const w=setTimeout(()=>{u(!1),p(!0)},NVe);return()=>clearTimeout(w)}},[t,c,r,u,h]);const b=w=>{u(w)};return l.jsx(Vse.Provider,{value:{isStreaming:t,isOpen:c,setIsOpen:u,duration:d},children:l.jsx($P,{className:we("not-prose mb-4",e),onOpenChange:b,open:c,...o,children:a})})}),AVe=(e,t,n)=>n?l.jsx("p",{children:n}):e||t===0?l.jsx("p",{children:"Thinking..."}):t===void 0?l.jsx("p",{children:"Thought for a few seconds"}):l.jsxs("p",{children:["Thought for ",t," seconds"]}),Wse=y.memo(({className:e,title:t,children:n,...r})=>{const{isStreaming:i,isOpen:s,duration:a}=CVe();return l.jsx(zP,{className:we("flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",e),...r,children:n??l.jsxs(l.Fragment,{children:[l.jsx(_Ve,{animate:i?"default":!1,loop:i,className:"size-4"}),AVe(i,a,t),l.jsx(ri,{className:we("size-4 transition-transform",s?"rotate-180":"rotate-0")})]})})}),Gse=y.memo(({className:e,children:t,...n})=>l.jsx(BP,{className:we("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-muted-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",e),...n,children:l.jsx(Rp,{className:"grid gap-2",children:t})}));qse.displayName="Reasoning";Wse.displayName="ReasoningTrigger";Gse.displayName="ReasoningContent";const jVe=({children:e,className:t,...n})=>l.jsx("div",{className:we("text-muted-foreground text-sm",t),...n,children:e}),PVe=({defaultOpen:e=!0,className:t,...n})=>l.jsx($P,{className:we(t),defaultOpen:e,...n}),IVe=({children:e,className:t,title:n,...r})=>l.jsx(zP,{asChild:!0,className:we("group",t),...r,children:e??l.jsxs("div",{className:"flex w-full cursor-pointer items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",children:[l.jsx($h,{className:"size-4"}),l.jsx("p",{className:"text-sm",children:n}),l.jsx(ri,{className:"size-4 transition-transform group-data-[state=open]:rotate-180"})]})}),RVe=({children:e,className:t,...n})=>l.jsx(BP,{className:we("data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-popover-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",t),...n,children:l.jsx("div",{className:"mt-4 space-y-2 border-muted border-l-2 pl-4",children:e})}),MVe=y.lazy(()=>le(()=>import("./CollapsibleListCitations-B7KMDj4L.js"),__vite__mapDeps([97,98])).then(e=>({default:e.CollapsibleListCitations}))),OVe=y.lazy(()=>le(()=>import("./ModalCitations-OdmJHLOj.js"),__vite__mapDeps([99,98])).then(e=>({default:e.ModalCitations}))),DVe=y.lazy(()=>le(()=>import("./RightPanelCitations-DgMYL0Dc.js"),__vite__mapDeps([100,98])).then(e=>({default:e.RightPanelCitations}))),LVe=y.lazy(()=>le(()=>import("./HoverCardCitations-CftNmq6l.js"),[]).then(e=>({default:e.HoverCardCitations})));function FVe(){return l.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",role:"status","aria-live":"polite",children:l.jsx("span",{children:"Loading sources..."})})}function $Ve({sources:e,className:t,messageId:n,variant:r}){const i=hbe(),s=r||i;if(!e||e.length===0)return null;const a=e.filter(o=>o&&(o.url||o.blob_metadata_id||o.blob_id));return a.length===0?null:l.jsxs(y.Suspense,{fallback:l.jsx(FVe,{}),children:[s==="collapsible-list"&&l.jsx(MVe,{sources:a,className:t,messageId:n}),s==="modal"&&l.jsx(OVe,{sources:a,className:t,messageId:n}),s==="right-panel"&&l.jsx(DVe,{sources:a,className:t,messageId:n}),s==="hover-card"&&l.jsx(LVe,{sources:a,className:t,messageId:n})]})}function Xk({...e}){return l.jsx(Uk,{"data-slot":"sheet",...e})}function J2t({...e}){return l.jsx(p7,{"data-slot":"sheet-trigger",...e})}function zVe({...e}){return l.jsx(Hk,{"data-slot":"sheet-portal",...e})}const Kse=y.forwardRef(({className:e,...t},n)=>l.jsx(Ng,{ref:n,"data-slot":"sheet-overlay",className:we("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Kse.displayName=Ng.displayName;const jx=y.forwardRef(({className:e,children:t,side:n="right",...r},i)=>l.jsxs(zVe,{children:[l.jsx(Kse,{}),l.jsxs(Tg,{ref:i,"data-slot":"sheet-content",className:we("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,l.jsxs(Vk,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(li,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jx.displayName=Tg.displayName;function J7({className:e,...t}){return l.jsx("div",{"data-slot":"sheet-header",className:we("flex flex-col gap-1.5 p-4",e),...t})}function eR({className:e,...t}){return l.jsx("div",{"data-slot":"sheet-footer",className:we("mt-auto flex flex-col gap-2 p-4",e),...t})}function tR({className:e,...t}){return l.jsx(g7,{"data-slot":"sheet-title",className:we("text-foreground font-semibold",e),...t})}function Yse({className:e,...t}){return l.jsx(v7,{"data-slot":"sheet-description",className:we("text-muted-foreground text-sm",e),...t})}function BVe(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZU(e){return BVe(e)||Array.isArray(e)}function UVe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nR(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(e.breakpoints||{})),s=JSON.stringify(Object.keys(t.breakpoints||{}));return i!==s?!1:n.every(a=>{const o=e[a],c=t[a];return typeof o=="function"?`${o}`==`${c}`:!ZU(o)||!ZU(c)?o===c:nR(o,c)})}function JU(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function HVe(e,t){if(e.length!==t.length)return!1;const n=JU(e),r=JU(t);return n.every((i,s)=>{const a=r[s];return nR(i,a)})}function rR(e){return typeof e=="number"}function v8(e){return typeof e=="string"}function Qk(e){return typeof e=="boolean"}function eH(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wr(e){return Math.abs(e)}function iR(e){return Math.sign(e)}function jv(e,t){return Wr(e-t)}function VVe(e,t){if(e===0||t===0||Wr(e)<=Wr(t))return 0;const n=jv(Wr(e),Wr(t));return Wr(n/e)}function qVe(e){return Math.round(e*100)/100}function vy(e){return yy(e).map(Number)}function kl(e){return e[Px(e)]}function Px(e){return Math.max(0,e.length-1)}function sR(e,t){return t===Px(e)}function tH(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function yy(e){return Object.keys(e)}function Xse(e,t){return[e,t].reduce((n,r)=>(yy(r).forEach(i=>{const s=n[i],a=r[i],o=eH(s)&&eH(a);n[i]=o?Xse(s,a):a}),n),{})}function y8(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function WVe(e,t){const n={start:r,center:i,end:s};function r(){return 0}function i(c){return s(c)/2}function s(c){return t-c}function a(c,u){return v8(e)?n[e](c):e(t,c,u)}return{measure:a}}function xy(){let e=[];function t(i,s,a,o={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(s,a,o),c=()=>i.removeEventListener(s,a,o);else{const u=i;u.addListener(a),c=()=>u.removeListener(a)}return e.push(c),r}function n(){e=e.filter(i=>i())}const r={add:t,clear:n};return r}function GVe(e,t,n,r){const i=xy(),s=1e3/60;let a=null,o=0,c=0;function u(){i.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){p(),i.clear()}function f(b){if(!c)return;a||(a=b,n(),n());const w=b-a;for(a=b,o+=w;o>=s;)n(),o-=s;const E=o/s;r(E),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function p(){t.cancelAnimationFrame(c),a=null,o=0,c=0}function v(){a=null,o=0}return{init:u,destroy:d,start:h,stop:p,update:n,render:r}}function KVe(e,t){const n=t==="rtl",r=e==="y",i=r?"y":"x",s=r?"x":"y",a=!r&&n?-1:1,o=d(),c=f();function u(v){const{height:x,width:b}=v;return r?x:b}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function h(v){return v*a}return{scroll:i,cross:s,startEdge:o,endEdge:c,measureSize:u,direction:h}}function o0(e=0,t=0){const n=Wr(e-t);function r(u){return u<e}function i(u){return u>t}function s(u){return r(u)||i(u)}function a(u){return s(u)?r(u)?e:t:u}function o(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:a,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:o}}function Qse(e,t,n){const{constrain:r}=o0(0,e),i=e+1;let s=a(t);function a(h){return n?Wr((i+h)%i):r(h)}function o(){return s}function c(h){return s=a(h),f}function u(h){return d().set(o()+h)}function d(){return Qse(e,o(),n)}const f={get:o,set:c,add:u,clone:d};return f}function YVe(e,t,n,r,i,s,a,o,c,u,d,f,h,p,v,x,b,w,E){const{cross:k,direction:_}=e,A=["INPUT","SELECT","TEXTAREA"],T={passive:!1},C=xy(),I=xy(),B=o0(50,225).constrain(p.measure(20)),$={mouse:300,touch:400},L={mouse:500,touch:600},U=v?43:25;let Y=!1,V=0,K=0,W=!1,J=!1,q=!1,G=!1;function j(ae){if(!E)return;function Pe(Ge){(Qk(E)||E(ae,Ge))&&re(Ge)}const Te=t;C.add(Te,"dragstart",Ge=>Ge.preventDefault(),T).add(Te,"touchmove",()=>{},T).add(Te,"touchend",()=>{}).add(Te,"touchstart",Pe).add(Te,"mousedown",Pe).add(Te,"touchcancel",te).add(Te,"contextmenu",te).add(Te,"click",ie,!0)}function M(){C.clear(),I.clear()}function z(){const ae=G?n:t;I.add(ae,"touchmove",Q,T).add(ae,"touchend",te).add(ae,"mousemove",Q,T).add(ae,"mouseup",te)}function O(ae){const Pe=ae.nodeName||"";return A.includes(Pe)}function X(){return(v?L:$)[G?"mouse":"touch"]}function ne(ae,Pe){const Te=f.add(iR(ae)*-1),Ge=d.byDistance(ae,!v).distance;return v||Wr(ae)<B?Ge:b&&Pe?Ge*.5:d.byIndex(Te.get(),0).distance}function re(ae){const Pe=y8(ae,r);G=Pe,q=v&&Pe&&!ae.buttons&&Y,Y=jv(i.get(),a.get())>=2,!(Pe&&ae.button!==0)&&(O(ae.target)||(W=!0,s.pointerDown(ae),u.useFriction(0).useDuration(0),i.set(a),z(),V=s.readPoint(ae),K=s.readPoint(ae,k),h.emit("pointerDown")))}function Q(ae){if(!y8(ae,r)&&ae.touches.length>=2)return te(ae);const Te=s.readPoint(ae),Ge=s.readPoint(ae,k),nt=jv(Te,V),vt=jv(Ge,K);if(!J&&!G&&(!ae.cancelable||(J=nt>vt,!J)))return te(ae);const Ct=s.pointerMove(ae);nt>x&&(q=!0),u.useFriction(.3).useDuration(.75),o.start(),i.add(_(Ct)),ae.preventDefault()}function te(ae){const Te=d.byDistance(0,!1).index!==f.get(),Ge=s.pointerUp(ae)*X(),nt=ne(_(Ge),Te),vt=VVe(Ge,nt),Ct=U-10*vt,Tt=w+vt/50;J=!1,W=!1,I.clear(),u.useDuration(Ct).useFriction(Tt),c.distance(nt,!v),G=!1,h.emit("pointerUp")}function ie(ae){q&&(ae.stopPropagation(),ae.preventDefault(),q=!1)}function fe(){return W}return{init:j,destroy:M,pointerDown:fe}}function XVe(e,t){let r,i;function s(f){return f.timeStamp}function a(f,h){const v=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(y8(f,t)?f:f.touches[0])[v]}function o(f){return r=f,i=f,a(f)}function c(f){const h=a(f)-a(i),p=s(f)-s(r)>170;return i=f,p&&(r=f),h}function u(f){if(!r||!i)return 0;const h=a(i)-a(r),p=s(f)-s(r),v=s(f)-s(i)>170,x=h/p;return p&&!v&&Wr(x)>.1?x:0}return{pointerDown:o,pointerMove:c,pointerUp:u,readPoint:a}}function QVe(){function e(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:a}=n;return{top:r,right:i+s,bottom:r+a,left:i,width:s,height:a}}return{measure:e}}function ZVe(e){function t(r){return e*(r/100)}return{measure:t}}function JVe(e,t,n,r,i,s,a){const o=[e].concat(r);let c,u,d=[],f=!1;function h(b){return i.measureSize(a.measure(b))}function p(b){if(!s)return;u=h(e),d=r.map(h);function w(E){for(const k of E){if(f)return;const _=k.target===e,A=r.indexOf(k.target),T=_?u:d[A],C=h(_?e:r[A]);if(Wr(C-T)>=.5){b.reInit(),t.emit("resize");break}}}c=new ResizeObserver(E=>{(Qk(s)||s(b,E))&&w(E)}),n.requestAnimationFrame(()=>{o.forEach(E=>c.observe(E))})}function v(){f=!0,c&&c.disconnect()}return{init:p,destroy:v}}function eqe(e,t,n,r,i,s){let a=0,o=0,c=i,u=s,d=e.get(),f=0;function h(){const T=r.get()-e.get(),C=!c;let I=0;return C?(a=0,n.set(r),e.set(r),I=T):(n.set(e),a+=T/c,a*=u,d+=a,e.add(a),I=d-f),o=iR(I),f=d,A}function p(){const T=r.get()-t.get();return Wr(T)<.001}function v(){return c}function x(){return o}function b(){return a}function w(){return k(i)}function E(){return _(s)}function k(T){return c=T,A}function _(T){return u=T,A}const A={direction:x,duration:v,velocity:b,seek:h,settled:p,useBaseFriction:E,useBaseDuration:w,useFriction:_,useDuration:k};return A}function tqe(e,t,n,r,i){const s=i.measure(10),a=i.measure(50),o=o0(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(p){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",x=Wr(e[v]-t.get()),b=n.get()-t.get(),w=o.constrain(x/a);n.subtract(b*w),!p&&Wr(b)<s&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(p){c=!p}return{shouldConstrain:u,constrain:d,toggleActive:f}}function nqe(e,t,n,r,i){const s=o0(-t+e,0),a=f(),o=d(),c=h();function u(v,x){return jv(v,x)<=1}function d(){const v=a[0],x=kl(a),b=a.lastIndexOf(v),w=a.indexOf(x)+1;return o0(b,w)}function f(){return n.map((v,x)=>{const{min:b,max:w}=s,E=s.constrain(v),k=!x,_=sR(n,x);return k?w:_||u(b,E)?b:u(w,E)?w:E}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(t<=e+i)return[s.max];if(r==="keepSnaps")return a;const{min:v,max:x}=o;return a.slice(v,x)}return{snapsContained:c,scrollContainLimit:o}}function rqe(e,t,n){const r=t[0],i=n?r-e:kl(t);return{limit:o0(i,r)}}function iqe(e,t,n,r){const s=t.min+.1,a=t.max+.1,{reachedMin:o,reachedMax:c}=o0(s,a);function u(h){return h===1?c(n.get()):h===-1?o(n.get()):!1}function d(h){if(!u(h))return;const p=e*(h*-1);r.forEach(v=>v.add(p))}return{loop:d}}function sqe(e){const{max:t,length:n}=e;function r(s){const a=s-t;return n?a/-n:0}return{get:r}}function aqe(e,t,n,r,i){const{startEdge:s,endEdge:a}=e,{groupSlides:o}=i,c=f().map(t.measure),u=h(),d=p();function f(){return o(r).map(x=>kl(x)[a]-x[0][s]).map(Wr)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-Wr(x))}function p(){return o(u).map(x=>x[0]).map((x,b)=>x+c[b])}return{snaps:u,snapsAligned:d}}function oqe(e,t,n,r,i,s){const{groupSlides:a}=i,{min:o,max:c}=r,u=d();function d(){const h=a(s),p=!e||t==="keepSnaps";return n.length===1?[s]:p?h:h.slice(o,c).map((v,x,b)=>{const w=!x,E=sR(b,x);if(w){const k=kl(b[0])+1;return tH(k)}if(E){const k=Px(s)-kl(b)[0]+1;return tH(k,kl(b)[0])}return v})}return{slideRegistry:u}}function lqe(e,t,n,r,i){const{reachedAny:s,removeOffset:a,constrain:o}=r;function c(v){return v.concat().sort((x,b)=>Wr(x)-Wr(b))[0]}function u(v){const x=e?a(v):o(v),b=t.map((E,k)=>({diff:d(E-x,0),index:k})).sort((E,k)=>Wr(E.diff)-Wr(k.diff)),{index:w}=b[0];return{index:w,distance:x}}function d(v,x){const b=[v,v+n,v-n];if(!e)return v;if(!x)return c(b);const w=b.filter(E=>iR(E)===x);return w.length?c(w):kl(b)-n}function f(v,x){const b=t[v]-i.get(),w=d(b,x);return{index:v,distance:w}}function h(v,x){const b=i.get()+v,{index:w,distance:E}=u(b),k=!e&&s(b);if(!x||k)return{index:w,distance:v};const _=t[w]-E,A=v+d(_,0);return{index:w,distance:A}}return{byDistance:h,byIndex:f,shortcut:d}}function cqe(e,t,n,r,i,s,a){function o(f){const h=f.distance,p=f.index!==t.get();s.add(h),h&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),p&&(n.set(t.get()),t.set(f.index),a.emit("select"))}function c(f,h){const p=i.byDistance(f,h);o(p)}function u(f,h){const p=t.clone().set(f),v=i.byIndex(p.get(),h);o(v)}return{distance:c,index:u}}function uqe(e,t,n,r,i,s,a,o){const c={passive:!0,capture:!0};let u=0;function d(p){if(!o)return;function v(x){if(new Date().getTime()-u>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const E=n.findIndex(k=>k.includes(x));rR(E)&&(i.useDuration(0),r.index(E,0),a.emit("slideFocus"))}s.add(document,"keydown",f,!1),t.forEach((x,b)=>{s.add(x,"focus",w=>{(Qk(o)||o(p,w))&&v(b)},c)})}function f(p){p.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function sv(e){let t=e;function n(){return t}function r(c){t=a(c)}function i(c){t+=a(c)}function s(c){t-=a(c)}function a(c){return rR(c)?c:c.get()}return{get:n,set:r,add:i,subtract:s}}function Zse(e,t){const n=e.scroll==="x"?a:o,r=t.style;let i=null,s=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function o(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(s)return;const p=qVe(e.direction(h));p!==i&&(r.transform=n(p),i=p)}function u(h){s=!h}function d(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:d,to:c,toggleActive:u}}function dqe(e,t,n,r,i,s,a,o,c){const d=vy(i),f=vy(i).reverse(),h=w().concat(E());function p(C,I){return C.reduce((B,$)=>B-i[$],I)}function v(C,I){return C.reduce((B,$)=>p(B,I)>0?B.concat([$]):B,[])}function x(C){return s.map((I,B)=>({start:I-r[B]+.5+C,end:I+t-.5+C}))}function b(C,I,B){const $=x(I);return C.map(L=>{const U=B?0:-n,Y=B?n:0,V=B?"end":"start",K=$[L][V];return{index:L,loopPoint:K,slideLocation:sv(-1),translate:Zse(e,c[L]),target:()=>o.get()>K?U:Y}})}function w(){const C=a[0],I=v(f,C);return b(I,n,!1)}function E(){const C=t-a[0]-1,I=v(d,C);return b(I,-n,!0)}function k(){return h.every(({index:C})=>{const I=d.filter(B=>B!==C);return p(I,t)<=.1})}function _(){h.forEach(C=>{const{target:I,translate:B,slideLocation:$}=C,L=I();L!==$.get()&&(B.to(L),$.set(L))})}function A(){h.forEach(C=>C.translate.clear())}return{canLoop:k,clear:A,loop:_,loopPoints:h}}function fqe(e,t,n){let r,i=!1;function s(c){if(!n)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(Qk(n)||n(c,d))&&u(d)}),r.observe(e,{childList:!0})}function a(){r&&r.disconnect(),i=!0}return{init:s,destroy:a}}function hqe(e,t,n,r){const i={};let s=null,a=null,o,c=!1;function u(){o=new IntersectionObserver(v=>{c||(v.forEach(x=>{const b=t.indexOf(x.target);i[b]=x}),s=null,a=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(v=>o.observe(v))}function d(){o&&o.disconnect(),c=!0}function f(v){return yy(i).reduce((x,b)=>{const w=parseInt(b),{isIntersecting:E}=i[w];return(v&&E||!v&&!E)&&x.push(w),x},[])}function h(v=!0){if(v&&s)return s;if(!v&&a)return a;const x=f(v);return v&&(s=x),v||(a=x),x}return{init:u,destroy:d,get:h}}function mqe(e,t,n,r,i,s){const{measureSize:a,startEdge:o,endEdge:c}=e,u=n[0]&&i,d=v(),f=x(),h=n.map(a),p=b();function v(){if(!u)return 0;const E=n[0];return Wr(t[o]-E[o])}function x(){if(!u)return 0;const E=s.getComputedStyle(kl(r));return parseFloat(E.getPropertyValue(`margin-${c}`))}function b(){return n.map((E,k,_)=>{const A=!k,T=sR(_,k);return A?h[k]+d:T?h[k]+f:_[k+1][o]-E[o]}).map(Wr)}return{slideSizes:h,slideSizesWithGaps:p,startGap:d,endGap:f}}function pqe(e,t,n,r,i,s,a,o,c){const{startEdge:u,endEdge:d,direction:f}=e,h=rR(n);function p(w,E){return vy(w).filter(k=>k%E===0).map(k=>w.slice(k,k+E))}function v(w){return w.length?vy(w).reduce((E,k,_)=>{const A=kl(E)||0,T=A===0,C=k===Px(w),I=i[u]-s[A][u],B=i[u]-s[k][d],$=!r&&T?f(a):0,L=!r&&C?f(o):0,U=Wr(B-L-(I+$));return _&&U>t+c&&E.push(k),C&&E.push(w.length),E},[]).map((E,k,_)=>{const A=Math.max(_[k-1]||0);return w.slice(A,E)}):[]}function x(w){return h?p(w,n):v(w)}return{groupSlides:x}}function gqe(e,t,n,r,i,s,a){const{align:o,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:p,dragThreshold:v,inViewThreshold:x,slidesToScroll:b,skipSnaps:w,containScroll:E,watchResize:k,watchSlides:_,watchDrag:A,watchFocus:T}=s,C=2,I=QVe(),B=I.measure(t),$=n.map(I.measure),L=KVe(c,u),U=L.measureSize(B),Y=ZVe(U),V=WVe(o,U),K=!f&&!!E,W=f||!!E,{slideSizes:J,slideSizesWithGaps:q,startGap:G,endGap:j}=mqe(L,B,$,n,W,i),M=pqe(L,U,b,f,B,$,G,j,C),{snaps:z,snapsAligned:O}=aqe(L,V,B,$,M),X=-kl(z)+kl(q),{snapsContained:ne,scrollContainLimit:re}=nqe(U,X,O,E,C),Q=K?ne:O,{limit:te}=rqe(X,Q,f),ie=Qse(Px(Q),d,f),fe=ie.clone(),he=vy(n),ae=({dragHandler:Ue,scrollBody:St,scrollBounds:At,options:{loop:je}})=>{je||At.constrain(Ue.pointerDown()),St.seek()},Pe=({scrollBody:Ue,translate:St,location:At,offsetLocation:je,previousLocation:Je,scrollLooper:wt,slideLooper:Et,dragHandler:gn,animation:dn,eventHandler:In,scrollBounds:fi,options:{loop:Un}},Tn)=>{const Ut=Ue.settled(),Pt=!fi.shouldConstrain(),En=Un?Ut:Ut&&Pt,Qn=En&&!gn.pointerDown();Qn&&dn.stop();const lr=At.get()*Tn+Je.get()*(1-Tn);je.set(lr),Un&&(wt.loop(Ue.direction()),Et.loop()),St.to(je.get()),Qn&&In.emit("settle"),En||In.emit("scroll")},Te=GVe(r,i,()=>ae(bt),Ue=>Pe(bt,Ue)),Ge=.68,nt=Q[ie.get()],vt=sv(nt),Ct=sv(nt),Tt=sv(nt),ue=sv(nt),_e=eqe(vt,Tt,Ct,ue,h,Ge),Ae=lqe(f,Q,X,te,ue),Be=cqe(Te,ie,fe,_e,Ae,ue,a),We=sqe(te),qe=xy(),Ee=hqe(t,n,a,x),{slideRegistry:$e}=oqe(K,E,Q,re,M,he),Ze=uqe(e,n,$e,Be,_e,qe,a,T),bt={ownerDocument:r,ownerWindow:i,eventHandler:a,containerRect:B,slideRects:$,animation:Te,axis:L,dragHandler:YVe(L,e,r,i,ue,XVe(L,i),vt,Te,Be,_e,Ae,ie,a,Y,p,v,w,Ge,A),eventStore:qe,percentOfView:Y,index:ie,indexPrevious:fe,limit:te,location:vt,offsetLocation:Tt,previousLocation:Ct,options:s,resizeHandler:JVe(t,a,i,n,L,k,I),scrollBody:_e,scrollBounds:tqe(te,Tt,ue,_e,Y),scrollLooper:iqe(X,te,Tt,[vt,Tt,Ct,ue]),scrollProgress:We,scrollSnapList:Q.map(We.get),scrollSnaps:Q,scrollTarget:Ae,scrollTo:Be,slideLooper:dqe(L,U,X,J,q,z,Q,Tt,n),slideFocus:Ze,slidesHandler:fqe(t,a,_),slidesInView:Ee,slideIndexes:he,slideRegistry:$e,slidesToScroll:M,target:ue,translate:Zse(L,t)};return bt}function vqe(){let e={},t;function n(u){t=u}function r(u){return e[u]||[]}function i(u){return r(u).forEach(d=>d(t,u)),c}function s(u,d){return e[u]=r(u).concat([d]),c}function a(u,d){return e[u]=r(u).filter(f=>f!==d),c}function o(){e={}}const c={init:n,emit:i,off:a,on:s,clear:o};return c}const yqe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function xqe(e){function t(s,a){return Xse(s,a||{})}function n(s){const a=s.breakpoints||{},o=yy(a).filter(c=>e.matchMedia(c).matches).map(c=>a[c]).reduce((c,u)=>t(c,u),{});return t(s,o)}function r(s){return s.map(a=>yy(a.breakpoints||{})).reduce((a,o)=>a.concat(o),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function bqe(e){let t=[];function n(s,a){return t=a.filter(({options:o})=>e.optionsAtMedia(o).active!==!1),t.forEach(o=>o.init(s,e)),a.reduce((o,c)=>Object.assign(o,{[c.name]:c}),{})}function r(){t=t.filter(s=>s.destroy())}return{init:n,destroy:r}}function yE(e,t,n){const r=e.ownerDocument,i=r.defaultView,s=xqe(i),a=bqe(s),o=xy(),c=vqe(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=s,{on:h,off:p,emit:v}=c,x=L;let b=!1,w,E=u(yqe,yE.globalOptions),k=u(E),_=[],A,T,C;function I(){const{container:he,slides:ae}=k;T=(v8(he)?e.querySelector(he):he)||e.children[0];const Te=v8(ae)?T.querySelectorAll(ae):ae;C=[].slice.call(Te||T.children)}function B(he){const ae=gqe(e,T,C,r,i,he,c);if(he.loop&&!ae.slideLooper.canLoop()){const Pe=Object.assign({},he,{loop:!1});return B(Pe)}return ae}function $(he,ae){b||(E=u(E,he),k=d(E),_=ae||_,I(),w=B(k),f([E,..._.map(({options:Pe})=>Pe)]).forEach(Pe=>o.add(Pe,"change",L)),k.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(fe),w.eventHandler.init(fe),w.resizeHandler.init(fe),w.slidesHandler.init(fe),w.options.loop&&w.slideLooper.loop(),T.offsetParent&&C.length&&w.dragHandler.init(fe),A=a.init(fe,_)))}function L(he,ae){const Pe=M();U(),$(u({startIndex:Pe},he),ae),c.emit("reInit")}function U(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),a.destroy(),o.clear()}function Y(){b||(b=!0,o.clear(),U(),c.emit("destroy"),c.clear())}function V(he,ae,Pe){!k.active||b||(w.scrollBody.useBaseFriction().useDuration(ae===!0?0:k.duration),w.scrollTo.index(he,Pe||0))}function K(he){const ae=w.index.add(1).get();V(ae,he,-1)}function W(he){const ae=w.index.add(-1).get();V(ae,he,1)}function J(){return w.index.add(1).get()!==M()}function q(){return w.index.add(-1).get()!==M()}function G(){return w.scrollSnapList}function j(){return w.scrollProgress.get(w.offsetLocation.get())}function M(){return w.index.get()}function z(){return w.indexPrevious.get()}function O(){return w.slidesInView.get()}function X(){return w.slidesInView.get(!1)}function ne(){return A}function re(){return w}function Q(){return e}function te(){return T}function ie(){return C}const fe={canScrollNext:J,canScrollPrev:q,containerNode:te,internalEngine:re,destroy:Y,off:p,on:h,emit:v,plugins:ne,previousScrollSnap:z,reInit:x,rootNode:Q,scrollNext:K,scrollPrev:W,scrollProgress:j,scrollSnapList:G,scrollTo:V,selectedScrollSnap:M,slideNodes:ie,slidesInView:O,slidesNotInView:X};return $(t,n),setTimeout(()=>c.emit("init"),0),fe}yE.globalOptions=void 0;function aR(e={},t=[]){const n=y.useRef(e),r=y.useRef(t),[i,s]=y.useState(),[a,o]=y.useState(),c=y.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return y.useEffect(()=>{nR(n.current,e)||(n.current=e,c())},[e,c]),y.useEffect(()=>{HVe(r.current,t)||(r.current=t,c())},[t,c]),y.useEffect(()=>{if(UVe()&&a){yE.globalOptions=aR.globalOptions;const u=yE(a,n.current,r.current);return s(u),()=>u.destroy()}else s(void 0)},[a,s]),[o,i]}aR.globalOptions=void 0;const Jse=y.createContext(null);function eae(){const e=y.useContext(Jse);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}function wqe({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:i,children:s,...a}){const[o,c]=aR({...t,axis:e==="horizontal"?"x":"y"},r),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=y.useCallback(w=>{w&&(d(w.canScrollPrev()),h(w.canScrollNext()))},[]),v=y.useCallback(()=>{c==null||c.scrollPrev()},[c]),x=y.useCallback(()=>{c==null||c.scrollNext()},[c]),b=y.useCallback(w=>{w.key==="ArrowLeft"?(w.preventDefault(),v()):w.key==="ArrowRight"&&(w.preventDefault(),x())},[v,x]);return y.useEffect(()=>{!c||!n||n(c)},[c,n]),y.useEffect(()=>{if(c)return p(c),c.on("reInit",p),c.on("select",p),()=>{c==null||c.off("select",p)}},[c,p]),l.jsx(Jse.Provider,{value:{carouselRef:o,api:c,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:v,scrollNext:x,canScrollPrev:u,canScrollNext:f},children:l.jsx("div",{onKeyDownCapture:b,className:we("relative",i),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...a,children:s})})}function Eqe({className:e,...t}){const{carouselRef:n,orientation:r}=eae();return l.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:l.jsx("div",{className:we("flex",r==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})}function Sqe({className:e,...t}){const{orientation:n}=eae();return l.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:we("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})}var PT,Zk="HoverCard",[tae]=hs(Zk,[Tc]),Jk=Tc(),[kqe,e3]=tae(Zk),nae=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:i,onOpenChange:s,openDelay:a=700,closeDelay:o=300}=e,c=Jk(t),u=y.useRef(0),d=y.useRef(0),f=y.useRef(!1),h=y.useRef(!1),[p,v]=ba({prop:r,defaultProp:i??!1,onChange:s,caller:Zk}),x=y.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),a)},[a,v]),b=y.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>v(!1),o))},[o,v]),w=y.useCallback(()=>v(!1),[v]);return y.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(kqe,{scope:t,open:p,onOpenChange:v,onOpen:x,onClose:b,onDismiss:w,hasSelectionRef:f,isPointerDownOnContentRef:h,children:l.jsx(ex,{...c,children:n})})};nae.displayName=Zk;var rae="HoverCardTrigger",iae=y.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,i=e3(rae,n),s=Jk(n);return l.jsx(mg,{asChild:!0,...s,children:l.jsx(Lt.a,{"data-state":i.open?"open":"closed",...r,ref:t,onPointerEnter:gt(e.onPointerEnter,bE(i.onOpen)),onPointerLeave:gt(e.onPointerLeave,bE(i.onClose)),onFocus:gt(e.onFocus,i.onOpen),onBlur:gt(e.onBlur,i.onClose),onTouchStart:gt(e.onTouchStart,a=>a.preventDefault())})})});iae.displayName=rae;var oR="HoverCardPortal",[_qe,Cqe]=tae(oR,{forceMount:void 0}),sae=e=>{const{__scopeHoverCard:t,forceMount:n,children:r,container:i}=e,s=e3(oR,t);return l.jsx(_qe,{scope:t,forceMount:n,children:l.jsx(ms,{present:n||s.open,children:l.jsx(T0,{asChild:!0,container:i,children:r})})})};sae.displayName=oR;var xE="HoverCardContent",aae=y.forwardRef((e,t)=>{const n=Cqe(xE,e.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=e,s=e3(xE,e.__scopeHoverCard);return l.jsx(ms,{present:r||s.open,children:l.jsx(Nqe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:gt(e.onPointerEnter,bE(s.onOpen)),onPointerLeave:gt(e.onPointerLeave,bE(s.onClose)),ref:t})})});aae.displayName=xE;var Nqe=y.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,...o}=e,c=e3(xE,n),u=Jk(n),d=y.useRef(null),f=Nn(t,d),[h,p]=y.useState(!1);return y.useEffect(()=>{if(h){const v=document.body;return PT=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=PT,v.style.webkitUserSelect=PT}}},[h]),y.useEffect(()=>{if(d.current){const v=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),y.useEffect(()=>{d.current&&jqe(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),l.jsx(N0,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:gt(s,v=>{v.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(tx,{...u,...o,onPointerDown:gt(o.onPointerDown,v=>{v.currentTarget.contains(v.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...o.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Tqe="HoverCardArrow",Aqe=y.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,i=Jk(n);return l.jsx(nx,{...i,...r,ref:t})});Aqe.displayName=Tqe;function bE(e){return t=>t.pointerType==="touch"?void 0:e()}function jqe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Pqe=nae,Iqe=iae,Rqe=sae,Mqe=aae;function Oqe({...e}){return l.jsx(Pqe,{"data-slot":"hover-card",...e})}function Dqe({...e}){return l.jsx(Iqe,{"data-slot":"hover-card-trigger",...e})}function Lqe({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(Rqe,{"data-slot":"hover-card-portal",children:l.jsx(Mqe,{"data-slot":"hover-card-content",align:t,sideOffset:n,className:we("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const Fqe=({className:e,...t})=>l.jsx("span",{className:we("group inline items-center gap-1",e),...t}),$qe=e=>l.jsx(Oqe,{closeDelay:100,openDelay:200,...e}),zqe=({sources:e,className:t,...n})=>{let r="See sources";if(e.length>0&&e[0])try{r=new URL(e[0]).hostname,e.length>1&&(r+=` +${e.length-1}`)}catch{r=e.length===1?"See 1 source":`See ${e.length} sources`}return l.jsx(Dqe,{asChild:!0,children:l.jsx(xn,{className:we("ml-1 rounded-full",t),variant:"secondary",...n,children:r})})},Bqe=({className:e,...t})=>l.jsx(Lqe,{className:we("relative w-80 p-0",e),...t}),oae=y.createContext(void 0),lR=()=>y.useContext(oae),e4t=({className:e,children:t,...n})=>{const[r,i]=y.useState();return l.jsx(oae.Provider,{value:r,children:l.jsx(wqe,{className:we("w-full",e),setApi:i,...n,children:t})})},t4t=e=>l.jsx(Eqe,{...e}),n4t=({className:e,...t})=>l.jsx(Sqe,{className:we("w-full space-y-2 p-4 pl-8",e),...t}),r4t=({className:e,...t})=>l.jsx("div",{className:we("flex items-center justify-between gap-2 rounded-t-md bg-secondary p-2",e),...t}),i4t=({children:e,className:t,...n})=>{const r=lR(),[i,s]=y.useState(0),[a,o]=y.useState(0);return y.useEffect(()=>{r&&(o(r.scrollSnapList().length),s(r.selectedScrollSnap()+1),r.on("select",()=>{s(r.selectedScrollSnap()+1)}))},[r]),l.jsx("div",{className:we("flex flex-1 items-center justify-end px-3 py-1 text-muted-foreground text-xs",t),...n,children:e??`${i}/${a}`})},s4t=({className:e,...t})=>{const n=lR(),r=y.useCallback(()=>{n&&n.scrollPrev()},[n]);return l.jsx("button",{"aria-label":"Previous",className:we("shrink-0",e),onClick:r,type:"button",...t,children:l.jsx(Lh,{className:"size-4 text-muted-foreground"})})},a4t=({className:e,...t})=>{const n=lR(),r=y.useCallback(()=>{n&&n.scrollNext()},[n]);return l.jsx("button",{"aria-label":"Next",className:we("shrink-0",e),onClick:r,type:"button",...t,children:l.jsx(Dj,{className:"size-4 text-muted-foreground"})})},o4t=({title:e,url:t,description:n,className:r,children:i,...s})=>l.jsxs("div",{className:we("space-y-1",r),...s,children:[e&&l.jsx("h4",{className:"truncate font-medium text-sm leading-tight",children:e}),t&&l.jsx("p",{className:"truncate break-all text-muted-foreground text-xs",children:t}),n&&l.jsx("p",{className:"line-clamp-3 text-muted-foreground text-sm leading-relaxed",children:n}),i]}),kn={NOT_CONNECTED:"Not connected",CONNECTED:"Connected",SYNCING:"Syncing",VERIFYING:"Verifying",CANCELLED:"Cancelled",ERROR:"Error"},Cr={CONFLUENCE:"confluence",SHAREPOINT:"sharepoint",SERVICENOW:"servicenow",WEB_SEARCH:"websearch"},IT=["confluence","sharepoint","servicenow","websearch"],d2=["servicenow","jira"],l0={confluence:{title:"Confluence"},servicenow:{title:"ServiceNow"},sharepoint:{title:"SharePoint"},websearch:{title:"Web Search (LGA)",description:"Use web results to supplement answers when knowledge isn't found."},jira:{title:"Jira",description:"Import tickets from Jira for autopilot clustering."}};function Uqe(e,t,n,r,i=null){return e==="verifying"?kn.VERIFYING:e==="syncing"?kn.SYNCING:r?i?kn.ERROR:e==="idle"&&n?t==="failed"?kn.ERROR:kn.CONNECTED:kn.NOT_CONNECTED:kn.NOT_CONNECTED}function Hqe(e){var n;const t=[];switch(e.type){case"confluence":if((n=e.settings)!=null&&n.spaces){const r=typeof e.settings.spaces=="string"?e.settings.spaces.split(",").map(i=>i.trim()).filter(Boolean):Array.isArray(e.settings.spaces)?e.settings.spaces:[];t.push(...r)}break}return t}function Vqe(e){if(!e)return"";const t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3);return r<60?"Just now":r<3600?`${Math.floor(r/60)} minutes ago`:r<86400?`${Math.floor(r/3600)} hours ago`:r<604800?`${Math.floor(r/86400)} days ago`:n.toLocaleDateString()}function cR(e){const t=l0[e.type]||{title:e.type};return{id:e.id,type:e.type,title:t.title,status:Uqe(e.status,e.last_sync_status,e.enabled,e.last_verification_at,e.last_verification_error),lastSync:Vqe(e.last_sync_at),description:t.description,badges:Hqe(e),settings:e.settings,backendData:e}}const nH={INITIAL_PAGE_SIZE:100,PAGE_SIZE:50},hl={all:["conversations"],lists:()=>[...hl.all,"list"],list:e=>[...hl.lists(),{filters:e}],details:()=>[...hl.all,"detail"],detail:e=>[...hl.details(),e],messages:e=>[...hl.detail(e),"messages"]};function lae(){const e=Is(t=>t.setConversations);return Uu({queryKey:hl.lists(),queryFn:async()=>{const n=(await S0.getConversations()).conversations.map(r=>({id:r.id,title:r.title,created_at:new Date(r.created_at),updated_at:new Date(r.updated_at)}));return e(n),n},staleTime:1e3*60*5})}function qqe(e){return uge({queryKey:[...hl.messages(e||""),"infinite"],queryFn:async({pageParam:t})=>{if(!e)return{messages:[],hasMore:!1,nextCursor:null};const n=await S0.getConversationMessages(e,{limit:t===void 0?nH.INITIAL_PAGE_SIZE:nH.PAGE_SIZE,...t!==void 0&&{before:t}});return{messages:n.messages.map(i=>({id:i.id,message:i.message,role:i.role,timestamp:new Date(i.created_at),conversation_id:i.conversation_id,status:i.status,error_message:i.error_message,metadata:i.metadata,response_group_id:i.response_group_id})),hasMore:n.hasMore,nextCursor:n.nextCursor}},getNextPageParam:t=>t.hasMore&&t.nextCursor?t.nextCursor:void 0,initialPageParam:void 0,enabled:!!e,staleTime:0,refetchOnMount:!0})}function Wqe(){const e=ir(),{addConversation:t,setCurrentConversation:n}=Is();return Lr({mutationFn:async r=>{const i=await S0.createConversation(r);return{id:i.conversation.id,title:i.conversation.title,created_at:new Date(i.conversation.created_at),updated_at:new Date(i.conversation.updated_at)}},onSuccess:r=>{t(r),n(r.id),e.invalidateQueries({queryKey:hl.lists()})}})}function Gqe(){const e=ir(),{addMessage:t,updateMessage:n,setSending:r}=Is();return Lr({mutationFn:async i=>{r(!0);try{const s=await S0.sendMessage(i.conversationId,{content:i.content});return{message:{id:s.message.id,message:s.message.message,role:s.message.role,timestamp:new Date(s.message.created_at),conversation_id:s.message.conversation_id,status:s.message.status,error_message:s.message.error_message,metadata:s.message.metadata,response_group_id:s.message.response_group_id},tempId:i.tempId}}finally{r(!1)}},onMutate:async i=>{const s={id:i.tempId,message:i.content,role:"user",timestamp:new Date,conversation_id:i.conversationId,status:"sending"};t(s)},onSuccess:({message:i,tempId:s})=>{n(s,{id:i.id,timestamp:i.timestamp,status:i.status}),e.invalidateQueries({queryKey:hl.messages(i.conversation_id)})},onError:(i,s)=>{n(s.tempId,{status:"failed",error_message:i.message})}})}function Kqe(){const e=ir(),t=Is(n=>n.setConversations);return Lr({mutationFn:async n=>{const r=await S0.updateConversation(n.conversationId,{title:n.title});return{id:r.conversation.id,title:r.conversation.title,created_at:new Date(r.conversation.created_at),updated_at:new Date(r.conversation.updated_at)}},onSuccess:n=>{const i=Is.getState().conversations.map(s=>s.id===n.id?n:s);t(i),e.invalidateQueries({queryKey:hl.lists()})}})}function Yqe(){const e=ir(),{setConversations:t,currentConversationId:n,clearCurrentConversation:r}=Is();return Lr({mutationFn:async i=>(await S0.deleteConversation(i),i),onSuccess:i=>{const a=Is.getState().conversations.filter(o=>o.id!==i);t(a),n===i&&r(),e.invalidateQueries({queryKey:hl.lists()})}})}function Xqe({conversationId:e,scrollContainerRef:t,enabled:n=!0,threshold:r=200}){const i=y.useRef(null),{chatMessages:s,setMessages:a,setHasMoreMessages:o,setLoadingMore:c}=Is(),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=y.useRef(null),v=y.useRef(0),x=y.useRef({height:0,top:0}),{data:b,fetchNextPage:w,hasNextPage:E,isFetchingNextPage:k}=qqe(e);y.useEffect(()=>{var I;if(!b)return;const A=b.pages.flatMap(B=>B.messages),T=((I=b.pages[b.pages.length-1])==null?void 0:I.hasMore)||!1,C=b.pages.length;a(A),C>v.current&&h(!0),v.current=C,o(T)},[b,a,o]),y.useEffect(()=>{c(k)},[k,c]),y.useEffect(()=>{e&&(v.current=0)},[e]);const _=y.useCallback(async()=>{if(!E||k||!t.current)return;const A=t.current;x.current={height:A.scrollHeight,top:A.scrollTop},await w()},[E,k,w,t]);return y.useEffect(()=>{e||(d(!1),h(!1),p.current=null)},[e]),y.useEffect(()=>{if(!t.current||!e||!s.length||p.current===e)return;const A=t.current;A.scrollHeight>A.clientHeight?setTimeout(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight,d(!0),p.current=e)},150):(d(!0),p.current=e)},[e,s.length,t]),y.useEffect(()=>{if(!k&&t.current&&x.current.height>0){const A=t.current,T=A.scrollHeight-x.current.height;A.scrollTop=x.current.top+T,x.current={height:0,top:0}}},[k,t]),y.useEffect(()=>{if(!n||!i.current||!t.current||!u)return;const A=i.current,T=t.current,C=new IntersectionObserver(I=>{I[0].isIntersecting&&T.scrollTop<r&&(h(!0),E&&!k&&_())},{root:T,rootMargin:`${r}px 0px 0px 0px`,threshold:.1});return C.observe(A),()=>C.disconnect()},[n,E,k,_,r,t,u]),{sentinelRef:i,isLoadingMore:k,hasMore:E||!1,hasPaginationAttempted:f}}function Qqe({enabled:e=!0,onDrop:t,onError:n,accept:r,maxFiles:i,maxFileSize:s}={}){const[a,o]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(0),h=y.useCallback(w=>{if(i&&w.length>i)return{valid:!1,error:`Maximum ${i} file${i>1?"s":""} allowed`};if(s){for(let E=0;E<w.length;E++)if(w[E].size>s){const k=Math.round(s/1024/1024);return{valid:!1,error:`File "${w[E].name}" exceeds ${k}MB limit`}}}if(r){const E=r.split(",").map(k=>k.trim());for(let k=0;k<w.length;k++){const _=w[k];if(!E.some(T=>{if(T.startsWith("."))return _.name.toLowerCase().endsWith(T.toLowerCase());if(T.endsWith("/*")){const C=T.split("/")[0];return _.type.startsWith(`${C}/`)}return _.type===T}))return{valid:!1,error:`File type "${_.type||_.name.split(".").pop()}" not accepted`}}}return{valid:!0}},[r,i,s]),p=y.useCallback(w=>{var E,k;w.preventDefault(),w.stopPropagation(),(k=(E=w.dataTransfer)==null?void 0:E.types)!=null&&k.includes("Files")&&(f(_=>_+1),o(!0))},[]),v=y.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.dataTransfer&&(w.dataTransfer.dropEffect="copy")},[]),x=y.useCallback(w=>{w.preventDefault(),w.stopPropagation(),f(E=>{const k=E-1;return k===0&&(o(!1),u(!1)),k})},[]),b=y.useCallback(w=>{var E;if(w.preventDefault(),w.stopPropagation(),o(!1),u(!1),f(0),(E=w.dataTransfer)!=null&&E.files&&w.dataTransfer.files.length>0){const k=h(w.dataTransfer.files);if(!k.valid){n==null||n(k.error||"Invalid files");return}t==null||t(w.dataTransfer.files)}},[h,t,n]);return y.useEffect(()=>{if(e)return document.addEventListener("dragenter",p),document.addEventListener("dragover",v),document.addEventListener("dragleave",x),document.addEventListener("drop",b),()=>{document.removeEventListener("dragenter",p),document.removeEventListener("dragover",v),document.removeEventListener("dragleave",x),document.removeEventListener("drop",b)}},[e,p,v,x,b]),{isDragging:a,isOverDropZone:c,setIsOverDropZone:u,dragCounter:d}}const Pv=".pdf,.doc,.docx,.md,.txt",Zqe=[".pdf",".doc",".docx",".md",".txt"];function Jqe(e){const t=e.toLowerCase().slice(e.lastIndexOf("."));return Zqe.includes(t)}function eWe(e){return`File type "${e.slice(e.lastIndexOf("."))}" is not supported. Please upload PDF, DOC, DOCX, MD, or TXT files.`}function uR(e){return Jqe(e.name)?{isValid:!0}:{isValid:!1,error:{title:"Unsupported File Type",description:eWe(e.name)}}}const cae=["pdf","doc","docx","md","txt"],Od={MANUAL:"manual",CONFLUENCE:"confluence"},Vm={[Od.MANUAL]:"Manual",[Od.CONFLUENCE]:"Jira Confluence"},Ji={UPLOADED:"uploaded",PROCESSING:"processing",PROCESSED:"processed",FAILED:"failed",PENDING:"pending",SYNCING:"syncing"},uae=100,dR=()=>{const e=y.useRef(null),t=di(),n=VS(),{data:r,isLoading:i}=uX(),s=ir(),[a,o]=y.useState(new Set),c=async h=>{var k;const p=h.target.files;if(!p||p.length===0)return;const v=Array.from(p);let x=0,b=0;const w=[],E=[];mt.info({title:"Uploading Files",description:`Starting upload of ${v.length} file${v.length>1?"s":""}...`});for(const _ of v){const A=uR(_);if(!A.isValid&&A.error){b++,w.push(`${_.name}: ${A.error.description}`);continue}o(T=>new Set(T).add(_.name));try{const T=await n.mutateAsync(_,{onSuccess:()=>{}});x++,E.push(T.document.filename)}catch(T){b++,T.status===409&&((k=T.data)!=null&&k.existing_filename)?w.push(`${_.name}: Already exists as "${T.data.existing_filename}"`):w.push(`${_.name}: ${T.message||"Upload failed"}`)}finally{o(T=>{const C=new Set(T);return C.delete(_.name),C})}}if(h.target&&(h.target.value=""),x>0){s.invalidateQueries({queryKey:Ys.lists()});const _="rita-processing-files";sessionStorage.removeItem(_);const A={filenames:E,processed:0,failed:0};sessionStorage.setItem(_,JSON.stringify(A))}x>0&&b===0?mt.success({title:"Upload Complete",description:`Successfully uploaded ${x} file${x>1?"s":""}`}):x>0&&b>0?mt.warning({title:"Upload Partially Complete",description:`${x} succeeded, ${b} failed. Check details for errors.`}):b>0&&mt.error({title:"Upload Failed",description:w.length>0?w[0]:"All uploads failed"})},u=()=>{var h;(h=e.current)==null||h.click()},d=()=>{t("/content")},f=()=>{t("/content")};return{isUploading:n.isPending||a.size>0,isError:n.isError,isSuccess:n.isSuccess,error:n.error,uploadingFiles:a,files:(r==null?void 0:r.documents)||[],filesLoading:i,totalFiles:(r==null?void 0:r.total)||0,handleDocumentUpload:c,openDocumentSelector:u,navigateToKnowledgeArticles:d,navigateToFiles:f,documentInputRef:e}};function wE(e){return e.toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function dae(e){return e.blob_metadata_id||e.blob_id}function tWe(e){const t=/\[(\d+)\]/g,n=[];let r=0;const i=Array.from(e.matchAll(t));for(const s of i)s.index!==void 0&&(s.index>r&&n.push({type:"text",content:e.slice(r,s.index)}),n.push({type:"citation",content:s[0],index:parseInt(s[1],10)}),r=s.index+s[0].length);return r<e.length&&n.push({type:"text",content:e.slice(r)}),{segments:n}}function nWe({source:e,index:t,messageId:n,onViewDocument:r}){const i=dae(e),{data:s,isError:a,isLoading:o}=T$e(i&&!e.title?i:void 0);if(a)return console.warn("Inline citation source not found:",{blob_metadata_id:e.blob_metadata_id,blob_id:e.blob_id,messageId:n,index:t}),null;const c=(s==null?void 0:s.filename)||e.title||(o?"Loading...":void 0);return c?l.jsx(Fqe,{children:l.jsxs($qe,{children:[l.jsx(zqe,{sources:e.url?[e.url]:[]}),l.jsx(Bqe,{children:l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm text-foreground",children:c}),e.snippet?l.jsx("blockquote",{className:"text-sm text-muted-foreground italic border-l-2 border-muted pl-3 py-1",children:e.snippet}):e.url?l.jsx("p",{className:"text-xs text-muted-foreground break-all",children:e.url}):i?l.jsx("p",{className:"text-xs text-muted-foreground",children:"Full document available"}):null,l.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[e.url&&l.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline inline-flex items-center gap-1",onClick:()=>{console.log("Inline citation clicked:",{messageId:n,sourceUrl:e.url,sourceTitle:e.title,citationIndex:t,timestamp:new Date().toISOString()})},children:["View source",l.jsx(YK,{className:"h-3 w-3"})]}),i&&l.jsx("button",{type:"button",onClick:()=>r(e),className:"text-xs text-primary hover:underline inline-flex items-center gap-1 text-left",children:"View full document "})]})]})})]})},t):(console.warn("Inline citation source has no title:",{blob_metadata_id:e.blob_metadata_id,blob_id:e.blob_id,messageId:n,index:t}),null)}function rWe({children:e,sources:t=[],className:n,messageId:r}){const i=ir(),[s,a]=y.useState(!1),[o,c]=y.useState(null),[u,d]=y.useState(!1);if(!t||t.length===0||!e.includes("["))return l.jsx(Rp,{className:n,children:e});const{segments:f}=tWe(e);if(f.every(p=>p.type==="text"))return l.jsx(Rp,{className:n,children:e});const h=async p=>{var w;const v=dae(p);if(!v)return;d(!0);const x=i.getQueryData(uy.detail(v)),b=(x==null?void 0:x.filename)||p.title||"Document";try{const E=await i.ensureQueryData({queryKey:uy.detail(v),queryFn:async()=>{const{fileApi:_}=await le(async()=>{const{fileApi:A}=await Promise.resolve().then(()=>mY);return{fileApi:A}},void 0);return await _.getDocumentMetadata(v)}}),k=((w=E.metadata)==null?void 0:w.content)||"Document content is being processed. Please try again later.";c({title:E.filename,content:k})}catch(E){console.error("Error loading document:",E),c({title:b,content:"Error loading document. Please try again."})}finally{d(!1),a(!0)}console.log("Full document requested:",{messageId:r,sourceTitle:b,documentId:v,blob_metadata_id:p.blob_metadata_id,blob_id:p.blob_id,timestamp:new Date().toISOString()})};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:we("prose dark:prose-invert",n),children:f.map((p,v)=>{if(p.type==="text")return l.jsx("span",{children:p.content},v);if(p.index===void 0)return l.jsx("span",{className:"text-muted-foreground text-xs",children:p.content},v);const x=p.index-1,b=t[x];return b?l.jsx(nWe,{source:b,index:x,messageId:r,onViewDocument:h},v):l.jsx("span",{className:"text-muted-foreground text-xs",children:p.content},v)})}),l.jsx(Ag,{open:s,onOpenChange:a,children:l.jsxs(L0,{className:"sm:max-w-5xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Sx,{children:[l.jsx(kx,{children:(o==null?void 0:o.title)||"Document"}),l.jsx(_x,{children:"Full document content"})]}),l.jsx("div",{className:"prose dark:prose-invert max-w-none",children:u?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):o!=null&&o.content?l.jsx(zk,{children:o.content}):l.jsx("p",{className:"text-muted-foreground",children:"No content available"})})]})})]})}const iWe=(e,t,n)=>{var s;if(t||e)return"submitted";if(n.some(a=>a.status==="processing"||a.status==="pending"))return"streaming";const i=n[n.length-1];return i&&i.role==="user"&&!n.some(o=>o.role==="assistant"&&o.timestamp>i.timestamp)&&i.status==="sent"||i&&i.role==="assistant"&&((s=i.metadata)==null?void 0:s.turn_complete)===!1?"streaming":i&&i.status==="failed"?"error":"ready"},sWe=e=>e.parts.map(t=>t.message).join(`

`),aWe=e=>e.parts.some(t=>t.message&&t.message.trim().length>0),oWe=e=>e.parts.every(t=>{var n,r,i,s,a,o;return((n=t.metadata)==null?void 0:n.reasoning)&&!((r=t.message)!=null&&r.trim())&&!((s=(i=t.metadata)==null?void 0:i.sources)!=null&&s.length)&&!((o=(a=t.metadata)==null?void 0:a.tasks)!=null&&o.length)}),lWe=e=>!!(e.message&&e.message.trim().length>0);function cWe({message:e,onCopy:t,isCopied:n,chatStatus:r,isLastMessage:i}){const s=i&&(r==="streaming"||r==="submitted"),[a,o]=y.useState(!1),c=oWe(e);return l.jsx(uQ,{from:e.role,className:c?"py-1":"",children:l.jsxs("div",{role:"group",className:"flex flex-col w-full",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[l.jsx(dQ,{variant:"flat",className:c?"p-0":"",children:e.parts.map((u,d)=>{var f,h;return l.jsxs(y.Fragment,{children:[((f=u.metadata)==null?void 0:f.reasoning)&&l.jsxs(qse,{isStreaming:s,className:c?"mb-0":"",children:[l.jsx(Wse,{title:u.metadata.reasoning.title}),l.jsx(Gse,{children:u.metadata.reasoning.content})]}),(()=>{var x,b;const p=e.parts[d+1],v=((x=p==null?void 0:p.metadata)==null?void 0:x.sources)&&p.metadata.sources.length>0;return u.message&&u.message.trim().length>0?v&&u.message.includes("[")?l.jsx(rWe,{sources:((b=p.metadata)==null?void 0:b.sources)||[],messageId:u.id,children:u.message}):l.jsx(Rp,{children:u.message}):null})(),(()=>{var x,b,w;const p=e.parts[d-1],v=p&&!((x=p.metadata)!=null&&x.sources)&&p.message&&p.message.includes("[");return(b=u.metadata)!=null&&b.sources&&!v?l.jsx($Ve,{sources:u.metadata.sources,messageId:u.id,variant:(w=u.metadata)==null?void 0:w.citation_variant}):null})(),((h=u.metadata)==null?void 0:h.tasks)&&l.jsx("div",{className:"mt-4 space-y-2",children:u.metadata.tasks.map((p,v)=>l.jsxs(PVe,{defaultOpen:p.defaultOpen||v===0,children:[l.jsx(IVe,{title:p.title}),l.jsx(RVe,{children:p.items.map((x,b)=>l.jsx(jVe,{children:x},b))})]},v))})]},u.id)})}),e.role==="assistant"&&!c&&l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[aWe(e)?l.jsx(eQ,{children:l.jsx(tQ,{onClick:()=>t(sWe(e),e.id),tooltip:"Copy message",children:n?l.jsx(or,{className:"size-3"}):l.jsx(jS,{className:"size-3"})})}):l.jsx("div",{}),l.jsx("div",{className:`text-xs text-gray-500 transition-opacity ${a?"opacity-100":"opacity-0"}`,children:wE(e.timestamp)})]}),e.role==="user"&&l.jsx("div",{className:`text-xs text-gray-500 mt-1 transition-opacity ${a?"opacity-100":"opacity-0"}`,children:wE(e.timestamp)})]})})}function uWe({message:e,onCopy:t,isCopied:n}){const[r,i]=y.useState(!1);return l.jsx(uQ,{from:e.role,children:l.jsxs("div",{role:"group",className:"flex flex-col",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[l.jsx(dQ,{variant:e.role==="assistant"?"flat":"contained",children:l.jsx(Rp,{children:e.message})}),e.role==="assistant"&&l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[lWe(e)?l.jsx(eQ,{children:l.jsx(tQ,{onClick:()=>t(e.message,e.id),tooltip:"Copy message",children:n?l.jsx(or,{className:"size-3"}):l.jsx(jS,{className:"size-3"})})}):l.jsx("div",{}),l.jsx("div",{className:`text-xs text-gray-500 transition-opacity ${r?"opacity-100":"opacity-0"}`,children:wE(e.timestamp)})]}),e.role==="user"&&l.jsx("div",{className:`text-xs text-gray-500 mt-1 transition-opacity ${r?"opacity-100":"opacity-0"}`,children:wE(e.timestamp)})]})})}function dWe({hasKnowledge:e,onUpload:t,onConnections:n}){const{isOwnerOrAdmin:r}=qu(),i=[{type:Cr.CONFLUENCE,icon:`/connections/icon_${Cr.CONFLUENCE}.svg`},{type:Cr.SHAREPOINT,icon:`/connections/icon_${Cr.SHAREPOINT}.svg`},{type:Cr.SERVICENOW,icon:`/connections/icon_${Cr.SERVICENOW}.svg`}];return l.jsxs("div",{className:"flex flex-col items-center justify-center gap-8 py-12",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h2",{className:"text-3xl font-semibold text-foreground",children:"Ask RITA"}),l.jsx("p",{className:"text-base text-muted-foreground",children:e?"Diagnose and resolve issues, then create automations to speed up future remediation":"Build your organization's help agent by adding knowledge"})]}),!e&&r()&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[l.jsxs(Rn,{className:"cursor-pointer",onClick:t,children:[l.jsxs(M6,{children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx(O6,{className:"text-lg font-medium",children:"Upload a file"}),l.jsx(w0,{className:"h-5 w-5 text-muted-foreground"})]}),l.jsx(D6,{className:"text-base",children:"Add knowledge via documents"})]}),l.jsx(k4,{children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["File types: ",cae.join(", "),"; max size: ",uae,"mb"]})})]}),l.jsxs(Rn,{className:"cursor-pointer",onClick:n,children:[l.jsxs(M6,{children:[l.jsx(O6,{className:"text-lg font-medium",children:"Add a connection"}),l.jsx(D6,{className:"text-base",children:"Connect your knowledge sources"})]}),l.jsx(k4,{children:l.jsx("div",{className:"flex gap-3",children:i.map(s=>{var a;return l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:l.jsx("img",{src:s.icon,alt:((a=l0[s.type])==null?void 0:a.title)||s.type,className:"w-6 h-6"})},s.type)})})})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground text-center max-w-md",children:"All files and connections stay within your organization's workspace."})]})]})}function fae({messages:e,messagesLoading:t,isSending:n,currentConversationId:r,messageValue:i,handleSendMessage:s,handleMessageChange:a,handleFileUpload:o,uploadStatus:c,fileInputRef:u,requireKnowledgeBase:d=!0}){const[f,h]=y.useState(null),[p,v]=y.useState(!1),x=y.useRef(null),b=di(),{openDocumentSelector:w,files:E,documentInputRef:k,handleDocumentUpload:_,uploadingFiles:A}=dR(),T=E.some(O=>O.status==="processed"||O.status==="uploaded"),{isOwnerOrAdmin:C}=qu(),I=C(),B=pf("ENABLE_MULTI_FILE_UPLOAD"),{chatMessages:$}=Is(),L=VS(),U=y.useCallback(O=>{O.length!==0&&Array.from(O).forEach(X=>{const ne=uR(X);if(!ne.isValid&&ne.error){mt.error({title:ne.error.title,description:ne.error.description});return}L.mutate(X,{onSuccess:()=>{mt.success({title:`Uploaded "${X.name}" to knowledge base`})},onError:re=>{mt.error({title:"Upload Failed",description:`Failed to upload "${X.name}": ${(re==null?void 0:re.message)||"Unknown error"}`})}})})},[L]);Qqe({enabled:!1,accept:Pv,maxFiles:5,maxFileSize:10*1024*1024,onDrop:U,onError:O=>mt.error({title:"Upload Error",description:O})});const Y=y.useRef(null),V=y.useCallback(O=>{var X;(X=O==null?void 0:O.scrollRef)!=null&&X.current&&(Y.current=O.scrollRef.current)},[]),{sentinelRef:K,isLoadingMore:W,hasMore:J,hasPaginationAttempted:q}=Xqe({conversationId:r,scrollContainerRef:Y,enabled:!!r&&$.length>0}),G=iWe(n,c.isUploading,e);y.useEffect(()=>{if(v(!1),G==="streaming"){const O=setTimeout(()=>{mt.warning({title:"Response timeout"}),v(!0)},3e4);return()=>clearTimeout(O)}},[G]),y.useEffect(()=>{var ne;if(!r||!e.length||x.current===r)return;x.current=r;const O=e[e.length-1];(O.role==="user"||O.role==="assistant"&&((ne=O.metadata)==null?void 0:ne.turn_complete)===!1)&&v(!0)},[r,e]);const j=!p&&(G==="streaming"||G==="submitted"||d&&!T),M=y.useCallback(async O=>{var re;const X=!!O.text,ne=!!((re=O.files)!=null&&re.length);if(X||ne){if(O.text&&a(O.text),O.files&&O.files.length>0){const Q={target:{files:O.files}};o(Q)}setTimeout(async()=>{await s()},0)}},[a,s,o]),z=y.useCallback(async(O,X)=>{try{await navigator.clipboard.writeText(O),h(X),mt.success({title:"Message copied to clipboard"}),setTimeout(()=>h(null),2e3)}catch{mt.error({title:"Failed to copy message"})}},[]);return l.jsxs("div",{className:"h-full flex flex-col relative",children:[l.jsxs(lSe,{className:"flex-1",contextRef:V,children:[l.jsx(cSe,{className:"px-6 py-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:t?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(R4,{size:24})}):!r||$.length===0?l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:d?l.jsx(dWe,{hasKnowledge:T,onUpload:w,onConnections:()=>b("/settings/connections")}):l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Ask me anything"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Start a conversation by typing your question below."})]})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:K,className:"h-1"}),W&&l.jsxs("div",{className:"flex justify-center py-4",children:[l.jsx(R4,{size:16}),l.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading older messages..."})]}),!J&&!W&&$.length>0&&q&&l.jsx("div",{className:"flex justify-center py-4",children:l.jsx("span",{className:"text-sm text-gray-400",children:"Beginning of conversation"})}),$.map((O,X)=>{const ne=X===$.length-1;return l.jsx(y.Fragment,{children:O.isGroup?l.jsx(cWe,{message:O,onCopy:z,isCopied:f===O.id,chatStatus:G,isLastMessage:ne}):l.jsx(uWe,{message:O,onCopy:z,isCopied:f===O.id})},O.id)})]})})}),l.jsx(uSe,{})]}),l.jsx("div",{className:"px-6 py-4 xborder-t border-gray-200 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(A_e,{className:we(!T&&"rounded-b-none"),onSubmit:M,globalDrop:!1,multiple:!1,accept:void 0,maxFiles:void 0,maxFileSize:void 0,children:[l.jsxs(j_e,{children:[l.jsx(T_e,{children:O=>l.jsx(N_e,{data:O})}),l.jsx(P_e,{onChange:O=>a(O.target.value),value:i,placeholder:"Ask me anything...",disabled:j})]}),l.jsxs(I_e,{children:[l.jsx(R_e,{}),l.jsx(O_e,{disabled:!i.trim()||G==="streaming"||G==="submitted",status:G})]})]}),d&&!T&&l.jsx("div",{className:"mt-0 flex items-center rounded-b-[12px] border border-t-0 border-border bg-muted px-3 py-2",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:I?"No knowledge found. Upload or connect a knowledge source to get started.":"No knowledge found. Reach out to your RITA Go Administrator."})})]})}),l.jsx("input",{ref:u,type:"file",className:"hidden",onChange:o,accept:Pv,disabled:c.isUploading,multiple:B}),l.jsx("input",{ref:k,type:"file",className:"hidden",onChange:_,accept:Pv,multiple:B,disabled:A.size>0})]})}const rH=[{id:1,name:"Sarah Johnson",email:"sarah.johnson@acme.com",initials:"SJ",role:"Admin"},{id:2,name:"Mike Chen",email:"mike.chen@acme.com",initials:"MC",role:"Member"},{id:3,name:"Emily Rodriguez",email:"emily.r@acme.com",initials:"ER",role:"Member"},{id:4,name:"David Kim",email:"david.kim@acme.com",initials:"DK",role:"Member"}];function fWe({open:e,onOpenChange:t,onNavigateToSettings:n}){const[r,i]=y.useState(""),[s,a]=y.useState([]),[o,c]=y.useState(!1),u=rH.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())||p.email.toLowerCase().includes(r.toLowerCase())),d=r.length>0&&u.length===0,f=p=>{a(v=>v.includes(p)?v.filter(x=>x!==p):[...v,p])},h=()=>{console.log("[v0] Sharing with users:",s),a([]),i(""),t(!1)};return l.jsx(Ag,{open:e,onOpenChange:t,children:l.jsxs(L0,{className:"sm:max-w-[500px] bg-gradient-to-br from-blue-600 to-blue-800 border-blue-700",children:[l.jsxs(Sx,{children:[l.jsx(kx,{className:"text-xl font-semibold text-white",children:"Share RITA"}),l.jsx(_x,{className:"text-sm text-blue-100",children:"Search for team members to share RITA access with"})]}),l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx(en,{placeholder:"Search by name or email...",value:r,onChange:p=>{i(p.target.value),c(!0)},onFocus:()=>c(!0),className:"pl-9 h-10 bg-white/10 border-white/20 text-white placeholder:text-white/60"})]}),o&&r&&l.jsx("div",{className:"border border-white/20 rounded-md bg-white/10 backdrop-blur-sm max-h-64 overflow-y-auto",children:d?l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("p",{className:"text-sm text-white/80",children:['No users found for "',r,'"']}),l.jsxs(ve,{variant:"outline",className:"w-full gap-2 h-9 border-dashed bg-white/5 border-white/30 text-white hover:bg-white/10",onClick:()=>{t(!1),n==null||n()},children:[l.jsx(sye,{className:"w-4 h-4"}),"Add new user in Settings"]})]}):l.jsx("div",{className:"p-1",children:u.map(p=>l.jsxs("button",{onClick:()=>{f(p.id),c(!1),i("")},className:"w-full flex items-center gap-3 p-2 rounded-md hover:bg-white/10 transition-colors",children:[l.jsx(Yv,{className:"w-8 h-8 rounded-lg",children:l.jsx(Xv,{className:"rounded-lg bg-white text-blue-600 text-xs",children:p.initials})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("p",{className:"text-sm font-medium text-white",children:p.name}),l.jsx("p",{className:"text-xs text-white/70",children:p.email})]}),l.jsx("span",{className:"text-xs text-white/70",children:p.role})]},p.id))})}),s.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm font-medium text-white",children:["Selected users (",s.length,")"]}),l.jsx("div",{className:"space-y-2",children:s.map(p=>{const v=rH.find(x=>x.id===p);return v?l.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-md bg-white/10",children:[l.jsx(Yv,{className:"w-8 h-8 rounded-lg",children:l.jsx(Xv,{className:"rounded-lg bg-white text-blue-600 text-xs",children:v.initials})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-white",children:v.name}),l.jsx("p",{className:"text-xs text-white/70",children:v.email})]}),l.jsx(ve,{variant:"ghost",size:"icon",className:"w-6 h-6 text-white hover:bg-white/10",onClick:()=>f(v.id),children:l.jsx(li,{className:"w-4 h-4"})})]},v.id):null})})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(ve,{variant:"outline",className:"flex-1 h-9 bg-white/5 border-white/30 text-white hover:bg-white/10",onClick:()=>{a([]),i(""),t(!1)},children:"Cancel"}),l.jsxs(ve,{className:"flex-1 h-9 bg-white text-blue-600 hover:bg-white/90",disabled:s.length===0,onClick:h,children:["Share with ",s.length," ",s.length===1?"user":"users"]})]})]})]})})}const RT=768;function hWe(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${RT-1}px)`),r=()=>{t(window.innerWidth<RT)};return n.addEventListener("change",r),t(window.innerWidth<RT),()=>n.removeEventListener("change",r)},[]),!!e}var mWe="Separator",iH="horizontal",pWe=["horizontal","vertical"],hae=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=iH,...i}=e,s=gWe(r)?r:iH,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(Lt.div,{"data-orientation":s,...o,...i,ref:t})});hae.displayName=mWe;function gWe(e){return pWe.includes(e)}var mae=hae;const Mu=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>l.jsx(mae,{ref:i,decorative:n,orientation:t,className:we("shrink-0 bg-border",t==="horizontal"?"h-[2px] w-full":"h-full w-[2px]",e),...r}));Mu.displayName=mae.displayName;function tu({className:e,...t}){return l.jsx("div",{"data-slot":"skeleton",className:we("bg-accent animate-pulse rounded-md",e),...t})}const vWe="sidebar:state",yWe=3600*24*7,xWe="16rem",bWe="18rem",wWe="3rem",EWe="b",pae=y.createContext(null);function Ix(){const e=y.useContext(pae);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const fR=y.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:s,...a},o)=>{const c=hWe(),[u,d]=y.useState(!1),[f,h]=y.useState(e),p=t??f,v=y.useCallback(E=>{const k=typeof E=="function"?E(p):E;n?n(k):h(k),document.cookie=`${vWe}=${k}; path=/; max-age=${yWe}`},[n,p]),x=y.useCallback(()=>c?d(E=>!E):v(E=>!E),[c,v,d]);y.useEffect(()=>{const E=k=>{k.key===EWe&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),x())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[x]);const b=p?"expanded":"collapsed",w=y.useMemo(()=>({state:b,open:p,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:x}),[b,p,v,c,u,d,x]);return l.jsx(pae.Provider,{value:w,children:l.jsx(EP,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":xWe,"--sidebar-width-icon":wWe,...i},className:we("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...a,children:s})})})});fR.displayName="SidebarProvider";const hR=y.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...s},a)=>{const{isMobile:o,state:c,openMobile:u,setOpenMobile:d}=Ix();return n==="none"?l.jsx("div",{className:we("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...s,children:i}):o?l.jsx(Xk,{open:u,onOpenChange:d,...s,children:l.jsx(jx,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":bWe},side:e,children:l.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):l.jsxs("div",{ref:a,className:"group peer hidden lg:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[l.jsx("div",{className:we("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:we("duration-200 fixed inset-y-0 z-50 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear lg:flex border-r border-gray-200",e==="left"?"left-0":"right-0",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]",r),style:{[e==="left"?"left":"right"]:c==="collapsed"&&n==="offcanvas"?"-16rem":void 0},...s,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});hR.displayName="Sidebar";const gae=y.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:i}=Ix();return l.jsxs(ve,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",e),onClick:s=>{t==null||t(s),i()},...n,children:[l.jsx(sve,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});gae.displayName="SidebarTrigger";const SWe=y.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Ix();return l.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:we("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 lg:block",e),...t})});SWe.displayName="SidebarRail";const kWe=y.forwardRef(({className:e,...t},n)=>l.jsx("main",{ref:n,className:we("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] lg:peer-data-[variant=inset]:m-2 lg:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 lg:peer-data-[variant=inset]:ml-0 lg:peer-data-[variant=inset]:rounded-xl lg:peer-data-[variant=inset]:shadow",e),...t}));kWe.displayName="SidebarInset";const _We=y.forwardRef(({className:e,...t},n)=>l.jsx(en,{ref:n,"data-sidebar":"input",className:we("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));_We.displayName="SidebarInput";const mR=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"header",className:we("flex flex-col gap-2 p-2",e),...t}));mR.displayName="SidebarHeader";const vae=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",e),...t}));vae.displayName="SidebarFooter";const CWe=y.forwardRef(({className:e,...t},n)=>l.jsx(Mu,{ref:n,"data-sidebar":"separator",className:we("mx-2 w-auto bg-sidebar-border",e),...t}));CWe.displayName="SidebarSeparator";const pR=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));pR.displayName="SidebarContent";const by=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",e),...t}));by.displayName="SidebarGroup";const gR=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"group-label",className:we("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...t}));gR.displayName="SidebarGroupLabel";const NWe=y.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const i=t?_0:"button";return l.jsx(i,{ref:r,"data-sidebar":"group-action",className:we("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:lg:hidden","group-data-[collapsible=icon]:hidden",e),...n})});NWe.displayName="SidebarGroupAction";const TWe=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"group-content",className:we("w-full text-sm",e),...t}));TWe.displayName="SidebarGroupContent";const ap=y.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",e),...t}));ap.displayName="SidebarMenu";const ml=y.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,"data-sidebar":"menu-item",className:we("group/menu-item relative",e),...t}));ml.displayName="SidebarMenuItem";const AWe=sg("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 cursor-pointer group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),pl=y.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a},o)=>{const c=e?_0:"button",{isMobile:u,state:d}=Ix(),f=l.jsx(c,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:we(AWe({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),l.jsxs(QX,{children:[l.jsx(ZX,{asChild:!0,children:f}),l.jsx(JX,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):f});pl.displayName="SidebarMenuButton";const jWe=y.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},i)=>{const s=t?_0:"button";return l.jsx(s,{ref:i,"data-sidebar":"menu-action",className:we("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:lg:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground lg:opacity-0",e),...r})});jWe.displayName="SidebarMenuAction";const PWe=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:we("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));PWe.displayName="SidebarMenuBadge";const IWe=y.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const i=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:we("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&l.jsx(tu,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(tu,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});IWe.displayName="SidebarMenuSkeleton";const yae=y.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:we("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));yae.displayName="SidebarMenuSub";const x8=y.forwardRef(({...e},t)=>l.jsx("li",{ref:t,...e}));x8.displayName="SidebarMenuSubItem";const b8=y.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...i},s)=>{const a=e?_0:"button";return l.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:we("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-foreground/50","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});b8.displayName="SidebarMenuSubButton";var xae="AlertDialog",[RWe]=hs(xae,[qre]),Ku=qre(),bae=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ku(t);return l.jsx(Uk,{...r,...n,modal:!0})};bae.displayName=xae;var MWe="AlertDialogTrigger",wae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ku(n);return l.jsx(p7,{...i,...r,ref:t})});wae.displayName=MWe;var OWe="AlertDialogPortal",Eae=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ku(t);return l.jsx(Hk,{...r,...n})};Eae.displayName=OWe;var DWe="AlertDialogOverlay",Sae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ku(n);return l.jsx(Ng,{...i,...r,ref:t})});Sae.displayName=DWe;var op="AlertDialogContent",[LWe,FWe]=RWe(op),$We=kY("AlertDialogContent"),kae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Ku(n),a=y.useRef(null),o=Nn(t,a),c=y.useRef(null);return l.jsx(S$e,{contentName:op,titleName:_ae,docsSlug:"alert-dialog",children:l.jsx(LWe,{scope:n,cancelRef:c,children:l.jsxs(Tg,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:gt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx($We,{children:r}),l.jsx(BWe,{contentRef:a})]})})})});kae.displayName=op;var _ae="AlertDialogTitle",Cae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ku(n);return l.jsx(g7,{...i,...r,ref:t})});Cae.displayName=_ae;var Nae="AlertDialogDescription",Tae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ku(n);return l.jsx(v7,{...i,...r,ref:t})});Tae.displayName=Nae;var zWe="AlertDialogAction",Aae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ku(n);return l.jsx(Vk,{...i,...r,ref:t})});Aae.displayName=zWe;var jae="AlertDialogCancel",Pae=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=FWe(jae,n),s=Ku(n),a=Nn(t,i);return l.jsx(Vk,{...s,...r,ref:a})});Pae.displayName=jae;var BWe=({contentRef:e})=>{const t=`\`${op}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${op}\` by passing a \`${Nae}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${op}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},UWe=bae,HWe=wae,VWe=Eae,Iae=Sae,Rae=kae,qWe=Aae,WWe=Pae,GWe=Cae,KWe=Tae;function EE({...e}){return l.jsx(UWe,{"data-slot":"alert-dialog",...e})}function YWe({...e}){return l.jsx(HWe,{"data-slot":"alert-dialog-trigger",...e})}function XWe({...e}){return l.jsx(VWe,{"data-slot":"alert-dialog-portal",...e})}const Mae=y.forwardRef(({className:e,...t},n)=>l.jsx(Iae,{ref:n,"data-slot":"alert-dialog-overlay",className:we("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Mae.displayName=Iae.displayName;const wy=y.forwardRef(({className:e,...t},n)=>l.jsxs(XWe,{children:[l.jsx(Mae,{}),l.jsx(Rae,{ref:n,"data-slot":"alert-dialog-content",className:we("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]}));wy.displayName=Rae.displayName;function SE({className:e,...t}){return l.jsx("div",{"data-slot":"alert-dialog-header",className:we("flex flex-col gap-2 text-center sm:text-left",e),...t})}function kE({className:e,...t}){return l.jsx("div",{"data-slot":"alert-dialog-footer",className:we("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function _E({className:e,...t}){return l.jsx(GWe,{"data-slot":"alert-dialog-title",className:we("text-lg font-semibold",e),...t})}function CE({className:e,...t}){return l.jsx(KWe,{"data-slot":"alert-dialog-description",className:we("text-muted-foreground text-sm",e),...t})}function NE({className:e,...t}){return l.jsx(qWe,{className:we(Jj(),e),...t})}function TE({className:e,...t}){return l.jsx(WWe,{className:we(Jj({variant:"outline"}),e),...t})}function QWe({conversation:e,isActive:t,onClick:n}){const[r,i]=y.useState(!1),[s,a]=y.useState(!1),[o,c]=y.useState(""),u=Yqe(),d=Kqe(),f=w=>{w.stopPropagation(),c(e.title),a(!0)},h=()=>{o.trim().length!==0&&(d.mutate({conversationId:e.id,title:o.trim()}),a(!1))},p=()=>{a(!1),c("")},v=w=>{w.stopPropagation(),i(!0)},x=()=>{u.mutate(e.id),i(!1)},b=()=>{i(!1)};return l.jsxs(l.Fragment,{children:[l.jsx(ml,{className:"min-w-0 group",children:l.jsxs("div",{className:`flex items-center gap-1 min-w-0 group/item rounded-md hover:bg-sidebar-accent ${t?"bg-sidebar-accent":""}`,children:[l.jsx(pl,{className:"px-2 py-2 h-8 text-sm text-sidebar-foreground min-w-0 flex-1 hover:bg-transparent data-[active=true]:bg-transparent",onClick:()=>n(e.id),isActive:t,children:l.jsx("span",{className:"truncate min-w-0",children:e.title})}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover/item:opacity-100 transition-opacity hover:bg-transparent",onClick:w=>w.stopPropagation(),"aria-label":"More options",children:l.jsx(Hu,{className:"h-4 w-4"})})}),l.jsxs(ni,{align:"end",children:[l.jsxs(Jt,{onClick:f,children:[l.jsx(x6,{className:"h-4 w-4 mr-2"}),"Rename"]}),l.jsxs(Jt,{variant:"destructive",onClick:v,children:[l.jsx(hf,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),l.jsx(EE,{open:s,onOpenChange:a,children:l.jsxs(wy,{children:[l.jsxs(SE,{children:[l.jsx(_E,{children:"Rename Conversation"}),l.jsx(CE,{children:"Enter a new title for this conversation."})]}),l.jsx("div",{className:"py-4",children:l.jsx(en,{value:o,onChange:w=>c(w.target.value),placeholder:"Conversation title",onKeyDown:w=>{w.key==="Enter"&&o.trim().length>0&&h()},autoFocus:!0})}),l.jsxs(kE,{children:[l.jsx(TE,{onClick:p,children:"Cancel"}),l.jsx(NE,{onClick:h,disabled:o.trim().length===0,children:"Save"})]})]})}),l.jsx(EE,{open:r,onOpenChange:i,children:l.jsxs(wy,{children:[l.jsxs(SE,{children:[l.jsx(_E,{children:"Delete Conversation"}),l.jsxs(CE,{children:['Are you sure you want to delete "',e.title,'"? This action cannot be undone and will permanently delete all messages in this conversation.']})]}),l.jsxs(kE,{children:[l.jsx(TE,{onClick:b,children:"Cancel"}),l.jsx(NE,{onClick:x,className:"bg-destructive text-white hover:bg-destructive/90",children:"Delete conversation"})]})]})})]})}function Oae({...e}){return l.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Dae({className:e,...t}){return l.jsx("ol",{"data-slot":"breadcrumb-list",className:we("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function Lae({className:e,...t}){return l.jsx("li",{"data-slot":"breadcrumb-item",className:we("inline-flex items-center gap-1.5",e),...t})}function ZWe({asChild:e,className:t,...n}){const r=e?_0:"a";return l.jsx(r,{"data-slot":"breadcrumb-link",className:we("hover:text-foreground transition-colors",t),...n})}function JWe({className:e,...t}){return l.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:we("text-foreground font-normal",e),...t})}function eGe({children:e,className:t,...n}){return l.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:we("[&>svg]:size-3.5",t),...n,children:e??l.jsx(bl,{})})}var t3="Popover",[Fae]=hs(t3,[Tc]),Rx=Tc(),[tGe,Of]=Fae(t3),$ae=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,o=Rx(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=ba({prop:r,defaultProp:i??!1,onChange:s,caller:t3});return l.jsx(ex,{...o,children:l.jsx(tGe,{scope:t,contentId:Li(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:a,children:n})})};$ae.displayName=t3;var zae="PopoverAnchor",nGe=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Of(zae,n),s=Rx(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return y.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(mg,{...s,...r,ref:t})});nGe.displayName=zae;var Bae="PopoverTrigger",Uae=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Of(Bae,n),s=Rx(n),a=Nn(t,i.triggerRef),o=l.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gae(i.open),...r,ref:a,onClick:gt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(mg,{asChild:!0,...s,children:o})});Uae.displayName=Bae;var vR="PopoverPortal",[rGe,iGe]=Fae(vR,{forceMount:void 0}),Hae=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=Of(vR,t);return l.jsx(rGe,{scope:t,forceMount:n,children:l.jsx(ms,{present:n||s.open,children:l.jsx(T0,{asChild:!0,container:i,children:r})})})};Hae.displayName=vR;var Dp="PopoverContent",Vae=y.forwardRef((e,t)=>{const n=iGe(Dp,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=Of(Dp,e.__scopePopover);return l.jsx(ms,{present:r||s.open,children:s.modal?l.jsx(aGe,{...i,ref:t}):l.jsx(oGe,{...i,ref:t})})});Vae.displayName=Dp;var sGe=mf("PopoverContent.RemoveScroll"),aGe=y.forwardRef((e,t)=>{const n=Of(Dp,e.__scopePopover),r=y.useRef(null),i=Nn(t,r),s=y.useRef(!1);return y.useEffect(()=>{const a=r.current;if(a)return nk(a)},[]),l.jsx(ax,{as:sGe,allowPinchZoom:!0,children:l.jsx(qae,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:gt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),oGe=y.forwardRef((e,t)=>{const n=Of(Dp,e.__scopePopover),r=y.useRef(!1),i=y.useRef(!1);return l.jsx(qae,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),qae=y.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Of(Dp,n),p=Rx(n);return ek(),l.jsx(ix,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(N0,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(tx,{"data-state":Gae(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Wae="PopoverClose",lGe=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Of(Wae,n);return l.jsx(Lt.button,{type:"button",...r,ref:t,onClick:gt(e.onClick,()=>i.onOpenChange(!1))})});lGe.displayName=Wae;var cGe="PopoverArrow",uGe=y.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Rx(n);return l.jsx(nx,{...i,...r,ref:t})});uGe.displayName=cGe;function Gae(e){return e?"open":"closed"}var dGe=$ae,fGe=Uae,hGe=Hae,mGe=Vae;function Kae({...e}){return l.jsx(dGe,{"data-slot":"popover",...e})}function Yae({...e}){return l.jsx(fGe,{"data-slot":"popover-trigger",...e})}function Xae({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(hGe,{children:l.jsx(mGe,{"data-slot":"popover-content",align:t,sideOffset:n,className:we("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const pGe=sg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function gGe({className:e,variant:t,...n}){return l.jsx("div",{"data-slot":"alert",role:"alert",className:we(pGe({variant:t}),e),...n})}function vGe({className:e,...t}){return l.jsx("div",{"data-slot":"alert-description",className:we("col-start-2 text-muted-foreground grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Lp({variant:e="info",children:t,className:n,iconSize:r="size-4",title:i}){const s={info:PS,warning:uY,error:Nf,success:Gy}[e],a={info:"bg-blue-50 border-blue-200 text-blue-900",warning:"bg-amber-50 border-amber-200 text-amber-900",error:"bg-red-50 border-red-200 text-red-900",success:"bg-green-50 border-green-200 text-green-900"}[e],o={info:"text-blue-600",warning:"text-amber-600",error:"text-red-600",success:"text-green-600"}[e];return l.jsxs(gGe,{className:we("w-full flex items-start gap-2 border-1",a,n),children:[l.jsx(s,{className:we(r,o)}),l.jsxs(vGe,{className:"flex-1",children:[i&&l.jsx("p",{className:"font-semibold mb-1",children:i}),t]})]})}var yGe="Label",Qae=y.forwardRef((e,t)=>l.jsx(Lt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Qae.displayName=yGe;var xGe=Qae;function Jn({className:e,...t}){return l.jsx(xGe,{"data-slot":"label",className:we("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}var yR=(e=>(e.PENDING="pending",e.ACCEPTED="accepted",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(yR||{}),xR=(e=>(e.ADMIN="admin",e.USER="user",e))(xR||{}),dr=(e=>(e.INVALID_EMAIL="INVALID_EMAIL",e.DUPLICATE_PENDING="DUPLICATE_PENDING",e.USER_ALREADY_EXISTS="USER_ALREADY_EXISTS",e.BATCH_SIZE_EXCEEDED="BATCH_SIZE_EXCEEDED",e.TENANT_LIMIT_EXCEEDED="TENANT_LIMIT_EXCEEDED",e.INVALID_TOKEN="INVALID_TOKEN",e.INVITATION_EXPIRED="INVITATION_EXPIRED",e.INVITATION_ALREADY_ACCEPTED="INVITATION_ALREADY_ACCEPTED",e.INVITATION_CANCELLED="INVITATION_CANCELLED",e.PASSWORD_TOO_WEAK="PASSWORD_TOO_WEAK",e.PASSWORD_REQUIRED="PASSWORD_REQUIRED",e.FIRST_NAME_REQUIRED="FIRST_NAME_REQUIRED",e.LAST_NAME_REQUIRED="LAST_NAME_REQUIRED",e.UNAUTHORIZED="UNAUTHORIZED",e.FORBIDDEN="FORBIDDEN",e.SERVER_ERROR="SERVER_ERROR",e))(dr||{});const jo={all:["invitations"],lists:()=>[...jo.all,"list"],list:e=>[...jo.lists(),e],verify:e=>[...jo.all,"verify",e],stats:()=>[...jo.all,"stats"]},Zae="";async function n3(e,t={}){if(ic.authenticated&&ic.token)try{await ic.updateToken(5)}catch(r){console.error("Failed to refresh Keycloak token, logging out.",r),ic.logout()}const n=await fetch(`${Zae}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>({error:dr.SERVER_ERROR,message:`HTTP ${n.status}: ${n.statusText}`}));throw n.status===401&&console.error("API request returned 401. Session may have expired."),r}return n.status===204?{}:n.json()}async function Jae(e,t={}){const n=await fetch(`${Zae}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!n.ok)throw await n.json().catch(()=>({error:dr.SERVER_ERROR,message:`HTTP ${n.status}: ${n.statusText}`}));return n.status===204?{}:n.json()}function bGe(){const e=ir();return Lr({mutationFn:async t=>n3("/api/invitations/send",{method:"POST",body:JSON.stringify(t)}),onSuccess:()=>{e.invalidateQueries({queryKey:jo.lists()}),e.invalidateQueries({queryKey:jo.stats()})},meta:{errorMessage:"Failed to send invitations"}})}function wGe(e,t=!0){return Uu({queryKey:jo.verify(e),queryFn:async()=>Jae(`/api/invitations/verify/${e}`),enabled:t&&!!e,retry:!1,staleTime:0,meta:{errorMessage:"Failed to verify invitation"}})}function EGe(){return Lr({mutationFn:async e=>Jae("/api/invitations/accept",{method:"POST",body:JSON.stringify(e)}),meta:{errorMessage:"Failed to accept invitation"}})}function eoe(e={}){return Uu({queryKey:jo.list(e),queryFn:async()=>{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.role&&t.append("role",e.role),e.limit&&t.append("limit",e.limit.toString()),e.offset&&t.append("offset",e.offset.toString());const n=t.toString(),r=`/api/invitations${n?`?${n}`:""}`;return n3(r)},staleTime:3e4,meta:{errorMessage:"Failed to fetch invitations"}})}function SGe(){const e=ir();return Lr({mutationFn:async t=>n3(`/api/invitations/${t.invitationId}/cancel`,{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:jo.lists()}),e.invalidateQueries({queryKey:jo.stats()})},meta:{errorMessage:"Failed to cancel invitation"}})}function kGe(){const e=ir();return Lr({mutationFn:async t=>n3("/api/invitations/send",{method:"POST",body:JSON.stringify(t)}),onSuccess:()=>{e.invalidateQueries({queryKey:jo.lists()}),e.invalidateQueries({queryKey:jo.stats()})},meta:{errorMessage:"Failed to resend invitation"}})}function _Ge(e,t){return mt.success({title:e,description:t==null?void 0:t.description,action:t==null?void 0:t.action})}function CGe(e,t){return mt.error({title:e,description:t==null?void 0:t.description,action:t==null?void 0:t.action})}function NGe(e,t){return mt.warning({title:e,description:t==null?void 0:t.description,action:t==null?void 0:t.action})}function TGe(e,t){return mt.info({title:e,description:t==null?void 0:t.description,action:t==null?void 0:t.action})}const Oi={success:_Ge,error:CGe,warning:NGe,info:TGe};function AGe(e){if(!e.trim())return{valid:!1,emails:[],error:"Please enter at least one email address"};const t=e.split(",").map(i=>i.trim()).filter(i=>i.length>0);if(t.length===0)return{valid:!1,emails:[],error:"Please enter at least one email address"};if(t.length>50)return{valid:!1,emails:t,error:"Maximum 50 email addresses allowed per batch"};const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,r=t.filter(i=>!n.test(i));return r.length>0?{valid:!1,emails:t,error:`Invalid email format: ${r.join(", ")}`}:{valid:!0,emails:t}}function jGe(e){switch(e.error){case dr.INVALID_EMAIL:return"One or more email addresses are invalid";case dr.DUPLICATE_PENDING:return"Some users already have pending invitations";case dr.USER_ALREADY_EXISTS:return"Some users already have accounts";case dr.BATCH_SIZE_EXCEEDED:return"Maximum 50 email addresses allowed per batch";case dr.TENANT_LIMIT_EXCEEDED:return"Your organization has reached the maximum number of users";case dr.UNAUTHORIZED:return"You don't have permission to send invitations";case dr.FORBIDDEN:return"You don't have permission to send invitations";case dr.SERVER_ERROR:return"Server error occurred. Please try again later";default:return e.message||"Failed to send invitations"}}function PGe({open:e,onOpenChange:t}){const[n,r]=y.useState(""),{mutate:i,isPending:s,reset:a}=bGe();y.useEffect(()=>{e||setTimeout(()=>{r(""),a()},300)},[e,a]);const o=AGe(n),c=()=>{if(!o.valid){Oi.error("Invalid email addresses",{description:o.error});return}i({emails:o.emails,role:xR.USER},{onSuccess:u=>{const d=u.invitations.length;Oi.success(`${d} invitation${d>1?"s":""} sent successfully`,{description:"Users will receive an email with instructions to create their account."}),r(""),t(!1)},onError:u=>{Oi.error("Failed to send invitations",{description:jGe(u)}),console.error("Failed to send invitations:",u)}})};return l.jsx(Ag,{open:e,onOpenChange:t,children:l.jsxs(L0,{className:"sm:max-w-[600px]",children:[l.jsxs(Sx,{children:[l.jsx(kx,{children:"Invite Users"}),l.jsx(_x,{children:"Add email addresses to invite new users to your workspace."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs(Lp,{variant:"info",children:[l.jsxs("p",{className:"text-accent-foreground",children:["All new users will be assigned the"," ",l.jsx("span",{className:"font-semibold inline",children:"User"})," role by default."]}),l.jsx("p",{children:"To grant admin access, update their role later in Settings  Users."})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(Jn,{htmlFor:"emails",children:"Email addresses"}),l.jsx(ll,{id:"emails",placeholder:"Enter email addresses separated by commas (e.g., user1@example.com, user2@example.com)",value:n,onChange:u=>r(u.target.value),className:"min-h-[100px]",disabled:s}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Separate multiple email addresses with commas (max 50)"})]})]}),l.jsxs(lie,{children:[l.jsx(ve,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),l.jsxs(ve,{onClick:c,disabled:!o.valid||s,children:[s&&l.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Sending...":"Invite Users"]})]})]})})}function bR({children:e="Invite users",icon:t,...n}){const[r,i]=y.useState(!1),{canManageInvitations:s}=qu();return s()?l.jsxs(l.Fragment,{children:[l.jsxs(ve,{onClick:()=>i(!0),...n,children:[t!==void 0?t:l.jsx(Ts,{className:"h-4 w-4"}),e]}),l.jsx(PGe,{open:r,onOpenChange:i})]}):null}function IGe({open:e,onOpenChange:t}){var a;const{data:n}=Xy(),{isOwnerOrAdmin:r}=qu(),i=((a=n==null?void 0:n.user)==null?void 0:a.firstName)||"there",s=r();return l.jsx(Ag,{open:e,onOpenChange:t,children:l.jsx(L0,{className:"max-w-[calc(100vw-2rem)] sm:max-w-2xl lg:max-w-6xl p-4 sm:p-6 md:p-11",children:l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-[90px] items-stretch w-full",children:[l.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 items-start w-full lg:max-w-md",children:[l.jsxs("div",{className:"flex flex-col gap-2 items-start w-full",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-normal leading-tight text-foreground",children:["Welcome to RITA Go, ",i]}),l.jsx("p",{className:"text-base sm:text-lg font-light leading-relaxed text-foreground",children:"Enjoy your free 90-day trial of Resolve's AI-powered agent for faster, smarter IT support."})]}),l.jsxs("div",{className:"flex flex-col gap-4 items-start w-full",children:[s?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-base font-light leading-6 text-foreground",children:"RITA Go learns from your company's knowledge and tickets (coming soon) to help resolve IT issues automatically."}),l.jsx("p",{className:"text-base font-light leading-6 text-foreground",children:"In a few steps, you'll:"}),l.jsxs("ul",{className:"list-disc space-y-3 w-full pl-5",children:[l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"Connect your knowledge sources like Confluence, ServiceNow, or SharePoint."}),l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"Invite your teammates to start getting instant answers."}),l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"And coming soon  connect your ITSM for historical ticket data to enrich your workspace and help users resolve issues even faster."})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-lg font-normal leading-7 text-foreground",children:"Your Admin has connected your workspace."}),l.jsx("p",{className:"text-base font-light leading-6 text-foreground",children:"RITA Go helps you solve IT issues instantly  from password resets to VPN access  all based on your company's trusted content. Just ask a question or describe the issue, and RITA Go will:"}),l.jsxs("ul",{className:"list-disc space-y-3 w-full pl-5",children:[l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"Search verified knowledge"}),l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"Get easy next steps or fixes to issues, fast"}),l.jsx("li",{className:"text-base font-light leading-6 text-foreground",children:"Create a ticket if you still need help without overhead"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-start pt-2 w-full",children:[l.jsx(ve,{onClick:()=>t(!1),className:"w-full sm:w-auto",children:"Get Started"}),l.jsxs(ve,{variant:"link",className:"gap-2 w-full sm:w-auto justify-center sm:justify-start",onClick:()=>{window.open("https://help.resolve.io/rita-go/","_blank","noopener,noreferrer")},children:["Learn how RITA Go works",l.jsx(YK,{className:"w-4 h-4"})]})]})]})]}),l.jsx("div",{className:"hidden lg:flex flex-col gap-2 items-center justify-center w-full lg:max-w-lg",children:l.jsx("img",{src:"/images/welcome-modal-mockup.png",alt:"RITA Go chat interface showing password reset conversation",className:"w-full h-full rounded-2xl object-cover"})})]})})})}const toe=()=>{const e=di(),{conversationId:t}=cg(),{currentConversationId:n,clearCurrentConversation:r,setCurrentConversation:i}=Is();return y.useEffect(()=>{t&&t!==n?i(t):!t&&n&&i(null)},[t,n,i]),{currentConversationId:t||n,handleNewChat:()=>{r(),e("/chat")},handleConversationClick:o=>{e(`/chat/${o}`)}}},noe=y.memo(()=>l.jsx("div",{className:"w-[179px] h-[18px] bg-no-repeat bg-center bg-contain",style:{backgroundImage:"url('/logo-rita.svg')"},role:"img","aria-label":"RITA Logo"}));noe.displayName="RitaLogo";function RGe({children:e,activePage:t="chat"}){var ne,re,Q;const{state:n}=Ix(),[r,i]=y.useState(!1),[s,a]=y.useState(!1),o=di(),c=Ea(),u=pf("SHOW_WELCOME_MODAL"),d=pf("ENABLE_MULTI_FILE_UPLOAD"),{user:f,logout:h}=DS(),{data:p}=Xy(),{isOwnerOrAdmin:v}=qu(),{data:x,isLoading:b}=lae(),{data:w}=qS(),{handleNewChat:E,handleConversationClick:k,currentConversationId:_}=toe(),{files:A,totalFiles:T,openDocumentSelector:C,documentInputRef:I,handleDocumentUpload:B,uploadingFiles:$}=dR(),L=x||[],U=(w==null?void 0:w.filter(te=>te.last_sync_status==="completed"&&te.enabled))||[];A.some(te=>te.status==="processed"||te.status==="uploaded");const Y=A.some(te=>te.status==="processing"),V=(w==null?void 0:w.some(te=>te.status==="syncing"))??!1,K=Y||V,[W,J]=y.useState("hidden"),q=y.useRef(K);y.useEffect(()=>{if(K)J("loading");else if(q.current&&!K){J("success");const te=setTimeout(()=>J("hidden"),3e3);return()=>clearTimeout(te)}q.current=K},[K]);const G=y.useCallback(()=>{var ae;const te=(ae=p==null?void 0:p.user)==null?void 0:ae.id;if(!te)return!1;const ie=`rita_welcome_seen_${te}`,fe=localStorage.getItem(ie)==="true",he=document.cookie.includes(`${ie}=true`);return fe||he},[(ne=p==null?void 0:p.user)==null?void 0:ne.id]),j=y.useCallback(()=>{var he;const te=(he=p==null?void 0:p.user)==null?void 0:he.id;if(!te)return;const ie=`rita_welcome_seen_${te}`;localStorage.setItem(ie,"true");const fe=new Date;fe.setFullYear(fe.getFullYear()+1),document.cookie=`${ie}=true; expires=${fe.toUTCString()}; path=/; SameSite=Lax`},[(re=p==null?void 0:p.user)==null?void 0:re.id]);y.useEffect(()=>{if(u){a(!0);return}G()||(a(!0),j())},[u,G,j,(Q=p==null?void 0:p.user)==null?void 0:Q.id]);const M=te=>{a(te)},z=async()=>{try{h()}catch(te){console.error("Failed to sign out:",te)}},O=()=>{o("/content")},X=()=>{const te=(f==null?void 0:f.firstName)||"",ie=(f==null?void 0:f.lastName)||"";return te&&ie?`${te[0]}${ie[0]}`.toUpperCase():te?te.substring(0,2).toUpperCase():"U"};return l.jsxs(l.Fragment,{children:[l.jsxs(hR,{className:"bg-sidebar-primary-foreground border-sidebar-border w-[256px] lg:flex-shrink-0",children:[l.jsx(mR,{className:"h-[67px] flex items-left justify-start pl-2",children:l.jsx("div",{className:"flex items-center h-full pl-2",children:l.jsx(noe,{})})}),l.jsxs(pR,{className:"gap-2",children:[v()&&l.jsx(by,{children:l.jsxs(ap,{className:"gap-1",children:[l.jsx(ml,{children:l.jsxs(pl,{className:"flex items-center gap-2 px-2 py-2 h-8 rounded-md",onClick:()=>o("/chat"),isActive:c.pathname==="/chat"||c.pathname.startsWith("/chat/"),children:[l.jsx(Uj,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"Home"})]})}),l.jsx(ml,{children:l.jsxs(pl,{className:"flex items-center gap-2 px-2 py-2 h-8 rounded-md",onClick:O,isActive:c.pathname==="/content",children:[l.jsx(ZK,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"Knowledge Articles"}),T>0&&l.jsx("div",{className:"ml-auto flex items-center justify-center px-1 h-5 bg-sidebar-accent rounded text-xs text-sidebar-foreground",children:T})]})}),l.jsx(ml,{children:l.jsxs(pl,{className:"flex items-center gap-2 px-2 py-2 h-8 rounded-md",onClick:()=>o("/tickets"),isActive:c.pathname==="/tickets",children:[l.jsx(Gve,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"Tickets"})]})}),l.jsx(ml,{children:l.jsxs(pl,{className:"flex items-center gap-2 px-2 py-2 h-8 rounded-md",onClick:()=>o("/agents"),isActive:c.pathname.startsWith("/agents"),children:[l.jsx(_o,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"Agents"})]})}),!1]})}),l.jsx("div",{className:"px-2",children:l.jsx(ml,{children:l.jsxs(ve,{className:"w-full gap-2 px-4 py-2 h-9 rounded-md bg-primary text-primary-foreground",onClick:E,children:[l.jsx(xL,{className:"w-4 h-4"}),"New Chat"]})})}),l.jsxs(by,{children:[l.jsx(gR,{className:"px-2 h-8 rounded-md text-xs text-sidebar-foreground",children:"Recent chats"}),l.jsx(ap,{className:"gap-1",children:b?l.jsx("div",{className:"px-2 text-xs text-muted-foreground",children:"Loading..."}):L.length===0?l.jsx("div",{className:"px-2 text-xs text-muted-foreground",children:"No conversations yet"}):L.map(te=>l.jsx(QWe,{conversation:te,isActive:te.id===_,onClick:k},te.id))})]})]}),l.jsx(vae,{className:"p-2 border-t border-sidebar-border",children:l.jsxs(Kae,{children:[l.jsx(Yae,{asChild:!0,children:l.jsxs(pl,{className:"flex items-center gap-2 px-2 py-2 h-12 rounded-md hover:bg-sidebar-accent",children:[l.jsx(Yv,{className:"w-8 h-8 rounded-lg",children:l.jsx(Xv,{className:"rounded-lg bg-sidebar-primary text-sidebar-primary-foreground",children:X()})}),l.jsxs("div",{className:"flex flex-col gap-0.5 overflow-hidden",children:[l.jsx("span",{className:"text-sm font-bold text-sidebar-foreground truncate",children:f!=null&&f.firstName&&(f!=null&&f.lastName)?`${f.firstName} ${f.lastName}`:(f==null?void 0:f.username)||"User"}),l.jsx("span",{className:"text-xs text-sidebar-foreground truncate",children:(f==null?void 0:f.email)||""})]}),l.jsx(ri,{className:"w-4 h-4 ml-auto"})]})}),l.jsx(Xae,{className:"w-64 p-0",side:"top",align:"start",sideOffset:8,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"px-3 py-3 border-b border-gray-200",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:(f==null?void 0:f.email)||""}),l.jsx("div",{className:"flex items-center justify-between mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded bg-sidebar-primary flex items-center justify-center",children:l.jsx(vge,{className:"w-3 h-3 text-sidebar-primary-foreground"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-foreground",children:"RITA"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Free plan"})]})]})})]}),l.jsxs("div",{className:"py-1",children:[v()?l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-accent cursor-pointer",onClick:()=>o("/settings"),children:"Settings"}):l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-accent cursor-pointer flex items-center gap-2",onClick:()=>o("/settings/profile"),children:"Profile"}),l.jsx("a",{href:"https://help.resolve.io/rita-go/",target:"_blank",rel:"noopener noreferrer",className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-accent cursor-pointer block",children:"Help documentation"}),l.jsx(Mu,{className:"my-1"}),l.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm text-foreground hover:bg-accent flex items-center gap-2 cursor-pointer",onClick:z,children:[l.jsx(H1e,{className:"w-4 h-4"}),"Log out"]})]})]})})]})})]}),l.jsxs("div",{className:"fixed inset-y-0 right-0 left-0 z-0 flex flex-col overflow-hidden",children:[l.jsxs("header",{className:`h-[67px] bg-background flex items-center flex-shrink-0 pr-6 border-b border-gray-200 transition-[padding] duration-200 ease-linear ${n==="expanded"?"lg:pl-[250px]":"lg:pl-0"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 h-full pl-4",children:[l.jsx(gae,{className:"lg:flex"}),l.jsx(Oae,{children:l.jsx(Dae,{children:l.jsx(Lae,{children:l.jsx("span",{className:"text-sm text-foreground leading-none",children:"RITA Go"})})})}),(W==="loading"||W==="success")&&l.jsx("div",{className:we("flex items-center gap-2 ml-2 text-sm transition-colors",W==="success"?"text-green-700 bg-green-50 px-2 py-1 rounded-md":"text-muted-foreground"),children:W==="loading"?l.jsxs(l.Fragment,{children:[l.jsx(R4,{size:16}),l.jsx("span",{children:"We are loading knowledge..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(GK,{size:16}),l.jsx("span",{children:"Knowledge successfully added"})]})}),n==="collapsed"&&l.jsxs(ve,{variant:"ghost",className:"gap-2 h-9 px-3 text-sm text-primary hover:text-primary hover:bg-primary/10",onClick:E,children:[l.jsx(xL,{className:"w-4 h-4"}),"New Chat"]})]}),l.jsx("div",{className:"ml-auto flex items-center gap-2",children:t==="chat"&&v()&&T>0&&l.jsxs(l.Fragment,{children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"ghost",className:"gap-2 h-9 px-3 text-sm",children:[l.jsx(Ts,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Add Articles"})]})}),l.jsxs(ni,{align:"end",children:[l.jsxs(Jt,{onClick:C,children:[l.jsx(w0,{className:"h-4 w-4 mr-2"}),"Upload file"]}),l.jsxs(Jt,{onClick:()=>o("/settings/connections"),children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Connect sources",l.jsxs("div",{className:"ml-auto flex gap-1 pl-8",children:[l.jsx("img",{src:"/connections/icon_confluence.svg",alt:"",className:"h-4 w-4"}),l.jsx("img",{src:"/connections/icon_sharepoint.svg",alt:"",className:"h-4 w-4"}),l.jsx("img",{src:"/connections/icon_servicenow.svg",alt:"",className:"h-4 w-4"})]})]}),U.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(IP,{}),U.map(te=>{var ie;return l.jsxs(Jt,{onClick:()=>o(`/settings/connections/${te.id}`),children:[l.jsx("img",{src:`/connections/icon_${te.type}.svg`,alt:"",className:"h-4 w-4 mr-2"}),((ie=l0[te.type])==null?void 0:ie.title)||te.type]},te.id)})]})]})]}),l.jsx(bR,{variant:"secondary",icon:l.jsx(nY,{className:"w-4 h-4"}),children:"Invite Users"})]})})]}),l.jsx("div",{className:`flex flex-1 overflow-hidden min-w-0 transition-[padding] duration-200 ease-linear ${n==="expanded"?"lg:pl-[250px]":"lg:pl-0"}`,children:l.jsx("main",{className:"flex-1 flex flex-col overflow-y-auto min-w-0 w-full",children:e})})]}),l.jsx("input",{ref:I,type:"file",className:"hidden",onChange:B,accept:Pv,multiple:d,disabled:$.size>0}),l.jsx(fWe,{open:r,onOpenChange:i,onNavigateToSettings:()=>o("/settings")}),l.jsx(IGe,{open:s,onOpenChange:M})]})}function F0(e){return l.jsx(fR,{className:"w-screen",children:l.jsx(RGe,{...e})})}const MGe=e=>{const[t,n]=y.useState(""),r=di(),s=Ea().pathname.startsWith("/iframe/"),{currentConversationId:a,messages:o,isSending:c,isLoadingMore:u}=Is(),d=Wqe(),f=Gqe();y.useEffect(()=>{var x;(x=e.current)==null||x.scrollIntoView({behavior:"smooth"})},[o,e]);const h=async()=>{if(!t.trim()||c)return;const x=t,b=`msg_${Date.now()}`;n("");try{let w=a;w||(w=(await d.mutateAsync({title:x.substring(0,50)+(x.length>50?"...":"")})).id,r(`${s?"/iframe/chat":"/chat"}/${w}`)),await f.mutateAsync({conversationId:w,content:x,tempId:b})}catch(w){console.error("Failed to send message:",w)}};return{messages:o,loading:u,isSending:c,messageValue:t,handleSendMessage:h,handleMessageChange:x=>{n(x)},handleKeyPress:x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),h())}}},OGe=()=>{const{conversations:e,currentConversationId:t}=Is(),{data:n,isLoading:r}=lae();return{conversations:n||e,currentConversationId:t,loading:r}},DGe=e=>{const t=VS(),n=i=>{var s;if(i.preventDefault(),(s=i.target.files)!=null&&s[0]){const a=i.target.files[0];t.mutate(a)}},r=()=>{var i;(i=e.current)==null||i.click()};return{isUploading:t.isPending,isError:t.isError,isSuccess:t.isSuccess,error:t.error,handleFileUpload:n,openFileSelector:r}},LGe=e=>{const[t,n]=y.useState(""),r=y.useMemo(()=>t.trim()?e.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())):e,[e,t]);return{searchValue:t,filteredConversations:r,handleSearchChange:s=>{n(s)}}},roe=()=>{const e=y.useRef(null),t=y.useRef(null),n=toe(),r=MGe(t),i=OGe(),s=DGe(e),a=LGe(i.conversations),o=dR();return{conversations:i.conversations,currentConversationId:i.currentConversationId,conversationsLoading:i.loading,filteredConversations:a.filteredConversations,messages:r.messages,messagesLoading:r.loading,isSending:r.isSending,searchValue:a.searchValue,messageValue:r.messageValue,handleNewChat:n.handleNewChat,handleConversationClick:n.handleConversationClick,handleSendMessage:r.handleSendMessage,handleMessageChange:r.handleMessageChange,handleKeyPress:r.handleKeyPress,handleSearchChange:a.handleSearchChange,handleFileUpload:s.handleFileUpload,openFileSelector:s.openFileSelector,uploadStatus:{isUploading:s.isUploading,isError:s.isError,isSuccess:s.isSuccess,error:s.error},handleDocumentUpload:o.handleDocumentUpload,openDocumentSelector:o.openDocumentSelector,navigateToKnowledgeArticles:o.navigateToKnowledgeArticles,navigateToFiles:o.navigateToFiles,documentUploadStatus:{isUploading:o.isUploading,isError:o.isError,isSuccess:o.isSuccess,error:o.error},knowledgeBaseFiles:o.files,knowledgeBaseFilesLoading:o.filesLoading,totalKnowledgeBaseFiles:o.totalFiles,fileInputRef:e,documentInputRef:o.documentInputRef,messagesEndRef:t}};function FGe(){const{conversationId:e}=cg(),{latestUpdate:t}=pX(),{updateMessage:n,setCurrentConversation:r}=Is(),i=roe();return y.useEffect(()=>{e&&e!==i.currentConversationId?r(e):!e&&i.currentConversationId&&r(null)},[e,i.currentConversationId,r]),y.useEffect(()=>{t&&n(t.messageId,{status:t.status,error_message:t.errorMessage})},[t,n]),l.jsx(F0,{activePage:"chat",children:l.jsx(fae,{...i})})}const ioe=y.createContext(null);function $Ge({source:e,children:t}){return l.jsx(ioe.Provider,{value:{source:e},children:t})}function Yu(){const e=y.useContext(ioe);if(!e)throw new Error("useConnectionSource must be used within a ConnectionSourceProvider");return e}function soe(e){return e?Array.isArray(e)?e.filter(Boolean):typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):[]:[]}function zGe(e){return soe(e==null?void 0:e.spaces)}function BGe(e){return soe(e==null?void 0:e.spaces)}var sH=1,UGe=.9,HGe=.8,VGe=.17,MT=.1,OT=.999,qGe=.9999,WGe=.99,GGe=/[\\\/_+.#"@\[\(\{&]/,KGe=/[\\\/_+.#"@\[\(\{&]/g,YGe=/[\s-]/,aoe=/[\s-]/g;function w8(e,t,n,r,i,s,a){if(s===t.length)return i===e.length?sH:WGe;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var c=r.charAt(s),u=n.indexOf(c,i),d=0,f,h,p,v;u>=0;)f=w8(e,t,n,r,u+1,s+1,a),f>d&&(u===i?f*=sH:GGe.test(e.charAt(u-1))?(f*=HGe,p=e.slice(i,u-1).match(KGe),p&&i>0&&(f*=Math.pow(OT,p.length))):YGe.test(e.charAt(u-1))?(f*=UGe,v=e.slice(i,u-1).match(aoe),v&&i>0&&(f*=Math.pow(OT,v.length))):(f*=VGe,i>0&&(f*=Math.pow(OT,u-i))),e.charAt(u)!==t.charAt(s)&&(f*=qGe)),(f<MT&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(h=w8(e,t,n,r,u+1,s+2,a),h*MT>f&&(f=h*MT)),f>d&&(d=f),u=n.indexOf(c,u+1);return a[o]=d,d}function aH(e){return e.toLowerCase().replace(aoe," ")}function XGe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,w8(e,t,aH(e),aH(t),0,0,{})}var M1='[cmdk-group=""]',DT='[cmdk-group-items=""]',QGe='[cmdk-group-heading=""]',ooe='[cmdk-item=""]',oH=`${ooe}:not([aria-disabled="true"])`,E8="cmdk-item-select",Im="data-value",ZGe=(e,t,n)=>XGe(e,t,n),loe=y.createContext(void 0),Mx=()=>y.useContext(loe),coe=y.createContext(void 0),wR=()=>y.useContext(coe),uoe=y.createContext(void 0),doe=y.forwardRef((e,t)=>{let n=Rm(()=>{var z,O;return{search:"",value:(O=(z=e.value)!=null?z:e.defaultValue)!=null?O:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Rm(()=>new Set),i=Rm(()=>new Map),s=Rm(()=>new Map),a=Rm(()=>new Set),o=foe(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:v,disablePointerSelection:x=!1,vimBindings:b=!0,...w}=e,E=Li(),k=Li(),_=Li(),A=y.useRef(null),T=cKe();c0(()=>{if(d!==void 0){let z=d.trim();n.current.value=z,C.emit()}},[d]),c0(()=>{T(6,Y)},[]);let C=y.useMemo(()=>({subscribe:z=>(a.current.add(z),()=>a.current.delete(z)),snapshot:()=>n.current,setState:(z,O,X)=>{var ne,re,Q,te;if(!Object.is(n.current[z],O)){if(n.current[z]=O,z==="search")U(),$(),T(1,L);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(_);ie?ie.focus():(ne=document.getElementById(E))==null||ne.focus()}if(T(7,()=>{var ie;n.current.selectedItemId=(ie=V())==null?void 0:ie.id,C.emit()}),X||T(5,Y),((re=o.current)==null?void 0:re.value)!==void 0){let ie=O??"";(te=(Q=o.current).onValueChange)==null||te.call(Q,ie);return}}C.emit()}},emit:()=>{a.current.forEach(z=>z())}}),[]),I=y.useMemo(()=>({value:(z,O,X)=>{var ne;O!==((ne=s.current.get(z))==null?void 0:ne.value)&&(s.current.set(z,{value:O,keywords:X}),n.current.filtered.items.set(z,B(O,X)),T(2,()=>{$(),C.emit()}))},item:(z,O)=>(r.current.add(z),O&&(i.current.has(O)?i.current.get(O).add(z):i.current.set(O,new Set([z]))),T(3,()=>{U(),$(),n.current.value||L(),C.emit()}),()=>{s.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let X=V();T(4,()=>{U(),(X==null?void 0:X.getAttribute("id"))===z&&L(),C.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{s.current.delete(z),i.current.delete(z)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:E,inputId:_,labelId:k,listInnerRef:A}),[]);function B(z,O){var X,ne;let re=(ne=(X=o.current)==null?void 0:X.filter)!=null?ne:ZGe;return z?re(z,n.current.search,O):0}function $(){if(!n.current.search||o.current.shouldFilter===!1)return;let z=n.current.filtered.items,O=[];n.current.filtered.groups.forEach(ne=>{let re=i.current.get(ne),Q=0;re.forEach(te=>{let ie=z.get(te);Q=Math.max(ie,Q)}),O.push([ne,Q])});let X=A.current;K().sort((ne,re)=>{var Q,te;let ie=ne.getAttribute("id"),fe=re.getAttribute("id");return((Q=z.get(fe))!=null?Q:0)-((te=z.get(ie))!=null?te:0)}).forEach(ne=>{let re=ne.closest(DT);re?re.appendChild(ne.parentElement===re?ne:ne.closest(`${DT} > *`)):X.appendChild(ne.parentElement===X?ne:ne.closest(`${DT} > *`))}),O.sort((ne,re)=>re[1]-ne[1]).forEach(ne=>{var re;let Q=(re=A.current)==null?void 0:re.querySelector(`${M1}[${Im}="${encodeURIComponent(ne[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function L(){let z=K().find(X=>X.getAttribute("aria-disabled")!=="true"),O=z==null?void 0:z.getAttribute(Im);C.setState("value",O||void 0)}function U(){var z,O,X,ne;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let re=0;for(let Q of r.current){let te=(O=(z=s.current.get(Q))==null?void 0:z.value)!=null?O:"",ie=(ne=(X=s.current.get(Q))==null?void 0:X.keywords)!=null?ne:[],fe=B(te,ie);n.current.filtered.items.set(Q,fe),fe>0&&re++}for(let[Q,te]of i.current)for(let ie of te)if(n.current.filtered.items.get(ie)>0){n.current.filtered.groups.add(Q);break}n.current.filtered.count=re}function Y(){var z,O,X;let ne=V();ne&&(((z=ne.parentElement)==null?void 0:z.firstChild)===ne&&((X=(O=ne.closest(M1))==null?void 0:O.querySelector(QGe))==null||X.scrollIntoView({block:"nearest"})),ne.scrollIntoView({block:"nearest"}))}function V(){var z;return(z=A.current)==null?void 0:z.querySelector(`${ooe}[aria-selected="true"]`)}function K(){var z;return Array.from(((z=A.current)==null?void 0:z.querySelectorAll(oH))||[])}function W(z){let O=K()[z];O&&C.setState("value",O.getAttribute(Im))}function J(z){var O;let X=V(),ne=K(),re=ne.findIndex(te=>te===X),Q=ne[re+z];(O=o.current)!=null&&O.loop&&(Q=re+z<0?ne[ne.length-1]:re+z===ne.length?ne[0]:ne[re+z]),Q&&C.setState("value",Q.getAttribute(Im))}function q(z){let O=V(),X=O==null?void 0:O.closest(M1),ne;for(;X&&!ne;)X=z>0?oKe(X,M1):lKe(X,M1),ne=X==null?void 0:X.querySelector(oH);ne?C.setState("value",ne.getAttribute(Im)):J(z)}let G=()=>W(K().length-1),j=z=>{z.preventDefault(),z.metaKey?G():z.altKey?q(1):J(1)},M=z=>{z.preventDefault(),z.metaKey?W(0):z.altKey?q(-1):J(-1)};return y.createElement(Lt.div,{ref:t,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:z=>{var O;(O=w.onKeyDown)==null||O.call(w,z);let X=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||X))switch(z.key){case"n":case"j":{b&&z.ctrlKey&&j(z);break}case"ArrowDown":{j(z);break}case"p":case"k":{b&&z.ctrlKey&&M(z);break}case"ArrowUp":{M(z);break}case"Home":{z.preventDefault(),W(0);break}case"End":{z.preventDefault(),G();break}case"Enter":{z.preventDefault();let ne=V();if(ne){let re=new Event(E8);ne.dispatchEvent(re)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:dKe},c),r3(e,z=>y.createElement(coe.Provider,{value:C},y.createElement(loe.Provider,{value:I},z))))}),JGe=y.forwardRef((e,t)=>{var n,r;let i=Li(),s=y.useRef(null),a=y.useContext(uoe),o=Mx(),c=foe(e),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;c0(()=>{if(!u)return o.item(i,a==null?void 0:a.id)},[u]);let d=hoe(i,s,[e.value,e.children,s],e.keywords),f=wR(),h=Sf(T=>T.value&&T.value===d.current),p=Sf(T=>u||o.filter()===!1?!0:T.search?T.filtered.items.get(i)>0:!0);y.useEffect(()=>{let T=s.current;if(!(!T||e.disabled))return T.addEventListener(E8,v),()=>T.removeEventListener(E8,v)},[p,e.onSelect,e.disabled]);function v(){var T,C;x(),(C=(T=c.current).onSelect)==null||C.call(T,d.current)}function x(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:b,value:w,onSelect:E,forceMount:k,keywords:_,...A}=e;return y.createElement(Lt.div,{ref:Cu(s,t),...A,id:i,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||o.getDisablePointerSelection()?void 0:x,onClick:b?void 0:v},e.children)}),eKe=y.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...s}=e,a=Li(),o=y.useRef(null),c=y.useRef(null),u=Li(),d=Mx(),f=Sf(p=>i||d.filter()===!1?!0:p.search?p.filtered.groups.has(a):!0);c0(()=>d.group(a),[]),hoe(a,o,[e.value,e.heading,c]);let h=y.useMemo(()=>({id:a,forceMount:i}),[i]);return y.createElement(Lt.div,{ref:Cu(o,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&y.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),r3(e,p=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},y.createElement(uoe.Provider,{value:h},p))))}),tKe=y.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=y.useRef(null),s=Sf(a=>!a.search);return!n&&!s?null:y.createElement(Lt.div,{ref:Cu(i,t),...r,"cmdk-separator":"",role:"separator"})}),nKe=y.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,s=wR(),a=Sf(u=>u.search),o=Sf(u=>u.selectedItemId),c=Mx();return y.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),y.createElement(Lt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:i?e.value:a,onChange:u=>{i||s.setState("search",u.target.value),n==null||n(u.target.value)}})}),rKe=y.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,s=y.useRef(null),a=y.useRef(null),o=Sf(u=>u.selectedItemId),c=Mx();return y.useEffect(()=>{if(a.current&&s.current){let u=a.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),y.createElement(Lt.div,{ref:Cu(s,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:c.listId},r3(e,u=>y.createElement("div",{ref:Cu(a,c.listInnerRef),"cmdk-list-sizer":""},u)))}),iKe=y.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:a,...o}=e;return y.createElement(Uk,{open:n,onOpenChange:r},y.createElement(Hk,{container:a},y.createElement(Ng,{"cmdk-overlay":"",className:i}),y.createElement(Tg,{"aria-label":e.label,"cmdk-dialog":"",className:s},y.createElement(doe,{ref:t,...o}))))}),sKe=y.forwardRef((e,t)=>Sf(n=>n.filtered.count===0)?y.createElement(Lt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),aKe=y.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...s}=e;return y.createElement(Lt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},r3(e,a=>y.createElement("div",{"aria-hidden":!0},a)))}),$0=Object.assign(doe,{List:rKe,Item:JGe,Input:nKe,Group:eKe,Separator:tKe,Dialog:iKe,Empty:sKe,Loading:aKe});function oKe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function lKe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function foe(e){let t=y.useRef(e);return c0(()=>{t.current=e}),t}var c0=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Rm(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function Sf(e){let t=wR(),n=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,n,n)}function hoe(e,t,n,r=[]){let i=y.useRef(),s=Mx();return c0(()=>{var a;let o=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());s.value(e,o,c),(a=t.current)==null||a.setAttribute(Im,o),i.current=o}),i}var cKe=()=>{let[e,t]=y.useState(),n=Rm(()=>new Map);return c0(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function uKe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function r3({asChild:e,children:t},n){return e&&y.isValidElement(t)?y.cloneElement(uKe(t),{ref:t.ref},n(t.props.children)):n(t)}var dKe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function fKe({className:e,...t}){return l.jsx($0,{"data-slot":"command",className:we("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function hKe({className:e,...t}){return l.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[l.jsx($h,{className:"size-4 shrink-0 opacity-50"}),l.jsx($0.Input,{"data-slot":"command-input",className:we("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function mKe({className:e,...t}){return l.jsx($0.List,{"data-slot":"command-list",className:we("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function pKe({...e}){return l.jsx($0.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function f2({className:e,...t}){return l.jsx($0.Group,{"data-slot":"command-group",className:we("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function gKe({className:e,...t}){return l.jsx($0.Separator,{"data-slot":"command-separator",className:we("bg-border -mx-1 h-px",e),...t})}function O1({className:e,...t}){return l.jsx($0.Item,{"data-slot":"command-item",className:we("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const lH=sg("m-1 transition-all duration-300 ease-in-out",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"},badgeAnimation:{bounce:"hover:-translate-y-1 hover:scale-110",pulse:"hover:animate-pulse",wiggle:"hover:animate-wiggle",fade:"hover:opacity-80",slide:"hover:translate-x-1",none:""}},defaultVariants:{variant:"default"}}),ER=y.forwardRef(({options:e,onValueChange:t,variant:n,defaultValue:r=[],placeholder:i="Select options",animation:s=0,animationConfig:a,maxCount:o=3,modalPopover:c=!1,asChild:u=!1,className:d,hideSelectAll:f=!1,searchable:h=!0,emptyIndicator:p,autoSize:v=!1,singleLine:x=!1,popoverClassName:b,disabled:w=!1,responsive:E,minWidth:k,maxWidth:_,deduplicateOptions:A=!1,resetOnDefaultValueChange:T=!0,closeOnSelect:C=!1,...I},B)=>{var At;const[$,L]=y.useState(r),[U,Y]=y.useState(!1),[V,K]=y.useState(!1),[W,J]=y.useState(""),[q,G]=y.useState(""),[j,M]=y.useState(""),z=y.useRef($.length),O=y.useRef(U),X=y.useRef(W),ne=y.useCallback((je,Je="polite")=>{Je==="assertive"?(M(je),setTimeout(()=>M(""),100)):(G(je),setTimeout(()=>G(""),100))},[]),re=y.useId(),Q=`${re}-listbox`,te=`${re}-description`,ie=`${re}-count`,fe=y.useRef(r),he=y.useCallback(je=>je.length>0&&"heading"in je[0],[]),ae=y.useCallback((je,Je)=>{if(je.length!==Je.length)return!1;const wt=[...je].sort(),Et=[...Je].sort();return wt.every((gn,dn)=>gn===Et[dn])},[]),Pe=y.useCallback(()=>{L(r),Y(!1),J(""),t(r)},[r,t]),Te=y.useRef(null);y.useImperativeHandle(B,()=>({reset:Pe,getSelectedValues:()=>$,setSelectedValues:je=>{L(je),t(je)},clear:()=>{L([]),t([])},focus:()=>{if(Te.current){Te.current.focus();const je=Te.current.style.outline,Je=Te.current.style.outlineOffset;Te.current.style.outline="2px solid hsl(var(--ring))",Te.current.style.outlineOffset="2px",setTimeout(()=>{Te.current&&(Te.current.style.outline=je,Te.current.style.outlineOffset=Je)},1e3)}}}),[Pe,$,t]);const[Ge,nt]=y.useState("desktop");y.useEffect(()=>{if(typeof window>"u")return;const je=()=>{const Je=window.innerWidth;Je<640?nt("mobile"):Je<1024?nt("tablet"):nt("desktop")};return je(),window.addEventListener("resize",je),()=>{typeof window<"u"&&window.removeEventListener("resize",je)}},[]);const Ct=(()=>{if(!E)return{maxCount:o,hideIcons:!1,compactMode:!1};if(E===!0){const wt={mobile:{maxCount:2,hideIcons:!1,compactMode:!0},tablet:{maxCount:4,hideIcons:!1,compactMode:!1},desktop:{maxCount:6,hideIcons:!1,compactMode:!1}}[Ge];return{maxCount:(wt==null?void 0:wt.maxCount)??o,hideIcons:(wt==null?void 0:wt.hideIcons)??!1,compactMode:(wt==null?void 0:wt.compactMode)??!1}}const je=E[Ge];return{maxCount:(je==null?void 0:je.maxCount)??o,hideIcons:(je==null?void 0:je.hideIcons)??!1,compactMode:(je==null?void 0:je.compactMode)??!1}})(),Tt=()=>{if(a!=null&&a.badgeAnimation)switch(a.badgeAnimation){case"bounce":return V?"animate-bounce":"hover:-translate-y-1 hover:scale-110";case"pulse":return"hover:animate-pulse";case"wiggle":return"hover:animate-wiggle";case"fade":return"hover:opacity-80";case"slide":return"hover:translate-x-1";case"none":return"";default:return""}return V?"animate-bounce":""},ue=()=>{if(a!=null&&a.popoverAnimation)switch(a.popoverAnimation){case"scale":return"animate-scaleIn";case"slide":return"animate-slideInDown";case"fade":return"animate-fadeIn";case"flip":return"animate-flipIn";case"none":return"";default:return""}return""},_e=y.useCallback(()=>{if(e.length===0)return[];let je;he(e)?je=e.flatMap(gn=>gn.options):je=e;const Je=new Set,wt=[],Et=[];return je.forEach(gn=>{Je.has(gn.value)?(wt.push(gn.value),A||Et.push(gn)):(Je.add(gn.value),Et.push(gn))}),A?Et:je},[e,A,he]),Ae=y.useCallback(je=>_e().find(wt=>wt.value===je),[_e]),Be=y.useMemo(()=>!h||!W?e:e.length===0?[]:he(e)?e.map(je=>({...je,options:je.options.filter(Je=>Je.label.toLowerCase().includes(W.toLowerCase())||Je.value.toLowerCase().includes(W.toLowerCase()))})).filter(je=>je.options.length>0):e.filter(je=>je.label.toLowerCase().includes(W.toLowerCase())||je.value.toLowerCase().includes(W.toLowerCase())),[e,W,h,he]),We=je=>{if(je.key==="Enter")Y(!0);else if(je.key==="Backspace"&&!je.currentTarget.value){const Je=[...$];Je.pop(),L(Je),t(Je)}},qe=je=>{if(w)return;const Je=Ae(je);if(Je!=null&&Je.disabled)return;const wt=$.includes(je)?$.filter(Et=>Et!==je):[...$,je];L(wt),t(wt),C&&Y(!1)},Ee=()=>{w||(L([]),t([]))},$e=()=>{w||Y(je=>!je)},Ze=()=>{if(w)return;const je=$.slice(0,Ct.maxCount);L(je),t(je)},bt=()=>{if(w)return;const je=_e().filter(Je=>!Je.disabled);if($.length===je.length)Ee();else{const Je=je.map(wt=>wt.value);L(Je),t(Je)}C&&Y(!1)};y.useEffect(()=>{if(!T)return;const je=fe.current;ae(je,r)||(ae($,r)||L(r),fe.current=[...r])},[r,$,ae,T]);const St={minWidth:k||(Ge==="mobile"?"0px":"200px"),maxWidth:_||"100%",width:v?"auto":"100%"};return y.useEffect(()=>{U||J("")},[U]),y.useEffect(()=>{const je=$.length,Je=_e(),wt=Je.filter(Et=>!Et.disabled).length;if(je!==z.current){const Et=je-z.current;if(Et>0){const dn=$.slice(-Et).map(In=>{var fi;return(fi=Je.find(Un=>Un.value===In))==null?void 0:fi.label}).filter(Boolean);dn.length===1?ne(`${dn[0]} selected. ${je} of ${wt} options selected.`):ne(`${dn.length} options selected. ${je} of ${wt} total selected.`)}else Et<0&&ne(`Option removed. ${je} of ${wt} options selected.`);z.current=je}if(U!==O.current&&(ne(U?`Dropdown opened. ${wt} options available. Use arrow keys to navigate.`:"Dropdown closed."),O.current=U),W!==X.current&&W!==void 0){if(W&&U){const Et=Je.filter(gn=>gn.label.toLowerCase().includes(W.toLowerCase())||gn.value.toLowerCase().includes(W.toLowerCase())).length;ne(`${Et} option${Et===1?"":"s"} found for "${W}"`)}X.current=W}},[$,U,W,ne,_e]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"sr-only",children:[l.jsx("div",{"aria-live":"polite","aria-atomic":"true",role:"status",children:q}),l.jsx("div",{"aria-live":"assertive","aria-atomic":"true",role:"alert",children:j})]}),l.jsxs(Kae,{open:U,onOpenChange:Y,modal:c,children:[l.jsx("div",{id:te,className:"sr-only",children:"Multi-select dropdown. Use arrow keys to navigate, Enter to select, and Escape to close."}),l.jsx("div",{id:ie,className:"sr-only","aria-live":"polite",children:$.length===0?"No options selected":`${$.length} option${$.length===1?"":"s"} selected: ${$.map(je=>{var Je;return(Je=Ae(je))==null?void 0:Je.label}).filter(Boolean).join(", ")}`}),l.jsx(Yae,{asChild:!0,children:l.jsx(ve,{ref:Te,...I,onClick:$e,disabled:w,role:"combobox","aria-expanded":U,"aria-haspopup":"listbox","aria-controls":U?Q:void 0,"aria-describedby":`${te} ${ie}`,"aria-label":`Multi-select: ${$.length} of ${_e().length} options selected. ${i}`,className:we("flex p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",v?"w-auto":"w-full",Ct.compactMode&&"min-h-8 text-sm",Ge==="mobile"&&"min-h-12 text-base",w&&"opacity-50 cursor-not-allowed",d),style:{...St,maxWidth:`min(${St.maxWidth}, 100%)`},children:$.length>0?l.jsxs("div",{className:"flex justify-between items-center w-full",children:[l.jsxs("div",{className:we("flex items-center gap-1",x?"overflow-x-auto multiselect-singleline-scroll":"flex-wrap",Ct.compactMode&&"gap-0.5"),style:x?{paddingBottom:"4px"}:{},children:[$.slice(0,Ct.maxCount).map(je=>{const Je=Ae(je),wt=Je==null?void 0:Je.icon,Et=Je==null?void 0:Je.style;if(!Je)return null;const gn={animationDuration:`${s}s`,...(Et==null?void 0:Et.badgeColor)&&{backgroundColor:Et.badgeColor},...(Et==null?void 0:Et.gradient)&&{background:Et.gradient,color:"white"}};return l.jsxs(xn,{className:we(Tt(),lH({variant:n}),(Et==null?void 0:Et.gradient)&&"text-white border-transparent",Ct.compactMode&&"text-xs px-1.5 py-0.5",Ge==="mobile"&&"max-w-[120px] truncate",x&&"flex-shrink-0 whitespace-nowrap","[&>svg]:pointer-events-auto"),style:{...gn,animationDuration:`${(a==null?void 0:a.duration)||s}s`,animationDelay:`${(a==null?void 0:a.delay)||0}s`},children:[wt&&!Ct.hideIcons&&l.jsx(wt,{className:we("h-4 w-4 mr-2",Ct.compactMode&&"h-3 w-3 mr-1",(Et==null?void 0:Et.iconColor)&&"text-current"),...(Et==null?void 0:Et.iconColor)&&{style:{color:Et.iconColor}}}),l.jsx("span",{className:we(Ge==="mobile"&&"truncate"),children:Je.label}),l.jsx("div",{role:"button",tabIndex:0,onClick:dn=>{dn.stopPropagation(),qe(je)},onKeyDown:dn=>{(dn.key==="Enter"||dn.key===" ")&&(dn.preventDefault(),dn.stopPropagation(),qe(je))},"aria-label":`Remove ${Je.label} from selection`,className:"ml-2 h-4 w-4 cursor-pointer hover:bg-white/20 rounded-sm p-0.5 -m-0.5 focus:outline-none focus:ring-1 focus:ring-white/50 flex items-center justify-center",children:l.jsx(Fh,{className:we("h-3 w-3",Ct.compactMode&&"h-2.5 w-2.5")})})]},je)}).filter(Boolean),$.length>Ct.maxCount&&l.jsxs(xn,{className:we("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",Tt(),lH({variant:n}),Ct.compactMode&&"text-xs px-1.5 py-0.5",x&&"flex-shrink-0 whitespace-nowrap","[&>svg]:pointer-events-auto"),style:{animationDuration:`${(a==null?void 0:a.duration)||s}s`,animationDelay:`${(a==null?void 0:a.delay)||0}s`},children:[`+ ${$.length-Ct.maxCount} more`,l.jsx(Fh,{className:we("ml-2 h-4 w-4 cursor-pointer",Ct.compactMode&&"ml-1 h-3 w-3"),onClick:je=>{je.stopPropagation(),Ze()}})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{role:"button",tabIndex:0,onClick:je=>{je.stopPropagation(),Ee()},onKeyDown:je=>{(je.key==="Enter"||je.key===" ")&&(je.preventDefault(),je.stopPropagation(),Ee())},"aria-label":`Clear all ${$.length} selected options`,className:"flex items-center justify-center h-4 w-4 mx-2 cursor-pointer text-muted-foreground hover:text-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 rounded-sm",children:l.jsx(li,{className:"h-4 w-4"})}),l.jsx(Mu,{orientation:"vertical",className:"flex min-h-6 h-full"}),l.jsx(ri,{className:"h-4 mx-2 cursor-pointer text-muted-foreground","aria-hidden":"true"})]})]}):l.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[l.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:i}),l.jsx(ri,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),l.jsx(Xae,{id:Q,role:"listbox","aria-multiselectable":"true","aria-label":"Available options",className:we("p-0",ue(),Ge==="mobile"&&"w-[85vw] max-w-[280px]",Ge==="tablet"&&"w-[70vw] max-w-md",b),style:{animationDuration:`${(a==null?void 0:a.duration)||s}s`,animationDelay:`${(a==null?void 0:a.delay)||0}s`,width:(At=Te.current)!=null&&At.offsetWidth?`${Te.current.offsetWidth}px`:"auto",maxWidth:`min(${St.maxWidth}, 85vw)`,maxHeight:Ge==="mobile"?"70vh":"60vh",touchAction:"manipulation"},align:"start",onEscapeKeyDown:()=>Y(!1),children:l.jsxs(fKe,{children:[h&&l.jsx(hKe,{placeholder:"Search options...",onKeyDown:We,value:W,onValueChange:J,"aria-label":"Search through available options","aria-describedby":`${re}-search-help`}),h&&l.jsx("div",{id:`${re}-search-help`,className:"sr-only",children:"Type to filter options. Use arrow keys to navigate results."}),l.jsxs(mKe,{className:we("max-h-[40vh] overflow-y-auto multiselect-scrollbar",Ge==="mobile"&&"max-h-[50vh]","overscroll-behavior-y-contain"),children:[l.jsx(pKe,{children:p||"No results found."})," ",!f&&!W&&l.jsx(f2,{children:l.jsxs(O1,{onSelect:bt,role:"option","aria-selected":$.length===_e().filter(je=>!je.disabled).length,"aria-label":`Select all ${_e().length} options`,className:"cursor-pointer",children:[l.jsx("div",{className:we("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",$.length===_e().filter(je=>!je.disabled).length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),"aria-hidden":"true",children:l.jsx(or,{className:"h-4 w-4 text-white"})}),l.jsxs("span",{children:["(Select All",_e().length>20?` - ${_e().length} options`:"",")"]})]},"all")}),he(Be)?Be.map(je=>l.jsx(f2,{heading:je.heading,children:je.options.map(Je=>{const wt=$.includes(Je.value);return l.jsxs(O1,{onSelect:()=>qe(Je.value),role:"option","aria-selected":wt,"aria-disabled":Je.disabled,"aria-label":`${Je.label}${wt?", selected":", not selected"}${Je.disabled?", disabled":""}`,className:we("cursor-pointer",Je.disabled&&"opacity-50 cursor-not-allowed"),disabled:Je.disabled,children:[l.jsx("div",{className:we("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",wt?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),"aria-hidden":"true",children:l.jsx(or,{className:"h-4 w-4 text-white"})}),Je.icon&&l.jsx(Je.icon,{className:"mr-2 h-4 w-4 text-muted-foreground","aria-hidden":"true"}),l.jsx("span",{children:Je.label})]},Je.value)})},je.heading)):l.jsx(f2,{children:Be.map(je=>{const Je=$.includes(je.value);return l.jsxs(O1,{onSelect:()=>qe(je.value),role:"option","aria-selected":Je,"aria-disabled":je.disabled,"aria-label":`${je.label}${Je?", selected":", not selected"}${je.disabled?", disabled":""}`,className:we("cursor-pointer",je.disabled&&"opacity-50 cursor-not-allowed"),disabled:je.disabled,children:[l.jsx("div",{className:we("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",Je?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),"aria-hidden":"true",children:l.jsx(or,{className:"h-4 w-4 text-white"})}),je.icon&&l.jsx(je.icon,{className:"mr-2 h-4 w-4 text-muted-foreground","aria-hidden":"true"}),l.jsx("span",{children:je.label})]},je.value)})}),l.jsx(gKe,{}),l.jsx(f2,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[$.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(O1,{onSelect:Ee,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),l.jsx(Mu,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),l.jsx(O1,{onSelect:()=>Y(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),s>0&&$.length>0&&l.jsx(dY,{className:we("cursor-pointer my-2 text-foreground bg-background w-3 h-3",V?"":"text-muted-foreground"),onClick:()=>K(!V)})]})]})});ER.displayName="MultiSelect";function Ox({onEdit:e,onDisconnect:t}){return l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"icon",children:l.jsx(s1e,{className:"h-4 w-4"})})}),l.jsxs(ni,{children:[e&&l.jsx(Jt,{onClick:e,children:"Edit"}),t&&l.jsx(Jt,{className:"text-destructive",onClick:t,children:"Disconnect"})]})]})}function SR({status:e,isRetrying:t=!1,showHelp:n=!1}){if(e===kn.ERROR){if(t)return l.jsxs(xn,{variant:"outline",className:"bg-background border-blue-500 gap-1.5 px-3 py-1",children:[l.jsx(ds,{className:"h-3 w-3 text-blue-500 animate-spin"}),"Retrying..."]});if(n)return l.jsxs(xn,{variant:"outline",className:"bg-background border-orange-500 gap-1.5 px-3 py-1",children:[l.jsx(Lj,{className:"h-3 w-3 text-orange-500"}),"Need Help"]})}switch(e){case kn.VERIFYING:return l.jsxs(xn,{variant:"outline",className:"bg-background border-blue-500 gap-1.5 px-3 py-1",children:[l.jsx(ds,{className:"h-3 w-3 text-blue-500 animate-spin"}),"Verifying..."]});case kn.SYNCING:return l.jsxs(xn,{variant:"outline",className:"bg-background border-blue-500 gap-1.5 px-3 py-1",children:[l.jsx(ds,{className:"h-3 w-3 text-blue-500 animate-spin"}),"Syncing..."]});case kn.ERROR:return l.jsxs(xn,{variant:"outline",className:"bg-background border-red-500 gap-1.5 px-3 py-1",children:[l.jsx(Fh,{className:"h-3 w-3 text-red-500"}),"Failed"]});case kn.CANCELLED:return l.jsxs(xn,{variant:"outline",className:"bg-background border-yellow-500 gap-1.5 px-3 py-1",children:[l.jsx(Fh,{className:"h-3 w-3 text-yellow-500"}),"Cancelled"]});case kn.CONNECTED:return l.jsxs(xn,{variant:"outline",className:"bg-background border-green-500 gap-1.5 px-3 py-1",children:[l.jsx(Gy,{className:"h-3 w-3 text-green-500"}),"Connected"]});case kn.NOT_CONNECTED:return l.jsxs(xn,{variant:"outline",className:"bg-background border-muted-foreground gap-1.5 px-3 py-1",children:[l.jsx(Fh,{className:"h-3 w-3 text-muted-foreground"}),"Not connected"]});default:return null}}function Dx({source:e,onRetry:t}){var d,f,h,p;const[n,r]=y.useState(0),i=di(),s=3,a=n>=s,o=n>0&&(e.status===kn.SYNCING||e.status===kn.VERIFYING),c=()=>{r(v=>v+1),t&&t()},u=()=>{if(a&&e.status===kn.ERROR)return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Multiple attempts failed"}),l.jsx(ve,{size:"sm",variant:"outline",onClick:()=>{i("/help")},children:"Get Help"})]});if(o)return l.jsxs("p",{className:"text-sm text-foreground whitespace-nowrap",children:["Retrying... (",n,"/",s,")"]});if(e.status===kn.ERROR)return l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-sm text-destructive",children:[l.jsx("div",{children:"Connection failed"}),l.jsx("div",{children:n>0&&`(${n}/${s})`})]}),l.jsxs(ve,{size:"sm",variant:"outline",onClick:c,children:[l.jsx(x4,{className:"h-3 w-3 mr-1.5"}),"Retry"]})]});switch(e.status){case kn.SYNCING:return l.jsx("p",{className:"text-sm text-foreground whitespace-nowrap",children:"Syncing connection..."});case kn.VERIFYING:return l.jsx("p",{className:"text-sm text-foreground whitespace-nowrap",children:"Verifying connection..."});case kn.CANCELLED:return l.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Sync cancelled by user"});case kn.CONNECTED:return l.jsx("p",{className:"text-sm text-foreground whitespace-nowrap",children:e.lastSync?`Last synced ${e.lastSync}`:"Connected"});case kn.NOT_CONNECTED:return l.jsx("p",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Not configured"});default:return null}};return l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsx("div",{className:"rounded-lg",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-5",children:[l.jsxs("div",{className:"flex flex-col gap-2 max-w-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground w-16",children:"URL"}),l.jsx("p",{className:"text-sm text-foreground truncate",children:e.type===Cr.SERVICENOW?((d=e.settings)==null?void 0:d.instanceUrl)||"":((f=e.settings)==null?void 0:f.url)||""})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground w-16",children:e.type===Cr.SERVICENOW?"Username":"Email"}),l.jsx("p",{className:"text-sm text-foreground truncate",children:e.type===Cr.SERVICENOW?((h=e.settings)==null?void 0:h.username)||"":((p=e.settings)==null?void 0:p.email)||""})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground w-16",children:e.type===Cr.SERVICENOW?"Password":"API"}),l.jsx("p",{className:"text-sm text-foreground truncate",children:""})]})]}),l.jsx("div",{className:"flex justify-center flex-1",children:l.jsx(SR,{status:e.status,showHelp:a})}),l.jsx("div",{className:"flex items-center mr-6",children:u()})]})})})})}const i3=({title:e})=>l.jsx("div",{className:"inline-flex items-center gap-2",children:l.jsx("h2",{className:"text-xl leading-7 tracking-[-0.01em] text-foreground",children:e})});function vKe({onEdit:e}={}){var v,x;const{source:t}=Yu(),[n,r]=y.useState([]),i=dg(),s=fX(),a=uP(),o=t.status.toLowerCase()===kn.SYNCING.toLowerCase(),c=t.status.toLowerCase()===kn.VERIFYING.toLowerCase(),u=o||c||i.isPending||s.isPending,d=a.isPending,f=y.useMemo(()=>{var w;return zGe((w=t.backendData)==null?void 0:w.latest_options).map(E=>({label:E,value:E}))},[(v=t.backendData)==null?void 0:v.latest_options]);y.useEffect(()=>{var w;const b=BGe((w=t.backendData)==null?void 0:w.settings);b.length>0&&r(b)},[(x=t.backendData)==null?void 0:x.settings]);const h=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{await i.mutateAsync({id:t.backendData.id,data:{settings:{...t.backendData.settings,spaces:n.join(",")}}}),await s.mutateAsync(t.backendData.id),mt.success({title:"Sync Started",description:"Your Confluence spaces are being synced"})}catch(b){mt.error({title:"Sync Failed",description:b instanceof Error?b.message:"Failed to start sync"})}},p=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{await a.mutateAsync(t.backendData.id),mt.success({title:"Sync Cancelled",description:"Your sync operation has been cancelled"})}catch(b){mt.error({title:"Cancel Failed",description:b instanceof Error?b.message:"Failed to cancel sync"})}};return l.jsx("div",{className:"w-full flex flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx(i3,{title:"Confluence configuration"}),l.jsx(Ox,{onEdit:e})]}),l.jsx(Dx,{source:t,onRetry:h}),o&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg flex items-center justify-between",children:[l.jsx(Jn,{children:"Sync in progress..."}),l.jsx(ve,{onClick:p,disabled:d,variant:"destructive",children:a.isPending?"Cancelling...":"Cancel Sync"})]})})}),t.status.toLowerCase()!==kn.ERROR.toLowerCase()&&!c&&!o&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg",children:[l.jsx(Jn,{className:"mb-2",children:"Which spaces would you like to sync from?"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[l.jsx("div",{className:"md:flex-1 w-full",children:l.jsx(ER,{animationConfig:{optionHoverAnimation:"none"},options:f,defaultValue:n,onValueChange:r,placeholder:"Choose spaces...",searchable:!0,emptyIndicator:"No spaces found."})}),l.jsx(ve,{onClick:h,disabled:u,className:"w-full md:w-fit",variant:"default",children:i.isPending||s.isPending?"Syncing...":"Sync"})]})]})})})]})})}function yKe({onEdit:e}={}){var x,b;const{source:t}=Yu(),[n,r]=y.useState([]),i=dg(),s=fX(),a=uP(),o=t.status.toLowerCase()===kn.SYNCING.toLowerCase(),c=t.status.toLowerCase()===kn.VERIFYING.toLowerCase(),u=o||c||i.isPending||s.isPending,d=a.isPending,f=y.useMemo(()=>{var E,k;const w=(k=(E=t.backendData)==null?void 0:E.latest_options)==null?void 0:k.knowledge_base;return!w||!Array.isArray(w)?[]:w},[(x=t.backendData)==null?void 0:x.latest_options]),h=y.useMemo(()=>f.map(w=>({label:w.title,value:w.sys_id})),[f]);y.useEffect(()=>{var E,k;const w=(k=(E=t.backendData)==null?void 0:E.settings)==null?void 0:k.knowledge_base;Array.isArray(w)&&w.length>0&&r(w.map(_=>_.sys_id))},[(b=t.backendData)==null?void 0:b.settings]);const p=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{const w=n.map(E=>f.find(k=>k.sys_id===E)).filter(E=>E!==void 0);await i.mutateAsync({id:t.backendData.id,data:{settings:{...t.backendData.settings,knowledge_base:w}}}),await s.mutateAsync(t.backendData.id),mt.success({title:"Sync Started",description:"Your ServiceNow knowledge articles are being synced"})}catch(w){mt.error({title:"Sync Failed",description:w instanceof Error?w.message:"Failed to start sync"})}},v=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{await a.mutateAsync(t.backendData.id),mt.success({title:"Sync Cancelled",description:"Your sync operation has been cancelled"})}catch(w){mt.error({title:"Cancel Failed",description:w instanceof Error?w.message:"Failed to cancel sync"})}};return l.jsx("div",{className:"w-full flex flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx(i3,{title:"ServiceNow Knowledge Base configuration"}),l.jsx(Ox,{onEdit:e})]}),l.jsx(Dx,{source:t,onRetry:p}),o&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg flex items-center justify-between",children:[l.jsx(Jn,{children:"Sync in progress..."}),l.jsx(ve,{onClick:v,disabled:d,variant:"destructive",children:a.isPending?"Cancelling...":"Cancel Sync"})]})})}),t.status.toLowerCase()!==kn.ERROR.toLowerCase()&&!c&&!o&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg",children:[l.jsx(Jn,{className:"mb-2",children:"Which knowledge bases would you like to sync from?"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[l.jsx("div",{className:"md:flex-1 w-full",children:l.jsx(ER,{animationConfig:{optionHoverAnimation:"none"},options:h,defaultValue:n,onValueChange:r,placeholder:"Choose knowledge bases...",searchable:!0,emptyIndicator:"No knowledge bases found."})}),l.jsx(ve,{onClick:p,disabled:u,className:"w-full md:w-fit",variant:"default",children:i.isPending||s.isPending?"Syncing...":"Sync"})]})]})})})]})})}const xKe=[{label:"Last 30 days",value:"30"},{label:"Last 60 days",value:"60"},{label:"Last 90 days",value:"90"}];function bKe({onEdit:e}={}){const{source:t}=Yu(),n=H2e(),r=uP(),[i,s]=y.useState("30"),a=t.status.toLowerCase()===kn.SYNCING.toLowerCase(),o=t.status.toLowerCase()===kn.VERIFYING.toLowerCase(),c=a||o||n.isPending,u=r.isPending,d=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{await n.mutateAsync({id:t.backendData.id,timeRangeDays:parseInt(i,10)}),mt.success({title:"Sync Started",description:"Your ServiceNow tickets are being synced"})}catch(h){mt.error({title:"Sync Failed",description:h instanceof Error?h.message:"Failed to start sync"})}},f=async()=>{if(!t.backendData){mt.error({title:"Configuration Error",description:"No backend data available for this source"});return}try{await r.mutateAsync(t.backendData.id),mt.success({title:"Sync Cancelled",description:"Your sync operation has been cancelled"})}catch(h){mt.error({title:"Cancel Failed",description:h instanceof Error?h.message:"Failed to cancel sync"})}};return l.jsx("div",{className:"w-full flex flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx(i3,{title:"ServiceNow ITSM configuration"}),l.jsx(Ox,{onEdit:e})]}),l.jsx(Dx,{source:t,onRetry:d}),a&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg flex items-center justify-between",children:[l.jsx(Jn,{children:"Sync in progress..."}),l.jsx(ve,{onClick:f,disabled:u,variant:"destructive",children:r.isPending?"Cancelling...":"Cancel Sync"})]})})}),t.status.toLowerCase()!==kn.ERROR.toLowerCase()&&!o&&!a&&l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx("div",{className:"border border-border bg-popover rounded-md p-4",children:l.jsxs("div",{className:"rounded-lg",children:[l.jsx(Jn,{className:"mb-2",children:"Import tickets from the last:"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4 mt-2",children:[l.jsx("div",{className:"md:flex-1 w-full",children:l.jsxs(LZ,{value:i,onValueChange:s,children:[l.jsx($Z,{className:"w-full",children:l.jsx(FZ,{placeholder:"Select time range"})}),l.jsx(zZ,{children:xKe.map(h=>l.jsx(E_e,{value:h.value,children:h.label},h.value))})]})}),l.jsx(ve,{onClick:d,disabled:c,className:"w-full md:w-fit",variant:"default",children:n.isPending?"Syncing...":"Sync Tickets"})]})]})})})]})})}function moe({onEdit:e}={}){const{source:t}=Yu();return l.jsx("div",{className:"flex flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h4",{className:"text-xl font-medium text-foreground",children:"SharePoint configuration"})}),l.jsx(Ox,{onEdit:e})]}),l.jsx(Dx,{source:t})]})})}function poe({onEdit:e}={}){const{source:t}=Yu();return l.jsx("div",{className:"flex flex-col gap-2",children:l.jsxs("div",{className:"flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h4",{className:"text-xl font-medium text-foreground",children:"Web Search configuration"})}),l.jsx(Ox,{onEdit:e})]}),l.jsx(Dx,{source:t})]})})}var Lx=e=>e.type==="checkbox",Eh=e=>e instanceof Date,Us=e=>e==null;const goe=e=>typeof e=="object";var Ei=e=>!Us(e)&&!Array.isArray(e)&&goe(e)&&!Eh(e),wKe=e=>Ei(e)&&e.target?Lx(e.target)?e.target.checked:e.target.value:e,EKe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,SKe=(e,t)=>e.has(EKe(t)),kKe=e=>{const t=e.constructor&&e.constructor.prototype;return Ei(t)&&t.hasOwnProperty("isPrototypeOf")},kR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gi(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(kR&&(e instanceof Blob||r))&&(n||Ei(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!kKe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Gi(e[i]));else return e;return t}var s3=e=>/^\w*$/.test(e),bi=e=>e===void 0,_R=e=>Array.isArray(e)?e.filter(Boolean):[],CR=e=>_R(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Dt=(e,t,n)=>{if(!t||!Ei(e))return n;const r=(s3(t)?[t]:CR(t)).reduce((i,s)=>Us(i)?i:i[s],e);return bi(r)||r===e?bi(e[t])?n:e[t]:r},Yl=e=>typeof e=="boolean",ur=(e,t,n)=>{let r=-1;const i=s3(t)?[t]:CR(t),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let c=n;if(r!==a){const u=e[o];c=Ei(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const cH={BLUR:"blur",FOCUS_OUT:"focusout"},gl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},voe=Xe.createContext(null);voe.displayName="HookFormContext";const _Ke=e=>{const{children:t,...n}=e;return Xe.createElement(voe.Provider,{value:n},t)};var CKe=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==gl.all&&(t._proxyFormState[a]=!r||gl.all),e[a]}});return i};const NKe=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;var $a=e=>typeof e=="string",TKe=(e,t,n,r,i)=>$a(e)?(r&&t.watch.add(e),Dt(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),Dt(n,s))):(r&&(t.watchAll=!0),n),S8=e=>Us(e)||!goe(e);function zd(e,t,n=new WeakSet){if(S8(e)||S8(t))return e===t;if(Eh(e)&&Eh(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Eh(a)&&Eh(o)||Ei(a)&&Ei(o)||Array.isArray(a)&&Array.isArray(o)?!zd(a,o,n):a!==o)return!1}}return!0}var NR=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Iv=e=>Array.isArray(e)?e:[e],uH=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function yoe(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],s=t[r];if(i&&Ei(i)&&s){const a=yoe(i,s);Ei(a)&&(n[r]=a)}else e[r]&&(n[r]=s)}return n}var ha=e=>Ei(e)&&!Object.keys(e).length,TR=e=>e.type==="file",vl=e=>typeof e=="function",AE=e=>{if(!kR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xoe=e=>e.type==="select-multiple",AR=e=>e.type==="radio",AKe=e=>AR(e)||Lx(e),LT=e=>AE(e)&&e.isConnected;function jKe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=bi(e)?r++:e[t[r++]];return e}function PKe(e){for(const t in e)if(e.hasOwnProperty(t)&&!bi(e[t]))return!1;return!0}function pi(e,t){const n=Array.isArray(t)?t:s3(t)?[t]:CR(t),r=n.length===1?e:jKe(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ei(r)&&ha(r)||Array.isArray(r)&&PKe(r))&&pi(e,n.slice(0,-1)),e}var IKe=e=>{for(const t in e)if(vl(e[t]))return!0;return!1};function boe(e){return Array.isArray(e)||Ei(e)&&!IKe(e)}function k8(e,t={}){for(const n in e)boe(e[n])?(t[n]=Array.isArray(e[n])?[]:{},k8(e[n],t[n])):Us(e[n])||(t[n]=!0);return t}function Mm(e,t,n){n||(n=k8(t));for(const r in e)boe(e[r])?bi(t)||S8(n[r])?n[r]=k8(e[r],Array.isArray(e[r])?[]:{}):Mm(e[r],Us(t)?{}:t[r],n[r]):n[r]=!zd(e[r],t[r]);return n}const dH={value:!1,isValid:!1},fH={value:!0,isValid:!0};var woe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bi(e[0].attributes.value)?bi(e[0].value)||e[0].value===""?fH:{value:e[0].value,isValid:!0}:fH:dH}return dH},Eoe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>bi(e)?e:t?e===""?NaN:e&&+e:n&&$a(e)?new Date(e):r?r(e):e;const hH={isValid:!1,value:null};var Soe=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,hH):hH;function mH(e){const t=e.ref;return TR(t)?t.files:AR(t)?Soe(e.refs).value:xoe(t)?[...t.selectedOptions].map(({value:n})=>n):Lx(t)?woe(e.refs).value:Eoe(bi(t.value)?e.ref.value:t.value,e)}var RKe=(e,t,n,r)=>{const i={};for(const s of e){const a=Dt(t,s);a&&ur(i,s,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},jE=e=>e instanceof RegExp,D1=e=>bi(e)?e:jE(e)?e.source:Ei(e)?jE(e.value)?e.value.source:e.value:e,pH=e=>({isOnSubmit:!e||e===gl.onSubmit,isOnBlur:e===gl.onBlur,isOnChange:e===gl.onChange,isOnAll:e===gl.all,isOnTouch:e===gl.onTouched});const gH="AsyncFunction";var MKe=e=>!!e&&!!e.validate&&!!(vl(e.validate)&&e.validate.constructor.name===gH||Ei(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===gH)),OKe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vH=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Rv=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=Dt(e,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(Rv(o,t))break}else if(Ei(o)&&Rv(o,t))break}}};function yH(e,t,n){const r=Dt(e,n);if(r||s3(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Dt(t,s),o=Dt(e,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var DKe=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return ha(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!r||gl.all))},LKe=(e,t,n)=>!e||!t||e===t||Iv(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),FKe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,$Ke=(e,t)=>!_R(Dt(e,t)).length&&pi(e,t),zKe=(e,t,n)=>{const r=Iv(Dt(e,n));return ur(r,"root",t[n]),ur(e,n,r),e};function xH(e,t,n="validate"){if($a(e)||Array.isArray(e)&&e.every($a)||Yl(e)&&!e)return{type:n,message:$a(e)?e:"",ref:t}}var Sm=e=>Ei(e)&&!jE(e)?e:{value:e,message:""},bH=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:x,valueAsNumber:b,mount:w}=e._f,E=Dt(n,x);if(!w||t.has(x))return{};const k=o?o[0]:a,_=U=>{i&&k.reportValidity&&(k.setCustomValidity(Yl(U)?"":U||""),k.reportValidity())},A={},T=AR(a),C=Lx(a),I=T||C,B=(b||TR(a))&&bi(a.value)&&bi(E)||AE(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,$=NR.bind(null,x,r,A),L=(U,Y,V,K=Yc.maxLength,W=Yc.minLength)=>{const J=U?Y:V;A[x]={type:U?K:W,message:J,ref:a,...$(U?K:W,J)}};if(s?!Array.isArray(E)||!E.length:c&&(!I&&(B||Us(E))||Yl(E)&&!E||C&&!woe(o).isValid||T&&!Soe(o).isValid)){const{value:U,message:Y}=$a(c)?{value:!!c,message:c}:Sm(c);if(U&&(A[x]={type:Yc.required,message:Y,ref:k,...$(Yc.required,Y)},!r))return _(Y),A}if(!B&&(!Us(f)||!Us(h))){let U,Y;const V=Sm(h),K=Sm(f);if(!Us(E)&&!isNaN(E)){const W=a.valueAsNumber||E&&+E;Us(V.value)||(U=W>V.value),Us(K.value)||(Y=W<K.value)}else{const W=a.valueAsDate||new Date(E),J=j=>new Date(new Date().toDateString()+" "+j),q=a.type=="time",G=a.type=="week";$a(V.value)&&E&&(U=q?J(E)>J(V.value):G?E>V.value:W>new Date(V.value)),$a(K.value)&&E&&(Y=q?J(E)<J(K.value):G?E<K.value:W<new Date(K.value))}if((U||Y)&&(L(!!U,V.message,K.message,Yc.max,Yc.min),!r))return _(A[x].message),A}if((u||d)&&!B&&($a(E)||s&&Array.isArray(E))){const U=Sm(u),Y=Sm(d),V=!Us(U.value)&&E.length>+U.value,K=!Us(Y.value)&&E.length<+Y.value;if((V||K)&&(L(V,U.message,Y.message),!r))return _(A[x].message),A}if(p&&!B&&$a(E)){const{value:U,message:Y}=Sm(p);if(jE(U)&&!E.match(U)&&(A[x]={type:Yc.pattern,message:Y,ref:a,...$(Yc.pattern,Y)},!r))return _(Y),A}if(v){if(vl(v)){const U=await v(E,n),Y=xH(U,k);if(Y&&(A[x]={...Y,...$(Yc.validate,Y.message)},!r))return _(Y.message),A}else if(Ei(v)){let U={};for(const Y in v){if(!ha(U)&&!r)break;const V=xH(await v[Y](E,n),k,Y);V&&(U={...V,...$(Y,V.message)},_(V.message),r&&(A[x]=U))}if(!ha(U)&&(A[x]={ref:k,...U},!r))return A}}return _(!0),A};const BKe={mode:gl.onSubmit,reValidateMode:gl.onChange,shouldFocusError:!0};function UKe(e={}){let t={...BKe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:vl(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Ei(t.defaultValues)||Ei(t.values)?Gi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Gi(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:uH(),state:uH()},p=t.criteriaMode===gl.all,v=ue=>_e=>{clearTimeout(u),u=setTimeout(ue,_e)},x=async ue=>{if(!t.disabled&&(d.isValid||f.isValid||ue)){const _e=t.resolver?ha((await C()).errors):await B(r,!0);_e!==n.isValid&&h.state.next({isValid:_e})}},b=(ue,_e)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ue||Array.from(o.mount)).forEach(Ae=>{Ae&&(_e?ur(n.validatingFields,Ae,_e):pi(n.validatingFields,Ae))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ha(n.validatingFields)}))},w=(ue,_e=[],Ae,Be,We=!0,qe=!0)=>{if(Be&&Ae&&!t.disabled){if(a.action=!0,qe&&Array.isArray(Dt(r,ue))){const Ee=Ae(Dt(r,ue),Be.argA,Be.argB);We&&ur(r,ue,Ee)}if(qe&&Array.isArray(Dt(n.errors,ue))){const Ee=Ae(Dt(n.errors,ue),Be.argA,Be.argB);We&&ur(n.errors,ue,Ee),$Ke(n.errors,ue)}if((d.touchedFields||f.touchedFields)&&qe&&Array.isArray(Dt(n.touchedFields,ue))){const Ee=Ae(Dt(n.touchedFields,ue),Be.argA,Be.argB);We&&ur(n.touchedFields,ue,Ee)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Mm(i,s)),h.state.next({name:ue,isDirty:L(ue,_e),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ur(s,ue,_e)},E=(ue,_e)=>{ur(n.errors,ue,_e),h.state.next({errors:n.errors})},k=ue=>{n.errors=ue,h.state.next({errors:n.errors,isValid:!1})},_=(ue,_e,Ae,Be)=>{const We=Dt(r,ue);if(We){const qe=Dt(s,ue,bi(Ae)?Dt(i,ue):Ae);bi(qe)||Be&&Be.defaultChecked||_e?ur(s,ue,_e?qe:mH(We._f)):V(ue,qe),a.mount&&x()}},A=(ue,_e,Ae,Be,We)=>{let qe=!1,Ee=!1;const $e={name:ue};if(!t.disabled){if(!Ae||Be){(d.isDirty||f.isDirty)&&(Ee=n.isDirty,n.isDirty=$e.isDirty=L(),qe=Ee!==$e.isDirty);const Ze=zd(Dt(i,ue),_e);Ee=!!Dt(n.dirtyFields,ue),Ze?pi(n.dirtyFields,ue):ur(n.dirtyFields,ue,!0),$e.dirtyFields=n.dirtyFields,qe=qe||(d.dirtyFields||f.dirtyFields)&&Ee!==!Ze}if(Ae){const Ze=Dt(n.touchedFields,ue);Ze||(ur(n.touchedFields,ue,Ae),$e.touchedFields=n.touchedFields,qe=qe||(d.touchedFields||f.touchedFields)&&Ze!==Ae)}qe&&We&&h.state.next($e)}return qe?$e:{}},T=(ue,_e,Ae,Be)=>{const We=Dt(n.errors,ue),qe=(d.isValid||f.isValid)&&Yl(_e)&&n.isValid!==_e;if(t.delayError&&Ae?(c=v(()=>E(ue,Ae)),c(t.delayError)):(clearTimeout(u),c=null,Ae?ur(n.errors,ue,Ae):pi(n.errors,ue)),(Ae?!zd(We,Ae):We)||!ha(Be)||qe){const Ee={...Be,...qe&&Yl(_e)?{isValid:_e}:{},errors:n.errors,name:ue};n={...n,...Ee},h.state.next(Ee)}},C=async ue=>{b(ue,!0);const _e=await t.resolver(s,t.context,RKe(ue||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(ue),_e},I=async ue=>{const{errors:_e}=await C(ue);if(ue)for(const Ae of ue){const Be=Dt(_e,Ae);Be?ur(n.errors,Ae,Be):pi(n.errors,Ae)}else n.errors=_e;return _e},B=async(ue,_e,Ae={valid:!0})=>{for(const Be in ue){const We=ue[Be];if(We){const{_f:qe,...Ee}=We;if(qe){const $e=o.array.has(qe.name),Ze=We._f&&MKe(We._f);Ze&&d.validatingFields&&b([qe.name],!0);const bt=await bH(We,o.disabled,s,p,t.shouldUseNativeValidation&&!_e,$e);if(Ze&&d.validatingFields&&b([qe.name]),bt[qe.name]&&(Ae.valid=!1,_e))break;!_e&&(Dt(bt,qe.name)?$e?zKe(n.errors,bt,qe.name):ur(n.errors,qe.name,bt[qe.name]):pi(n.errors,qe.name))}!ha(Ee)&&await B(Ee,_e,Ae)}}return Ae.valid},$=()=>{for(const ue of o.unMount){const _e=Dt(r,ue);_e&&(_e._f.refs?_e._f.refs.every(Ae=>!LT(Ae)):!LT(_e._f.ref))&&Q(ue)}o.unMount=new Set},L=(ue,_e)=>!t.disabled&&(ue&&_e&&ur(s,ue,_e),!zd(j(),i)),U=(ue,_e,Ae)=>TKe(ue,o,{...a.mount?s:bi(_e)?i:$a(ue)?{[ue]:_e}:_e},Ae,_e),Y=ue=>_R(Dt(a.mount?s:i,ue,t.shouldUnregister?Dt(i,ue,[]):[])),V=(ue,_e,Ae={})=>{const Be=Dt(r,ue);let We=_e;if(Be){const qe=Be._f;qe&&(!qe.disabled&&ur(s,ue,Eoe(_e,qe)),We=AE(qe.ref)&&Us(_e)?"":_e,xoe(qe.ref)?[...qe.ref.options].forEach(Ee=>Ee.selected=We.includes(Ee.value)):qe.refs?Lx(qe.ref)?qe.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(We)?Ee.checked=!!We.find($e=>$e===Ee.value):Ee.checked=We===Ee.value||!!We)}):qe.refs.forEach(Ee=>Ee.checked=Ee.value===We):TR(qe.ref)?qe.ref.value="":(qe.ref.value=We,qe.ref.type||h.state.next({name:ue,values:Gi(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&A(ue,We,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&G(ue)},K=(ue,_e,Ae)=>{for(const Be in _e){if(!_e.hasOwnProperty(Be))return;const We=_e[Be],qe=ue+"."+Be,Ee=Dt(r,qe);(o.array.has(ue)||Ei(We)||Ee&&!Ee._f)&&!Eh(We)?K(qe,We,Ae):V(qe,We,Ae)}},W=(ue,_e,Ae={})=>{const Be=Dt(r,ue),We=o.array.has(ue),qe=Gi(_e);ur(s,ue,qe),We?(h.array.next({name:ue,values:Gi(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ae.shouldDirty&&h.state.next({name:ue,dirtyFields:Mm(i,s),isDirty:L(ue,qe)})):Be&&!Be._f&&!Us(qe)?K(ue,qe,Ae):V(ue,qe,Ae),vH(ue,o)&&h.state.next({...n,name:ue}),h.state.next({name:a.mount?ue:void 0,values:Gi(s)})},J=async ue=>{a.mount=!0;const _e=ue.target;let Ae=_e.name,Be=!0;const We=Dt(r,Ae),qe=Ze=>{Be=Number.isNaN(Ze)||Eh(Ze)&&isNaN(Ze.getTime())||zd(Ze,Dt(s,Ae,Ze))},Ee=pH(t.mode),$e=pH(t.reValidateMode);if(We){let Ze,bt;const Ue=_e.type?mH(We._f):wKe(ue),St=ue.type===cH.BLUR||ue.type===cH.FOCUS_OUT,At=!OKe(We._f)&&!t.resolver&&!Dt(n.errors,Ae)&&!We._f.deps||FKe(St,Dt(n.touchedFields,Ae),n.isSubmitted,$e,Ee),je=vH(Ae,o,St);ur(s,Ae,Ue),St?(!_e||!_e.readOnly)&&(We._f.onBlur&&We._f.onBlur(ue),c&&c(0)):We._f.onChange&&We._f.onChange(ue);const Je=A(Ae,Ue,St),wt=!ha(Je)||je;if(!St&&h.state.next({name:Ae,type:ue.type,values:Gi(s)}),At)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?St&&x():St||x()),wt&&h.state.next({name:Ae,...je?{}:Je});if(!St&&je&&h.state.next({...n}),t.resolver){const{errors:Et}=await C([Ae]);if(qe(Ue),Be){const gn=yH(n.errors,r,Ae),dn=yH(Et,r,gn.name||Ae);Ze=dn.error,Ae=dn.name,bt=ha(Et)}}else b([Ae],!0),Ze=(await bH(We,o.disabled,s,p,t.shouldUseNativeValidation))[Ae],b([Ae]),qe(Ue),Be&&(Ze?bt=!1:(d.isValid||f.isValid)&&(bt=await B(r,!0)));Be&&(We._f.deps&&(!Array.isArray(We._f.deps)||We._f.deps.length>0)&&G(We._f.deps),T(Ae,bt,Ze,Je))}},q=(ue,_e)=>{if(Dt(n.errors,_e)&&ue.focus)return ue.focus(),1},G=async(ue,_e={})=>{let Ae,Be;const We=Iv(ue);if(t.resolver){const qe=await I(bi(ue)?ue:We);Ae=ha(qe),Be=ue?!We.some(Ee=>Dt(qe,Ee)):Ae}else ue?(Be=(await Promise.all(We.map(async qe=>{const Ee=Dt(r,qe);return await B(Ee&&Ee._f?{[qe]:Ee}:Ee)}))).every(Boolean),!(!Be&&!n.isValid)&&x()):Be=Ae=await B(r);return h.state.next({...!$a(ue)||(d.isValid||f.isValid)&&Ae!==n.isValid?{}:{name:ue},...t.resolver||!ue?{isValid:Ae}:{},errors:n.errors}),_e.shouldFocus&&!Be&&Rv(r,q,ue?We:o.mount),Be},j=(ue,_e)=>{let Ae={...a.mount?s:i};return _e&&(Ae=yoe(_e.dirtyFields?n.dirtyFields:n.touchedFields,Ae)),bi(ue)?Ae:$a(ue)?Dt(Ae,ue):ue.map(Be=>Dt(Ae,Be))},M=(ue,_e)=>({invalid:!!Dt((_e||n).errors,ue),isDirty:!!Dt((_e||n).dirtyFields,ue),error:Dt((_e||n).errors,ue),isValidating:!!Dt(n.validatingFields,ue),isTouched:!!Dt((_e||n).touchedFields,ue)}),z=ue=>{ue&&Iv(ue).forEach(_e=>pi(n.errors,_e)),h.state.next({errors:ue?n.errors:{}})},O=(ue,_e,Ae)=>{const Be=(Dt(r,ue,{_f:{}})._f||{}).ref,We=Dt(n.errors,ue)||{},{ref:qe,message:Ee,type:$e,...Ze}=We;ur(n.errors,ue,{...Ze,..._e,ref:Be}),h.state.next({name:ue,errors:n.errors,isValid:!1}),Ae&&Ae.shouldFocus&&Be&&Be.focus&&Be.focus()},X=(ue,_e)=>vl(ue)?h.state.subscribe({next:Ae=>"values"in Ae&&ue(U(void 0,_e),Ae)}):U(ue,_e,!0),ne=ue=>h.state.subscribe({next:_e=>{LKe(ue.name,_e.name,ue.exact)&&DKe(_e,ue.formState||d,vt,ue.reRenderRoot)&&ue.callback({values:{...s},...n,..._e,defaultValues:i})}}).unsubscribe,re=ue=>(a.mount=!0,f={...f,...ue.formState},ne({...ue,formState:f})),Q=(ue,_e={})=>{for(const Ae of ue?Iv(ue):o.mount)o.mount.delete(Ae),o.array.delete(Ae),_e.keepValue||(pi(r,Ae),pi(s,Ae)),!_e.keepError&&pi(n.errors,Ae),!_e.keepDirty&&pi(n.dirtyFields,Ae),!_e.keepTouched&&pi(n.touchedFields,Ae),!_e.keepIsValidating&&pi(n.validatingFields,Ae),!t.shouldUnregister&&!_e.keepDefaultValue&&pi(i,Ae);h.state.next({values:Gi(s)}),h.state.next({...n,..._e.keepDirty?{isDirty:L()}:{}}),!_e.keepIsValid&&x()},te=({disabled:ue,name:_e})=>{(Yl(ue)&&a.mount||ue||o.disabled.has(_e))&&(ue?o.disabled.add(_e):o.disabled.delete(_e))},ie=(ue,_e={})=>{let Ae=Dt(r,ue);const Be=Yl(_e.disabled)||Yl(t.disabled);return ur(r,ue,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:ue}},name:ue,mount:!0,..._e}}),o.mount.add(ue),Ae?te({disabled:Yl(_e.disabled)?_e.disabled:t.disabled,name:ue}):_(ue,!0,_e.value),{...Be?{disabled:_e.disabled||t.disabled}:{},...t.progressive?{required:!!_e.required,min:D1(_e.min),max:D1(_e.max),minLength:D1(_e.minLength),maxLength:D1(_e.maxLength),pattern:D1(_e.pattern)}:{},name:ue,onChange:J,onBlur:J,ref:We=>{if(We){ie(ue,_e),Ae=Dt(r,ue);const qe=bi(We.value)&&We.querySelectorAll&&We.querySelectorAll("input,select,textarea")[0]||We,Ee=AKe(qe),$e=Ae._f.refs||[];if(Ee?$e.find(Ze=>Ze===qe):qe===Ae._f.ref)return;ur(r,ue,{_f:{...Ae._f,...Ee?{refs:[...$e.filter(LT),qe,...Array.isArray(Dt(i,ue))?[{}]:[]],ref:{type:qe.type,name:ue}}:{ref:qe}}}),_(ue,!1,void 0,qe)}else Ae=Dt(r,ue,{}),Ae._f&&(Ae._f.mount=!1),(t.shouldUnregister||_e.shouldUnregister)&&!(SKe(o.array,ue)&&a.action)&&o.unMount.add(ue)}}},fe=()=>t.shouldFocusError&&Rv(r,q,o.mount),he=ue=>{Yl(ue)&&(h.state.next({disabled:ue}),Rv(r,(_e,Ae)=>{const Be=Dt(r,Ae);Be&&(_e.disabled=Be._f.disabled||ue,Array.isArray(Be._f.refs)&&Be._f.refs.forEach(We=>{We.disabled=Be._f.disabled||ue}))},0,!1))},ae=(ue,_e)=>async Ae=>{let Be;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let We=Gi(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:qe,values:Ee}=await C();n.errors=qe,We=Gi(Ee)}else await B(r);if(o.disabled.size)for(const qe of o.disabled)pi(We,qe);if(pi(n.errors,"root"),ha(n.errors)){h.state.next({errors:{}});try{await ue(We,Ae)}catch(qe){Be=qe}}else _e&&await _e({...n.errors},Ae),fe(),setTimeout(fe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ha(n.errors)&&!Be,submitCount:n.submitCount+1,errors:n.errors}),Be)throw Be},Pe=(ue,_e={})=>{Dt(r,ue)&&(bi(_e.defaultValue)?W(ue,Gi(Dt(i,ue))):(W(ue,_e.defaultValue),ur(i,ue,Gi(_e.defaultValue))),_e.keepTouched||pi(n.touchedFields,ue),_e.keepDirty||(pi(n.dirtyFields,ue),n.isDirty=_e.defaultValue?L(ue,Gi(Dt(i,ue))):L()),_e.keepError||(pi(n.errors,ue),d.isValid&&x()),h.state.next({...n}))},Te=(ue,_e={})=>{const Ae=ue?Gi(ue):i,Be=Gi(Ae),We=ha(ue),qe=We?i:Be;if(_e.keepDefaultValues||(i=Ae),!_e.keepValues){if(_e.keepDirtyValues){const Ee=new Set([...o.mount,...Object.keys(Mm(i,s))]);for(const $e of Array.from(Ee))Dt(n.dirtyFields,$e)?ur(qe,$e,Dt(s,$e)):W($e,Dt(qe,$e))}else{if(kR&&bi(ue))for(const Ee of o.mount){const $e=Dt(r,Ee);if($e&&$e._f){const Ze=Array.isArray($e._f.refs)?$e._f.refs[0]:$e._f.ref;if(AE(Ze)){const bt=Ze.closest("form");if(bt){bt.reset();break}}}}if(_e.keepFieldsRef)for(const Ee of o.mount)W(Ee,Dt(qe,Ee));else r={}}s=t.shouldUnregister?_e.keepDefaultValues?Gi(i):{}:Gi(qe),h.array.next({values:{...qe}}),h.state.next({values:{...qe}})}o={mount:_e.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!_e.keepIsValid||!!_e.keepDirtyValues,a.watch=!!t.shouldUnregister,h.state.next({submitCount:_e.keepSubmitCount?n.submitCount:0,isDirty:We?!1:_e.keepDirty?n.isDirty:!!(_e.keepDefaultValues&&!zd(ue,i)),isSubmitted:_e.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:We?{}:_e.keepDirtyValues?_e.keepDefaultValues&&s?Mm(i,s):n.dirtyFields:_e.keepDefaultValues&&ue?Mm(i,ue):_e.keepDirty?n.dirtyFields:{},touchedFields:_e.keepTouched?n.touchedFields:{},errors:_e.keepErrors?n.errors:{},isSubmitSuccessful:_e.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ge=(ue,_e)=>Te(vl(ue)?ue(s):ue,_e),nt=(ue,_e={})=>{const Ae=Dt(r,ue),Be=Ae&&Ae._f;if(Be){const We=Be.refs?Be.refs[0]:Be.ref;We.focus&&(We.focus(),_e.shouldSelect&&vl(We.select)&&We.select())}},vt=ue=>{n={...n,...ue}},Tt={control:{register:ie,unregister:Q,getFieldState:M,handleSubmit:ae,setError:O,_subscribe:ne,_runSchema:C,_focusError:fe,_getWatch:U,_getDirty:L,_setValid:x,_setFieldArray:w,_setDisabledField:te,_setErrors:k,_getFieldArray:Y,_reset:Te,_resetDefaultValues:()=>vl(t.defaultValues)&&t.defaultValues().then(ue=>{Ge(ue,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:he,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(ue){a=ue},get _defaultValues(){return i},get _names(){return o},set _names(ue){o=ue},get _formState(){return n},get _options(){return t},set _options(ue){t={...t,...ue}}},subscribe:re,trigger:G,register:ie,handleSubmit:ae,watch:X,setValue:W,getValues:j,reset:Ge,resetField:Pe,clearErrors:z,unregister:Q,setError:O,setFocus:nt,getFieldState:M};return{...Tt,formControl:Tt}}function z0(e={}){const t=Xe.useRef(void 0),n=Xe.useRef(void 0),[r,i]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:vl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vl(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!vl(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=UKe(e);t.current={...o,formState:r}}const s=t.current.control;return s._options=e,NKe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Xe.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Xe.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Xe.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Xe.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Xe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Xe.useEffect(()=>{e.values&&!zd(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,i(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),Xe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=CKe(r,s),t.current}function koe({className:e,...t}){return l.jsx(ds,{role:"status","aria-label":"Loading",className:we("size-4 animate-spin",e),...t})}const a3=({children:e,handleSubmit:t,id:n})=>l.jsx("form",{onSubmit:t,className:"flex flex-col gap-8 w-full",id:n,children:e}),dc=({label:e,name:t,errors:n,children:r,required:i=!1})=>{const s=Dt(n,t);return l.jsxs("div",{className:"self-stretch flex flex-col items-start gap-2",children:[l.jsxs(Jn,{htmlFor:t,children:[e,i&&l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),r,s&&l.jsx("p",{className:"text-sm text-destructive",children:s.message})]})},o3=({title:e,children:t})=>l.jsxs("section",{className:"self-stretch rounded-lg flex flex-col items-start gap-4",children:[l.jsx(i3,{title:e}),l.jsx("div",{className:"self-stretch flex flex-col items-start gap-4",children:t})]});function HKe({onCancel:e,onSuccess:t,onFailure:n}={}){var x,b,w,E,k,_,A,T;const{source:r}=Yu(),i=cP(),s=dg(),a=(x=r.backendData)==null?void 0:x.last_verification_error,o=!!a,{register:c,handleSubmit:u,formState:{errors:d},getValues:f,trigger:h}=z0({mode:"onSubmit",defaultValues:{url:((w=(b=r.backendData)==null?void 0:b.settings)==null?void 0:w.url)||"",email:((k=(E=r.backendData)==null?void 0:E.settings)==null?void 0:k.email)||"",token:"",spaces:((T=(A=(_=r.backendData)==null?void 0:_.settings)==null?void 0:A.spaces)==null?void 0:T.split(",").map(C=>C.trim()))||[]}}),p=async()=>{if(!await h()){mt.error({title:"Validation Error",description:"Please check the form fields and correct any errors"});return}const I=f();try{await i.mutateAsync({id:r.id,payload:{settings:{url:I.url,email:I.email},credentials:{apiToken:I.token}}}),await s.mutateAsync({id:r.id,data:{settings:{url:I.url,email:I.email},enabled:!0}}),mt.success({title:"Connection Configured",description:"Your Confluence connection has been configured successfully"}),t==null||t()}catch(B){mt.error({title:"Connection Failed",description:B instanceof Error?B.message:"Failed to configure connection"}),n==null||n()}},v=async()=>{await p()};return l.jsx(a3,{handleSubmit:u(v),id:"connection-form",children:l.jsxs(o3,{title:"Authentication",children:[o&&l.jsxs(Lp,{variant:"error",className:"mb-4",children:[l.jsx("p",{className:"font-semibold",children:"Verification Failed"}),l.jsx("p",{children:a}),l.jsx("p",{className:"text-sm mt-2",children:"Please check your credentials and try again."})]}),l.jsx(dc,{label:"URL",errors:d,name:"url",required:!0,children:l.jsx(en,{id:"url",type:"url",placeholder:"https://your-company.atlassian.net",...c("url",{required:"URL is required",pattern:{value:/^https?:\/\/.+/,message:"Please enter a valid URL"}})})}),l.jsx(dc,{label:"User email",errors:d,name:"email",required:!0,children:l.jsx(en,{id:"email",type:"email",placeholder:"you@company.com",...c("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})})}),l.jsx(dc,{label:"API token",errors:d,name:"token",required:!0,children:l.jsx(en,{id:"token",type:"password",placeholder:"Enter API token",...c("token",{required:"API token is required",minLength:{value:1,message:"API token cannot be empty"}})})}),l.jsxs("div",{className:"flex justify-start gap-2 w-full",children:[l.jsx(ve,{type:"button",onClick:p,disabled:i.isPending||s.isPending,children:i.isPending||s.isPending?l.jsxs(l.Fragment,{children:[l.jsx(koe,{className:"mr-2"}),"Connecting..."]}):"Connect"}),e&&l.jsx(ve,{type:"button",variant:"outline",onClick:e,children:"Cancel"})]}),i.isPending&&l.jsxs(Lp,{variant:"info",children:[l.jsx("p",{className:" text-accent-foreground",children:"Connection may take time"}),l.jsx("p",{children:"You can leave this page while it is connecting"})]})]})})}function VKe({onCancel:e}={}){var d,f,h,p,v,x;const{source:t}=Yu(),n=cP(),r=dg(),{register:i,handleSubmit:s,formState:{errors:a},getValues:o}=z0({defaultValues:{tenantId:((f=(d=t.backendData)==null?void 0:d.settings)==null?void 0:f.tenantId)||"",clientId:((p=(h=t.backendData)==null?void 0:h.settings)==null?void 0:p.clientId)||"",clientSecret:"",siteUrl:((x=(v=t.backendData)==null?void 0:v.settings)==null?void 0:x.siteUrl)||""}}),c=async()=>{const b=o();if(!b.tenantId||!b.clientId||!b.clientSecret||!b.siteUrl){Oi.error("Validation Error",{description:"Please fill in all authentication fields"});return}try{await n.mutateAsync({id:t.id,payload:{settings:{tenantId:b.tenantId,siteUrl:b.siteUrl},credentials:{clientId:b.clientId,clientSecret:b.clientSecret}}}),await r.mutateAsync({id:t.id,data:{settings:{tenantId:b.tenantId,clientId:b.clientId,clientSecret:b.clientSecret,siteUrl:b.siteUrl},enabled:!0}}),Oi.success("Connection Configured",{description:"Your SharePoint connection has been configured successfully"})}catch(w){Oi.error("Connection Failed",{description:w instanceof Error?w.message:"Failed to configure connection"})}},u=async()=>{await c()};return t.status!==kn.NOT_CONNECTED?l.jsx(moe,{}):l.jsx(a3,{handleSubmit:s(u),id:"connection-form",children:l.jsxs(o3,{title:"Authentication",children:[l.jsx(dc,{label:"Tenant ID",errors:a,name:"tenantId",children:l.jsx(en,{id:"tenant-id",type:"text",placeholder:"your-tenant-id",...i("tenantId",{required:"Tenant ID is required"})})}),l.jsx(dc,{label:"Client ID",errors:a,name:"clientId",children:l.jsx(en,{id:"client-id",type:"text",placeholder:"your-client-id",...i("clientId",{required:"Client ID is required"})})}),l.jsx(dc,{label:"Client Secret",errors:a,name:"clientSecret",children:l.jsx(en,{id:"client-secret",type:"password",placeholder:"",...i("clientSecret",{required:"Client Secret is required"})})}),l.jsx(dc,{label:"Site URL",errors:a,name:"siteUrl",children:l.jsx(en,{id:"site-url",type:"url",placeholder:"https://your-company.sharepoint.com",...i("siteUrl",{required:"Site URL is required"})})}),l.jsxs("div",{className:"flex justify-end gap-2",children:[e&&l.jsx(ve,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),l.jsx(ve,{type:"button",onClick:c,disabled:n.isPending||r.isPending,children:n.isPending||r.isPending?"Connecting...":"Connect"})]})]})})}function qKe({onCancel:e,onSuccess:t,onFailure:n}={}){var x,b,w,E,k;const{source:r}=Yu(),i=cP(),s=dg(),a=(x=r.backendData)==null?void 0:x.last_verification_error,o=!!a,{register:c,handleSubmit:u,formState:{errors:d},getValues:f,trigger:h}=z0({mode:"onSubmit",defaultValues:{instanceUrl:((w=(b=r.backendData)==null?void 0:b.settings)==null?void 0:w.instanceUrl)||"",username:((k=(E=r.backendData)==null?void 0:E.settings)==null?void 0:k.username)||"",password:""}}),p=async()=>{if(!await h()){mt.error({title:"Validation Error",description:"Please check the form fields and correct any errors"});return}const A=f();try{await i.mutateAsync({id:r.id,payload:{settings:{instanceUrl:A.instanceUrl},credentials:{username:A.username,password:A.password}}}),await s.mutateAsync({id:r.id,data:{settings:{instanceUrl:A.instanceUrl,username:A.username},enabled:!0}}),mt.success({title:"Connection Configured",description:"Your ServiceNow connection has been configured successfully"}),t==null||t()}catch(T){mt.error({title:"Connection Failed",description:T instanceof Error?T.message:"Failed to configure connection"}),n==null||n()}},v=async()=>{await p()};return l.jsx(a3,{handleSubmit:u(v),id:"connection-form",children:l.jsxs(o3,{title:"Authentication",children:[o&&l.jsxs(Lp,{variant:"error",className:"mb-4",children:[l.jsx("p",{className:"font-semibold",children:"Verification Failed"}),l.jsx("p",{children:a}),l.jsx("p",{className:"text-sm mt-2",children:"Please check your credentials and try again."})]}),l.jsx(dc,{label:"Instance URL",errors:d,name:"instanceUrl",required:!0,children:l.jsx(en,{id:"instance-url",type:"url",placeholder:"https://your-instance.service-now.com",...c("instanceUrl",{required:"Instance URL is required",pattern:{value:/^https?:\/\/.+/,message:"Please enter a valid URL"}})})}),l.jsx(dc,{label:"Username",errors:d,name:"username",required:!0,children:l.jsx(en,{id:"username",type:"text",placeholder:"service_account",...c("username",{required:"Username is required"})})}),l.jsx(dc,{label:"Password",errors:d,name:"password",required:!0,children:l.jsx(en,{id:"password",type:"password",placeholder:"Enter password",...c("password",{required:"Password is required"})})}),l.jsxs("div",{className:"flex justify-start gap-2 w-full",children:[l.jsx(ve,{type:"button",onClick:p,disabled:i.isPending||s.isPending,children:i.isPending||s.isPending?l.jsxs(l.Fragment,{children:[l.jsx(koe,{className:"mr-2"}),"Connecting..."]}):"Connect"}),e&&l.jsx(ve,{type:"button",variant:"outline",onClick:e,children:"Cancel"})]}),i.isPending&&l.jsxs(Lp,{variant:"info",children:[l.jsx("p",{className:"text-accent-foreground",children:"Connection may take time"}),l.jsx("p",{children:"You can leave this page while it is connecting"})]})]})})}function WKe({onCancel:e}={}){var s;const{source:t}=Yu(),n=dg(),{handleSubmit:r}=z0({defaultValues:{enableSearch:((s=t.backendData)==null?void 0:s.enabled)||!1}}),i=async a=>{try{await n.mutateAsync({id:t.id,data:{settings:{},enabled:a.enableSearch}}),Oi.success("Configuration Saved",{description:"Web Search has been enabled successfully"})}catch(o){Oi.error("Save Failed",{description:o instanceof Error?o.message:"Failed to save configuration"})}};return t.status===kn.CONNECTED?l.jsx(poe,{}):l.jsxs(a3,{handleSubmit:r(i),id:"connection-form",children:[l.jsx(o3,{title:"Settings",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable web search to supplement answers when knowledge isn't found in your connected sources."})}),l.jsxs("div",{className:"flex justify-end gap-2",children:[e&&l.jsx(ve,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),l.jsx(ve,{size:"lg",type:"submit",disabled:n.isPending,children:n.isPending?"Connecting...":"Connect"})]})]})}function vc({children:e}){const t=di(),n=Ea(),{isOwnerOrAdmin:r}=qu(),i=pf("ENABLE_SERVICENOW"),s=()=>{t("/")},a=n.pathname.startsWith("/settings/connections"),o=n.pathname.includes("/connections/knowledge"),c=n.pathname.includes("/connections/itsm"),u=n.pathname.startsWith("/settings/users"),d=n.pathname==="/settings/profile";return l.jsxs(fR,{defaultOpen:!0,children:[l.jsxs(hR,{children:[l.jsx(mR,{className:"p-2",children:l.jsx(ap,{children:l.jsx(ml,{children:l.jsxs(pl,{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",onClick:s,children:[l.jsx(Lh,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Settings"})]})})})}),l.jsxs(pR,{children:[l.jsx(by,{className:"p-2",children:l.jsx(ap,{children:l.jsx(ml,{children:l.jsx(pl,{className:we("p-2 h-8 rounded-md cursor-pointer",d&&"bg-accent text-accent-foreground"),onClick:()=>t("/settings/profile"),children:l.jsx("span",{className:"text-sm",children:"Profile"})})})})}),r()&&l.jsxs(by,{className:"p-2",children:[l.jsx(gR,{className:"px-2 h-8 text-xs opacity-70",children:"Admin"}),l.jsxs(ap,{children:[l.jsx($P,{defaultOpen:a,className:"group/collapsible",children:l.jsxs(ml,{children:[l.jsx(zP,{asChild:!0,children:l.jsxs(pl,{className:we("p-2 h-8 rounded-md cursor-pointer justify-between",a&&"text-accent-foreground"),children:[l.jsx("span",{className:"text-sm",children:"Connection Sources"}),l.jsx(ri,{className:"h-4 w-4 transition-transform group-data-[state=open]/collapsible:rotate-180"})]})}),l.jsx(BP,{children:l.jsxs(yae,{children:[l.jsx(x8,{children:l.jsx(b8,{className:we("cursor-pointer",o&&"bg-accent text-accent-foreground"),onClick:()=>t("/settings/connections/knowledge"),children:l.jsx("span",{className:"text-sm",children:"Knowledge Sources"})})}),(i||!1)&&l.jsx(x8,{children:l.jsx(b8,{className:we("cursor-pointer",c&&"bg-accent text-accent-foreground"),onClick:()=>t("/settings/connections/itsm"),children:l.jsx("span",{className:"text-sm",children:"ITSM Sources"})})})]})})]})}),l.jsx(ml,{children:l.jsx(pl,{className:we("p-2 h-8 rounded-md cursor-pointer",u&&"bg-accent text-accent-foreground"),onClick:()=>t("/settings/users"),children:l.jsx("span",{className:"text-sm",children:"Users"})})})]})]})]}),l.jsx("div",{className:"p-2 border-t border-sidebar-border invisible w-[256px]"})]}),l.jsx("main",{className:"w-full md:ml-[calc(var(--sidebar-width)+2em)]",children:e})]})}function u0({breadcrumbs:e,title:t,icon:n,description:r,action:i}){return l.jsxs("div",{className:"flex flex-col gap-8 w-full mt-5",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[e&&e.length>0&&l.jsx(Oae,{children:l.jsx(Dae,{className:"gap-2.5",children:e.map((s,a)=>{const o=a===e.length-1;return l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx(Lae,{children:o?l.jsx(JWe,{className:"text-foreground text-sm",children:s.label}):l.jsx(ZWe,{asChild:!0,children:l.jsx(ug,{to:s.href||"#",children:s.label})})}),!o&&l.jsx(eGe,{children:l.jsx(bl,{className:"h-4 w-4 text-muted-foreground"})})]},s.label)})})}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsx("div",{className:"w-5 h-5 flex-shrink-0",children:n}),l.jsx("h3",{className:"text-2xl font-medium text-foreground leading-8",children:t})]}),i&&l.jsx("div",{className:"flex-shrink-0 pr-[2em]",children:i})]}),r&&l.jsx("p",{className:"text-sm text-muted-foreground leading-5",children:r})]})]}),l.jsx(Mu,{orientation:"horizontal"})]})}const h2={VERIFYING:"verifying",SYNCING:"syncing",FAILED:"failed",COMPLETED:"completed"},GKe={[Cr.CONFLUENCE]:HKe,[Cr.SHAREPOINT]:VKe,[Cr.SERVICENOW]:qKe,[Cr.WEB_SEARCH]:WKe},KKe={[Cr.CONFLUENCE]:vKe,[Cr.SHAREPOINT]:moe,[Cr.SERVICENOW]:yKe,[Cr.WEB_SEARCH]:poe},YKe={[Cr.SERVICENOW]:bKe};function wH({mode:e}){const{id:t}=cg(),n=di(),{data:r,isLoading:i,error:s}=U2e(t),[a,o]=y.useState(!1);if(i)return l.jsx(vc,{children:l.jsx("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:l.jsx("div",{className:"text-center py-8",children:"Loading connection..."})})});if(s||!r)return l.jsx(Zm,{to:"/404",replace:!0});const c=r.last_verification_at!==null||r.status===h2.FAILED||r.status===h2.COMPLETED||r.status===h2.VERIFYING||r.status===h2.SYNCING,d=(l0[r.type]||{title:r.type}).title,f=cR(r),h=e==="knowledge"?"/settings/connections/knowledge":"/settings/connections/itsm",p=e==="knowledge"?"Knowledge Sources":"ITSM Sources",v=e==="knowledge"?KKe:YKe,x=(E,k=!1)=>{const _=k?()=>{c?o(!1):n(h)}:void 0,A=()=>{o(!1)},T=()=>{o(!1)},C=GKe[E.type];return C?l.jsx(C,{onCancel:_,onSuccess:A,onFailure:T}):l.jsx("div",{children:"Unknown source type"})},b=E=>{const k=()=>o(!0),_=v[E.type];return _?l.jsx(_,{onEdit:k}):l.jsx("div",{children:"Configuration not available for this source type"})},w=()=>!c||a?x(r,!0):b(r);return l.jsx($Ge,{source:f,children:l.jsx(vc,{children:l.jsxs("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:[l.jsx("div",{className:"self-stretch flex flex-col items-start gap-8",children:l.jsx(u0,{breadcrumbs:[{label:p,href:h},{label:d}],title:d,icon:r.type!==Cr.WEB_SEARCH?l.jsx("img",{src:`/connections/icon_${r.type}.svg`,alt:`${d} icon`}):l.jsx(zj,{className:"h-5 w-5 flex-shrink-0"}),description:`Connect your ${d} instance to build context for RITA to make better experiences.`})}),l.jsx("div",{className:"w-full max-w-2xl mx-auto flex flex-col gap-8",children:w()})]})})})}function XKe(){return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Contact Sales or Support"}),l.jsx("p",{className:"text-muted-foreground",children:"This page is coming soon"})]})})}var l3="Switch",[QKe]=hs(l3),[ZKe,JKe]=QKe(l3),_oe=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),v=Nn(t,k=>p(k)),x=y.useRef(!1),b=h?d||!!h.closest("form"):!0,[w,E]=ba({prop:i,defaultProp:s??!1,onChange:u,caller:l3});return l.jsxs(ZKe,{scope:n,checked:w,disabled:o,children:[l.jsx(Lt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":Aoe(w),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:v,onClick:gt(e.onClick,k=>{E(_=>!_),b&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})}),b&&l.jsx(Toe,{control:h,bubbles:!x.current,name:r,value:c,checked:w,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});_oe.displayName=l3;var Coe="SwitchThumb",Noe=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=JKe(Coe,n);return l.jsx(Lt.span,{"data-state":Aoe(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Noe.displayName=Coe;var eYe="SwitchBubbleInput",Toe=y.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=y.useRef(null),o=Nn(a,s),c=RP(n),u=vP(t);return y.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const v=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(v)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Toe.displayName=eYe;function Aoe(e){return e?"checked":"unchecked"}var joe=_oe,tYe=Noe;const cf=y.forwardRef(({className:e,...t},n)=>l.jsx(joe,{className:we("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(tYe,{className:we("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));cf.displayName=joe.displayName;function nYe(){const{flags:e,setFlag:t,resetAll:n,hasModifiedFlags:r}=K2e(),[i,s]=y.useState(()=>localStorage.getItem("rita_demo_mode")==="true"),a={general:[],debug:[],experimental:[]};for(const u of Object.keys(Jl)){const d=Jl[u];a[d.category].push(u)}const o=()=>{n(),tf.success("All feature flags reset to defaults")},c=(u,d)=>{t(u,d);const f=d?"enabled":"disabled";tf.success(`${Jl[u].label} ${f}`)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ng,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Feature Flags"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Control application features via localStorage"})]})]}),r()&&l.jsxs(ve,{variant:"outline",size:"sm",onClick:o,className:"gap-2",children:[l.jsx(kve,{className:"h-4 w-4"}),"Reset All"]})]}),a.general.length>0&&l.jsxs(Rn,{className:"p-6",children:[l.jsx("h3",{className:"font-medium mb-4",children:"General Features"}),l.jsx("div",{className:"space-y-4",children:a.general.map(u=>{const d=Jl[u];return l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(Jn,{htmlFor:u,className:"text-sm font-medium cursor-pointer",children:d.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),l.jsx(cf,{id:u,checked:e[u],onCheckedChange:f=>c(u,f)})]},u)})})]}),a.debug.length>0&&l.jsxs(Rn,{className:"p-6",children:[l.jsx("h3",{className:"font-medium mb-4",children:"Debug Features"}),l.jsx("div",{className:"space-y-4",children:a.debug.map(u=>{const d=Jl[u];return l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(Jn,{htmlFor:u,className:"text-sm font-medium cursor-pointer",children:d.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),l.jsx(cf,{id:u,checked:e[u],onCheckedChange:f=>c(u,f)})]},u)})})]}),a.experimental.length>0&&l.jsxs(Rn,{className:"p-6 border-amber-200 dark:border-amber-900 bg-amber-50/50 dark:bg-amber-950/20",children:[l.jsx("h3",{className:"font-medium mb-4 text-amber-900 dark:text-amber-100",children:"Experimental Features"}),l.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-4",children:"These features are in early development and may be unstable."}),l.jsx(Mu,{className:"my-4"}),l.jsx("div",{className:"space-y-4",children:a.experimental.map(u=>{const d=Jl[u];return l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(Jn,{htmlFor:u,className:"text-sm font-medium cursor-pointer",children:d.label}),l.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]}),l.jsx(cf,{id:u,checked:e[u],onCheckedChange:f=>c(u,f)})]},u)})})]}),!1,l.jsx(Rn,{className:"p-4 bg-muted/50",children:l.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.jsx("strong",{children:"Note:"})," Feature flags are stored in localStorage and persist across browser sessions. Changes take effect immediately without requiring a page refresh."]})})]})}const jR=Yj()(gY((e,t)=>({feedbackState:null,setFeedbackState:(n,r,i)=>{if(r==="excellent"){e({feedbackState:null});return}e({feedbackState:{clusterId:n,state:r,stats:i,dismissed:!1,timestamp:Date.now()}})},dismissBanner:()=>{e(n=>({feedbackState:n.feedbackState?{...n.feedbackState,dismissed:!0}:null}))},clearFeedback:()=>{e({feedbackState:null})},getFeedbackForCluster:n=>{const r=t().feedbackState;return r&&r.clusterId===n&&!r.dismissed?r:null}}),{name:"review-feedback-storage"})),rYe=()=>{const{setFeedbackState:e,clearFeedback:t,feedbackState:n}=jR(),r=()=>{e("email-signatures","poor",{totalReviewed:5,trusted:1,needsImprovement:4,confidenceImprovement:20})},i=()=>{e("email-signatures","mixed",{totalReviewed:5,trusted:2,needsImprovement:3,confidenceImprovement:40})};return l.jsx(F0,{activePage:"users",children:l.jsx("div",{className:"h-full overflow-y-auto p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Developer Tools"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage feature flags and developer settings"})]}),l.jsx(nYe,{}),l.jsxs("div",{className:"rounded-lg border p-4 space-y-4",children:[l.jsx("h2",{className:"font-medium",children:"Review Feedback Banner"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Test the banner that shows on /tickets after poor/mixed reviews"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",size:"sm",onClick:r,children:"Trigger Poor Banner"}),l.jsx(ve,{variant:"outline",size:"sm",onClick:i,children:"Trigger Mixed Banner"}),l.jsx(ve,{variant:"outline",size:"sm",onClick:t,children:"Clear Banner"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current state: ",n?`${n.state} (dismissed: ${n.dismissed})`:"none"]})]})]})})})};function iYe(){return l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-8",children:l.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Dropdown Menu Spacing Test"}),l.jsx("p",{className:"text-muted-foreground",children:"Click the buttons below to test dropdown menu spacing in production builds"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Conversation Actions"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This is the exact dropdown from the sidebar that had spacing issues"}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(Hu,{className:"h-4 w-4"})})}),l.jsxs(ni,{align:"end",children:[l.jsxs(Jt,{children:[l.jsx(x6,{className:"h-4 w-4 mr-2"}),"Rename"]}),l.jsxs(Jt,{variant:"destructive",children:[l.jsx(hf,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]}),l.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Multiple Menu Items"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Test with more items to verify consistent spacing"}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"outline",children:"Open Menu"})}),l.jsxs(ni,{align:"end",children:[l.jsx(Jt,{children:"Item 1"}),l.jsx(Jt,{children:"Item 2"}),l.jsx(Jt,{children:"Item 3"}),l.jsx(Jt,{children:"Item 4"}),l.jsx(Jt,{children:"Item 5"})]})]})})]}),l.jsxs("div",{className:"border rounded-lg p-6 space-y-4 md:col-span-2",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Mixed Content Items"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Test with icons, text, and destructive variants"}),l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"outline",children:"Actions Menu"})}),l.jsxs(ni,{align:"end",className:"w-56",children:[l.jsxs(Jt,{children:[l.jsx(x6,{className:"h-4 w-4 mr-2"}),"Edit"]}),l.jsx(Jt,{children:"Duplicate"}),l.jsx(Jt,{children:"Archive"}),l.jsxs(Jt,{variant:"destructive",children:[l.jsx(hf,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]})]}),l.jsxs("div",{className:"border-t pt-8 space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Expected Behavior:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-muted-foreground",children:[l.jsx("li",{children:"Menu items should have visible spacing between them (4px / 0.25rem)"}),l.jsx("li",{children:"Spacing should be consistent in both development and production builds"}),l.jsx("li",{children:"Items should not appear squished or touching each other"}),l.jsx("li",{children:"Hover states should be clearly visible with proper padding"})]})]}),l.jsxs("div",{className:"border-t pt-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fix Applied:"}),l.jsxs("div",{className:"bg-muted p-4 rounded-md",children:[l.jsxs("p",{className:"text-sm font-mono",children:["Added ",l.jsx("code",{className:"bg-background px-2 py-1 rounded",children:"space-y-1"})," to DropdownMenuContent"]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Location: ",l.jsx("code",{className:"text-xs",children:"src/components/ui/dropdown-menu.tsx:45"})]})]})]})]})})}const c3=({selectedItems:e,count:t,selectedUsers:n,actions:r,onDelete:i,deleteLabel:s="Delete",onClose:a,itemLabel:o="items",className:c,isLoading:u=!1,loadingLabel:d="Deleting...",remainingCount:f})=>{const h=typeof e=="number"?e:Array.isArray(e)?e.length:Array.isArray(n)?n.length:t||0;if(h===0)return null;const p=r||(i?[{key:"delete",label:u?d:s,icon:u?l.jsx(gu,{className:"h-4 w-4 animate-spin"}):l.jsx(hf,{className:"h-4 w-4"}),variant:"destructive",onClick:i,disabled:u}]:[]);return l.jsxs("section",{className:we("relative flex items-center justify-between","bg-primary-foreground dark:bg-slate-800/50 border border-border rounded-md","px-6 py-4 shadow-sm animate-in fade-in",c),"aria-label":"Bulk actions bar",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-base font-medium text-foreground",children:u&&f!=null?`${f} ${f===1?o.replace(/s$/,""):o} remaining`:`${h} ${h===1?o.replace(/s$/,""):o} selected`}),p.map(v=>l.jsxs(ve,{variant:v.variant||"default",className:"flex items-center gap-2",onClick:v.onClick,disabled:v.disabled||u,children:[v.icon,v.label]},v.key))]}),l.jsx("button",{type:"button",onClick:a,disabled:u,className:we("text-blue-600 hover:text-blue-800 dark:text-blue-400 transition-colors p-1 hover:bg-blue-100 dark:hover:bg-slate-700 rounded",u&&"opacity-50 cursor-not-allowed"),"aria-label":"Close bulk actions",children:l.jsx(li,{className:"h-5 w-5"})})]})};function af({open:e,onOpenChange:t,title:n,description:r,onConfirm:i,confirmLabel:s="Confirm",cancelLabel:a="Cancel",variant:o="default"}){const c=()=>{i(),t(!1)};return l.jsx(EE,{open:e,onOpenChange:t,children:l.jsxs(wy,{children:[l.jsxs(SE,{children:[l.jsx(_E,{children:n}),l.jsx(CE,{children:r})]}),l.jsxs(kE,{children:[l.jsx(TE,{children:a}),l.jsx(NE,{onClick:c,className:o==="destructive"?"bg-destructive text-white hover:bg-destructive/90":"bg-primary hover:bg-primary/90",children:s})]})]})})}function sYe({className:e=""}){const t=cae.join(", ");return l.jsxs("div",{className:`text-xs text-muted-foreground text-center max-w-xs space-y-2 ${e}`,children:[l.jsxs("p",{children:["File types: ",t]}),l.jsxs("p",{children:["Max size: ",uae,"mb"]})]})}function aYe({hasActiveFilters:e=!1,onUploadClick:t}){return l.jsx("div",{className:"bg-background flex flex-col items-center w-full",children:l.jsxs("div",{className:"p-6 border border-border rounded-lg flex flex-col items-center gap-6 w-full",children:[l.jsx(ZK,{className:"w-12 h-12 text-foreground opacity-30"}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("h2",{className:"text-xl font-normal text-foreground text-center leading-7",children:e?"No articles found":"No articles yet"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:e?"Try adjusting your search or filter criteria":"Upload your knowledge articles to unlock instant answers from RITA"})]}),!e&&t&&l.jsx("div",{className:"flex justify-center items-center gap-3",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-center",children:l.jsxs(ve,{variant:"secondary",onClick:t,className:"shadow-sm",children:[l.jsx(Ts,{className:"h-4 w-4"}),"Add Article"]})}),l.jsx("div",{children:l.jsx(sYe,{})})]})})]})})}function Poe({title:e,description:t,action:n,stats:r}){return l.jsxs("div",{className:"border-b border-border px-6 py-6 flex-shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-normal text-foreground",children:e}),t&&l.jsx("p",{className:"text-muted-foreground mt-1",children:t})]}),n&&l.jsx("div",{children:n})]}),r&&l.jsx("div",{className:"mt-4",children:r})]})}var u3="Checkbox",[oYe]=hs(u3),[lYe,PR]=oYe(u3);function cYe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ba({prop:n,defaultProp:i??!1,onChange:c,caller:u3}),[v,x]=y.useState(null),[b,w]=y.useState(null),E=y.useRef(!1),k=v?!!a||!!v.closest("form"):!0,_={checked:h,disabled:s,setChecked:p,control:v,setControl:x,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:uf(i)?!1:i,isFormControl:k,bubbleInput:b,setBubbleInput:w};return l.jsx(lYe,{scope:t,..._,children:uYe(f)?f(_):r})}var Ioe="CheckboxTrigger",Roe=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=PR(Ioe,e),x=Nn(i,d),b=y.useRef(c);return y.useEffect(()=>{const w=s==null?void 0:s.form;if(w){const E=()=>f(b.current);return w.addEventListener("reset",E),()=>w.removeEventListener("reset",E)}},[s,f]),l.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":uf(c)?"mixed":c,"aria-required":u,"data-state":$oe(c),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:x,onKeyDown:gt(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:gt(n,w=>{f(E=>uf(E)?!0:!E),v&&p&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});Roe.displayName=Ioe;var Moe=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(cYe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(Roe,{...f,ref:t,__scopeCheckbox:n}),h&&l.jsx(Foe,{__scopeCheckbox:n})]})})});Moe.displayName=u3;var Ooe="CheckboxIndicator",Doe=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=PR(Ooe,n);return l.jsx(ms,{present:r||uf(s.checked)||s.checked===!0,children:l.jsx(Lt.span,{"data-state":$oe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Doe.displayName=Ooe;var Loe="CheckboxBubbleInput",Foe=y.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=PR(Loe,e),v=Nn(n,p),x=RP(s),b=vP(r);y.useEffect(()=>{const E=h;if(!E)return;const k=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(k,"checked").set,T=!i.current;if(x!==s&&A){const C=new Event("click",{bubbles:T});E.indeterminate=uf(s),A.call(E,uf(s)?!1:s),E.dispatchEvent(C)}},[h,x,s,i]);const w=y.useRef(uf(s)?!1:s);return l.jsx(Lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:o,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Foe.displayName=Loe;function uYe(e){return typeof e=="function"}function uf(e){return e==="indeterminate"}function $oe(e){return uf(e)?"indeterminate":e?"checked":"unchecked"}function Xs({className:e,...t}){return l.jsx(Moe,{"data-slot":"checkbox",className:we("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Doe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(or,{className:"size-3.5"})})})}var IR="Progress",RR=100,[dYe]=hs(IR),[fYe,hYe]=dYe(IR),zoe=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=mYe,...a}=e;(i||i===0)&&!EH(i)&&console.error(pYe(`${i}`,"Progress"));const o=EH(i)?i:RR;r!==null&&!SH(r,o)&&console.error(gYe(`${r}`,"Progress"));const c=SH(r,o)?r:null,u=PE(c)?s(c,o):void 0;return l.jsx(fYe,{scope:n,value:c,max:o,children:l.jsx(Lt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":PE(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Hoe(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});zoe.displayName=IR;var Boe="ProgressIndicator",Uoe=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=hYe(Boe,n);return l.jsx(Lt.div,{"data-state":Hoe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});Uoe.displayName=Boe;function mYe(e,t){return`${Math.round(e/t*100)}%`}function Hoe(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function PE(e){return typeof e=="number"}function EH(e){return PE(e)&&!isNaN(e)&&e>0}function SH(e,t){return PE(e)&&!isNaN(e)&&e<=t&&e>=0}function pYe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RR}\`.`}function gYe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var vYe=zoe,yYe=Uoe;function Fx({className:e,value:t,...n}){return l.jsx(vYe,{"data-slot":"progress",className:we("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:l.jsx(yYe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function $x({className:e,...t}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:we("w-full caption-bottom text-sm",e),...t})})}function zx({className:e,...t}){return l.jsx("thead",{"data-slot":"table-header",className:we("[&_tr]:border-b",e),...t})}function Bx({className:e,...t}){return l.jsx("tbody",{"data-slot":"table-body",className:we("[&_tr:last-child]:border-0",e),...t})}function _l({className:e,...t}){return l.jsx("tr",{"data-slot":"table-row",className:we("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Fn({className:e,...t}){return l.jsx("th",{"data-slot":"table-head",className:we("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function yn({className:e,...t}){return l.jsx("td",{"data-slot":"table-cell",className:we("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function _8(e){return new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ac(e,t,n){return e!==t?l.jsx(y4,{className:"h-4 w-4"}):n==="asc"?l.jsx(J1e,{className:"h-4 w-4"}):l.jsx(Q1e,{className:"h-4 w-4"})}const xYe={[Ji.UPLOADED]:or,[Ji.PROCESSING]:gu,[Ji.PROCESSED]:GK,[Ji.FAILED]:Nf,[Ji.PENDING]:gu,[Ji.SYNCING]:Il},bYe={[Ji.PROCESSING]:"animate-spin",[Ji.PENDING]:"animate-spin"},wYe=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/t**r).toFixed(2))} ${n[r]}`};function EYe(e){return e?new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e):"N/A"}const SYe=e=>{if(!e)return"-";const t=e.toLowerCase();return Vm[t]||e},kYe=e=>{const t=Object.entries(Vm).find(([n,r])=>r===e);return t?t[0]:e.toLowerCase()},L1=50;function _Ye(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState("All"),[a,o]=y.useState("All"),[c,u]=y.useState(new Set),[d,f]=y.useState(null),[h,p]=y.useState(!1),[v,x]=y.useState(!1),[b,w]=y.useState("created_at"),[E,k]=y.useState("desc"),[_,A]=y.useState(0),[T,C]=y.useState(new Set),[I,B]=y.useState(!1),[$,L]=y.useState(null),[U,Y]=y.useState(null),V=y.useRef(null),K=di(),W=ir(),J=pf("ENABLE_MULTI_FILE_UPLOAD");y.useEffect(()=>{const Ue=setTimeout(()=>{r(e)},500);return()=>clearTimeout(Ue)},[e]);const{data:q,isLoading:G,error:j}=uX({limit:L1,offset:_*L1,sortBy:b,sortOrder:E,search:n,status:i!=="All"?i:void 0,source:a!=="All"?kYe(a):void 0}),{data:M}=qS(),z=VS(),O=M2e(),X=D2e(),ne=O2e(),re=(q==null?void 0:q.documents)||[],Q=(q==null?void 0:q.total)||0,ie=(M||[]).filter(Ue=>Ue.last_sync_status==="completed"&&Ue.enabled);y.useEffect(()=>{j&&mt.error({title:"Failed to load files",description:j instanceof Error?j.message:"Unable to fetch files. Please try again."})},[j]),y.useEffect(()=>{A(0)},[n,i,a]);const fe=Ue=>{b===Ue?k(E==="asc"?"desc":"asc"):(w(Ue),k("desc")),A(0)},he=re,ae=(_+1)*L1<Q,Pe=_>0,Te=()=>{ae&&(A(_+1),u(new Set))},Ge=()=>{Pe&&(A(_-1),u(new Set))},nt=()=>{c.size===he.length?u(new Set):u(new Set(he.map(Ue=>Ue.id)))},vt=Ue=>{const St=new Set(c);St.has(Ue)?St.delete(Ue):St.add(Ue),u(St)},Ct=()=>{x(!0)},Tt=async()=>{x(!1),B(!0);let Ue=0,St=0;const At=Array.from(c);let je=At.length;L(je);for(const Je of At)try{await new Promise((wt,Et)=>{ne.mutate(Je,{onSuccess:()=>{Ue++,je--,L(je),wt()},onError:()=>{St++,je--,L(je),Et()}})})}catch{}B(!1),L(null),u(new Set),W.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"}),St===0?mt.success({title:"Documents Deleted",description:`Successfully deleted ${Ue} document${Ue!==1?"s":""}`}):Ue===0?mt.error({title:"Delete Failed",description:`Failed to delete ${St} document${St!==1?"s":""}`}):mt.warning({title:"Partial Success",description:`Deleted ${Ue} document${Ue!==1?"s":""}, ${St} failed`})},ue=()=>{var Ue;(Ue=V.current)==null||Ue.click()},_e=()=>{t("")},Ae=async Ue=>{var fi;_e();const St=Ue.target.files;if(!St||St.length===0)return;const At=Array.from(St);let je=0,Je=0,wt=0;const Et=[],gn=[],dn=[],In="rita-processing-files";sessionStorage.setItem(In,JSON.stringify({total:0,processed:0,failed:0,duplicates:0,uploading:!0})),mt.info({title:"Uploading Files",description:`Starting upload of ${At.length} file${At.length>1?"s":""}...`}),At.length>1&&Y({total:At.length,current:0});for(let Un=0;Un<At.length;Un++){const Tn=At[Un];At.length>1&&Y({total:At.length,current:Un+1});const Ut=uR(Tn);if(!Ut.isValid&&Ut.error){Je++,Et.push(`${Tn.name}: ${Ut.error.description}`);continue}C(Pt=>new Set(Pt).add(Tn.name));try{const Pt=await z.mutateAsync(Tn);je++,dn.push(Pt.document.filename)}catch(Pt){Pt.status===409&&((fi=Pt.data)!=null&&fi.existing_filename)?(wt++,gn.push(`${Tn.name}: Already exists as "${Pt.data.existing_filename}"`)):(Je++,Et.push(`${Tn.name}: ${Pt.message||"Upload failed"}`))}finally{C(Pt=>{const En=new Set(Pt);return En.delete(Tn.name),En})}}if(Y(null),V.current&&(V.current.value=""),je>0&&W.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"}),je>0){const Un=JSON.parse(sessionStorage.getItem(In)||"{}"),Tn=Un.processed||0,Ut=Un.failed||0,Pt={total:je,processed:Tn,failed:Ut,duplicates:wt,uploading:!1};if(sessionStorage.setItem(In,JSON.stringify(Pt)),Tn+Ut>=je){const En=wt>0?`, ${wt} duplicate${wt>1?"s":""} skipped`:"";Tn>0&&Ut===0&&wt===0?mt.success({title:"Processing Complete",description:Tn===1?"File processed successfully":"All files processed successfully"}):Tn>0&&Ut===0&&wt>0?mt.success({title:"Processing Complete",description:`${Tn} file${Tn>1?"s":""} processed${En}`}):Tn===0&&Ut>0?mt.error({title:"Processing Failed",description:Ut===1?`File failed to process${En}`:`All files failed to process${En}`}):Tn>0&&Ut>0&&mt.warning({title:"Processing Partially Complete",description:`${Tn} successful, ${Ut} failed${En}`}),sessionStorage.removeItem(In),W.invalidateQueries({queryKey:Ys.lists(),refetchType:"active"})}}else sessionStorage.removeItem(In);if(je>0&&Je===0&&wt===0)mt.info({title:"Files Uploaded",description:`${je} file${je>1?"s":""} uploaded. Processing in background...`});else if(je>0&&wt>0&&Je===0)mt.warning({title:"Files Uploaded",description:`${je} file${je>1?"s":""} uploaded, ${wt} duplicate${wt>1?"s":""} skipped. Processing in background...`});else if(je>0&&Je>0){const Un=wt>0?`${Je} failed, ${wt} duplicate${wt>1?"s":""} skipped.`:`${Je} failed.`;mt.warning({title:"Some Files Uploaded",description:`${je} uploaded, ${Un} Processing in background...`})}else(Je>0||wt>0)&&(wt>0&&Je===0?mt.warning({title:"Files Already Exist",description:`${wt} file${wt>1?"s are":" is"} already in your knowledge base.`}):wt>0&&Je>0?mt.error({title:"Upload Failed",description:`${Je} failed, ${wt} duplicate${wt>1?"s":""} skipped (already in knowledge base).`}):mt.error({title:"Upload Failed",description:Et.length>0?Et[0]:"All uploads failed"}))},Be=Ue=>{O.mutate({documentId:Ue.id,filename:Ue.filename},{onSuccess:()=>{mt.success({title:"Download Started",description:`Downloading ${Ue.filename}`})},onError:()=>{mt.error({title:"Download Failed",description:`Could not download ${Ue.filename}`})}})},We=Ue=>{X.mutate(Ue.id,{onSuccess:()=>{mt.success({title:"Reprocessing Started",description:`Document ${Ue.filename} is being reprocessed`})},onError:()=>{mt.error({title:"Reprocess Failed",description:`Could not reprocess ${Ue.filename}`})}})},qe=Ue=>{f(Ue),p(!0)},Ee=()=>{if(d){const Ue=d.filename;ne.mutate(d.id,{onSuccess:()=>{mt.success({title:"Document Deleted",description:`${Ue} has been deleted`})},onError:()=>{mt.error({title:"Delete Failed",description:`Could not delete ${Ue}`})}}),p(!1),f(null)}},$e=Ue=>{const St=xYe[Ue]||Nf,je=`h-3 w-3 ${bYe[Ue]||""}`.trim();return l.jsx(St,{className:je})},Ze=Ue=>Ue.charAt(0).toUpperCase()+Ue.slice(1),bt=Ue=>{switch(Ue){case Ji.PROCESSED:return"default";case Ji.PROCESSING:return"secondary";case Ji.FAILED:return"destructive";default:return"outline"}};return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx(Poe,{title:"Knowledge Articles",action:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{disabled:z.isPending,children:[z.isPending?l.jsx(gu,{className:"h-4 w-4 animate-spin"}):l.jsx(Ts,{className:"h-4 w-4"}),"Add Articles"]})}),l.jsxs(ni,{align:"end",children:[l.jsxs(Jt,{onClick:ue,disabled:T.size>0,children:[T.size>0?l.jsx(gu,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(w0,{className:"h-4 w-4 mr-2"}),T.size>0?`Uploading ${T.size} file${T.size>1?"s":""}...`:"Upload file"]}),l.jsxs(Jt,{onClick:()=>K("/settings/connections"),children:[l.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Connect sources",l.jsxs("div",{className:"ml-auto flex gap-1 pl-8",children:[l.jsx("img",{src:"/connections/icon_confluence.svg",alt:"",className:"h-4 w-4"}),l.jsx("img",{src:"/connections/icon_sharepoint.svg",alt:"",className:"h-4 w-4"}),l.jsx("img",{src:"/connections/icon_servicenow.svg",alt:"",className:"h-4 w-4"})]})]}),ie.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(IP,{}),ie.map(Ue=>{var St;return l.jsxs(Jt,{onClick:()=>K(`/settings/connections/${Ue.id}`),children:[l.jsx("img",{src:`/connections/icon_${Ue.type}.svg`,alt:"",className:"h-4 w-4 mr-2"}),((St=l0[Ue.type])==null?void 0:St.title)||Ue.type]},Ue.id)})]})]})]})}),l.jsx("div",{className:"flex-1 px-6 py-6 overflow-y-auto",children:l.jsxs("div",{className:"flex flex-col gap-6",children:[c.size===0?l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsx(en,{placeholder:"Search documents.....",value:e,onChange:Ue=>t(Ue.target.value),className:"max-w-sm"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"outline",children:["Source: ",a,l.jsx(ri,{className:"h-4 w-4"})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{onSelect:()=>o("All"),children:"All Sources"}),l.jsx(Jt,{onSelect:()=>o(Vm[Od.MANUAL]),children:Vm[Od.MANUAL]}),l.jsx(Jt,{onSelect:()=>o(Vm[Od.CONFLUENCE]),children:Vm[Od.CONFLUENCE]})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"outline",children:["Status:"," ",i==="All"?i:i.charAt(0).toUpperCase()+i.slice(1),l.jsx(ri,{className:"h-4 w-4"})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{onSelect:()=>s("All"),children:"All Status"}),l.jsx(Jt,{onSelect:()=>s(Ji.PROCESSED),children:"Processed"}),l.jsx(Jt,{onSelect:()=>s(Ji.PROCESSING),children:"Processing"}),l.jsx(Jt,{onSelect:()=>s(Ji.FAILED),children:"Failed"}),l.jsx(Jt,{onSelect:()=>s(Ji.UPLOADED),children:"Uploaded"})]})]})]})]}):l.jsx(c3,{selectedItems:Array.from(c),onDelete:Ct,onClose:()=>u(new Set),itemLabel:"files",isLoading:I,remainingCount:$}),U&&l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 border rounded-md",children:[l.jsx(gu,{className:"h-4 w-4 animate-spin text-primary"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Uploading files..."}),l.jsxs("span",{children:[U.current," of ",U.total]})]}),l.jsx(Fx,{value:U.current/U.total*100,className:"h-2"})]})]}),!G&&he.length===0?l.jsx(aYe,{hasActiveFilters:e!==""||i!=="All"||a!=="All",onUploadClick:ue}):l.jsx("div",{className:"relative border rounded-md",children:l.jsxs($x,{children:[l.jsx(zx,{children:l.jsxs(_l,{children:[l.jsx(Fn,{className:"w-12",children:l.jsx(Xs,{checked:c.size===he.length&&he.length>0,onCheckedChange:nt})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground -ml-3",onClick:()=>fe("filename"),children:["Name",ac(b,"filename",E)]})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground -ml-3",onClick:()=>fe("status"),children:["Status",ac(b,"status",E)]})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground -ml-3",onClick:()=>fe("source"),children:["Source",ac(b,"source",E)]})}),l.jsx(Fn,{className:"text-right",children:l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground -mr-3",onClick:()=>fe("size"),children:["Size",ac(b,"size",E)]})}),l.jsx(Fn,{className:"text-right",children:l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground -mr-3",onClick:()=>fe("created_at"),children:["Last Modified",ac(b,"created_at",E)]})}),l.jsx(Fn,{className:"w-16"})]})}),l.jsx(Bx,{children:G?[...Array(3)].map((Ue,St)=>l.jsxs(_l,{children:[l.jsx(yn,{className:"w-12",children:l.jsx(tu,{className:"h-4 w-4"})}),l.jsx(yn,{children:l.jsx(tu,{className:"h-4 w-[200px]"})}),l.jsx(yn,{children:l.jsx(tu,{className:"h-4 w-[80px]"})}),l.jsx(yn,{children:l.jsx(tu,{className:"h-4 w-[100px]"})}),l.jsx(yn,{className:"text-right",children:l.jsx(tu,{className:"h-4 w-[60px] ml-auto"})}),l.jsx(yn,{className:"text-right",children:l.jsx(tu,{className:"h-4 w-[120px] ml-auto"})}),l.jsx(yn,{className:"w-16",children:l.jsx(tu,{className:"h-4 w-[30px]"})})]},St)):he.map(Ue=>l.jsxs(_l,{children:[l.jsx(yn,{className:"w-12",children:l.jsx(Xs,{checked:c.has(Ue.id),onCheckedChange:()=>vt(Ue.id)})}),l.jsx(yn,{children:Ue.filename}),l.jsx(yn,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(xn,{variant:bt(Ue.status),className:"flex items-center gap-1 w-fit",children:[$e(Ue.status),Ze(Ue.status)]}),Ue.status===Ji.FAILED&&l.jsxs(ve,{variant:"link",size:"sm",onClick:()=>We(Ue),disabled:X.isPending,className:"h-7 px-2 gap-1.5 hover:no-underline",children:[l.jsx(x4,{className:we("h-3 w-3",X.isPending&&"animate-spin")}),l.jsx("span",{className:"text-xs",children:"Retry"})]})]})}),l.jsx(yn,{children:SYe(Ue.source)}),l.jsx(yn,{className:"text-right",children:wYe(Ue.size)}),l.jsx(yn,{className:"text-right",children:EYe(Ue.updated_at)}),l.jsx(yn,{className:"w-16",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:l.jsx(Hu,{className:"h-4 w-4"})})}),l.jsxs(ni,{align:"end",children:[Ue.source===Od.MANUAL&&(Ue.status===Ji.UPLOADED||Ue.status===Ji.PROCESSED)&&l.jsxs(Jt,{onClick:()=>Be(Ue),children:[l.jsx(r1e,{className:"h-4 w-4 mr-2"}),"Download"]}),Ue.source===Od.MANUAL&&l.jsxs(Jt,{onClick:()=>We(Ue),disabled:X.isPending,children:[l.jsx(x4,{className:`h-4 w-4 mr-2 ${X.isPending?"animate-spin":""}`}),"Reprocess"]}),l.jsxs(Jt,{onClick:()=>qe(Ue),disabled:ne.isPending,variant:"destructive",children:[l.jsx(hf,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},Ue.id))})]})}),!G&&he.length>0&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:e||i!=="All"||a!=="All"?l.jsxs(l.Fragment,{children:["Showing ",he.length," of ",Q," articles (filtered)"]}):l.jsxs(l.Fragment,{children:["Showing ",_*L1+1,"-",Math.min((_+1)*L1,Q)," of ",Q," articles"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ve,{variant:"outline",size:"sm",onClick:Ge,disabled:!Pe,children:"Previous"}),l.jsx(ve,{variant:"outline",size:"sm",onClick:Te,disabled:!ae,children:"Next"})]})]})]})}),l.jsx("input",{ref:V,type:"file",multiple:J,className:"hidden",onChange:Ae,accept:Pv,disabled:z.isPending||T.size>0}),l.jsx(af,{open:h,onOpenChange:p,title:"Delete Document",description:`Are you sure you want to delete "${d==null?void 0:d.filename}"? This action cannot be undone.`,onConfirm:Ee,confirmLabel:"Delete",cancelLabel:"Cancel",variant:"destructive"}),l.jsx(af,{open:v,onOpenChange:x,title:"Delete Documents",description:`Are you sure you want to delete ${c.size} document${c.size!==1?"s":""}? This action cannot be undone and will permanently remove all selected files from your knowledge base.`,onConfirm:Tt,confirmLabel:"Delete",cancelLabel:"Cancel",variant:"destructive"})]})}function CYe(){return l.jsx(F0,{activePage:"files",children:l.jsx(_Ye,{})})}function NYe(){return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Self Help Resources"}),l.jsx("p",{className:"text-muted-foreground",children:"This page is coming soon"})]})})}function m2({children:e}){return l.jsx("div",{className:"flex h-screen w-full overflow-hidden bg-background",children:l.jsx("main",{className:"flex-1 flex flex-col overflow-y-auto min-w-0 w-full",children:e})})}const TYe="",AYe={validateInstantiation:async e=>(await fetch(`${TYe}/api/iframe/validate-instantiation`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).json()};function jYe({conversationId:e}){const{latestUpdate:t}=pX(),{updateMessage:n}=Is(),r=roe();return y.useEffect(()=>{t&&n(t.messageId,{status:t.status,error_message:t.errorMessage})},[t,n]),l.jsx(fae,{...r,currentConversationId:e,requireKnowledgeBase:!1})}function kH(){const{conversationId:e}=cg(),[t]=HS(),n=t.get("token"),r=t.get("intent-eid"),[i,s]=y.useState(!0),[a,o]=y.useState(null),[c,u]=y.useState(e||null),[d,f]=y.useState(!1),h="",{setCurrentConversation:p}=Is(),v=y.useRef(!1);return y.useEffect(()=>{if(v.current)return;v.current=!0;async function x(){if(!n){o("Missing token parameter"),s(!1);return}try{console.log("[IframeChatPage] Initializing public session...",{token:n.substring(0,8)+"...",intentEid:r,existingConversationId:e});const b=await AYe.validateInstantiation({token:n,intentEid:r||void 0,existingConversationId:e});b.valid&&b.conversationId?(console.log("[IframeChatPage] Session initialized",{conversationId:b.conversationId,publicUserId:b.publicUserId}),u(b.conversationId),p(b.conversationId),f(!0)):o(b.error||"Failed to initialize session")}catch(b){console.error("[IframeChatPage] Initialization error:",b),o("Failed to connect to server")}finally{s(!1)}}x()},[e,n,r,p]),i?l.jsx(m2,{children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(R4,{size:32})})}):a?l.jsx(m2,{children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center max-w-md px-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Setup Failed"}),l.jsx("p",{className:"text-sm text-gray-600",children:a})]})})}):!d||!c?l.jsx(m2,{children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"text-sm text-gray-500",children:"Initializing..."})})}):l.jsx(m2,{children:l.jsx(mX,{apiUrl:h,enabled:d,children:l.jsx(jYe,{conversationId:c})})})}const _H=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Dt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},C8=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?_H(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>_H(i,n,e))}},CH=(e,t)=>{t.shouldUseNativeValidation&&C8(e,t);const n={};for(const r in e){const i=Dt(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(PYe(t.names||Object.keys(e),r)){const a=Object.assign({},Dt(n,r));ur(a,"root",s),ur(n,r,a)}else ur(n,r,s)}return n},PYe=(e,t)=>{const n=NH(t);return e.some(r=>NH(r).match(`^${n}\\.\\d+`))};function NH(e){return e.replace(/\]|\[/g,"")}function Qe(e,t,n){function r(o,c){var u;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(u=o._zod).traits??(u.traits=new Set),o._zod.traits.add(e),t(o,c);for(const d in a.prototype)d in o||Object.defineProperty(o,d,{value:a.prototype[d].bind(o)});o._zod.constr=a,o._zod.def=c}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function a(o){var c;const u=n!=null&&n.Parent?new s:this;r(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var c,u;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(u=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class lp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Voe extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const qoe={};function d0(e){return qoe}function IYe(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function N8(e,t){return typeof t=="bigint"?t.toString():t}function MR(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function OR(e){return e==null}function DR(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const TH=Symbol("evaluating");function wr(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==TH)return r===void 0&&(r=TH,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function B0(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function U0(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function AH(e){return JSON.stringify(e)}const Woe="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function IE(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const RYe=MR(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ey(e){if(IE(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(IE(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Goe(e){return Ey(e)?{...e}:Array.isArray(e)?[...e]:e}const MYe=new Set(["string","number","symbol"]);function d3(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Df(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function un(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function OYe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}function DYe(e,t){const n=e._zod.def,r=U0(e._zod.def,{get shape(){const i={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=n.shape[s])}return B0(this,"shape",i),i},checks:[]});return Df(e,r)}function LYe(e,t){const n=e._zod.def,r=U0(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return B0(this,"shape",i),i},checks:[]});return Df(e,r)}function FYe(e,t){if(!Ey(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=U0(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return B0(this,"shape",s),s},checks:[]});return Df(e,i)}function $Ye(e,t){if(!Ey(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return B0(this,"shape",r),r},checks:e._zod.def.checks};return Df(e,n)}function zYe(e,t){const n=U0(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return B0(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Df(e,n)}function BYe(e,t,n){const r=U0(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=e?new e({type:"optional",innerType:i[a]}):i[a])}else for(const a in i)s[a]=e?new e({type:"optional",innerType:i[a]}):i[a];return B0(this,"shape",s),s},checks:[]});return Df(t,r)}function UYe(e,t,n){const r=U0(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new e({type:"nonoptional",innerType:i[a]});return B0(this,"shape",s),s},checks:[]});return Df(t,r)}function qm(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Koe(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function p2(e){return typeof e=="string"?e:e==null?void 0:e.message}function f0(e,t,n){var i,s,a,o,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=p2((a=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,e))??p2((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??p2((c=n.customError)==null?void 0:c.call(n,e))??p2((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function LR(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Sy(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Yoe=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,N8,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},FR=Qe("$ZodError",Yoe),f3=Qe("$ZodError",Yoe,{Parent:Error});function HYe(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function VYe(e,t=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,o=0;for(;o<s.path.length;){const c=s.path[o];o===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(s))):a[c]=a[c]||{_errors:[]},a=a[c],o++}}};return r(e),n}const h3=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new lp;if(a.issues.length){const o=new((i==null?void 0:i.Err)??e)(a.issues.map(c=>f0(c,s,d0())));throw Woe(o,i==null?void 0:i.callee),o}return a.value},qYe=h3(f3),m3=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((i==null?void 0:i.Err)??e)(a.issues.map(c=>f0(c,s,d0())));throw Woe(o,i==null?void 0:i.callee),o}return a.value},WYe=m3(f3),p3=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new lp;return s.issues.length?{success:!1,error:new(e??FR)(s.issues.map(a=>f0(a,i,d0())))}:{success:!0,data:s.value}},GYe=p3(f3),g3=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>f0(a,i,d0())))}:{success:!0,data:s.value}},KYe=g3(f3),YYe=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return h3(e)(t,n,i)},XYe=e=>(t,n,r)=>h3(e)(t,n,r),QYe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return m3(e)(t,n,i)},ZYe=e=>async(t,n,r)=>m3(e)(t,n,r),JYe=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return p3(e)(t,n,i)},eXe=e=>(t,n,r)=>p3(e)(t,n,r),tXe=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return g3(e)(t,n,i)},nXe=e=>async(t,n,r)=>g3(e)(t,n,r),rXe=/^[cC][^\s-]{8,}$/,iXe=/^[0-9a-z]+$/,sXe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,aXe=/^[0-9a-vA-V]{20}$/,oXe=/^[A-Za-z0-9]{27}$/,lXe=/^[a-zA-Z0-9_-]{21}$/,cXe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,uXe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,jH=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,dXe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,fXe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hXe(){return new RegExp(fXe,"u")}const mXe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pXe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,gXe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,vXe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yXe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Xoe=/^[A-Za-z0-9_-]*$/,xXe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,bXe=/^\+(?:[0-9]){6,14}[0-9]$/,Qoe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wXe=new RegExp(`^${Qoe}$`);function Zoe(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function EXe(e){return new RegExp(`^${Zoe(e)}$`)}function SXe(e){const t=Zoe({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Qoe}T(?:${r})$`)}const kXe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},_Xe=/^(?:true|false)$/i,CXe=/^[^A-Z]*$/,NXe=/^[^a-z]*$/,Mc=Qe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),TXe=Qe("$ZodCheckMaxLength",(e,t)=>{var n;Mc.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!OR(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const a=LR(i);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),AXe=Qe("$ZodCheckMinLength",(e,t)=>{var n;Mc.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!OR(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const a=LR(i);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),jXe=Qe("$ZodCheckLengthEquals",(e,t)=>{var n;Mc.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!OR(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const a=LR(i),o=s>t.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),v3=Qe("$ZodCheckStringFormat",(e,t)=>{var n,r;Mc.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),PXe=Qe("$ZodCheckRegex",(e,t)=>{v3.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),IXe=Qe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=CXe),v3.init(e,t)}),RXe=Qe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=NXe),v3.init(e,t)}),MXe=Qe("$ZodCheckIncludes",(e,t)=>{Mc.init(e,t);const n=d3(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),OXe=Qe("$ZodCheckStartsWith",(e,t)=>{Mc.init(e,t);const n=new RegExp(`^${d3(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),DXe=Qe("$ZodCheckEndsWith",(e,t)=>{Mc.init(e,t);const n=new RegExp(`.*${d3(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),LXe=Qe("$ZodCheckOverwrite",(e,t)=>{Mc.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class FXe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(a=>a),i=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const $Xe={major:4,minor:1,patch:12},Ni=Qe("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$Xe;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const a of s._zod.onattach)a(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,c,u)=>{let d=qm(o),f;for(const h of c){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,v=h._zod.check(o);if(v instanceof Promise&&(u==null?void 0:u.async)===!1)throw new lp;if(f||v instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await v,o.issues.length!==p&&(d||(d=qm(o,p)))});else{if(o.issues.length===p)continue;d||(d=qm(o,p))}}return f?f.then(()=>o):o},a=(o,c,u)=>{if(qm(o))return o.aborted=!0,o;const d=s(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new lp;return d.then(f=>e._zod.parse(f,u))}return e._zod.parse(d,u)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const d=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(f=>a(f,o,c)):a(d,o,c)}const u=e._zod.parse(o,c);if(u instanceof Promise){if(c.async===!1)throw new lp;return u.then(d=>s(d,r,c))}return s(u,r,c)}}e["~standard"]={validate:s=>{var a;try{const o=GYe(e,s);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return KYe(e,s).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),$R=Qe("$ZodString",(e,t)=>{var n;Ni.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??kXe(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),$r=Qe("$ZodStringFormat",(e,t)=>{v3.init(e,t),$R.init(e,t)}),zXe=Qe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=uXe),$r.init(e,t)}),BXe=Qe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=jH(r))}else t.pattern??(t.pattern=jH());$r.init(e,t)}),UXe=Qe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=dXe),$r.init(e,t)}),HXe=Qe("$ZodURL",(e,t)=>{$r.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:xXe.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),VXe=Qe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=hXe()),$r.init(e,t)}),qXe=Qe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=lXe),$r.init(e,t)}),WXe=Qe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=rXe),$r.init(e,t)}),GXe=Qe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=iXe),$r.init(e,t)}),KXe=Qe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=sXe),$r.init(e,t)}),YXe=Qe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=aXe),$r.init(e,t)}),XXe=Qe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=oXe),$r.init(e,t)}),QXe=Qe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=SXe(t)),$r.init(e,t)}),ZXe=Qe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wXe),$r.init(e,t)}),JXe=Qe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=EXe(t)),$r.init(e,t)}),eQe=Qe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=cXe),$r.init(e,t)}),tQe=Qe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=mXe),$r.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),nQe=Qe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=pXe),$r.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),rQe=Qe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=gXe),$r.init(e,t)}),iQe=Qe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=vXe),$r.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Joe(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const sQe=Qe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=yXe),$r.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Joe(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function aQe(e){if(!Xoe.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Joe(n)}const oQe=Qe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Xoe),$r.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{aQe(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),lQe=Qe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=bXe),$r.init(e,t)});function cQe(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const uQe=Qe("$ZodJWT",(e,t)=>{$r.init(e,t),e._zod.check=n=>{cQe(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),dQe=Qe("$ZodBoolean",(e,t)=>{Ni.init(e,t),e._zod.pattern=_Xe,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),fQe=Qe("$ZodUnknown",(e,t)=>{Ni.init(e,t),e._zod.parse=n=>n}),hQe=Qe("$ZodNever",(e,t)=>{Ni.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function PH(e,t,n){e.issues.length&&t.issues.push(...Koe(n,e.issues)),t.value[n]=e.value}const mQe=Qe("$ZodArray",(e,t)=>{Ni.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],c=t.element._zod.run({value:o,issues:[]},r);c instanceof Promise?s.push(c.then(u=>PH(u,n,a))):PH(c,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function RE(e,t,n,r){e.issues.length&&t.issues.push(...Koe(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function ele(e){var r,i,s,a;const t=Object.keys(e.shape);for(const o of t)if(!((a=(s=(i=(r=e.shape)==null?void 0:r[o])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=OYe(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function tle(e,t,n,r,i,s){const a=[],o=i.keySet,c=i.catchall._zod,u=c.def.type;for(const d of Object.keys(t)){if(o.has(d))continue;if(u==="never"){a.push(d);continue}const f=c.run({value:t[d],issues:[]},r);f instanceof Promise?e.push(f.then(h=>RE(h,n,d,t))):RE(f,n,d,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const pQe=Qe("$ZodObject",(e,t)=>{Ni.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=MR(()=>ele(t));wr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const d=o[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const f of d.values)c[u].add(f)}}return c});const i=IE,s=t.catchall;let a;e._zod.parse=(o,c)=>{a??(a=r.value);const u=o.value;if(!i(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const d=[],f=a.shape;for(const h of a.keys){const v=f[h]._zod.run({value:u[h],issues:[]},c);v instanceof Promise?d.push(v.then(x=>RE(x,o,h,u))):RE(v,o,h,u)}return s?tle(d,u,o,c,r.value,e):d.length?Promise.all(d).then(()=>o):o}}),gQe=Qe("$ZodObjectJIT",(e,t)=>{pQe.init(e,t);const n=e._zod.parse,r=MR(()=>ele(t)),i=h=>{const p=new FXe(["shape","payload","ctx"]),v=r.value,x=k=>{const _=AH(k);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};p.write("const input = payload.value;");const b=Object.create(null);let w=0;for(const k of v.keys)b[k]=`key_${w++}`;p.write("const newResult = {};");for(const k of v.keys){const _=b[k],A=AH(k);p.write(`const ${_} = ${x(k)};`),p.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        
        if (${_}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${_}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const E=p.compile();return(k,_)=>E(h,k,_)};let s;const a=IE,o=!qoe.jitless,u=o&&RYe.value,d=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=r.value);const v=h.value;return a(v)?o&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=i(t.shape)),h=s(h,p),d?tle([],v,h,p,f,e):h):n(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),h)}});function IH(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!qm(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>f0(a,r,d0())))}),t)}const vQe=Qe("$ZodUnion",(e,t)=>{Ni.init(e,t),wr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),wr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),wr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),wr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>DR(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},s);if(u instanceof Promise)o.push(u),a=!0;else{if(u.issues.length===0)return u;o.push(u)}}return a?Promise.all(o).then(c=>IH(c,i,e,s)):IH(o,i,e,s)}}),yQe=Qe("$ZodIntersection",(e,t)=>{Ni.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([c,u])=>RH(n,c,u)):RH(n,s,a)}});function T8(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ey(e)&&Ey(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const a=T8(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],a=T8(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function RH(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),qm(e))return e;const r=T8(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const xQe=Qe("$ZodEnum",(e,t)=>{Ni.init(e,t);const n=IYe(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>MYe.has(typeof i)).map(i=>typeof i=="string"?d3(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:e}),i}}),bQe=Qe("$ZodTransform",(e,t)=>{Ni.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Voe(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(n.value=a,n));if(i instanceof Promise)throw new lp;return n.value=i,n}});function MH(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const wQe=Qe("$ZodOptional",(e,t)=>{Ni.init(e,t),e._zod.optin="optional",e._zod.optout="optional",wr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),wr(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${DR(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>MH(s,n.value)):MH(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),EQe=Qe("$ZodNullable",(e,t)=>{Ni.init(e,t),wr(e._zod,"optin",()=>t.innerType._zod.optin),wr(e._zod,"optout",()=>t.innerType._zod.optout),wr(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${DR(n.source)}|null)$`):void 0}),wr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),SQe=Qe("$ZodDefault",(e,t)=>{Ni.init(e,t),e._zod.optin="optional",wr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>OH(s,t)):OH(i,t)}});function OH(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const kQe=Qe("$ZodPrefault",(e,t)=>{Ni.init(e,t),e._zod.optin="optional",wr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),_Qe=Qe("$ZodNonOptional",(e,t)=>{Ni.init(e,t),wr(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>DH(s,e)):DH(i,e)}});function DH(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const CQe=Qe("$ZodCatch",(e,t)=>{Ni.init(e,t),wr(e._zod,"optin",()=>t.innerType._zod.optin),wr(e._zod,"optout",()=>t.innerType._zod.optout),wr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>f0(a,r,d0()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>f0(s,r,d0()))},input:n.value}),n.issues=[]),n)}}),NQe=Qe("$ZodPipe",(e,t)=>{Ni.init(e,t),wr(e._zod,"values",()=>t.in._zod.values),wr(e._zod,"optin",()=>t.in._zod.optin),wr(e._zod,"optout",()=>t.out._zod.optout),wr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(a=>g2(a,t.in,r)):g2(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>g2(s,t.out,r)):g2(i,t.out,r)}});function g2(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const TQe=Qe("$ZodReadonly",(e,t)=>{Ni.init(e,t),wr(e._zod,"propValues",()=>t.innerType._zod.propValues),wr(e._zod,"values",()=>t.innerType._zod.values),wr(e._zod,"optin",()=>t.innerType._zod.optin),wr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(LH):LH(i)}});function LH(e){return e.value=Object.freeze(e.value),e}const AQe=Qe("$ZodCustom",(e,t)=>{Mc.init(e,t),Ni.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>FH(s,n,r,e));FH(i,n,r,e)}});function FH(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Sy(i))}}class jQe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function PQe(){return new jQe}const v2=PQe();function IQe(e,t){return new e({type:"string",...un(t)})}function RQe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...un(t)})}function $H(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...un(t)})}function MQe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...un(t)})}function OQe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...un(t)})}function DQe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...un(t)})}function LQe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...un(t)})}function FQe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...un(t)})}function $Qe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...un(t)})}function zQe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...un(t)})}function BQe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...un(t)})}function UQe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...un(t)})}function HQe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...un(t)})}function VQe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...un(t)})}function qQe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...un(t)})}function WQe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...un(t)})}function GQe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...un(t)})}function KQe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...un(t)})}function YQe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...un(t)})}function XQe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...un(t)})}function QQe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...un(t)})}function ZQe(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...un(t)})}function JQe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...un(t)})}function eZe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...un(t)})}function tZe(e,t){return new e({type:"string",format:"date",check:"string_format",...un(t)})}function nZe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...un(t)})}function rZe(e,t){return new e({type:"string",format:"duration",check:"string_format",...un(t)})}function iZe(e,t){return new e({type:"boolean",...un(t)})}function sZe(e){return new e({type:"unknown"})}function aZe(e,t){return new e({type:"never",...un(t)})}function nle(e,t){return new TXe({check:"max_length",...un(t),maximum:e})}function ME(e,t){return new AXe({check:"min_length",...un(t),minimum:e})}function rle(e,t){return new jXe({check:"length_equals",...un(t),length:e})}function oZe(e,t){return new PXe({check:"string_format",format:"regex",...un(t),pattern:e})}function lZe(e){return new IXe({check:"string_format",format:"lowercase",...un(e)})}function cZe(e){return new RXe({check:"string_format",format:"uppercase",...un(e)})}function uZe(e,t){return new MXe({check:"string_format",format:"includes",...un(t),includes:e})}function dZe(e,t){return new OXe({check:"string_format",format:"starts_with",...un(t),prefix:e})}function fZe(e,t){return new DXe({check:"string_format",format:"ends_with",...un(t),suffix:e})}function Ux(e){return new LXe({check:"overwrite",tx:e})}function hZe(e){return Ux(t=>t.normalize(e))}function mZe(){return Ux(e=>e.trim())}function pZe(){return Ux(e=>e.toLowerCase())}function gZe(){return Ux(e=>e.toUpperCase())}function vZe(e,t,n){return new e({type:"array",element:t,...un(n)})}function yZe(e,t,n){return new e({type:"custom",check:"custom",fn:t,...un(n)})}function xZe(e){const t=bZe(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Sy(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Sy(i))}},e(n.value,n)));return t}function bZe(e,t){const n=new Mc({check:"custom",...un(t)});return n._zod.check=e,n}function zH(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function wZe(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[a].types,u=c&&c[r.code];n[a]=NR(a,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function EZe(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if(r.code==="invalid_union"&&r.errors.length>0){var o=r.errors[0][0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var c=n[a].types,u=c&&c[r.code];n[a]=NR(a,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n}function zR(e,t,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(e))return function(r,i,s){try{return Promise.resolve(zH(function(){return Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(a){return s.shouldUseNativeValidation&&C8({},s),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if((function(o){return Array.isArray(o==null?void 0:o.issues)})(a))return{values:{},errors:CH(wZe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(e))return function(r,i,s){try{return Promise.resolve(zH(function(){return Promise.resolve((n.mode==="sync"?qYe:WYe)(e,r,t)).then(function(a){return s.shouldUseNativeValidation&&C8({},s),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if((function(o){return o instanceof FR})(a))return{values:{},errors:CH(EZe(a.issues,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const SZe=Qe("ZodISODateTime",(e,t)=>{QXe.init(e,t),Yr.init(e,t)});function kZe(e){return eZe(SZe,e)}const _Ze=Qe("ZodISODate",(e,t)=>{ZXe.init(e,t),Yr.init(e,t)});function CZe(e){return tZe(_Ze,e)}const NZe=Qe("ZodISOTime",(e,t)=>{JXe.init(e,t),Yr.init(e,t)});function TZe(e){return nZe(NZe,e)}const AZe=Qe("ZodISODuration",(e,t)=>{eQe.init(e,t),Yr.init(e,t)});function jZe(e){return rZe(AZe,e)}const PZe=(e,t)=>{FR.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>VYe(e,n)},flatten:{value:n=>HYe(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,N8,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,N8,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ho=Qe("ZodError",PZe,{Parent:Error}),IZe=h3(Ho),RZe=m3(Ho),MZe=p3(Ho),OZe=g3(Ho),DZe=YYe(Ho),LZe=XYe(Ho),FZe=QYe(Ho),$Ze=ZYe(Ho),zZe=JYe(Ho),BZe=eXe(Ho),UZe=tXe(Ho),HZe=nXe(Ho),zi=Qe("ZodType",(e,t)=>(Ni.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(U0(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Df(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>IZe(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>MZe(e,n,r),e.parseAsync=async(n,r)=>RZe(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>OZe(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>DZe(e,n,r),e.decode=(n,r)=>LZe(e,n,r),e.encodeAsync=async(n,r)=>FZe(e,n,r),e.decodeAsync=async(n,r)=>$Ze(e,n,r),e.safeEncode=(n,r)=>zZe(e,n,r),e.safeDecode=(n,r)=>BZe(e,n,r),e.safeEncodeAsync=async(n,r)=>UZe(e,n,r),e.safeDecodeAsync=async(n,r)=>HZe(e,n,r),e.refine=(n,r)=>e.check(MJe(n,r)),e.superRefine=n=>e.check(OJe(n)),e.overwrite=n=>e.check(Ux(n)),e.optional=()=>HH(e),e.nullable=()=>VH(e),e.nullish=()=>HH(VH(e)),e.nonoptional=n=>NJe(e,n),e.array=()=>hJe(e),e.or=n=>gJe([e,n]),e.and=n=>yJe(e,n),e.transform=n=>qH(e,wJe(n)),e.default=n=>kJe(e,n),e.prefault=n=>CJe(e,n),e.catch=n=>AJe(e,n),e.pipe=n=>qH(e,n),e.readonly=()=>IJe(e),e.describe=n=>{const r=e.clone();return v2.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=v2.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return v2.get(e);const r=e.clone();return v2.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),ile=Qe("_ZodString",(e,t)=>{$R.init(e,t),zi.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(oZe(...r)),e.includes=(...r)=>e.check(uZe(...r)),e.startsWith=(...r)=>e.check(dZe(...r)),e.endsWith=(...r)=>e.check(fZe(...r)),e.min=(...r)=>e.check(ME(...r)),e.max=(...r)=>e.check(nle(...r)),e.length=(...r)=>e.check(rle(...r)),e.nonempty=(...r)=>e.check(ME(1,...r)),e.lowercase=r=>e.check(lZe(r)),e.uppercase=r=>e.check(cZe(r)),e.trim=()=>e.check(mZe()),e.normalize=(...r)=>e.check(hZe(...r)),e.toLowerCase=()=>e.check(pZe()),e.toUpperCase=()=>e.check(gZe())}),VZe=Qe("ZodString",(e,t)=>{$R.init(e,t),ile.init(e,t),e.email=n=>e.check(RQe(qZe,n)),e.url=n=>e.check(FQe(WZe,n)),e.jwt=n=>e.check(JQe(oJe,n)),e.emoji=n=>e.check($Qe(GZe,n)),e.guid=n=>e.check($H(BH,n)),e.uuid=n=>e.check(MQe(y2,n)),e.uuidv4=n=>e.check(OQe(y2,n)),e.uuidv6=n=>e.check(DQe(y2,n)),e.uuidv7=n=>e.check(LQe(y2,n)),e.nanoid=n=>e.check(zQe(KZe,n)),e.guid=n=>e.check($H(BH,n)),e.cuid=n=>e.check(BQe(YZe,n)),e.cuid2=n=>e.check(UQe(XZe,n)),e.ulid=n=>e.check(HQe(QZe,n)),e.base64=n=>e.check(XQe(iJe,n)),e.base64url=n=>e.check(QQe(sJe,n)),e.xid=n=>e.check(VQe(ZZe,n)),e.ksuid=n=>e.check(qQe(JZe,n)),e.ipv4=n=>e.check(WQe(eJe,n)),e.ipv6=n=>e.check(GQe(tJe,n)),e.cidrv4=n=>e.check(KQe(nJe,n)),e.cidrv6=n=>e.check(YQe(rJe,n)),e.e164=n=>e.check(ZQe(aJe,n)),e.datetime=n=>e.check(kZe(n)),e.date=n=>e.check(CZe(n)),e.time=n=>e.check(TZe(n)),e.duration=n=>e.check(jZe(n))});function nc(e){return IQe(VZe,e)}const Yr=Qe("ZodStringFormat",(e,t)=>{$r.init(e,t),ile.init(e,t)}),qZe=Qe("ZodEmail",(e,t)=>{UXe.init(e,t),Yr.init(e,t)}),BH=Qe("ZodGUID",(e,t)=>{zXe.init(e,t),Yr.init(e,t)}),y2=Qe("ZodUUID",(e,t)=>{BXe.init(e,t),Yr.init(e,t)}),WZe=Qe("ZodURL",(e,t)=>{HXe.init(e,t),Yr.init(e,t)}),GZe=Qe("ZodEmoji",(e,t)=>{VXe.init(e,t),Yr.init(e,t)}),KZe=Qe("ZodNanoID",(e,t)=>{qXe.init(e,t),Yr.init(e,t)}),YZe=Qe("ZodCUID",(e,t)=>{WXe.init(e,t),Yr.init(e,t)}),XZe=Qe("ZodCUID2",(e,t)=>{GXe.init(e,t),Yr.init(e,t)}),QZe=Qe("ZodULID",(e,t)=>{KXe.init(e,t),Yr.init(e,t)}),ZZe=Qe("ZodXID",(e,t)=>{YXe.init(e,t),Yr.init(e,t)}),JZe=Qe("ZodKSUID",(e,t)=>{XXe.init(e,t),Yr.init(e,t)}),eJe=Qe("ZodIPv4",(e,t)=>{tQe.init(e,t),Yr.init(e,t)}),tJe=Qe("ZodIPv6",(e,t)=>{nQe.init(e,t),Yr.init(e,t)}),nJe=Qe("ZodCIDRv4",(e,t)=>{rQe.init(e,t),Yr.init(e,t)}),rJe=Qe("ZodCIDRv6",(e,t)=>{iQe.init(e,t),Yr.init(e,t)}),iJe=Qe("ZodBase64",(e,t)=>{sQe.init(e,t),Yr.init(e,t)}),sJe=Qe("ZodBase64URL",(e,t)=>{oQe.init(e,t),Yr.init(e,t)}),aJe=Qe("ZodE164",(e,t)=>{lQe.init(e,t),Yr.init(e,t)}),oJe=Qe("ZodJWT",(e,t)=>{uQe.init(e,t),Yr.init(e,t)}),lJe=Qe("ZodBoolean",(e,t)=>{dQe.init(e,t),zi.init(e,t)});function FT(e){return iZe(lJe,e)}const cJe=Qe("ZodUnknown",(e,t)=>{fQe.init(e,t),zi.init(e,t)});function UH(){return sZe(cJe)}const uJe=Qe("ZodNever",(e,t)=>{hQe.init(e,t),zi.init(e,t)});function dJe(e){return aZe(uJe,e)}const fJe=Qe("ZodArray",(e,t)=>{mQe.init(e,t),zi.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(ME(n,r)),e.nonempty=n=>e.check(ME(1,n)),e.max=(n,r)=>e.check(nle(n,r)),e.length=(n,r)=>e.check(rle(n,r)),e.unwrap=()=>e.element});function hJe(e,t){return vZe(fJe,e,t)}const mJe=Qe("ZodObject",(e,t)=>{gQe.init(e,t),zi.init(e,t),wr(e,"shape",()=>t.shape),e.keyof=()=>xJe(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:UH()}),e.loose=()=>e.clone({...e._zod.def,catchall:UH()}),e.strict=()=>e.clone({...e._zod.def,catchall:dJe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>FYe(e,n),e.safeExtend=n=>$Ye(e,n),e.merge=n=>zYe(e,n),e.pick=n=>DYe(e,n),e.omit=n=>LYe(e,n),e.partial=(...n)=>BYe(sle,e,n[0]),e.required=(...n)=>UYe(ale,e,n[0])});function BR(e,t){const n={type:"object",shape:e??{},...un(t)};return new mJe(n)}const pJe=Qe("ZodUnion",(e,t)=>{vQe.init(e,t),zi.init(e,t),e.options=t.options});function gJe(e,t){return new pJe({type:"union",options:e,...un(t)})}const vJe=Qe("ZodIntersection",(e,t)=>{yQe.init(e,t),zi.init(e,t)});function yJe(e,t){return new vJe({type:"intersection",left:e,right:t})}const A8=Qe("ZodEnum",(e,t)=>{xQe.init(e,t),zi.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const a of r)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new A8({...t,checks:[],...un(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new A8({...t,checks:[],...un(i),entries:s})}});function xJe(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new A8({type:"enum",entries:n,...un(t)})}const bJe=Qe("ZodTransform",(e,t)=>{bQe.init(e,t),zi.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Voe(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Sy(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(Sy(a))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function wJe(e){return new bJe({type:"transform",transform:e})}const sle=Qe("ZodOptional",(e,t)=>{wQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType});function HH(e){return new sle({type:"optional",innerType:e})}const EJe=Qe("ZodNullable",(e,t)=>{EQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType});function VH(e){return new EJe({type:"nullable",innerType:e})}const SJe=Qe("ZodDefault",(e,t)=>{SQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function kJe(e,t){return new SJe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Goe(t)}})}const _Je=Qe("ZodPrefault",(e,t)=>{kQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType});function CJe(e,t){return new _Je({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Goe(t)}})}const ale=Qe("ZodNonOptional",(e,t)=>{_Qe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType});function NJe(e,t){return new ale({type:"nonoptional",innerType:e,...un(t)})}const TJe=Qe("ZodCatch",(e,t)=>{CQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function AJe(e,t){return new TJe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const jJe=Qe("ZodPipe",(e,t)=>{NQe.init(e,t),zi.init(e,t),e.in=t.in,e.out=t.out});function qH(e,t){return new jJe({type:"pipe",in:e,out:t})}const PJe=Qe("ZodReadonly",(e,t)=>{TQe.init(e,t),zi.init(e,t),e.unwrap=()=>e._zod.def.innerType});function IJe(e){return new PJe({type:"readonly",innerType:e})}const RJe=Qe("ZodCustom",(e,t)=>{AQe.init(e,t),zi.init(e,t)});function MJe(e,t={}){return yZe(RJe,e,t)}function OJe(e){return xZe(e)}const ole=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#.])[A-Za-z\d@$!%*?&#.]+$/,OE=8;function $T(e){const t=e.trim();return t.length<OE?`Password must be at least ${OE} characters`:ole.test(t)?null:"Password must contain uppercase, lowercase, number, and special character"}function zT(e){const t=e.trim();return t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Please enter a valid email address":"Email is required"}function Xc(e,t){return e.trim()?null:`${t} is required`}const DJe=BR({password:nc().transform(e=>e.trim()).pipe(nc().min(OE,`Password must be at least ${OE} characters`).refine(e=>ole.test(e),{message:"Password must contain uppercase, lowercase, number, and special character"})),firstName:nc().transform(e=>e.trim()).pipe(nc().min(1,"First name is required")),lastName:nc().transform(e=>e.trim()).pipe(nc().min(1,"Last name is required"))}),LJe={[dr.INVALID_TOKEN]:"This invitation link is invalid",[dr.INVITATION_EXPIRED]:"This invitation has expired. Please request a new invitation.",[dr.INVITATION_ALREADY_ACCEPTED]:"This invitation has already been accepted. You can log in with your credentials.",[dr.INVITATION_CANCELLED]:"This invitation has been cancelled by an administrator.",[dr.PASSWORD_TOO_WEAK]:"Password does not meet security requirements",[dr.PASSWORD_REQUIRED]:"Password is required",[dr.FIRST_NAME_REQUIRED]:"First name is required",[dr.LAST_NAME_REQUIRED]:"Last name is required",[dr.SERVER_ERROR]:"Server error occurred. Please try again later",[dr.INVALID_EMAIL]:"Invalid email address",[dr.DUPLICATE_PENDING]:"User already has a pending invitation",[dr.USER_ALREADY_EXISTS]:"User already has an account",[dr.BATCH_SIZE_EXCEEDED]:"Maximum 50 email addresses allowed per batch",[dr.TENANT_LIMIT_EXCEEDED]:"Organization has reached the maximum number of users",[dr.UNAUTHORIZED]:"You don't have permission to perform this action",[dr.FORBIDDEN]:"You don't have permission to perform this action"};function WH(e){return LJe[e.error]||e.message||"Failed to accept invitation"}function FJe(){var E;const[e]=HS(),t=e.get("token"),n=di(),[r,i]=y.useState(0),[s,a]=y.useState(!1),{data:o,isLoading:c,error:u}=wGe(t||"",!!t),{mutate:d,isPending:f,error:h}=EGe(),{register:p,handleSubmit:v,formState:{errors:x,isValid:b}}=z0({resolver:zR(DJe),mode:"onChange",defaultValues:{password:"",firstName:"",lastName:""}});y.useEffect(()=>{if(f){i(0);const k=setInterval(()=>{i(_=>_>=90?(clearInterval(k),90):_+10)},200);return()=>clearInterval(k)}},[f]);const w=k=>{if(!t){console.error("No invitation token provided");return}d({token:t,password:k.password,firstName:k.firstName,lastName:k.lastName},{onSuccess:()=>{i(100),a(!0),setTimeout(()=>{n("/login")},3e3)},onError:_=>{i(0),console.error("Failed to accept invitation:",_)}})};return c?l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#000000] to-[#012C72] flex justify-center items-center px-9",children:l.jsxs("div",{className:"w-full max-w-md rounded-2xl p-4 flex flex-col justify-center items-center gap-6",children:[l.jsx(ds,{className:"h-8 w-8 animate-spin text-white"}),l.jsx("p",{className:"text-white text-sm",children:"Verifying invitation..."})]})}):u||!(o!=null&&o.valid)?l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#000000] to-[#012C72] flex justify-center items-center px-9",children:l.jsx("div",{className:"w-full max-w-md rounded-2xl p-4 flex flex-col justify-start items-center gap-6",children:l.jsxs("div",{className:"w-full flex flex-col justify-start items-center gap-6 py-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Nf,{className:"h-5 w-5 text-red-400"})}),l.jsxs("div",{className:"w-full flex flex-col justify-start items-center",children:[l.jsx("h2",{className:"text-white text-3xl font-normal text-center leading-9 font-serif pb-2",children:"Invalid Invitation"}),l.jsx("p",{className:"text-white text-sm text-center leading-5",children:u?WH(u):"This invitation link is no longer valid."})]}),l.jsx("div",{className:"w-full",children:l.jsx(ve,{className:"w-full",onClick:()=>n("/login"),children:"Go to Login"})})]})})}):s?l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#000000] to-[#012C72] flex justify-center items-center px-9",children:l.jsx("div",{className:"w-full max-w-md rounded-2xl p-4 flex flex-col justify-start items-center gap-6",children:l.jsxs("div",{className:"w-full flex flex-col justify-start items-center gap-6 py-4",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Gy,{className:"h-8 w-8 text-green-400"})}),l.jsxs("div",{className:"w-full flex flex-col justify-start items-center",children:[l.jsx("h2",{className:"text-white text-3xl font-normal text-center leading-9 font-serif pb-2",children:"Account Created Successfully!"}),l.jsx("p",{className:"text-white text-sm text-center leading-5 mb-4",children:"Your account has been created successfully. You can now log in with your credentials."}),l.jsx("p",{className:"text-white/70 text-sm text-center leading-5",children:"Redirecting to login page in 3 seconds..."})]}),l.jsx("div",{className:"w-full",children:l.jsx(ve,{className:"w-full",onClick:()=>n("/login"),children:"Go to Login Now"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#000000] to-[#012C72] flex justify-center items-center px-9",children:l.jsx("div",{className:"w-full max-w-md rounded-2xl p-4 flex flex-col justify-start items-center gap-6",children:l.jsxs("form",{onSubmit:v(w),className:"w-full flex flex-col justify-start items-center gap-6 py-4",children:[l.jsxs("div",{className:"w-full flex flex-col justify-start items-center gap-6",children:[l.jsx("div",{className:"w-full flex justify-center items-start",children:l.jsx("div",{className:"w-6 h-6 flex justify-start items-center",children:l.jsx("img",{src:"/logo-mark.svg",alt:"RITA Go Logo",width:"24",height:"24"})})}),l.jsxs("div",{className:"w-full flex flex-col justify-start items-center",children:[l.jsx("div",{className:"w-full flex justify-center items-center pb-2",children:l.jsx("h2",{className:"text-white text-3xl font-normal text-center leading-9 font-serif",children:"You've been invited to RITA Go"})}),l.jsx("div",{className:"w-full flex justify-center items-center",children:l.jsx("p",{className:"text-white text-sm text-center leading-5",children:"To start your 90 day trial generate a password"})})]})]}),l.jsxs("div",{className:"w-full flex flex-col justify-center items-center gap-5",children:[h&&l.jsx(Lp,{variant:"warning",children:WH(h)}),f&&l.jsxs("div",{className:"w-full space-y-2",children:[l.jsx(Fx,{value:r,className:"w-full"}),l.jsx("p",{className:"text-white text-sm text-center",children:"Creating your account..."})]}),l.jsxs("div",{className:"w-full space-y-2",children:[l.jsx(Jn,{htmlFor:"email",className:"text-white text-sm",children:"Email"}),l.jsx(en,{id:"email",type:"email",value:((E=o==null?void 0:o.invitation)==null?void 0:E.email)||"",disabled:!0,readOnly:!0,className:"opacity-50 text-white"})]}),l.jsxs("div",{className:"w-full flex gap-5",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Jn,{htmlFor:"firstName",className:"text-white text-sm",children:"First name"}),l.jsx(en,{id:"firstName",type:"text",placeholder:"",...p("firstName"),disabled:f,className:"text-white placeholder:text-gray-400"}),x.firstName&&l.jsx("p",{className:"text-sm text-red-400",children:x.firstName.message})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Jn,{htmlFor:"lastName",className:"text-white text-sm",children:"Last name"}),l.jsx(en,{id:"lastName",type:"text",placeholder:"",...p("lastName"),disabled:f,className:"text-white placeholder:text-gray-400"}),x.lastName&&l.jsx("p",{className:"text-sm text-red-400",children:x.lastName.message})]})]}),l.jsxs("div",{className:"w-full space-y-2",children:[l.jsx(Jn,{htmlFor:"password",className:"text-white text-sm",children:"Password"}),l.jsx(en,{id:"password",type:"password",placeholder:"",...p("password"),disabled:f,className:"text-white placeholder:text-gray-400"}),x.password&&l.jsx("p",{className:"text-sm text-red-400",children:x.password.message})]}),l.jsx("div",{className:"w-full",children:l.jsxs(ve,{type:"submit",className:"w-full",disabled:!b||f,children:[f&&l.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),f?"Creating Account...":"Accept Invite"]})})]})]})})})}function $Je(){const{authenticated:e}=DS();return l.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-black via-[#0d1637] to-[#1a2549] text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-2xl text-center space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-6xl font-bold tracking-tighter text-white",children:"404"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-200",children:"Page Not Found"}),l.jsx("p",{className:"text-lg text-muted-foreground max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved."})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(ve,{asChild:!0,className:"h-12 px-6 text-base font-medium bg-blue-600 hover:bg-blue-700 text-white",children:l.jsxs(ug,{to:e?"/chat":"/login","aria-label":"Go to homepage",children:[l.jsx(Uj,{className:"h-5 w-5 mr-2"}),"Go Home"]})})})]})})}const zJe="";function BJe(){const e=di(),{authenticated:t,login:n,loading:r,sessionReady:i}=DS(),[s,a]=y.useState({firstName:"",lastName:"",email:"",company:"",password:"",acceptedTos:!1}),[o,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState({}),[p,v]=y.useState({});y.useEffect(()=>{const w="rita_returning_user";(localStorage.getItem(w)==="true"||document.cookie.includes(`${w}=true`))&&(localStorage.removeItem(w),document.cookie=`${w}=; Max-Age=0; path=/; SameSite=Lax`,n())},[n]);const x=()=>!(!s.firstName.trim()||!s.lastName.trim()||!s.email.trim()||!s.company.trim()||!s.password||!s.acceptedTos||Xc(s.firstName,"First name")||Xc(s.lastName,"Last name")||zT(s.email)||Xc(s.company,"Company name")||$T(s.password)),b=async w=>{w.preventDefault(),c(!0),d(null),h({}),v({firstName:!0,lastName:!0,email:!0,company:!0,password:!0});const E={},k=Xc(s.firstName,"First name");k&&(E.firstName=k);const _=Xc(s.lastName,"Last name");_&&(E.lastName=_);const A=zT(s.email);A&&(E.email=A);const T=Xc(s.company,"Company name");if(T&&(E.company=T),!s.password)E.password="Password is required";else{const C=$T(s.password);C&&(E.password=C)}if(Object.keys(E).length>0){h(E),c(!1);return}try{const C=await fetch(`${zJe}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,tosAcceptedAt:s.acceptedTos?new Date().toISOString():void 0})}),I=await C.json();if(!C.ok)throw new Error(I.error||"Signup failed");e(`/verify-email-sent?email=${encodeURIComponent(s.email)}`)}catch(C){d(C instanceof Error?C.message:"Signup failed")}finally{c(!1)}};return t&&i&&!r?l.jsx(Zm,{to:"/chat",replace:!0}):r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/20",children:l.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[l.jsx(ds,{className:"h-6 w-6 animate-spin text-primary"}),l.jsx("span",{children:"Loading..."})]})}):t&&!i?l.jsx(Zm,{to:"/chat",replace:!0}):l.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-black via-[#0d1637] to-[#1a2549] text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-7xl lg:grid lg:grid-cols-2 gap-8 items-center",children:[l.jsx("div",{className:"flex items-center justify-center p-6 sm:p-12",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-left space-y-2 mb-8",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/signup-logo-rita.svg",alt:"RITA Logo",className:"h-28 w-28 object-contain",loading:"lazy"})}),l.jsx("h1",{className:"text-4xl font-bold tracking-tighter",children:"Start your automation journey"}),l.jsx("p",{className:"text-muted-foreground",children:"Take 2 minutes to share your goals and challenges with IT automation."})]}),l.jsxs("div",{className:"space-y-4",children:[u&&l.jsx("div",{className:"p-4 bg-red-900/20 border border-red-700 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-300",children:u})}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),l.jsx(en,{id:"firstName",type:"text",placeholder:"John",value:s.firstName,onChange:w=>{const E=w.target.value;a(k=>({...k,firstName:E})),E.trim()!==""&&v(k=>({...k,firstName:!0})),f.firstName&&h(k=>({...k,firstName:void 0}))},onBlur:()=>{if(p.firstName){const w=Xc(s.firstName,"First name");w&&h(E=>({...E,firstName:w}))}},required:!0,disabled:o,className:"h-11 bg-black/20 text-white border-gray-700 focus:border-blue-500"}),f.firstName&&l.jsx("p",{className:"text-sm text-red-400",children:f.firstName})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),l.jsx(en,{id:"lastName",type:"text",placeholder:"Doe",value:s.lastName,onChange:w=>{const E=w.target.value;a(k=>({...k,lastName:E})),E.trim()!==""&&v(k=>({...k,lastName:!0})),f.lastName&&h(k=>({...k,lastName:void 0}))},onBlur:()=>{if(p.lastName){const w=Xc(s.lastName,"Last name");w&&h(E=>({...E,lastName:w}))}},required:!0,disabled:o,className:"h-11 bg-black/20 text-white border-gray-700 focus:border-blue-500"}),f.lastName&&l.jsx("p",{className:"text-sm text-red-400",children:f.lastName})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"text-gray-300",children:"Work email"}),l.jsx(en,{id:"email",type:"email",placeholder:"you@acme.com",value:s.email,onChange:w=>{const E=w.target.value;a(k=>({...k,email:E})),E.trim()!==""&&v(k=>({...k,email:!0})),f.email&&h(k=>({...k,email:void 0}))},onBlur:()=>{if(p.email){const w=zT(s.email);w&&h(E=>({...E,email:w}))}},required:!0,disabled:o,className:"h-11 bg-black/20 text-white border-gray-700 focus:border-blue-500"}),f.email&&l.jsx("p",{className:"text-sm text-red-400",children:f.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"company",className:"text-gray-300",children:"Company name"}),l.jsx(en,{id:"company",type:"text",placeholder:"Acme Inc.",value:s.company,onChange:w=>{const E=w.target.value;a(k=>({...k,company:E})),E.trim()!==""&&v(k=>({...k,company:!0})),f.company&&h(k=>({...k,company:void 0}))},onBlur:()=>{if(p.company){const w=Xc(s.company,"Company name");w&&h(E=>({...E,company:w}))}},required:!0,disabled:o,className:"h-11 bg-black/20 text-white border-gray-700 focus:border-blue-500"}),f.company&&l.jsx("p",{className:"text-sm text-red-400",children:f.company})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"text-gray-300",children:"Password"}),l.jsx(en,{id:"password",type:"password",placeholder:"",value:s.password,onChange:w=>{const E=w.target.value;a(k=>({...k,password:E})),E!==""&&v(k=>({...k,password:!0})),f.password&&h(k=>({...k,password:void 0}))},onBlur:()=>{if(p.password){const w=$T(s.password);w&&h(E=>({...E,password:w}))}},required:!0,disabled:o,className:"h-11 bg-black/20 text-white border-gray-700 focus:border-blue-500"}),f.password&&l.jsx("p",{className:"text-sm text-red-400",children:f.password})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xs,{id:"acceptedTos",checked:s.acceptedTos,onCheckedChange:w=>{a(E=>({...E,acceptedTos:w===!0}))},disabled:o,className:"mt-0.5"}),l.jsxs("label",{htmlFor:"acceptedTos",className:"text-sm text-gray-300 leading-relaxed cursor-pointer",children:["I agree to the"," ",l.jsx("a",{href:"/terms-of-service",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline font-medium",onClick:w=>w.stopPropagation(),children:"Terms of Service"})]})]}),l.jsx(ve,{type:"submit",disabled:o||!x(),className:"w-full h-12 text-base font-medium bg-blue-600 hover:bg-blue-700 text-white",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ds,{className:"h-5 w-5 animate-spin"}),l.jsx("span",{children:"Creating Account..."})]}):l.jsx("span",{children:"Continue"})})]}),l.jsx("div",{className:"text-center space-y-3",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",l.jsx(ve,{variant:"link",onClick:()=>n(),className:"text-blue-400 hover:underline font-medium mt-0 p-0",children:"Sign in"})]})})]})]})}),l.jsx("div",{className:"hidden lg:flex items-center justify-center p-12 relative overflow-hidden",children:l.jsx("img",{src:"/ask-rita.png",alt:"Ask RITA",className:"object-contain w-auto h-[70%] rounded-2xl"})})]})})}function UJe({trigger:e,title:t,description:n,children:r,actionLabel:i="Confirm",onConfirm:s,onClose:a,onOpenChange:o,open:c,actionVariant:u="default",validationSchema:d,defaultValues:f={}}){const[h,p]=y.useState(!1),v=z0({resolver:zR(d),mode:"onChange",defaultValues:f}),{formState:{isValid:x},reset:b}=v,w=c!==void 0?c:h,E=A=>{c===void 0&&p(A),o==null||o(A)},k=A=>{const T=w;if(E(A),T&&!A){const C=v.getValues();a==null||a({formData:C,confirmed:!1}),b()}},_=A=>{if(!x){A.preventDefault();return}const T=v.getValues();s(T),a==null||a({formData:T,confirmed:!0}),E(!1)};return l.jsxs(EE,{open:w,onOpenChange:k,children:[l.jsx(YWe,{asChild:!0,children:e}),l.jsxs(wy,{children:[l.jsxs(SE,{children:[l.jsx(_E,{children:t}),l.jsx(CE,{children:n})]}),r&&l.jsx(_Ke,{...v,children:l.jsx("form",{children:typeof r=="function"?r(v):r})}),l.jsxs(kE,{children:[l.jsx(TE,{children:"Cancel"}),l.jsx(NE,{disabled:!x,className:x?"":"opacity-50",onClick:_,...u==="destructive"&&{className:`bg-destructive hover:bg-destructive/90 ${x?"":"opacity-50"}`},children:i})]})]})]})}function HJe(){const e=ir();return Lr({mutationFn:({organizationId:t,name:n})=>Kj.updateOrganization(t,{name:n}),onSuccess:()=>{e.invalidateQueries({queryKey:bo.all})},onError:t=>{console.error("Organization update failed:",t)}})}const VJe="",qJe={async updateProfile(e){const t=await fetch(`${VJe}/auth/profile`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({error:"Failed to update profile"}));throw new Error(n.error||"Failed to update profile")}return t.json()}};function WJe(){const e=ir(),{user:t,setUser:n}=Yy();return Lr({mutationFn:r=>qJe.updateProfile(r),onMutate:async r=>{await e.cancelQueries({queryKey:bo.all});const i=t;if(t){const s={...t,...r.firstName!==void 0&&{firstName:r.firstName},...r.lastName!==void 0&&{lastName:r.lastName}};n(s)}return{previousUser:i}},onSuccess:r=>{const i={id:r.user.id,email:r.user.email,firstName:r.user.firstName||void 0,lastName:r.user.lastName||void 0,organizationId:t==null?void 0:t.organizationId};n(i)},onError:(r,i,s)=>{console.error("Profile update failed:",r),s!=null&&s.previousUser&&n(s.previousUser)},onSettled:()=>{e.invalidateQueries({queryKey:bo.all})}})}const GJe=BR({firstName:nc().min(1,"First name is required").max(100,"First name is too long"),lastName:nc().min(1,"Last name is required").max(100,"Last name is too long"),organization:nc().min(1,"Organization is required")});function KJe(){var E;const{isOwnerOrAdmin:e}=qu(),t=e(),{data:n}=Xy(),{mutate:r,isPending:i}=WJe(),{mutate:s,isPending:a}=HJe(),{mutate:o,isPending:c}=B2e(),{register:u,handleSubmit:d,reset:f,formState:{errors:h,isValid:p,isDirty:v}}=z0({resolver:zR(GJe),mode:"onChange",defaultValues:{firstName:"",lastName:"",organization:"Acme Inc."}});y.useEffect(()=>{n!=null&&n.user&&f({firstName:n.user.firstName||"",lastName:n.user.lastName||"",organization:n.organization.name||""})},[n,f]);const x=k=>{const _=k.firstName!==(n==null?void 0:n.user.firstName)||k.lastName!==(n==null?void 0:n.user.lastName),A=t&&k.organization!==(n==null?void 0:n.organization.name);let T=0;const C=(_?1:0)+(A?1:0),I=()=>{T++,T===C&&(Oi.success("Profile updated successfully"),f(k))};_&&r({firstName:k.firstName,lastName:k.lastName},{onSuccess:I,onError:B=>{Oi.error("Failed to update profile",{description:B.message||"Please try again."})}}),A&&(n!=null&&n.organization.id)&&s({organizationId:n.organization.id,name:k.organization},{onSuccess:I,onError:B=>{Oi.error("Failed to update organization",{description:B.message||"Please try again."})}})},b=()=>{o({reason:"User requested account deletion"})},w=BR({permanent:FT().refine(k=>k===!0,{message:"Must confirm this is permanent"}),data:FT().refine(k=>k===!0,{message:"Must confirm data deletion"}),tenantAccess:FT().refine(k=>k===!0,{message:"Must confirm tenant access removal"}),confirmText:nc().refine(k=>k.toLowerCase()==="delete",{message:'Must type "delete" to confirm'})});return l.jsx(vc,{children:l.jsxs("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:[l.jsx("div",{className:"self-stretch flex flex-col items-start gap-8",children:l.jsx(u0,{title:"Profile",description:"Manage your personal information"})}),l.jsxs("div",{className:"px-6 pb-8 max-w-2xl mx-auto w-full flex flex-col gap-6",children:[l.jsx("h4",{className:"text-xl font-normal text-foreground",children:"General"}),l.jsxs("form",{onSubmit:d(x),className:"flex flex-col gap-8 bg-white",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[l.jsxs(Jn,{htmlFor:"firstName",className:"text-foreground",children:["First name",l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),l.jsx(en,{id:"firstName",...u("firstName"),className:h.firstName?"border-destructive":""}),h.firstName&&l.jsx("p",{className:"text-sm text-destructive",children:h.firstName.message})]}),l.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[l.jsxs(Jn,{htmlFor:"lastName",className:"text-foreground",children:["Last name",l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),l.jsx(en,{id:"lastName",...u("lastName"),className:h.lastName?"border-destructive":""}),h.lastName&&l.jsx("p",{className:"text-sm text-destructive",children:h.lastName.message})]})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Jn,{htmlFor:"email",className:"text-foreground",children:"Email"}),l.jsx(en,{id:"email",value:((E=n==null?void 0:n.user)==null?void 0:E.email)||"",disabled:!0,className:"opacity-50"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs(Jn,{htmlFor:"organization",className:"text-foreground",children:["Organization",l.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),l.jsx(en,{id:"organization",...u("organization"),disabled:!t,className:t?h.organization?"border-destructive":"":"opacity-50"}),h.organization&&t&&l.jsx("p",{className:"text-sm text-destructive",children:h.organization.message})]})]})]}),l.jsx(ve,{type:"submit",size:"default",disabled:!p||!v||i||a,className:!p||!v||i||a?"opacity-50 w-fit":"w-fit",children:i||a?"Updating...":"Update profile"})]}),t&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2.5",children:l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("h4",{className:"text-xl font-normal text-foreground",children:"Danger zone"})})}),l.jsx("div",{className:"border border-border rounded-md p-4 bg-neutral-50",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("div",{className:"flex justify-start items-center",children:l.jsx("p",{className:"text-base font-bold text-foreground",children:"Delete your account"})}),l.jsxs("p",{className:"text-sm text-foreground",children:["Permanently delete your entire account",t?", organization,":""," and all data you have uploaded.",t&&" As an owner, this will delete the entire organization and all members."]})]}),l.jsx(UJe,{trigger:l.jsx(ve,{variant:"destructive",disabled:c,children:c?"Deleting...":"Delete Account"}),title:"Delete your account",description:`This action cannot be undone. This will permanently delete your account and remove all your data from our servers.${t?" As an owner, this will also delete the entire organization and all members.":""}`,validationSchema:w,defaultValues:{permanent:!1,data:!1,tenantAccess:!1,confirmText:""},actionLabel:"Delete Account",actionVariant:"destructive",onConfirm:k=>{console.log("Delete confirmed with data:",k),b()},onClose:k=>{console.log("Dialog closed with data:",k),k.confirmed?console.log("User confirmed deletion"):console.log("User cancelled deletion")},children:k=>l.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xs,{id:"permanent",checked:k.watch("permanent")||!1,onCheckedChange:_=>k.setValue("permanent",_===!0,{shouldValidate:!0})}),l.jsx("label",{htmlFor:"permanent",className:"text-sm leading-relaxed cursor-pointer select-none",children:"I understand this action is permanent and cannot be undone"})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xs,{id:"data",checked:k.watch("data")||!1,onCheckedChange:_=>k.setValue("data",_===!0,{shouldValidate:!0})}),l.jsx("label",{htmlFor:"data",className:"text-sm leading-relaxed cursor-pointer select-none",children:"I understand all my data will be permanently deleted"})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xs,{id:"tenantAccess",checked:k.watch("tenantAccess")||!1,onCheckedChange:_=>k.setValue("tenantAccess",_===!0,{shouldValidate:!0})}),l.jsxs("label",{htmlFor:"tenantAccess",className:"text-sm leading-relaxed cursor-pointer select-none",children:["I understand all users in this"," ",t?"organization":"tenant"," will no longer have access"]})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs(Jn,{htmlFor:"confirmText",className:"text-sm",children:["Type"," ",l.jsx("span",{className:"font-mono font-semibold",children:"delete"})," ","to confirm"]}),l.jsx(en,{id:"confirmText",...k.register("confirmText"),placeholder:"Type delete here"})]})]})})]})})]})]})]})})}function YJe(){const{mutate:e,isPending:t}=dX(),{data:n,isLoading:r,error:i}=qS(),a=pf("ENABLE_SERVICENOW")?[Cr.CONFLUENCE,Cr.SERVICENOW]:[Cr.CONFLUENCE];y.useEffect(()=>{e()},[e]);const o=y.useMemo(()=>n?n.filter(u=>IT.includes(u.type)).map(cR).sort((u,d)=>{const f=IT.indexOf(u.type),h=IT.indexOf(d.type);return f-h}):[],[n]);return r||t?l.jsx(vc,{children:l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx(u0,{title:"Knowledge Sources",description:"Connect knowledge bases to help RITA answer questions with accurate information."}),l.jsx("div",{className:"max-w-6xl",children:l.jsx("div",{className:"text-center py-8",children:"Loading connections..."})})]})})}):i?l.jsx(vc,{children:l.jsx(LS,{title:"Failed to load data sources",description:"An error occurred while fetching connection sources. Please try again.",actionLabel:"Try Again",onAction:()=>window.location.reload()})}):l.jsx(vc,{children:l.jsxs("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:[l.jsx("div",{className:"self-stretch flex flex-col items-start gap-8",children:l.jsx(u0,{title:"Knowledge Sources",description:"Connect knowledge bases to help RITA answer questions with accurate information."})}),l.jsx("div",{className:"px-6 pb-8 max-w-2xl mx-auto w-full",children:o.map(c=>{const u=a.includes(c.type),d=l.jsx(Rn,{className:`p-4 mb-5 border border-border bg-popover transition-colors ${u?"hover:bg-accent cursor-pointer":"cursor-default opacity-75"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[c.type!==Cr.WEB_SEARCH?l.jsx("img",{src:`/connections/icon_${c.type}.svg`,alt:`${c.title} icon`,className:"w-5 h-5 flex-shrink-0"}):l.jsx(zj,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("p",{className:"text-base font-bold text-foreground",children:c.title}),l.jsx(SR,{status:c.status})]}),c.lastSync&&l.jsxs("p",{className:"text-sm text-foreground mt-1",children:["Last sync: ",c.lastSync]}),c.description&&l.jsx("p",{className:"text-sm text-foreground mt-1",children:c.description})]}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:c.badges.map(f=>l.jsx(xn,{variant:"secondary",children:f},f))})]}),l.jsx(ve,{variant:"secondary",size:"sm",disabled:!u,children:u?l.jsx("span",{children:c.status===kn.NOT_CONNECTED?"Configure":"Manage"}):l.jsx("span",{children:"Coming Soon"})})]})});return u?l.jsx(ug,{to:`/settings/connections/knowledge/${c.id}`,className:"block",children:d},c.id):l.jsx("div",{children:d},c.id)})})]})})}function XJe(){const{mutate:e,isPending:t}=dX(),{data:n,isLoading:r,error:i}=qS(),a=pf("ENABLE_SERVICENOW")?[Cr.SERVICENOW]:[];y.useEffect(()=>{e()},[e]);const o=y.useMemo(()=>{if(!n)return[];const c=n.filter(h=>d2.includes(h.type)).map(cR),u=c.map(h=>h.type),d=d2.filter(h=>!u.includes(h)).map(h=>{var p,v;return{id:`placeholder-${h}`,type:h,title:((p=l0[h])==null?void 0:p.title)||h,status:kn.NOT_CONNECTED,description:(v=l0[h])==null?void 0:v.description,badges:[],lastSync:void 0}});return[...c,...d].sort((h,p)=>{const v=d2.indexOf(h.type),x=d2.indexOf(p.type);return v-x})},[n]);return r||t?l.jsx(vc,{children:l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx(u0,{title:"ITSM Sources",description:"Connect ticketing systems to enable autopilot clustering and automated responses."}),l.jsx("div",{className:"max-w-6xl",children:l.jsx("div",{className:"text-center py-8",children:"Loading connections..."})})]})})}):i?l.jsx(vc,{children:l.jsx(LS,{title:"Failed to load data sources",description:"An error occurred while fetching connection sources. Please try again.",actionLabel:"Try Again",onAction:()=>window.location.reload()})}):l.jsx(vc,{children:l.jsxs("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:[l.jsx("div",{className:"self-stretch flex flex-col items-start gap-8",children:l.jsx(u0,{title:"ITSM Sources",description:"Connect ticketing systems to enable autopilot clustering and automated responses."})}),l.jsx("div",{className:"px-6 pb-8 max-w-2xl mx-auto w-full",children:o.map(c=>{const u=a.includes(c.type),d=c.id.startsWith("placeholder-"),f=l.jsx(Rn,{className:`p-4 mb-5 border border-border bg-popover transition-colors ${u?"hover:bg-accent cursor-pointer":"cursor-default opacity-75"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:`/connections/icon_${c.type}.svg`,alt:`${c.title} icon`,className:"w-5 h-5 flex-shrink-0"}),l.jsx("p",{className:"text-base font-bold text-foreground",children:c.title}),!d&&l.jsx(SR,{status:c.status})]}),c.lastSync&&l.jsxs("p",{className:"text-sm text-foreground mt-1",children:["Last sync: ",c.lastSync]}),c.description&&l.jsx("p",{className:"text-sm text-foreground mt-1",children:c.description})]}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:c.badges.map(h=>l.jsx(xn,{variant:"secondary",children:h},h))})]}),l.jsx(ve,{variant:"secondary",size:"sm",disabled:!u,children:u?l.jsx("span",{children:c.status===kn.NOT_CONNECTED?"Configure":"Manage"}):l.jsx("span",{children:"Coming Soon"})})]})});return u&&!d?l.jsx(ug,{to:`/settings/connections/itsm/${c.id}`,className:"block",children:f},c.id):l.jsx("div",{children:f},c.id)})})]})})}function QJe(){const[e,t]=y.useState("");y.useEffect(()=>{fetch(new URL("/demo-agentic-builder/assets/terms-of-service-DFp_f2bg.md",import.meta.url).href).then(r=>r.text()).then(r=>t(r)).catch(r=>console.error("Error loading terms:",r))},[]);const n={ol:({start:r,...i})=>l.jsx("ol",{...i,start:r,style:{listStyleType:"decimal",counterReset:r?`item ${r-1}`:void 0}})};return l.jsx("div",{className:"min-h-screen w-full bg-gray-50",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"bg-gradient-to-br from-black via-[#0d1637] to-[#1a2549] rounded-t-lg py-16 px-8 text-center",children:[l.jsx("h1",{className:"text-5xl font-serif text-white mb-3",children:"Terms of Service"}),l.jsx("p",{className:"text-blue-400 text-sm",children:"Last updated October 2025"})]}),l.jsx("div",{className:"bg-white text-black rounded-b-lg p-12 shadow-lg",children:l.jsx("div",{className:"prose prose-slate max-w-none prose-headings:font-bold prose-h1:text-3xl prose-h2:text-2xl prose-h2:mt-8 prose-h2:mb-4 prose-h3:text-xl prose-h3:mt-6 prose-h3:mb-3 prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-4 prose-ul:my-4 prose-li:text-gray-700 prose-strong:text-black prose-strong:font-bold prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline prose-table:w-full prose-table:border-collapse prose-td:border prose-td:border-gray-300 prose-td:p-2 prose-th:border prose-th:border-gray-300 prose-th:p-2 prose-th:bg-gray-100 prose-th:font-bold [&_ol]:list-decimal",children:e?l.jsx(rI,{remarkPlugins:[Qte],components:n,children:e}):l.jsx("p",{className:"text-center text-gray-500",children:"Loading terms..."})})})]})})}function ZJe(){return l.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-[1120px] mx-auto",children:[l.jsx("img",{src:"/images/ticketcomingsoon.png",className:"w-[338px] h-[231px] object-fill",alt:"Tickets coming soon"}),l.jsx("h1",{className:"text-primary text-center text-[29px] font-[420] leading-7",children:"Tickets coming soon"}),l.jsxs("div",{className:"text-center text-base font-normal leading-6 max-w-2xl space-y-2",children:[l.jsx("p",{children:"Leverage your existing ITSM data for intelligent analysis."}),l.jsx("p",{className:"text-muted-foreground",children:"RITA enable historical tickets into quickly analyze patterns, improve responses, and strengthen automation for common L1/L2 tickets."})]})]})}function JJe(){return l.jsx(F0,{activePage:"tickets",children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full p-6",children:l.jsx(ZJe,{})})})}var y3="Tabs",[eet]=hs(y3,[tk]),lle=tk(),[tet,UR]=eet(y3),cle=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=JS(o),[f,h]=ba({prop:r,onChange:i,defaultProp:s??"",caller:y3});return l.jsx(tet,{scope:n,baseId:Li(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(Lt.div,{dir:d,"data-orientation":a,...u,ref:t})})});cle.displayName=y3;var ule="TabsList",dle=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=UR(ule,n),a=lle(n);return l.jsx(yQ,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(Lt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});dle.displayName=ule;var fle="TabsTrigger",hle=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=UR(fle,n),o=lle(n),c=gle(a.baseId,r),u=vle(a.baseId,r),d=r===a.value;return l.jsx(xQ,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Lt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:gt(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:gt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:gt(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});hle.displayName=fle;var mle="TabsContent",ple=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=UR(mle,n),c=gle(o.baseId,r),u=vle(o.baseId,r),d=r===o.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(ms,{present:i||d,children:({present:h})=>l.jsx(Lt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});ple.displayName=mle;function gle(e,t){return`${e}-trigger-${t}`}function vle(e,t){return`${e}-content-${t}`}var net=cle,ret=dle,iet=hle,set=ple;function Hx({className:e,...t}){return l.jsx(net,{"data-slot":"tabs",className:we("flex flex-col gap-2",e),...t})}function Vx({className:e,...t}){return l.jsx(ret,{"data-slot":"tabs-list",className:we("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Cl({className:e,...t}){return l.jsx(iet,{"data-slot":"tabs-trigger",className:we("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function DE({className:e,...t}){return l.jsx(set,{"data-slot":"tabs-content",className:we("flex-1 outline-none",e),...t})}const aet=[{title:"Auto-Respond",icon:rg,enabled:!1,color:"text-purple-500"},{title:"Auto-Populate",icon:Il,enabled:!1,color:"text-green-500"},{title:"Auto-Resolve",icon:tve,comingSoon:!0,color:"text-blue-500"}];function oet(){return l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"rounded-lg border p-3",children:l.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-medium",children:"0"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Automated"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-medium",children:"0"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Mins Saved"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-medium",children:"$0"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Savings"})]})]})}),l.jsx("div",{className:"rounded-lg border bg-background p-3",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold",children:"Validation Confidence"}),l.jsx(PS,{className:"h-4 w-4"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Just getting started! Start validating towards automating"}),l.jsx(Fx,{value:0,className:"mt-2"}),l.jsx("p",{className:"mt-2 text-sm",children:"Validated 0/16"})]})}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dY,{className:"h-4 w-4"}),l.jsx("h3",{children:"AutoPilot Recommendations"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate stages of a ticket resolution"}),l.jsx("div",{className:"flex flex-col gap-2",children:aet.map((e,t)=>l.jsxs("div",{className:"flex items-center justify-between rounded-sm border p-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(e.icon,{className:`h-4 w-4 ${e.color}`}),l.jsx("span",{children:e.title})]}),e.comingSoon?l.jsxs(xn,{variant:"outline",className:"ml-2",children:[l.jsx(e1e,{className:"mr-1 h-3 w-3 text-yellow-500"}),"coming soon"]}):l.jsx(ve,{variant:"ghost",size:"sm",children:"Enable"})]},t))})]})]})}const cet=[{filename:"Email signature FAQ.pdf",fileType:"PDF",date:"Nov 4, 9:45am"},{filename:"All_things_email.doc",fileType:"Docx",date:"Nov 4, 9:45am"},{filename:"All_things_email2.doc",fileType:"Docx",date:"Nov 12, 9:45am"}];function uet({knowledgeItems:e=cet}){const t=s=>{console.log(`Download: ${s}`)},n=s=>{console.log(`Reprocess: ${s}`)},r=s=>{console.log(`Delete: ${s}`)},i=s=>{console.log(`Remove from group: ${s}`)};return l.jsx("div",{className:"flex flex-col gap-4",children:l.jsx("div",{className:"flex flex-col gap-3",children:e.map((s,a)=>l.jsxs("div",{children:[l.jsx("div",{className:"flex flex-col gap-3",children:l.jsx("div",{className:"flex flex-row justify-start items-start w-full",children:l.jsx("div",{className:"flex flex-col justify-start items-start min-w-0 flex-1",children:l.jsxs("div",{className:"flex flex-row justify-start items-start w-full",children:[l.jsxs("div",{className:"flex flex-col justify-start items-start min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm",children:s.filename}),l.jsxs("div",{className:"flex flex-row gap-2 justify-start items-start",children:[l.jsx("span",{className:"text-sm text-muted-foreground w-12 max-w-12",children:s.fileType}),l.jsx("span",{className:"text-sm text-muted-foreground",children:s.date})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"icon",children:l.jsx(Hu,{})})}),l.jsxs(ni,{align:"end",children:[l.jsx(Jt,{onClick:()=>t(s.filename),children:"Download"}),l.jsx(Jt,{onClick:()=>n(s.filename),children:"Reprocess"}),l.jsx(IP,{}),l.jsx(Jt,{variant:"destructive",onClick:()=>r(s.filename),children:"Delete"}),l.jsx(Jt,{variant:"destructive",onClick:()=>i(s.filename),children:"Remove from group"})]})]})]})})})}),a<e.length-1&&l.jsx(Mu,{})]},a))})})}function det({knowledgeCount:e=0}){const[t,n]=y.useState("overview");return l.jsx("div",{className:"w-full border-t p-4 lg:w-80 lg:border-l lg:border-t-0",children:l.jsx("div",{className:"flex flex-col gap-4",children:l.jsxs(Hx,{value:t,onValueChange:n,children:[l.jsxs(Vx,{className:"w-full",children:[l.jsx(Cl,{value:"overview",className:"flex-1",children:"Overview"}),l.jsxs(Cl,{value:"knowledge",className:"flex-1",children:["Knowledge (",e,")"]})]}),l.jsx(DE,{value:"overview",className:"mt-4",children:l.jsx(oet,{})}),l.jsx(DE,{value:"knowledge",className:"mt-4",children:l.jsx(uet,{})})]})})})}var fet=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HR(e){if(typeof e!="string")return!1;var t=fet;return t.includes(e)}var het=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],met=new Set(het);function yle(e){return typeof e!="string"?!1:met.has(e)}function xle(e){return typeof e=="string"&&e.startsWith("data-")}function wc(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(yle(n)||xle(n))&&(t[n]=e[n]);return t}function VR(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wc(t)}return typeof e=="object"&&!Array.isArray(e)?wc(e):null}function wa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(yle(n)||xle(n)||HR(n))&&(t[n]=e[n]);return t}function pet(e){return e==null?null:y.isValidElement(e)?wa(e.props):typeof e=="object"&&!Array.isArray(e)?wa(e):null}var get=["children","width","height","viewBox","className","style","title","desc"];function j8(){return j8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j8.apply(null,arguments)}function vet(e,t){if(e==null)return{};var n,r,i=yet(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ble=y.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:c,desc:u}=e,d=vet(e,get),f=s||{width:r,height:i,x:0,y:0},h=Nr("recharts-surface",a);return y.createElement("svg",j8({},wa(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),n)}),xet=["children","className"];function P8(){return P8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P8.apply(null,arguments)}function bet(e,t){if(e==null)return{};var n,r,i=wet(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wet(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kf=y.forwardRef((e,t)=>{var{children:n,className:r}=e,i=bet(e,xet),s=Nr("recharts-layer",r);return y.createElement("g",P8({className:s},wa(i),{ref:t}),n)}),Eet=y.createContext(null);function br(e){return function(){return e}}const l4t=Math.abs,c4t=Math.atan2,wle=Math.cos,u4t=Math.max,d4t=Math.min,LE=Math.sin,Dl=Math.sqrt,f4t=1e-12,Fp=Math.PI,GH=Fp/2,x3=2*Fp;function h4t(e){return e>1?0:e<-1?Fp:Math.acos(e)}function m4t(e){return e>=1?GH:e<=-1?-GH:Math.asin(e)}const I8=Math.PI,R8=2*I8,dh=1e-6,ket=R8-dh;function Ele(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _et(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ele;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Cet{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ele:_et(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=r-t,u=i-n,d=a-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>dh)if(!(Math.abs(f*c-u*d)>dh)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,v=i-o,x=c*c+u*u,b=p*p+v*v,w=Math.sqrt(x),E=Math.sqrt(h),k=s*Math.tan((I8-Math.acos((x+h-b)/(2*w*E)))/2),_=k/E,A=k/w;Math.abs(_-1)>dh&&this._append`L${t+_*d},${n+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*v)},${this._x1=t+A*c},${this._y1=n+A*u}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=t+o,d=n+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dh||Math.abs(this._y1-d)>dh)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%R8+R8),h>ket?this._append`A${r},${r},0,1,${f},${t-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>dh&&this._append`A${r},${r},0,${+(h>=I8)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qR(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Cet(t)}function WR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sle(e){this._context=e}Sle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function b3(e){return new Sle(e)}function kle(e){return e[0]}function _le(e){return e[1]}function Cle(e,t){var n=br(!0),r=null,i=b3,s=null,a=qR(o);e=typeof e=="function"?e:e===void 0?kle:br(e),t=typeof t=="function"?t:t===void 0?_le:br(t);function o(c){var u,d=(c=WR(c)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:br(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:br(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:br(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),o):r},o}function x2(e,t,n){var r=null,i=br(!0),s=null,a=b3,o=null,c=qR(u);e=typeof e=="function"?e:e===void 0?kle:br(+e),t=typeof t=="function"?t:br(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_le:br(+n);function u(f){var h,p,v,x=(f=WR(f)).length,b,w=!1,E,k=new Array(x),_=new Array(x);for(s==null&&(o=a(E=c())),h=0;h<=x;++h){if(!(h<x&&i(b=f[h],h,f))===w)if(w=!w)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(k[v],_[v]);o.lineEnd(),o.areaEnd()}w&&(k[h]=+e(b,h,f),_[h]=+t(b,h,f),o.point(r?+r(b,h,f):k[h],n?+n(b,h,f):_[h]))}if(E)return o=null,E+""||null}function d(){return Cle().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:br(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:br(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:br(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class Nle{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Net(e){return new Nle(e,!0)}function Tet(e){return new Nle(e,!1)}const GR={draw(e,t){const n=Dl(t/Fp);e.moveTo(n,0),e.arc(0,0,n,0,x3)}},Aet={draw(e,t){const n=Dl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Tle=Dl(1/3),jet=Tle*2,Pet={draw(e,t){const n=Dl(t/jet),r=n*Tle;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Iet={draw(e,t){const n=Dl(t),r=-n/2;e.rect(r,r,n,n)}},Ret=.8908130915292852,Ale=LE(Fp/10)/LE(7*Fp/10),Met=LE(x3/10)*Ale,Oet=-wle(x3/10)*Ale,Det={draw(e,t){const n=Dl(t*Ret),r=Met*n,i=Oet*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=x3*s/5,o=wle(a),c=LE(a);e.lineTo(c*n,-o*n),e.lineTo(o*r-c*i,c*r+o*i)}e.closePath()}},BT=Dl(3),Let={draw(e,t){const n=-Dl(t/(BT*3));e.moveTo(0,n*2),e.lineTo(-BT*n,-n),e.lineTo(BT*n,-n),e.closePath()}},uo=-.5,fo=Dl(3)/2,M8=1/Dl(12),Fet=(M8/2+1)*3,$et={draw(e,t){const n=Dl(t/Fet),r=n/2,i=n*M8,s=r,a=n*M8+n,o=-s,c=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,c),e.lineTo(uo*r-fo*i,fo*r+uo*i),e.lineTo(uo*s-fo*a,fo*s+uo*a),e.lineTo(uo*o-fo*c,fo*o+uo*c),e.lineTo(uo*r+fo*i,uo*i-fo*r),e.lineTo(uo*s+fo*a,uo*a-fo*s),e.lineTo(uo*o+fo*c,uo*c-fo*o),e.closePath()}};function zet(e,t){let n=null,r=qR(i);e=typeof e=="function"?e:br(e||GR),t=typeof t=="function"?t:br(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:br(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:br(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function FE(){}function $E(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function jle(e){this._context=e}jle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$E(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$E(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bet(e){return new jle(e)}function Ple(e){this._context=e}Ple.prototype={areaStart:FE,areaEnd:FE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$E(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uet(e){return new Ple(e)}function Ile(e){this._context=e}Ile.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$E(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Het(e){return new Ile(e)}function Rle(e){this._context=e}Rle.prototype={areaStart:FE,areaEnd:FE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vet(e){return new Rle(e)}function KH(e){return e<0?-1:1}function YH(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(KH(s)+KH(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function XH(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function UT(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function zE(e){this._context=e}zE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:UT(this,this._t0,XH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,UT(this,XH(this,n=YH(this,e,t)),n);break;default:UT(this,this._t0,n=YH(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Mle(e){this._context=new Ole(e)}(Mle.prototype=Object.create(zE.prototype)).point=function(e,t){zE.prototype.point.call(this,t,e)};function Ole(e){this._context=e}Ole.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function qet(e){return new zE(e)}function Wet(e){return new Mle(e)}function Dle(e){this._context=e}Dle.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=QH(e),i=QH(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QH(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Get(e){return new Dle(e)}function w3(e,t){this._context=e,this._t=t}w3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ket(e){return new w3(e,.5)}function Yet(e){return new w3(e,0)}function Xet(e){return new w3(e,1)}function $p(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,o=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function O8(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Qet(e,t){return e[t]}function Zet(e){const t=[];return t.key=e,t}function Jet(){var e=br([]),t=O8,n=$p,r=Qet;function i(s){var a=Array.from(e.apply(this,arguments),Zet),o,c=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<c;++o)(a[o][u]=[0,+r(f,a[o].key,u,s)]).data=f;for(o=0,d=WR(t(a));o<c;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:br(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:br(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?O8:typeof s=="function"?s:br(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??$p,i):n},i}function ett(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}$p(e,t)}}function ttt(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=e[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}$p(e,t)}}function ntt(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,c=0,u=0;o<a;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var x=e[t[v]],b=x[r][1]||0,w=x[r-1][1]||0;p+=b-w}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,$p(e,t)}}var HT={},VT={},ZH;function rtt(){return ZH||(ZH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(VT)),VT}var qT={},JH;function itt(){return JH||(JH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(qT)),qT}var WT={},eV;function Lle(){return eV||(eV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(WT)),WT}var GT={},KT={},tV;function stt(){return tV||(tV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(KT)),KT}var nV;function Fle(){return nV||(nV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=stt(),n=Lle();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const f=i[o];u?f==="\\"&&o+1<a?(o++,c+=i[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,o++}return c&&s.push(c),s}e.toPath=r})(GT)),GT}var rV;function att(){return rV||(rV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rtt(),n=itt(),r=Lle(),i=Fle();function s(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?n.isDeepKey(c)?s(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function a(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(HT)),HT}var YT,iV;function ott(){return iV||(iV=1,YT=att().get),YT}var ltt=ott();const E3=Xa(ltt);var Po=e=>e===0?0:e>0?1:-1,Ec=e=>typeof e=="number"&&e!=+e,Ou=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Cn=e=>(typeof e=="number"||e instanceof Number)&&!Ec(e),zp=e=>Cn(e)||typeof e=="string",ctt=0,ky=e=>{var t=++ctt;return"".concat(e||"").concat(t)},_f=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Cn(t)&&typeof t!="string")return r;var s;if(Ou(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return Ec(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},$le=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function va(e,t,n){return Cn(e)&&Cn(t)?e+n*(t-e):t}function zle(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):E3(r,t))===n)}var fs=e=>e===null||typeof e>"u",qx=e=>fs(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function utt(e){return e!=null}function Wx(){}var dtt=["type","size","sizeType"];function D8(){return D8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D8.apply(null,arguments)}function sV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sV(Object(n),!0).forEach(function(r){ftt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ftt(e,t,n){return(t=htt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function htt(e){var t=mtt(e,"string");return typeof t=="symbol"?t:t+""}function mtt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ptt(e,t){if(e==null)return{};var n,r,i=gtt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gtt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ble={symbolCircle:GR,symbolCross:Aet,symbolDiamond:Pet,symbolSquare:Iet,symbolStar:Det,symbolTriangle:Let,symbolWye:$et},vtt=Math.PI/180,ytt=e=>{var t="symbol".concat(qx(e));return Ble[t]||GR},xtt=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*vtt;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},btt=(e,t)=>{Ble["symbol".concat(qx(e))]=t},Ule=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=ptt(e,dtt),s=aV(aV({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var o=()=>{var h=ytt(a),p=zet().type(h).size(xtt(n,r,a)),v=p();if(v!==null)return v},{className:c,cx:u,cy:d}=s,f=wa(s);return Cn(u)&&Cn(d)&&Cn(n)?y.createElement("path",D8({},f,{className:Nr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Ule.registerSymbol=btt;var KR=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{HR(i)&&(r[i]=(s=>n[i](n,s)))}),r},wtt=(e,t,n)=>r=>(e(t,n,r),null),Ett=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];HR(i)&&typeof s=="function"&&(r||(r={}),r[i]=wtt(s,t,n))}),r};function oV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Stt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oV(Object(n),!0).forEach(function(r){ktt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ktt(e,t,n){return(t=_tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _tt(e){var t=Ctt(e,"string");return typeof t=="symbol"?t:t+""}function Ctt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(e,t){var n=Stt({},e),r=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var XT={},QT={},lV;function Ntt(){return lV||(lV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(QT)),QT}var cV;function Hle(){return cV||(cV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ntt();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(XT)),XT}var ZT={},uV;function Ttt(){return uV||(uV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ZT)),ZT}var JT={},dV;function Att(){return dV||(dV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(JT)),JT}var e5={},fV;function jtt(){return fV||(fV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(e5)),e5}var t5={exports:{}},n5={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hV;function Ptt(){if(hV)return n5;hV=1;var e=eg(),t=iQ();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return n5.useSyncExternalStoreWithSelector=function(u,d,f,h,p){var v=s(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=o(function(){function w(T){if(!E){if(E=!0,k=T,T=h(T),p!==void 0&&x.hasValue){var C=x.value;if(p(C,T))return _=C}return _=T}if(C=_,r(k,T))return C;var I=h(T);return p!==void 0&&p(C,I)?(k=T,C):(k=T,_=I)}var E=!1,k,_,A=f===void 0?null:f;return[function(){return w(d())},A===null?void 0:function(){return w(A())}]},[d,f,h,p]);var b=i(u,v[0],v[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),c(b),b},n5}var mV;function Itt(){return mV||(mV=1,t5.exports=Ptt()),t5.exports}var Vle=Itt();const Rtt=Xa(Vle);var YR=y.createContext(null),Mtt=e=>e,ps=()=>{var e=y.useContext(YR);return e?e.store.dispatch:Mtt},s4=()=>{},Ott=()=>s4,Dtt=(e,t)=>e===t;function wn(e){var t=y.useContext(YR);return Vle.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ott,t?t.store.getState:s4,t?t.store.getState:s4,t?e:s4,Dtt)}function Ltt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ftt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $tt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var pV=e=>Array.isArray(e)?e:[e];function ztt(e){const t=Array.isArray(e[0])?e[0]:e;return $tt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Btt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Utt=class{constructor(e){this.value=e}deref(){return this.value}},Htt=typeof WeakRef<"u"?WeakRef:Utt,Vtt=0,gV=1;function b2(){return{s:Vtt,v:void 0,o:null,p:null}}function qle(e,t={}){let n=b2();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var f;let o=n;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(v);b===void 0?(o=b2(),x.set(v,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(v);b===void 0?(o=b2(),x.set(v,o)):o=b}}const u=o;let d;if(o.s===gV)d=o.v;else if(d=e.apply(null,arguments),s++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Htt(d):d}return u.s=gV,u.v=d,d}return a.clearCache=()=>{n=b2(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function qtt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Ltt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=qle,argsMemoizeOptions:v=[]}=d,x=pV(h),b=pV(v),w=ztt(i),E=f(function(){return s++,u.apply(null,arguments)},...x),k=p(function(){a++;const A=Btt(w,arguments);return o=E.apply(null,A),o},...b);return Object.assign(k,{resultFunc:u,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Ve=qtt(qle),Wtt=Object.assign((e,t=Ve)=>{Ftt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,o,c)=>(a[n[c]]=o,a),{}))},{withTypes:()=>Wtt}),r5={},i5={},s5={},vV;function Gtt(){return vV||(vV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),o=t(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=n})(s5)),s5}var a5={},o5={},yV;function Wle(){return yV||(yV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(o5)),o5}var xV;function Ktt(){return xV||(xV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wle(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(a5)),a5}var bV;function Ytt(){return bV||(bV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gtt(),n=Ktt(),r=Fle();function i(s,a,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,v)=>{let x=p;for(let b=0;b<v.length&&x!=null;++b)x=x[v[b]];return x},d=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:u(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?u(v,p):typeof v=="object"?v[p]:v,f=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(v=>d(v,p))})).slice().sort((p,v)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(p.criteria[x],v.criteria[x],o[x]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=i})(i5)),i5}var l5={},wV;function Xtt(){return wV||(wV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(n,0),i}e.flatten=t})(l5)),l5}var c5={},EV;function Gle(){return EV||(EV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jtt(),n=Hle(),r=Ttt(),i=Att();function s(a,o,c){return r.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],a):!1}e.isIterateeCall=s})(c5)),c5}var SV;function Qtt(){return SV||(SV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ytt(),n=Xtt(),r=Gle();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(r5)),r5}var u5,kV;function Ztt(){return kV||(kV=1,u5=Qtt().sortBy),u5}var Jtt=Ztt();const XR=Xa(Jtt);var Kle=e=>e.legend.settings,ent=e=>e.legend.size,tnt=e=>e.legend.payload;Ve([tnt,Kle],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?XR(r,n):r});function cs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nnt=typeof Symbol=="function"&&Symbol.observable||"@@observable",_V=nnt,d5=()=>Math.random().toString(36).substring(7).split("").join("."),rnt={INIT:`@@redux/INIT${d5()}`,REPLACE:`@@redux/REPLACE${d5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${d5()}`},BE=rnt;function QR(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Yle(e,t,n){if(typeof e!="function")throw new Error(cs(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cs(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cs(1));return n(Yle)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((b,w)=>{a.set(w,b)}))}function d(){if(c)throw new Error(cs(3));return i}function f(b){if(typeof b!="function")throw new Error(cs(4));if(c)throw new Error(cs(5));let w=!0;u();const E=o++;return a.set(E,b),function(){if(w){if(c)throw new Error(cs(6));w=!1,u(),a.delete(E),s=null}}}function h(b){if(!QR(b))throw new Error(cs(7));if(typeof b.type>"u")throw new Error(cs(8));if(typeof b.type!="string")throw new Error(cs(17));if(c)throw new Error(cs(9));try{c=!0,i=r(i,b)}finally{c=!1}return(s=a).forEach(E=>{E()}),b}function p(b){if(typeof b!="function")throw new Error(cs(10));r=b,h({type:BE.REPLACE})}function v(){const b=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(cs(11));function E(){const _=w;_.next&&_.next(d())}return E(),{unsubscribe:b(E)}},[_V](){return this}}}return h({type:BE.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[_V]:v}}function int(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:BE.INIT})>"u")throw new Error(cs(12));if(typeof n(void 0,{type:BE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cs(13))})}function Xle(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{int(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],p=a[f],v=h(p,o);if(typeof v>"u")throw o&&o.type,new Error(cs(14));u[f]=v,c=c||v!==p}return c=c||r.length!==Object.keys(a).length,c?u:a}}function UE(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function snt(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(cs(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},o=e.map(c=>c(a));return s=UE(...o)(i.dispatch),{...i,dispatch:s}}}function Qle(e){return QR(e)&&"type"in e&&typeof e.type=="string"}var Zle=Symbol.for("immer-nothing"),CV=Symbol.for("immer-draftable"),Qs=Symbol.for("immer-state");function yl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ua=Object,Bp=Ua.getPrototypeOf,HE="constructor",S3="prototype",L8="configurable",VE="enumerable",a4="writable",_y="value",Du=e=>!!e&&!!e[Qs];function Sc(e){var t;return e?Jle(e)||k3(e)||!!e[CV]||!!((t=e[HE])!=null&&t[CV])||_3(e)||C3(e):!1}var ant=Ua[S3][HE].toString(),NV=new WeakMap;function Jle(e){if(!e||!ZR(e))return!1;const t=Bp(e);if(t===null||t===Ua[S3])return!0;const n=Ua.hasOwnProperty.call(t,HE)&&t[HE];if(n===Object)return!0;if(!Om(n))return!1;let r=NV.get(n);return r===void 0&&(r=Function.toString.call(n),NV.set(n,r)),r===ant}function Gx(e,t,n=!0){Kx(e)===0?(n?Reflect.ownKeys(e):Ua.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Kx(e){const t=e[Qs];return t?t.type_:k3(e)?1:_3(e)?2:C3(e)?3:0}var TV=(e,t,n=Kx(e))=>n===2?e.has(t):Ua[S3].hasOwnProperty.call(e,t),F8=(e,t,n=Kx(e))=>n===2?e.get(t):e[t],qE=(e,t,n,r=Kx(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function ont(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var k3=Array.isArray,_3=e=>e instanceof Map,C3=e=>e instanceof Set,ZR=e=>typeof e=="object",Om=e=>typeof e=="function",f5=e=>typeof e=="boolean",ru=e=>e.copy_||e.base_,JR=e=>e.modified_?e.copy_:e.base_;function $8(e,t){if(_3(e))return new Map(e);if(C3(e))return new Set(e);if(k3(e))return Array[S3].slice.call(e);const n=Jle(e);if(t===!0||t==="class_only"&&!n){const r=Ua.getOwnPropertyDescriptors(e);delete r[Qs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[a4]===!1&&(o[a4]=!0,o[L8]=!0),(o.get||o.set)&&(r[a]={[L8]:!0,[a4]:!0,[VE]:o[VE],[_y]:e[a]})}return Ua.create(Bp(e),r)}else{const r=Bp(e);if(r!==null&&n)return{...e};const i=Ua.create(r);return Ua.assign(i,e)}}function eM(e,t=!1){return N3(e)||Du(e)||(Kx(e)>1&&Ua.defineProperties(e,{set:w2,add:w2,clear:w2,delete:w2}),Ua.freeze(e),t&&Gx(e,(n,r)=>{eM(r,!0)},!1)),e}function lnt(){yl(2)}var w2={[_y]:lnt};function N3(e){return e===null||!ZR(e)?!0:Ua.isFrozen(e)}var WE="MapSet",z8="Patches",ece={};function Up(e){const t=ece[e];return t||yl(0,e),t}var cnt=e=>!!ece[e],Cy,tce=()=>Cy,unt=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cnt(WE)?Up(WE):void 0});function AV(e,t){t&&(e.patchPlugin_=Up(z8),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B8(e){U8(e),e.drafts_.forEach(dnt),e.drafts_=null}function U8(e){e===Cy&&(Cy=e.parent_)}var jV=e=>Cy=unt(Cy,e);function dnt(e){const t=e[Qs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PV(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qs].modified_&&(B8(t),yl(4)),Sc(e)&&(e=IV(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Qs].base_,e,t)}else e=IV(t,n);return fnt(t,e,!0),B8(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Zle?e:void 0}function IV(e,t){if(N3(t))return t;const n=t[Qs];if(!n)return tM(t,e.handledSet_,e);if(!T3(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);ice(n,e)}return n.copy_}function fnt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&eM(t,n)}function nce(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var T3=(e,t)=>e.scope_===t,hnt=[];function rce(e,t,n,r){const i=ru(e),s=e.type_;if(r!==void 0&&F8(i,r,s)===t){qE(i,r,n,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Gx(i,(c,u)=>{if(Du(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const a=e.draftLocations_.get(t)??hnt;for(const o of a)qE(i,o,n,s)}function mnt(e,t,n){e.callbacks_.push(function(i){var o;const s=t;if(!s||!T3(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=JR(s);rce(e,s.draft_??s,a,n),ice(s,i)})}function ice(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}nce(e)}}function pnt(e,t,n){const{scope_:r}=e;if(Du(n)){const i=n[Qs];T3(i,r)&&i.callbacks_.push(function(){o4(e);const a=JR(i);rce(e,n,a,t)})}else Sc(n)&&e.callbacks_.push(function(){const s=ru(e);F8(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&tM(F8(e.copy_,t,e.type_),r.handledSet_,r)})}function tM(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Du(e)||t.has(e)||!Sc(e)||N3(e)||(t.add(e),Gx(e,(r,i)=>{if(Du(i)){const s=i[Qs];if(T3(s,n)){const a=JR(s);qE(e,r,a,e.type_),nce(s)}}else Sc(i)&&tM(i,t,n)})),e}function gnt(e,t){const n=k3(e),r={type_:n?1:0,scope_:t?t.scope_:tce(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=nM;n&&(i=[r],s=Ny);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var nM={get(e,t){if(t===Qs)return e;const n=ru(e);if(!TV(n,t,e.type_))return vnt(e,n,t);const r=n[t];if(e.finalized_||!Sc(r))return r;if(r===h5(e.base_,t)){o4(e);const i=e.type_===1?+t:t,s=V8(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in ru(e)},ownKeys(e){return Reflect.ownKeys(ru(e))},set(e,t,n){const r=sce(ru(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=h5(ru(e),t),s=i==null?void 0:i[Qs];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(ont(n,i)&&(n!==void 0||TV(e.base_,t,e.type_)))return!0;o4(e),H8(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),pnt(e,t,n)),!0},deleteProperty(e,t){return o4(e),h5(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),H8(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ru(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[a4]:!0,[L8]:e.type_!==1||t!=="length",[VE]:r[VE],[_y]:n[t]}},defineProperty(){yl(11)},getPrototypeOf(e){return Bp(e.base_)},setPrototypeOf(){yl(12)}},Ny={};Gx(nM,(e,t)=>{Ny[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Ny.deleteProperty=function(e,t){return Ny.set.call(this,e,t,void 0)};Ny.set=function(e,t,n){return nM.set.call(this,e[0],t,n,e[0])};function h5(e,t){const n=e[Qs];return(n?ru(n):e)[t]}function vnt(e,t,n){var i;const r=sce(t,n);return r?_y in r?r[_y]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function sce(e,t){if(!(t in e))return;let n=Bp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bp(n)}}function H8(e){e.modified_||(e.modified_=!0,e.parent_&&H8(e.parent_))}function o4(e){e.copy_||(e.assigned_=new Map,e.copy_=$8(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ynt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Om(t)&&!Om(n)){const s=n;n=t;const a=this;return function(c=s,...u){return a.produce(c,d=>n.call(this,d,...u))}}Om(n)||yl(6),r!==void 0&&!Om(r)&&yl(7);let i;if(Sc(t)){const s=jV(this),a=V8(s,t,void 0);let o=!0;try{i=n(a),o=!1}finally{o?B8(s):U8(s)}return AV(s,r),PV(i,s)}else if(!t||!ZR(t)){if(i=n(t),i===void 0&&(i=t),i===Zle&&(i=void 0),this.autoFreeze_&&eM(i,!0),r){const s=[],a=[];Up(z8).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:a}),r(s,a)}return i}else yl(1,t)},this.produceWithPatches=(t,n)=>{if(Om(t))return(a,...o)=>this.produceWithPatches(a,c=>t(c,...o));let r,i;return[this.produce(t,n,(a,o)=>{r=a,i=o}),r,i]},f5(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),f5(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),f5(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Sc(e)||yl(8),Du(e)&&(e=Nl(e));const t=jV(this),n=V8(t,e,void 0);return n[Qs].isManual_=!0,U8(t),n}finishDraft(e,t){const n=e&&e[Qs];(!n||!n.isManual_)&&yl(9);const{scope_:r}=n;return AV(r,t),PV(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Up(z8).applyPatches_;return Du(e)?r(e,t):this.produce(e,i=>r(i,t))}};function V8(e,t,n,r){const[i,s]=_3(t)?Up(WE).proxyMap_(t,n):C3(t)?Up(WE).proxySet_(t,n):gnt(t,n);return((n==null?void 0:n.scope_)??tce()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?mnt(n,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),i}function Nl(e){return Du(e)||yl(10,e),ace(e)}function ace(e){if(!Sc(e)||N3(e))return e;const t=e[Qs];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$8(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=$8(e,!0);return Gx(n,(i,s)=>{qE(n,i,ace(s))},r),t&&(t.finalized_=!1),n}var xnt=new ynt,oce=xnt.produce;function lce(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var bnt=lce(),wnt=lce,Ent=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?UE:UE.apply(null,arguments)};function $o(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ga(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Qle(r)&&r.type===e,n}var cce=class av extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,av.prototype)}static get[Symbol.species](){return av}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new av(...t[0].concat(this)):new av(...t.concat(this))}};function RV(e){return Sc(e)?oce(e,()=>{}):e}function E2(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Snt(e){return typeof e=="boolean"}var knt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new cce;return n&&(Snt(n)?a.push(bnt):a.push(wnt(n.extraArgument))),a},uce="RTK_autoBatch",Rr=()=>e=>({payload:e,meta:{[uce]:!0}}),MV=e=>t=>{setTimeout(t,e)},dce=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:MV(10):e.type==="callback"?e.queueNotification:MV(e.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[uce]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},_nt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new cce(e);return r&&i.push(dce(typeof r=="object"?r:void 0)),i};function Cnt(e){const t=knt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(QR(n))o=Xle(n);else throw new Error(Ga(1));let c;typeof r=="function"?c=r(t):c=t();let u=UE;i&&(u=Ent({trace:!1,...typeof i=="object"&&i}));const d=snt(...c),f=_nt(d);let h=typeof a=="function"?a(f):f();const p=u(...h);return Yle(o,s,p)}function fce(e){const t={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ga(28));if(o in t)throw new Error(Ga(29));return t[o]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Nnt(e){return typeof e=="function"}function Tnt(e,t){let[n,r,i]=fce(t),s;if(Nnt(e))s=()=>RV(e());else{const o=RV(e);s=()=>o}function a(o=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Du(d)){const p=f(d,c);return p===void 0?d:p}else{if(Sc(d))return oce(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return a.getInitialState=s,a}var Ant="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jnt=(e=21)=>{let t="",n=e;for(;n--;)t+=Ant[Math.random()*64|0];return t},Pnt=Symbol.for("rtk-slice-createasyncthunk");function Int(e,t){return`${e}/${t}`}function Rnt({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Pnt];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Ga(11));const o=(typeof i.reducers=="function"?i.reducers(Ont()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,A){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(Ga(12));if(T in u.sliceCaseReducersByType)throw new Error(Ga(13));return u.sliceCaseReducersByType[T]=A,d},addMatcher(_,A){return u.sliceMatchers.push({matcher:_,reducer:A}),d},exposeAction(_,A){return u.actionCreators[_]=A,d},exposeCaseReducer(_,A){return u.sliceCaseReducersByName[_]=A,d}};c.forEach(_=>{const A=o[_],T={reducerName:_,type:Int(s,_),createNotation:typeof i.reducers=="function"};Lnt(A)?$nt(T,A,d,t):Dnt(T,A,d)});function f(){const[_={},A=[],T=void 0]=typeof i.extraReducers=="function"?fce(i.extraReducers):[i.extraReducers],C={..._,...u.sliceCaseReducersByType};return Tnt(i.initialState,I=>{for(let B in C)I.addCase(B,C[B]);for(let B of u.sliceMatchers)I.addMatcher(B.matcher,B.reducer);for(let B of A)I.addMatcher(B.matcher,B.reducer);T&&I.addDefaultCase(T)})}const h=_=>_,p=new Map,v=new WeakMap;let x;function b(_,A){return x||(x=f()),x(_,A)}function w(){return x||(x=f()),x.getInitialState()}function E(_,A=!1){function T(I){let B=I[_];return typeof B>"u"&&A&&(B=E2(v,T,w)),B}function C(I=h){const B=E2(p,A,()=>new WeakMap);return E2(B,I,()=>{const $={};for(const[L,U]of Object.entries(i.selectors??{}))$[L]=Mnt(U,I,()=>E2(v,I,w),A);return $})}return{reducerPath:_,getSelectors:C,get selectors(){return C(T)},selectSlice:T}}const k={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...E(a),injectInto(_,{reducerPath:A,...T}={}){const C=A??a;return _.inject({reducerPath:C,reducer:b},T),{...k,...E(C,!0)}}};return k}}function Mnt(e,t,n,r){function i(s,...a){let o=t(s);return typeof o>"u"&&r&&(o=n()),e(o,...a)}return i.unwrapped=e,i}var _a=Rnt();function Ont(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Dnt({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Fnt(r))throw new Error(Ga(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?$o(e,a):$o(e))}function Lnt(e){return e._reducerDefinitionType==="asyncThunk"}function Fnt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $nt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ga(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:c,settled:u,options:d}=n,f=i(e,s,d);r.exposeAction(t,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:a||S2,pending:o||S2,rejected:c||S2,settled:u||S2})}function S2(){}var znt="task",hce="listener",mce="completed",rM="cancelled",Bnt=`task-${rM}`,Unt=`task-${mce}`,q8=`${hce}-${rM}`,Hnt=`${hce}-${mce}`,A3=class{constructor(e){Oe(this,"name","TaskAbortError");Oe(this,"message");this.code=e,this.message=`${znt} ${rM} (reason: ${e})`}},iM=(e,t)=>{if(typeof e!="function")throw new TypeError(Ga(32))},GE=()=>{},pce=(e,t=GE)=>(e.catch(t),e),gce=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Hh=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Vh=e=>{if(e.aborted){const{reason:t}=e;throw new A3(t)}};function vce(e,t){let n=GE;return new Promise((r,i)=>{const s=()=>i(new A3(e.reason));if(e.aborted){s();return}n=gce(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=GE})}var Vnt=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof A3?"cancelled":"rejected",error:n}}finally{t==null||t()}},KE=e=>t=>pce(vce(e,t).then(n=>(Vh(e),n))),yce=e=>{const t=KE(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:cp}=Object,OV={},j3="listenerMiddleware",qnt=(e,t)=>{const n=r=>gce(e,()=>Hh(r,e.reason));return(r,i)=>{iM(r);const s=new AbortController;n(s);const a=Vnt(async()=>{Vh(e),Vh(s.signal);const o=await r({pause:KE(s.signal),delay:yce(s.signal),signal:s.signal});return Vh(s.signal),o},()=>Hh(s,Unt));return i!=null&&i.autoJoin&&t.push(a.catch(GE)),{result:KE(e)(a),cancel(){Hh(s,Bnt)}}}},Wnt=(e,t)=>{const n=async(r,i)=>{Vh(t);let s=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await vce(t,Promise.race(o));return Vh(t),c}finally{s()}};return(r,i)=>pce(n(r,i))},xce=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=$o(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ga(21));return iM(s),{predicate:i,type:t,effect:s}},bce=cp(e=>{const{type:t,predicate:n,effect:r}=xce(e);return{id:jnt(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ga(22))}}},{withTypes:()=>bce}),DV=(e,t)=>{const{type:n,effect:r,predicate:i}=xce(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},W8=e=>{e.pending.forEach(t=>{Hh(t,q8)})},Gnt=(e,t)=>()=>{for(const n of t.keys())W8(n);e.clear()},LV=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},wce=cp($o(`${j3}/add`),{withTypes:()=>wce}),Knt=$o(`${j3}/removeAll`),Ece=cp($o(`${j3}/remove`),{withTypes:()=>Ece}),Ynt=(...e)=>{console.error(`${j3}/error`,...e)},Yx=(e={})=>{const t=new Map,n=new Map,r=p=>{const v=n.get(p)??0;n.set(p,v+1)},i=p=>{const v=n.get(p)??1;v===1?n.delete(p):n.set(p,v-1)},{extra:s,onError:a=Ynt}=e;iM(a);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&W8(p)}),c=p=>{const v=DV(t,p)??bce(p);return o(v)};cp(c,{withTypes:()=>c});const u=p=>{const v=DV(t,p);return v&&(v.unsubscribe(),p.cancelActive&&W8(v)),!!v};cp(u,{withTypes:()=>u});const d=async(p,v,x,b)=>{const w=new AbortController,E=Wnt(c,w.signal),k=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(v,cp({},x,{getOriginalState:b,condition:(_,A)=>E(_,A).then(Boolean),take:E,delay:yce(w.signal),pause:KE(w.signal),extra:s,signal:w.signal,fork:qnt(w.signal,k),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,A,T)=>{_!==w&&(Hh(_,q8),T.delete(_))})},cancel:()=>{Hh(w,q8),p.pending.delete(w)},throwIfCancelled:()=>{Vh(w.signal)}})))}catch(_){_ instanceof A3||LV(a,_,{raisedBy:"effect"})}finally{await Promise.all(k),Hh(w,Hnt),i(p),p.pending.delete(w)}},f=Gnt(t,n);return{middleware:p=>v=>x=>{if(!Qle(x))return v(x);if(wce.match(x))return c(x.payload);if(Knt.match(x)){f();return}if(Ece.match(x))return u(x.payload);let b=p.getState();const w=()=>{if(b===OV)throw new Error(Ga(23));return b};let E;try{if(E=v(x),t.size>0){const k=p.getState(),_=Array.from(t.values());for(const A of _){let T=!1;try{T=A.predicate(x,k,b)}catch(C){T=!1,LV(a,C,{raisedBy:"predicate"})}T&&d(A,x,p,w)}}}finally{b=OV}return E},startListening:c,stopListening:u,clearListeners:f}};function Ga(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xnt={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Sce=_a({name:"chartLayout",initialState:Xnt,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Qnt,setLayout:Znt,setChartSize:Jnt,setScale:ert}=Sce.actions,trt=Sce.reducer;function kce(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function FV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FV(Object(n),!0).forEach(function(r){nrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nrt(e,t,n){return(t=rrt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rrt(e){var t=irt(e,"string");return typeof t=="symbol"?t:t+""}function irt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(e,t,n){return fs(e)||fs(t)?n:zp(t)?E3(e,t,n):typeof t=="function"?t(e):n}var srt=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Cn(e[s]))return Wm(Wm({},e),{},{[s]:e[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Cn(e[a]))return Wm(Wm({},e),{},{[a]:e[a]+(i||0)})}return e},Lf=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",_ce=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(n),a},Cce=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!a)return null;var v=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/v:0;if(x=p==="angleAxis"&&s&&s.length>=2?Po(s[0]-s[1])*2*x:x,f||h){var b=(f||h||[]).map((w,E)=>{var k=r?r.indexOf(w):w;return{coordinate:a(k)+x,value:w,offset:x,index:E}});return b.filter(w=>!Ec(w.coordinate))}return c&&u?u.map((w,E)=>({coordinate:a(w)+x,value:w,index:E,offset:x})):a.ticks&&d!=null?a.ticks(d).map((w,E)=>({coordinate:a(w)+x,value:w,offset:x,index:E})):a.domain().map((w,E)=>({coordinate:a(w)+x,value:r?r[w]:w,index:E,offset:x}))},$V=1e-4,art=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$V,s=Math.max(r[0],r[1])+$V,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}},ort=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,a=0;a<t;++a){var o=Ec(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1])}},lrt=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var a=Ec(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},crt={sign:ort,expand:ett,none:$p,silhouette:ttt,wiggle:ntt,positive:lrt},urt=(e,t,n)=>{var r=crt[n],i=Jet().keys(t).value((s,a)=>Number(Ps(s,a,0))).order(O8).offset(r);return i(e)};function zV(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fs(i[t.dataKey])){var o=zle(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Ps(i,fs(a)?t.dataKey:a);return fs(c)?null:t.scale(c)}var drt=e=>{var t=e.flat(2).filter(Cn);return[Math.min(...t),Math.max(...t)]},frt=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hrt=(e,t,n)=>{if(e!=null)return frt(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((c,u)=>{var d=kce(u,t,n),f=drt(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},BV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HV=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var i=XR(t,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function VV(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Wm(Wm({},t),{},{dataKey:n,payload:r,value:i,name:s})}function Nce(e,t){if(e)return String(e);if(typeof t=="string")return t}var mrt=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},prt=(e,t)=>t==="centric"?e.angle:e.radius,Xu=e=>e.layout.width,Qu=e=>e.layout.height,grt=e=>e.layout.scale,Tce=e=>e.layout.margin,P3=Ve(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),I3=Ve(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vrt="data-recharts-item-index",yrt="data-recharts-item-data-key",Xx=60;function qV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qV(Object(n),!0).forEach(function(r){xrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xrt(e,t,n){return(t=brt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function brt(e){var t=wrt(e,"string");return typeof t=="symbol"?t:t+""}function wrt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ert=e=>e.brush.height;function Srt(e){var t=I3(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Xx;return n+i}return n},0)}function krt(e){var t=I3(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Xx;return n+i}return n},0)}function _rt(e){var t=P3(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Crt(e){var t=P3(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var gs=Ve([Xu,Qu,Tce,Ert,Srt,krt,_rt,Crt,Kle,ent],(e,t,n,r,i,s,a,o,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+a,bottom:(n.bottom||0)+o},h=k2(k2({},f),d),p=h.bottom;h.bottom+=r,h=srt(h,c,u);var v=e-h.left-h.right,x=t-h.top-h.bottom;return k2(k2({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(x,0)})}),Nrt=Ve(gs,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ace=Ve(Xu,Qu,(e,t)=>({x:0,y:0,width:e,height:t})),Trt=y.createContext(null),Ca=()=>y.useContext(Trt)!=null,R3=e=>e.brush,M3=Ve([R3,gs,Tce],(e,t,n)=>({height:e.height,x:Cn(e.x)?e.x:t.left,y:Cn(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Cn(e.width)?e.width:t.width})),m5={},p5={},g5={},WV;function Art(){return WV||(WV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,o=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},v=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{v(),a=void 0,o=null},b=()=>{d()},w=function(...E){if(i!=null&&i.aborted)return;a=this,o=E;const k=h==null;p(),c&&k&&d()};return w.schedule=p,w.cancel=x,w.flush=b,i==null||i.addEventListener("abort",x,{once:!0}),w}e.debounce=t})(g5)),g5}var GV;function jrt(){return GV||(GV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Art();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=r.apply(this,x),f=null},i,{edges:u}),p=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},v=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=v,p}e.debounce=n})(p5)),p5}var KV;function Prt(){return KV||(KV=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jrt();function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:o})}e.throttle=n})(m5)),m5}var v5,YV;function Irt(){return YV||(YV=1,v5=Prt().throttle),v5}var Rrt=Irt();const Mrt=Xa(Rrt);var YE=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},jce=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=Ou(r)?e:Number(r),c=Ou(i)?t:Number(i);return s&&s>0&&(o?c=o/s:c&&(o=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:o,calculatedHeight:c}},Ort={width:0,height:0,overflow:"visible"},Drt={width:0,overflowX:"visible"},Lrt={height:0,overflowY:"visible"},Frt={},$rt=e=>{var{width:t,height:n}=e,r=Ou(t),i=Ou(n);return r&&i?Ort:r?Drt:i?Lrt:Frt};function zrt(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function rs(e){return Number.isFinite(e)}function kc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function G8(){return G8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G8.apply(null,arguments)}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(r){Brt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Brt(e,t,n){return(t=Urt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Urt(e){var t=Hrt(e,"string");return typeof t=="symbol"?t:t+""}function Hrt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pce=y.createContext({width:-1,height:-1});function Vrt(e){return kc(e.width)&&kc(e.height)}function Ice(e){var{children:t,width:n,height:r}=e,i=y.useMemo(()=>({width:n,height:r}),[n,r]);return Vrt(i)?y.createElement(Pce.Provider,{value:i},t):null}var sM=()=>y.useContext(Pce),qrt=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:v={}}=e,x=y.useRef(null),b=y.useRef();b.current=p,y.useImperativeHandle(t,()=>x.current);var[w,E]=y.useState({containerWidth:r.width,containerHeight:r.height}),k=y.useCallback((I,B)=>{E($=>{var L=Math.round(I),U=Math.round(B);return $.containerWidth===L&&$.containerHeight===U?$:{containerWidth:L,containerHeight:U}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Wx;var I=U=>{var Y,{width:V,height:K}=U[0].contentRect;k(V,K),(Y=b.current)===null||Y===void 0||Y.call(b,V,K)};d>0&&(I=Mrt(I,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(I),{width:$,height:L}=x.current.getBoundingClientRect();return k($,L),B.observe(x.current),()=>{B.disconnect()}},[k,d]);var{containerWidth:_,containerHeight:A}=w;YE(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:T,calculatedHeight:C}=jce(_,A,{width:i,height:s,aspect:n,maxHeight:c});return YE(T!=null&&T>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,C,i,s,a,o,n),y.createElement("div",{id:f?"".concat(f):void 0,className:Nr("recharts-responsive-container",h),style:QV(QV({},v),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:c}),ref:x},y.createElement("div",{style:$rt({width:i,height:s})},y.createElement(Ice,{width:T,height:C},u)))}),Wrt=y.forwardRef((e,t)=>{var n=sM();if(kc(n.width)&&kc(n.height))return e.children;var{width:r,height:i}=zrt({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=jce(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Cn(s)&&Cn(a)?y.createElement(Ice,{width:s,height:a},e.children):y.createElement(qrt,G8({},e,{width:r,height:i,ref:t}))});function Rce(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Mce=()=>{var e,t=Ca(),n=wn(Nrt),r=wn(M3),i=(e=wn(R3))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Grt={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Krt=()=>{var e;return(e=wn(gs))!==null&&e!==void 0?e:Grt},Oce=()=>wn(Xu),Dce=()=>wn(Qu),Tr=e=>e.layout.layoutType,aM=()=>wn(Tr),Yrt=()=>{var e=aM();return e!==void 0},O3=e=>{var t=ps(),n=Ca(),{width:r,height:i}=e,s=sM(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),y.useEffect(()=>{!n&&kc(a)&&kc(o)&&t(Jnt({width:a,height:o}))},[t,n,a,o]),null},Xrt={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Lce=_a({name:"legend",initialState:Xrt,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Rr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nl(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Rr()},removeLegendPayload:{reducer(e,t){var n=Nl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Rr()}}}),{setLegendSize:p4t,setLegendSettings:g4t,addLegendPayload:Qrt,replaceLegendPayload:Zrt,removeLegendPayload:Jrt}=Lce.actions,eit=Lce.reducer,tit=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qx={devToolsEnabled:!1,isSsr:tit()},nit=()=>{var e;return(e=wn(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function K8(){return K8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K8.apply(null,arguments)}function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZV(Object(n),!0).forEach(function(r){rit(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rit(e,t,n){return(t=iit(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iit(e){var t=sit(e,"string");return typeof t=="symbol"?t:t+""}function sit(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eq={curveBasisClosed:Uet,curveBasisOpen:Het,curveBasis:Bet,curveBumpX:Net,curveBumpY:Tet,curveLinearClosed:Vet,curveLinear:b3,curveMonotoneX:qet,curveMonotoneY:Wet,curveNatural:Get,curveStep:Ket,curveStepAfter:Xet,curveStepBefore:Yet},XE=e=>rs(e.x)&&rs(e.y),tq=e=>e.base!=null&&XE(e.base)&&XE(e),F1=e=>e.x,$1=e=>e.y,ait=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(qx(e));return(n==="curveMonotone"||n==="curveBump")&&t?eq["".concat(n).concat(t==="vertical"?"Y":"X")]:eq[n]||b3},oit=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=ait(t,i),o=s?n.filter(XE):n,c;if(Array.isArray(r)){var u=n.map((p,v)=>JV(JV({},p),{},{base:r[v]}));i==="vertical"?c=x2().y($1).x1(F1).x0(p=>p.base.x):c=x2().x(F1).y1($1).y0(p=>p.base.y);var d=c.defined(tq).curve(a),f=s?u.filter(tq):u;return d(f)}i==="vertical"&&Cn(r)?c=x2().y($1).x1(F1).x0(r):Cn(r)?c=x2().x(F1).y1($1).y0(r):c=Cle().x(F1).y($1);var h=c.defined(XE).curve(a);return h(o)},lit=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?oit(e):r;return y.createElement("path",K8({},wc(e),KR(e),{className:Nr("recharts-curve",t),d:s===null?void 0:s,ref:i}))};function nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nq(Object(n),!0).forEach(function(r){cit(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cit(e,t,n){return(t=uit(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uit(e){var t=dit(e,"string");return typeof t=="symbol"?t:t+""}function dit(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fit=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Fce=(e,t,n)=>e.map(r=>"".concat(fit(r)," ").concat(t,"ms ").concat(n)).join(","),hit=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ty=(e,t)=>Object.keys(t).reduce((n,r)=>rq(rq({},n),{},{[r]:e(r,t[r])}),{});function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iq(Object(n),!0).forEach(function(r){mit(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mit(e,t,n){return(t=pit(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pit(e){var t=git(e,"string");return typeof t=="symbol"?t:t+""}function git(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QE=(e,t,n)=>e+(t-e)*n,Y8=e=>{var{from:t,to:n}=e;return t!==n},$ce=(e,t,n)=>{var r=Ty((i,s)=>{if(Y8(s)){var[a,o]=e(s.from,s.to,s.velocity);return Mi(Mi({},s),{},{from:a,velocity:o})}return s},t);return n<1?Ty((i,s)=>Y8(s)?Mi(Mi({},s),{},{velocity:QE(s.velocity,r[i].velocity,n),from:QE(s.from,r[i].from,n)}):s,t):$ce(e,r,n-1)};function vit(e,t,n,r,i,s){var a,o=r.reduce((h,p)=>Mi(Mi({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Ty((h,p)=>p.from,o),u=()=>!Object.values(o).filter(Y8).length,d=null,f=h=>{a||(a=h);var p=h-a,v=p/n.dt;o=$ce(n,o,v),i(Mi(Mi(Mi({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function yit(e,t,n,r,i,s,a){var o=null,c=i.reduce((f,h)=>Mi(Mi({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/r,p=Ty((x,b)=>QE(...b,n(h)),c);if(s(Mi(Mi(Mi({},e),t),p)),h<1)o=a.setTimeout(d);else{var v=Ty((x,b)=>QE(...b,n(1)),c);s(Mi(Mi(Mi({},e),t),v))}};return()=>(o=a.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const xit=(e,t,n,r,i,s)=>{var a=hit(e,t);return n==null?()=>(i(Mi(Mi({},e),t)),()=>{}):n.isStepper===!0?vit(e,t,n,a,i,s):yit(e,t,n,r,a,i,s)};var ZE=1e-4,zce=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Bce=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),sq=(e,t)=>n=>{var r=zce(e,t);return Bce(r,n)},bit=(e,t)=>n=>{var r=zce(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return Bce(i,n)},wit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},Eit=(e,t,n,r)=>{var i=sq(e,n),s=sq(t,r),a=bit(e,n),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var p=i(f)-d,v=a(f);if(Math.abs(p-d)<ZE||v<ZE)return s(f);f=o(f-p/v)}return s(f)};return c.isStepper=!1,c},aq=function(){return Eit(...wit(...arguments))},Sit=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,o,c)=>{var u=-(a-o)*n,d=c*r,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-o)<ZE&&Math.abs(f)<ZE?[o,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},kit=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aq(e);case"spring":return Sit();default:if(e.split("(")[0]==="cubic-bezier")return aq(e)}return typeof e=="function"?e:null};function _it(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class Cit{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Nit(){return _it(new Cit)}var Tit=y.createContext(Nit);function Ait(e,t){var n=y.useContext(Tit);return y.useMemo(()=>t??n(e),[e,t,n])}var jit={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oq={t:0},y5={t:1};function oM(e){var t=Za(e,jit),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=n==="auto"?!Qx.isSsr:n,f=Ait(t.animationId,t.animationManager),[h,p]=y.useState(d?oq:y5),v=y.useRef(null);return y.useEffect(()=>{d||p(y5)},[d]),y.useEffect(()=>{if(!d||!r)return Wx;var x=xit(oq,y5,kit(s),i,p,f.getTimeoutController()),b=()=>{v.current=x()};return f.start([c,a,b,i,o]),()=>{f.stop(),v.current&&v.current(),o()}},[d,r,i,s,a,c,o,f]),u(h.t)}function lM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(ky(t)),r=y.useRef(e);return r.current!==e&&(n.current=ky(t),r.current=e),n.current}var Pit=["radius"],Iit=["radius"];function lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(n),!0).forEach(function(r){Rit(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rit(e,t,n){return(t=Mit(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mit(e){var t=Oit(e,"string");return typeof t=="symbol"?t:t+""}function Oit(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(null,arguments)}function uq(e,t){if(e==null)return{};var n,r,i=Dit(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dq=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+n-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+a*d[1])),u+="L ".concat(e+n,",").concat(t+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-o*d[2],",").concat(t+r)),u+="L ".concat(e+o*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);u="M ".concat(e,",").concat(t+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+n-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+a*p,`
            L `).concat(e+n,",").concat(t+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-o*p,",").concat(t+r,`
            L `).concat(e+o*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-a*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},fq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lit=e=>{var t=Za(e,fq),n=y.useRef(null),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:s,y:a,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:x}=t,b=y.useRef(o),w=y.useRef(c),E=y.useRef(s),k=y.useRef(a),_=y.useMemo(()=>({x:s,y:a,width:o,height:c,radius:u}),[s,a,o,c,u]),A=lM(_,"rectangle-");if(s!==+s||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var T=Nr("recharts-rectangle",d);if(!x){var C=wa(t),{radius:I}=C,B=uq(C,Pit);return y.createElement("path",JE({},B,{radius:typeof u=="number"?u:void 0,className:T,d:dq(s,a,o,c,u)}))}var $=b.current,L=w.current,U=E.current,Y=k.current,V="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),W=Fce(["strokeDasharray"],h,typeof f=="string"?f:fq.animationEasing);return y.createElement(oM,{animationId:A,key:A,canBegin:r>0,duration:h,easing:f,isActive:x,begin:p},J=>{var q=va($,o,J),G=va(L,c,J),j=va(U,s,J),M=va(Y,a,J);n.current&&(b.current=q,w.current=G,E.current=j,k.current=M);var z;v?J>0?z={transition:W,strokeDasharray:K}:z={strokeDasharray:V}:z={strokeDasharray:K};var O=wa(t),{radius:X}=O,ne=uq(O,Iit);return y.createElement("path",JE({},ne,{radius:typeof u=="number"?u:void 0,className:T,d:dq(j,M,q,G,u),ref:n,style:cq(cq({},z),t.style)}))})};function hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(n),!0).forEach(function(r){Fit(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fit(e,t,n){return(t=$it(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $it(e){var t=zit(e,"string");return typeof t=="symbol"?t:t+""}function zit(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eS=Math.PI/180,Bit=e=>e*180/Math.PI,Ha=(e,t,n,r)=>({x:e+Math.cos(-eS*r)*n,y:t+Math.sin(-eS*r)*n}),Uit=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hit=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},Vit=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=Hit({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,c=Math.acos(o);return r>s&&(c=2*Math.PI-c),{radius:a,angle:Bit(c),angleInRadian:c}},qit=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Wit=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},Git=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=Vit({x:n,y:r},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:c,endAngle:u}=qit(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?mq(mq({},t),{},{radius:i,angle:Wit(d,t)}):null};function X8(){return X8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X8.apply(null,arguments)}var Kit=(e,t)=>{var n=Po(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},_2=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:c}=e,u=o*(a?1:-1)+r,d=Math.asin(o/u)/eS,f=c?i:i+s*d,h=Ha(t,n,u,f),p=Ha(t,n,r,f),v=c?i-s*d:i,x=Ha(t,n,u*Math.cos(d*eS),v);return{center:h,circleTangency:p,lineTangency:x,theta:d}},Uce=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,o=Kit(s,a),c=s+o,u=Ha(t,n,i,s),d=Ha(t,n,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var h=Ha(t,n,r,s),p=Ha(t,n,r,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},Yit=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Po(u-c),{circleTangency:f,lineTangency:h,theta:p}=_2({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:v,lineTangency:x,theta:b}=_2({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(c-u):Math.abs(c-u)-p-b;if(w<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Uce({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var E="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:_,theta:A}=_2({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:T,lineTangency:C,theta:I}=_2({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),B=o?Math.abs(c-u):Math.abs(c-u)-A-I;if(B<0&&s===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else E+="L".concat(t,",").concat(n,"Z");return E},Xit={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qit=e=>{var t=Za(e,Xit),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=Nr("recharts-sector",f),p=s-i,v=_f(a,p,0,!0),x;return v>0&&Math.abs(u-d)<360?x=Yit({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=Uce({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",X8({},wa(t),{className:h,d:x}))},x5={},b5={},w5={},pq;function Zit(){return pq||(pq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wle();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(w5)),w5}var gq;function Jit(){return gq||(gq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zit();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(b5)),b5}var vq;function est(){return vq||(vq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gle(),n=Jit();function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=a;return c}e.range=r})(x5)),x5}var E5,yq;function tst(){return yq||(yq=1,E5=est().range),E5}var nst=tst();const Hce=Xa(nst);function df(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rst(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cM(e){let t,n,r;e.length!==2?(t=df,n=(o,c)=>df(e(o),c),r=(o,c)=>e(o)-c):(t=e===df||e===rst?e:ist,n=e,r=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:i,center:a,right:s}}function ist(){return 0}function Vce(e){return e===null?NaN:+e}function*sst(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ast=cM(df),Zx=ast.right;cM(Vce).center;class xq extends Map{constructor(t,n=cst){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bq(this,t))}has(t){return super.has(bq(this,t))}set(t,n){return super.set(ost(this,t),n)}delete(t){return super.delete(lst(this,t))}}function bq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ost({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lst({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cst(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ust(e=df){if(e===df)return qce;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function qce(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dst=Math.sqrt(50),fst=Math.sqrt(10),hst=Math.sqrt(2);function tS(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=dst?10:s>=fst?5:s>=hst?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=n&&n<2?tS(e,t,n*2):[o,c,u]}function Q8(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?tS(t,e,n):tS(e,t,n);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)c[u]=(s-u)/-a;else for(let u=0;u<o;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(i+u)/-a;else for(let u=0;u<o;++u)c[u]=(i+u)*a;return c}function Z8(e,t,n){return t=+t,e=+e,n=+n,tS(e,t,n)[2]}function J8(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Z8(t,e,n):Z8(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wq(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Eq(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Wce(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?qce:ust(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/c+h)),v=Math.min(r,Math.floor(t+(c-u)*f/c+h));Wce(e,t,p,v,i)}const s=e[t];let a=n,o=r;for(z1(e,n,t),i(e[r],s)>0&&z1(e,n,r);a<o;){for(z1(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?z1(e,n,o):(++o,z1(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function z1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mst(e,t,n){if(e=Float64Array.from(sst(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Eq(e);if(t>=1)return wq(e);var r,i=(r-1)*t,s=Math.floor(i),a=wq(Wce(e,s).subarray(0,s+1)),o=Eq(e.subarray(s+1));return a+(o-a)*(i-s)}}function pst(e,t,n=Vce){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function gst(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ej=Symbol("implicit");function uM(){var e=new xq,t=[],n=[],r=ej;function i(s){let a=e.get(s);if(a===void 0){if(r!==ej)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new xq;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uM(t,n).unknown(r)},Vo.apply(i,arguments),i}function dM(){var e=uM().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<r,v=p?i:r,x=p?r:i;s=(x-v)/Math.max(1,h-c+u*2),o&&(s=Math.floor(s)),v+=(x-v-s*(h-c))*d,a=s*(1-c),o&&(v=Math.round(v),a=Math.round(a));var b=gst(h).map(function(w){return v+s*w});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return dM(t(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vo.apply(f(),arguments)}function Gce(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gce(t())},e}function vst(){return Gce(dM.apply(null,arguments).paddingInner(1))}function fM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Kce(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jx(){}var Ay=.7,nS=1/Ay,up="\\s*([+-]?\\d+)\\s*",jy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yst=/^#([0-9a-f]{3,8})$/,xst=new RegExp(`^rgb\\(${up},${up},${up}\\)$`),bst=new RegExp(`^rgb\\(${yc},${yc},${yc}\\)$`),wst=new RegExp(`^rgba\\(${up},${up},${up},${jy}\\)$`),Est=new RegExp(`^rgba\\(${yc},${yc},${yc},${jy}\\)$`),Sst=new RegExp(`^hsl\\(${jy},${yc},${yc}\\)$`),kst=new RegExp(`^hsla\\(${jy},${yc},${yc},${jy}\\)$`),Sq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fM(Jx,h0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kq,formatHex:kq,formatHex8:_st,formatHsl:Cst,formatRgb:_q,toString:_q});function kq(){return this.rgb().formatHex()}function _st(){return this.rgb().formatHex8()}function Cst(){return Yce(this).formatHsl()}function _q(){return this.rgb().formatRgb()}function h0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yst.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Cq(t):n===3?new xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?C2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?C2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xst.exec(e))?new xa(t[1],t[2],t[3],1):(t=bst.exec(e))?new xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wst.exec(e))?C2(t[1],t[2],t[3],t[4]):(t=Est.exec(e))?C2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Sst.exec(e))?Aq(t[1],t[2]/100,t[3]/100,1):(t=kst.exec(e))?Aq(t[1],t[2]/100,t[3]/100,t[4]):Sq.hasOwnProperty(e)?Cq(Sq[e]):e==="transparent"?new xa(NaN,NaN,NaN,0):null}function Cq(e){return new xa(e>>16&255,e>>8&255,e&255,1)}function C2(e,t,n,r){return r<=0&&(e=t=n=NaN),new xa(e,t,n,r)}function Nst(e){return e instanceof Jx||(e=h0(e)),e?(e=e.rgb(),new xa(e.r,e.g,e.b,e.opacity)):new xa}function tj(e,t,n,r){return arguments.length===1?Nst(e):new xa(e,t,n,r??1)}function xa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fM(xa,tj,Kce(Jx,{brighter(e){return e=e==null?nS:Math.pow(nS,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ay:Math.pow(Ay,e),new xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xa(qh(this.r),qh(this.g),qh(this.b),rS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nq,formatHex:Nq,formatHex8:Tst,formatRgb:Tq,toString:Tq}));function Nq(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}`}function Tst(){return`#${Sh(this.r)}${Sh(this.g)}${Sh(this.b)}${Sh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tq(){const e=rS(this.opacity);return`${e===1?"rgb(":"rgba("}${qh(this.r)}, ${qh(this.g)}, ${qh(this.b)}${e===1?")":`, ${e})`}`}function rS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sh(e){return e=qh(e),(e<16?"0":"")+e.toString(16)}function Aq(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xl(e,t,n,r)}function Yce(e){if(e instanceof xl)return new xl(e.h,e.s,e.l,e.opacity);if(e instanceof Jx||(e=h0(e)),!e)return new xl;if(e instanceof xl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new xl(a,o,c,e.opacity)}function Ast(e,t,n,r){return arguments.length===1?Yce(e):new xl(e,t,n,r??1)}function xl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fM(xl,Ast,Kce(Jx,{brighter(e){return e=e==null?nS:Math.pow(nS,e),new xl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ay:Math.pow(Ay,e),new xl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xa(S5(e>=240?e-240:e+120,i,r),S5(e,i,r),S5(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xl(jq(this.h),N2(this.s),N2(this.l),rS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rS(this.opacity);return`${e===1?"hsl(":"hsla("}${jq(this.h)}, ${N2(this.s)*100}%, ${N2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jq(e){return e=(e||0)%360,e<0?e+360:e}function N2(e){return Math.max(0,Math.min(1,e||0))}function S5(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const D3=e=>()=>e;function Xce(e,t){return function(n){return e+n*t}}function jst(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function v4t(e,t){var n=t-e;return n?Xce(e,n>180||n<-180?n-360*Math.round(n/360):n):D3(isNaN(e)?t:e)}function Pst(e){return(e=+e)==1?Qce:function(t,n){return n-t?jst(t,n,e):D3(isNaN(t)?n:t)}}function Qce(e,t){var n=t-e;return n?Xce(e,n):D3(isNaN(e)?t:e)}const iS=(function e(t){var n=Pst(t);function r(i,s){var a=n((i=tj(i)).r,(s=tj(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),u=Qce(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r})(1);function Ist(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Rst(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mst(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=wu(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Ost(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ul(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dst(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wu(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var nj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k5=new RegExp(nj.source,"g");function Lst(e){return function(){return e}}function Fst(e){return function(t){return e(t)+""}}function Zce(e,t){var n=nj.lastIndex=k5.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(e=e+"",t=t+"";(r=nj.exec(e))&&(i=k5.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:ul(r,i)})),n=k5.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?Fst(c[0].x):Lst(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function wu(e,t){var n=typeof t,r;return t==null||n==="boolean"?D3(t):(n==="number"?ul:n==="string"?(r=h0(t))?(t=r,iS):Zce:t instanceof h0?iS:t instanceof Date?Ost:Rst(t)?Ist:Array.isArray(t)?Mst:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Dst:ul)(e,t)}function hM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Pq=180/Math.PI,rj={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Jce(e,t,n,r,i,s){var a,o,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Pq,skewX:Math.atan(c)*Pq,scaleX:a,scaleY:o}}var T2;function $st(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rj:Jce(t.a,t.b,t.c,t.d,t.e,t.f)}function zst(e){return e==null||(T2||(T2=document.createElementNS("http://www.w3.org/2000/svg","g")),T2.setAttribute("transform",e),!(e=T2.transform.baseVal.consolidate()))?rj:(e=e.matrix,Jce(e.a,e.b,e.c,e.d,e.e,e.f))}function eue(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,p,v){if(u!==f||d!==h){var x=p.push("translate(",null,t,null,n);v.push({i:x-4,x:ul(u,f)},{i:x-2,x:ul(d,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function a(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ul(u,d)})):d&&f.push(i(f)+"rotate("+d+r)}function o(u,d,f,h){u!==d?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ul(u,d)}):d&&f.push(i(f)+"skewX("+d+r)}function c(u,d,f,h,p,v){if(u!==f||d!==h){var x=p.push(i(p)+"scale(",null,",",null,")");v.push({i:x-4,x:ul(u,f)},{i:x-2,x:ul(d,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),a(u.rotate,d.rotate,f,h),o(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var v=-1,x=h.length,b;++v<x;)f[(b=h[v]).i]=b.x(p);return f.join("")}}}var Bst=eue($st,"px, ","px)","deg)"),Ust=eue(zst,", ",")",")"),Hst=1e-12;function Iq(e){return((e=Math.exp(e))+1/e)/2}function Vst(e){return((e=Math.exp(e))-1/e)/2}function qst(e){return((e=Math.exp(2*e))-1)/(e+1)}const l4=(function e(t,n,r){function i(s,a){var o=s[0],c=s[1],u=s[2],d=a[0],f=a[1],h=a[2],p=d-o,v=f-c,x=p*p+v*v,b,w;if(x<Hst)w=Math.log(h/u)/t,b=function(C){return[o+C*p,c+C*v,u*Math.exp(t*C*w)]};else{var E=Math.sqrt(x),k=(h*h-u*u+r*x)/(2*u*n*E),_=(h*h-u*u-r*x)/(2*h*n*E),A=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(_*_+1)-_);w=(T-A)/t,b=function(C){var I=C*w,B=Iq(A),$=u/(n*E)*(B*qst(t*I+A)-Vst(A));return[o+$*p,c+$*v,u*B/Iq(t*I+A)]}}return b.duration=w*1e3*t/Math.SQRT2,b}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,c=o*o;return e(a,o,c)},i})(Math.SQRT2,2,4);function Wst(e,t){t===void 0&&(t=e,e=wu);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Gst(e){return function(){return e}}function sS(e){return+e}var Rq=[0,1];function Ks(e){return e}function ij(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gst(isNaN(t)?NaN:.5)}function Kst(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Yst(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=ij(i,r),s=n(a,s)):(r=ij(r,i),s=n(s,a)),function(o){return s(r(o))}}function Xst(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ij(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var c=Zx(e,o,1,r)-1;return s[c](i[c](o))}}function eb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L3(){var e=Rq,t=Rq,n=wu,r,i,s,a=Ks,o,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Ks&&(a=Kst(e[0],e[h-1])),o=h>2?Xst:Yst,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=o(t,e.map(r),ul)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sS),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=hM,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Ks,d()):a!==Ks},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function mM(){return L3()(Ks,Ks)}function Qst(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function aS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hp(e){return e=aS(Math.abs(e)),e?e[1]:NaN}function Zst(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Jst(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var eat=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Py(e){if(!(t=eat.exec(e)))throw new Error("invalid format: "+e);var t;return new pM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Py.prototype=pM.prototype;function pM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tat(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tue;function nat(e,t){var n=aS(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(tue=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+aS(e,Math.max(0,t+s-1))[0]}function Mq(e,t){var n=aS(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Oq={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qst,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Mq(e*100,t),r:Mq,s:nat,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Dq(e){return e}var Lq=Array.prototype.map,Fq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rat(e){var t=e.grouping===void 0||e.thousands===void 0?Dq:Zst(Lq.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Dq:Jst(Lq.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Py(f);var h=f.fill,p=f.align,v=f.sign,x=f.symbol,b=f.zero,w=f.width,E=f.comma,k=f.precision,_=f.trim,A=f.type;A==="n"?(E=!0,A="g"):Oq[A]||(k===void 0&&(k=12),_=!0,A="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var T=x==="$"?n:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=x==="$"?r:/[%p]/.test(A)?a:"",I=Oq[A],B=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function $(L){var U=T,Y=C,V,K,W;if(A==="c")Y=I(L)+Y,L="";else{L=+L;var J=L<0||1/L<0;if(L=isNaN(L)?c:I(Math.abs(L),k),_&&(L=tat(L)),J&&+L==0&&v!=="+"&&(J=!1),U=(J?v==="("?v:o:v==="-"||v==="("?"":v)+U,Y=(A==="s"?Fq[8+tue/3]:"")+Y+(J&&v==="("?")":""),B){for(V=-1,K=L.length;++V<K;)if(W=L.charCodeAt(V),48>W||W>57){Y=(W===46?i+L.slice(V+1):L.slice(V))+Y,L=L.slice(0,V);break}}}E&&!b&&(L=t(L,1/0));var q=U.length+L.length+Y.length,G=q<w?new Array(w-q+1).join(h):"";switch(E&&b&&(L=t(G+L,G.length?w-Y.length:1/0),G=""),p){case"<":L=U+L+Y+G;break;case"=":L=U+G+L+Y;break;case"^":L=G.slice(0,q=G.length>>1)+U+L+Y+G.slice(q);break;default:L=G+U+L+Y;break}return s(L)}return $.toString=function(){return f+""},$}function d(f,h){var p=u((f=Py(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Hp(h)/3)))*3,x=Math.pow(10,-v),b=Fq[8+v/3];return function(w){return p(x*w)+b}}return{format:u,formatPrefix:d}}var A2,gM,nue;iat({thousands:",",grouping:[3],currency:["$",""]});function iat(e){return A2=rat(e),gM=A2.format,nue=A2.formatPrefix,A2}function sat(e){return Math.max(0,-Hp(Math.abs(e)))}function aat(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hp(t)/3)))*3-Hp(Math.abs(e)))}function oat(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hp(t)-Hp(e))+1}function rue(e,t,n,r){var i=J8(e,t,n),s;switch(r=Py(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=aat(i,a))&&(r.precision=s),nue(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=oat(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=sat(i))&&(r.precision=s-(r.type==="%")*2);break}}return gM(r)}function Ff(e){var t=e.domain;return e.ticks=function(n){var r=t();return Q8(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return rue(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=Z8(a,o,n),u===c)return r[i]=a,r[s]=o,t(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function iue(){var e=mM();return e.copy=function(){return eb(e,iue())},Vo.apply(e,arguments),Ff(e)}function sue(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,sS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return sue(e).unknown(t)},e=arguments.length?Array.from(e,sS):[0,1],Ff(n)}function aue(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function $q(e){return Math.log(e)}function zq(e){return Math.exp(e)}function lat(e){return-Math.log(-e)}function cat(e){return-Math.exp(-e)}function uat(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dat(e){return e===10?uat:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fat(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Bq(e){return(t,n)=>-e(-t,n)}function vM(e){const t=e($q,zq),n=t.domain;let r=10,i,s;function a(){return i=fat(r),s=dat(r),n()[0]<0?(i=Bq(i),s=Bq(s),e(lat,cat)):e($q,zq),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,x;const b=o==null?10:+o;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(x=h<0?v/s(-h):v*s(h),!(x<u)){if(x>d)break;w.push(x)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(x=h>0?v/s(-h):v*s(h),!(x<u)){if(x>d)break;w.push(x)}w.length*2<b&&(w=Q8(u,d,b))}else w=Q8(h,p,Math.min(p-h,b)).map(s);return f?w.reverse():w},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Py(c)).precision==null&&(c.trim=!0),c=gM(c)),o===1/0)return c;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(aue(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function oue(){const e=vM(L3()).domain([1,10]);return e.copy=()=>eb(e,oue()).base(e.base()),Vo.apply(e,arguments),e}function Uq(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Hq(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yM(e){var t=1,n=e(Uq(t),Hq(t));return n.constant=function(r){return arguments.length?e(Uq(t=+r),Hq(t)):t},Ff(n)}function lue(){var e=yM(L3());return e.copy=function(){return eb(e,lue()).constant(e.constant())},Vo.apply(e,arguments)}function Vq(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hat(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mat(e){return e<0?-e*e:e*e}function xM(e){var t=e(Ks,Ks),n=1;function r(){return n===1?e(Ks,Ks):n===.5?e(hat,mat):e(Vq(n),Vq(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ff(t)}function bM(){var e=xM(L3());return e.copy=function(){return eb(e,bM()).exponent(e.exponent())},Vo.apply(e,arguments),e}function pat(){return bM.apply(null,arguments).exponent(.5)}function qq(e){return Math.sign(e)*e*e}function gat(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cue(){var e=mM(),t=[0,1],n=!1,r;function i(s){var a=gat(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(qq(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,sS)).map(qq)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cue(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vo.apply(i,arguments),Ff(i)}function uue(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=pst(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[Zx(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(df),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return uue().domain(e).range(t).unknown(r)},Vo.apply(s,arguments)}function due(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Zx(r,c,0,n)]:s}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return due().domain([e,t]).range(i).unknown(s)},Vo.apply(Ff(a),arguments)}function fue(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[Zx(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return fue().domain(e).range(t).unknown(n)},Vo.apply(i,arguments)}const _5=new Date,C5=new Date;function Bi(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let u;do c.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<a);return c},i.filter=s=>Bi(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(_5.setTime(+s),C5.setTime(+a),e(_5),e(C5),Math.floor(n(_5,C5))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const oS=Bi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);oS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):oS);oS.range;const hu=1e3,Io=hu*60,mu=Io*60,Lu=mu*24,wM=Lu*7,Wq=Lu*30,N5=Lu*365,kh=Bi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*hu)},(e,t)=>(t-e)/hu,e=>e.getUTCSeconds());kh.range;const EM=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hu)},(e,t)=>{e.setTime(+e+t*Io)},(e,t)=>(t-e)/Io,e=>e.getMinutes());EM.range;const SM=Bi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Io)},(e,t)=>(t-e)/Io,e=>e.getUTCMinutes());SM.range;const kM=Bi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*hu-e.getMinutes()*Io)},(e,t)=>{e.setTime(+e+t*mu)},(e,t)=>(t-e)/mu,e=>e.getHours());kM.range;const _M=Bi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mu)},(e,t)=>(t-e)/mu,e=>e.getUTCHours());_M.range;const tb=Bi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Io)/Lu,e=>e.getDate()-1);tb.range;const F3=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lu,e=>e.getUTCDate()-1);F3.range;const hue=Bi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lu,e=>Math.floor(e/Lu));hue.range;function H0(e){return Bi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Io)/wM)}const $3=H0(0),lS=H0(1),vat=H0(2),yat=H0(3),Vp=H0(4),xat=H0(5),bat=H0(6);$3.range;lS.range;vat.range;yat.range;Vp.range;xat.range;bat.range;function V0(e){return Bi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/wM)}const z3=V0(0),cS=V0(1),wat=V0(2),Eat=V0(3),qp=V0(4),Sat=V0(5),kat=V0(6);z3.range;cS.range;wat.range;Eat.range;qp.range;Sat.range;kat.range;const CM=Bi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());CM.range;const NM=Bi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NM.range;const Fu=Bi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fu.range;const $u=Bi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$u.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$u.range;function mue(e,t,n,r,i,s){const a=[[kh,1,hu],[kh,5,5*hu],[kh,15,15*hu],[kh,30,30*hu],[s,1,Io],[s,5,5*Io],[s,15,15*Io],[s,30,30*Io],[i,1,mu],[i,3,3*mu],[i,6,6*mu],[i,12,12*mu],[r,1,Lu],[r,2,2*Lu],[n,1,wM],[t,1,Wq],[t,3,3*Wq],[e,1,N5]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=cM(([,,b])=>b).right(a,h);if(p===a.length)return e.every(J8(u/N5,d/N5,f));if(p===0)return oS.every(Math.max(J8(u,d,f),1));const[v,x]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return v.every(x)}return[o,c]}const[_at,Cat]=mue($u,NM,z3,hue,_M,SM),[Nat,Tat]=mue(Fu,CM,$3,tb,kM,EM);function T5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function A5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function B1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Aat(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,u=U1(i),d=H1(i),f=U1(s),h=H1(s),p=U1(a),v=H1(a),x=U1(o),b=H1(o),w=U1(c),E=H1(c),k={a:J,A:q,b:G,B:j,c:null,d:Zq,e:Zq,f:Zat,g:lot,G:uot,H:Yat,I:Xat,j:Qat,L:pue,m:Jat,M:eot,p:M,q:z,Q:tW,s:nW,S:tot,u:not,U:rot,V:iot,w:sot,W:aot,x:null,X:null,y:oot,Y:cot,Z:dot,"%":eW},_={a:O,A:X,b:ne,B:re,c:null,d:Jq,e:Jq,f:pot,g:_ot,G:Not,H:fot,I:hot,j:mot,L:vue,m:got,M:vot,p:Q,q:te,Q:tW,s:nW,S:yot,u:xot,U:bot,V:wot,w:Eot,W:Sot,x:null,X:null,y:kot,Y:Cot,Z:Tot,"%":eW},A={a:$,A:L,b:U,B:Y,c:V,d:Xq,e:Xq,f:qat,g:Yq,G:Kq,H:Qq,I:Qq,j:Bat,L:Vat,m:zat,M:Uat,p:B,q:$at,Q:Gat,s:Kat,S:Hat,u:Mat,U:Oat,V:Dat,w:Rat,W:Lat,x:K,X:W,y:Yq,Y:Kq,Z:Fat,"%":Wat};k.x=T(n,k),k.X=T(r,k),k.c=T(t,k),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(ie,fe){return function(he){var ae=[],Pe=-1,Te=0,Ge=ie.length,nt,vt,Ct;for(he instanceof Date||(he=new Date(+he));++Pe<Ge;)ie.charCodeAt(Pe)===37&&(ae.push(ie.slice(Te,Pe)),(vt=Gq[nt=ie.charAt(++Pe)])!=null?nt=ie.charAt(++Pe):vt=nt==="e"?" ":"0",(Ct=fe[nt])&&(nt=Ct(he,vt)),ae.push(nt),Te=Pe+1);return ae.push(ie.slice(Te,Pe)),ae.join("")}}function C(ie,fe){return function(he){var ae=B1(1900,void 0,1),Pe=I(ae,ie,he+="",0),Te,Ge;if(Pe!=he.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(fe&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Te=A5(B1(ae.y,0,1)),Ge=Te.getUTCDay(),Te=Ge>4||Ge===0?cS.ceil(Te):cS(Te),Te=F3.offset(Te,(ae.V-1)*7),ae.y=Te.getUTCFullYear(),ae.m=Te.getUTCMonth(),ae.d=Te.getUTCDate()+(ae.w+6)%7):(Te=T5(B1(ae.y,0,1)),Ge=Te.getDay(),Te=Ge>4||Ge===0?lS.ceil(Te):lS(Te),Te=tb.offset(Te,(ae.V-1)*7),ae.y=Te.getFullYear(),ae.m=Te.getMonth(),ae.d=Te.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ge="Z"in ae?A5(B1(ae.y,0,1)).getUTCDay():T5(B1(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ge+5)%7:ae.w+ae.U*7-(Ge+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,A5(ae)):T5(ae)}}function I(ie,fe,he,ae){for(var Pe=0,Te=fe.length,Ge=he.length,nt,vt;Pe<Te;){if(ae>=Ge)return-1;if(nt=fe.charCodeAt(Pe++),nt===37){if(nt=fe.charAt(Pe++),vt=A[nt in Gq?fe.charAt(Pe++):nt],!vt||(ae=vt(ie,he,ae))<0)return-1}else if(nt!=he.charCodeAt(ae++))return-1}return ae}function B(ie,fe,he){var ae=u.exec(fe.slice(he));return ae?(ie.p=d.get(ae[0].toLowerCase()),he+ae[0].length):-1}function $(ie,fe,he){var ae=p.exec(fe.slice(he));return ae?(ie.w=v.get(ae[0].toLowerCase()),he+ae[0].length):-1}function L(ie,fe,he){var ae=f.exec(fe.slice(he));return ae?(ie.w=h.get(ae[0].toLowerCase()),he+ae[0].length):-1}function U(ie,fe,he){var ae=w.exec(fe.slice(he));return ae?(ie.m=E.get(ae[0].toLowerCase()),he+ae[0].length):-1}function Y(ie,fe,he){var ae=x.exec(fe.slice(he));return ae?(ie.m=b.get(ae[0].toLowerCase()),he+ae[0].length):-1}function V(ie,fe,he){return I(ie,t,fe,he)}function K(ie,fe,he){return I(ie,n,fe,he)}function W(ie,fe,he){return I(ie,r,fe,he)}function J(ie){return a[ie.getDay()]}function q(ie){return s[ie.getDay()]}function G(ie){return c[ie.getMonth()]}function j(ie){return o[ie.getMonth()]}function M(ie){return i[+(ie.getHours()>=12)]}function z(ie){return 1+~~(ie.getMonth()/3)}function O(ie){return a[ie.getUTCDay()]}function X(ie){return s[ie.getUTCDay()]}function ne(ie){return c[ie.getUTCMonth()]}function re(ie){return o[ie.getUTCMonth()]}function Q(ie){return i[+(ie.getUTCHours()>=12)]}function te(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var fe=T(ie+="",k);return fe.toString=function(){return ie},fe},parse:function(ie){var fe=C(ie+="",!1);return fe.toString=function(){return ie},fe},utcFormat:function(ie){var fe=T(ie+="",_);return fe.toString=function(){return ie},fe},utcParse:function(ie){var fe=C(ie+="",!0);return fe.toString=function(){return ie},fe}}}var Gq={"-":"",_:" ",0:"0"},is=/^\s*\d+/,jat=/^%/,Pat=/[\\^$*+?|[\]().{}]/g;function Xn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Iat(e){return e.replace(Pat,"\\$&")}function U1(e){return new RegExp("^(?:"+e.map(Iat).join("|")+")","i")}function H1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Rat(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mat(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Oat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Dat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Lat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Kq(e,t,n){var r=is.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yq(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fat(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $at(e,t,n){var r=is.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Xq(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Bat(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qq(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Uat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Hat(e,t,n){var r=is.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Vat(e,t,n){var r=is.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function qat(e,t,n){var r=is.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wat(e,t,n){var r=jat.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Gat(e,t,n){var r=is.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Kat(e,t,n){var r=is.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Zq(e,t){return Xn(e.getDate(),t,2)}function Yat(e,t){return Xn(e.getHours(),t,2)}function Xat(e,t){return Xn(e.getHours()%12||12,t,2)}function Qat(e,t){return Xn(1+tb.count(Fu(e),e),t,3)}function pue(e,t){return Xn(e.getMilliseconds(),t,3)}function Zat(e,t){return pue(e,t)+"000"}function Jat(e,t){return Xn(e.getMonth()+1,t,2)}function eot(e,t){return Xn(e.getMinutes(),t,2)}function tot(e,t){return Xn(e.getSeconds(),t,2)}function not(e){var t=e.getDay();return t===0?7:t}function rot(e,t){return Xn($3.count(Fu(e)-1,e),t,2)}function gue(e){var t=e.getDay();return t>=4||t===0?Vp(e):Vp.ceil(e)}function iot(e,t){return e=gue(e),Xn(Vp.count(Fu(e),e)+(Fu(e).getDay()===4),t,2)}function sot(e){return e.getDay()}function aot(e,t){return Xn(lS.count(Fu(e)-1,e),t,2)}function oot(e,t){return Xn(e.getFullYear()%100,t,2)}function lot(e,t){return e=gue(e),Xn(e.getFullYear()%100,t,2)}function cot(e,t){return Xn(e.getFullYear()%1e4,t,4)}function uot(e,t){var n=e.getDay();return e=n>=4||n===0?Vp(e):Vp.ceil(e),Xn(e.getFullYear()%1e4,t,4)}function dot(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xn(t/60|0,"0",2)+Xn(t%60,"0",2)}function Jq(e,t){return Xn(e.getUTCDate(),t,2)}function fot(e,t){return Xn(e.getUTCHours(),t,2)}function hot(e,t){return Xn(e.getUTCHours()%12||12,t,2)}function mot(e,t){return Xn(1+F3.count($u(e),e),t,3)}function vue(e,t){return Xn(e.getUTCMilliseconds(),t,3)}function pot(e,t){return vue(e,t)+"000"}function got(e,t){return Xn(e.getUTCMonth()+1,t,2)}function vot(e,t){return Xn(e.getUTCMinutes(),t,2)}function yot(e,t){return Xn(e.getUTCSeconds(),t,2)}function xot(e){var t=e.getUTCDay();return t===0?7:t}function bot(e,t){return Xn(z3.count($u(e)-1,e),t,2)}function yue(e){var t=e.getUTCDay();return t>=4||t===0?qp(e):qp.ceil(e)}function wot(e,t){return e=yue(e),Xn(qp.count($u(e),e)+($u(e).getUTCDay()===4),t,2)}function Eot(e){return e.getUTCDay()}function Sot(e,t){return Xn(cS.count($u(e)-1,e),t,2)}function kot(e,t){return Xn(e.getUTCFullYear()%100,t,2)}function _ot(e,t){return e=yue(e),Xn(e.getUTCFullYear()%100,t,2)}function Cot(e,t){return Xn(e.getUTCFullYear()%1e4,t,4)}function Not(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qp(e):qp.ceil(e),Xn(e.getUTCFullYear()%1e4,t,4)}function Tot(){return"+0000"}function eW(){return"%"}function tW(e){return+e}function nW(e){return Math.floor(+e/1e3)}var km,xue,bue;Aot({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aot(e){return km=Aat(e),xue=km.format,km.parse,bue=km.utcFormat,km.utcParse,km}function jot(e){return new Date(e)}function Pot(e){return e instanceof Date?+e:+new Date(+e)}function TM(e,t,n,r,i,s,a,o,c,u){var d=mM(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),E=u("%b %d"),k=u("%B"),_=u("%Y");function A(T){return(c(T)<T?p:o(T)<T?v:a(T)<T?x:s(T)<T?b:r(T)<T?i(T)<T?w:E:n(T)<T?k:_)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,Pot)):h().map(jot)},d.ticks=function(T){var C=h();return e(C[0],C[C.length-1],T??10)},d.tickFormat=function(T,C){return C==null?A:u(C)},d.nice=function(T){var C=h();return(!T||typeof T.range!="function")&&(T=t(C[0],C[C.length-1],T??10)),T?h(aue(C,T)):d},d.copy=function(){return eb(d,TM(e,t,n,r,i,s,a,o,c,u))},d}function Iot(){return Vo.apply(TM(Nat,Tat,Fu,CM,$3,tb,kM,EM,kh,xue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rot(){return Vo.apply(TM(_at,Cat,$u,NM,z3,F3,_M,SM,kh,bue).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function B3(){var e=0,t=1,n,r,i,s,a=Ks,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,a=f(p,v),u):[a(0),a(1)]}}return u.range=d(wu),u.rangeRound=d(hM),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function $f(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wue(){var e=Ff(B3()(Ks));return e.copy=function(){return $f(e,wue())},Zu.apply(e,arguments)}function Eue(){var e=vM(B3()).domain([1,10]);return e.copy=function(){return $f(e,Eue()).base(e.base())},Zu.apply(e,arguments)}function Sue(){var e=yM(B3());return e.copy=function(){return $f(e,Sue()).constant(e.constant())},Zu.apply(e,arguments)}function AM(){var e=xM(B3());return e.copy=function(){return $f(e,AM()).exponent(e.exponent())},Zu.apply(e,arguments)}function Mot(){return AM.apply(null,arguments).exponent(.5)}function kue(){var e=[],t=Ks;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(df),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>mst(e,s/r))},n.copy=function(){return kue(t).domain(e)},Zu.apply(n,arguments)}function U3(){var e=0,t=.5,n=1,r=1,i,s,a,o,c,u=Ks,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(r*x<r*s?o:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),s=d(t=+t),a=d(n=+n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[e,t,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function v(x){return function(b){var w,E,k;return arguments.length?([w,E,k]=b,u=Wst(x,[w,E,k]),p):[u(0),u(.5),u(1)]}}return p.range=v(wu),p.rangeRound=v(hM),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,i=x(e),s=x(t),a=x(n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function _ue(){var e=Ff(U3()(Ks));return e.copy=function(){return $f(e,_ue())},Zu.apply(e,arguments)}function Cue(){var e=vM(U3()).domain([.1,1,10]);return e.copy=function(){return $f(e,Cue()).base(e.base())},Zu.apply(e,arguments)}function Nue(){var e=yM(U3());return e.copy=function(){return $f(e,Nue()).constant(e.constant())},Zu.apply(e,arguments)}function jM(){var e=xM(U3());return e.copy=function(){return $f(e,jM()).exponent(e.exponent())},Zu.apply(e,arguments)}function Oot(){return jM.apply(null,arguments).exponent(.5)}const ov=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dM,scaleDiverging:_ue,scaleDivergingLog:Cue,scaleDivergingPow:jM,scaleDivergingSqrt:Oot,scaleDivergingSymlog:Nue,scaleIdentity:sue,scaleImplicit:ej,scaleLinear:iue,scaleLog:oue,scaleOrdinal:uM,scalePoint:vst,scalePow:bM,scaleQuantile:uue,scaleQuantize:due,scaleRadial:cue,scaleSequential:wue,scaleSequentialLog:Eue,scaleSequentialPow:AM,scaleSequentialQuantile:kue,scaleSequentialSqrt:Mot,scaleSequentialSymlog:Sue,scaleSqrt:pat,scaleSymlog:lue,scaleThreshold:fue,scaleTime:Iot,scaleUtc:Rot,tickFormat:rue},Symbol.toStringTag,{value:"Module"}));var zf=e=>e.chartData,Dot=Ve([zf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),PM=(e,t,n,r)=>r?Dot(e):zf(e);function Cf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(rs(t)&&rs(n))return!0}return!1}function rW(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Tue(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(rs(n))i=n;else if(typeof n=="function")return;if(rs(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Cf(a))return a}}function Lot(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Cf(r))return rW(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(Cn(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BV.test(i)){var c=BV.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(Cn(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&UV.test(s)){var d=UV.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[a,o];if(Cf(h))return t==null?h:rW(h,t,n)}}}var Rg=1e9,Fot={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RM,Or=!0,zo="[DecimalError] ",Wh=zo+"Invalid argument: ",IM=zo+"Exponent out of range: ",Mg=Math.floor,fh=Math.pow,$ot=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,za,es=1e7,_r=7,Aue=9007199254740991,uS=Mg(Aue/_r),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*_r;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Mt.dividedBy=Mt.div=function(e){return Eu(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,n=t.constructor;return fr(Eu(t,new n(e),0,1),n.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return Si(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(za))throw Error(zo+"NaN");if(n.s<1)throw Error(zo+(n.s?"NaN":"-Infinity"));return n.eq(za)?new r(0):(Or=!1,t=Eu(Iy(n,s),Iy(e,s),s),Or=!0,fr(t,i))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Iue(t,e):jue(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(zo+"NaN");return n.s?(Or=!1,t=Eu(n,e,0,1).times(e),Or=!0,n.minus(t)):fr(new r(n),i)};Mt.naturalExponential=Mt.exp=function(){return Pue(this)};Mt.naturalLogarithm=Mt.ln=function(){return Iy(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jue(t,e):Iue(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wh+e);if(t=Si(i)+1,r=i.d.length-1,n=r*_r+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Mt.squareRoot=Mt.sqrt=function(){var e,t,n,r,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(zo+"NaN")}for(e=Si(o),Or=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=fc(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Mg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(Eu(o,s,a+2)).times(.5),fc(s.d).slice(0,a)===(t=fc(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(fr(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(t!="9999")break;a+=4}return Or=!0,fr(r,n)};Mt.times=Mt.mul=function(e){var t,n,r,i,s,a,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)o=s[i]+p[r]*h[i-r-1]+t,s[i--]=o%es|0,t=o/es|0;s[i]=(s[i]+t)%es|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Or?fr(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(_c(e,0,Rg),t===void 0?t=r.rounding:_c(t,0,8),fr(n,e+Si(n)+1,t))};Mt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=m0(r,!0):(_c(e,0,Rg),t===void 0?t=i.rounding:_c(t,0,8),r=fr(new i(r),e+1,t),n=m0(r,!0,e+1)),n};Mt.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?m0(i):(_c(e,0,Rg),t===void 0?t=s.rounding:_c(t,0,8),r=fr(new s(i),e+Si(i)+1,t),n=m0(r.abs(),!1,e+Si(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return fr(new t(e),Si(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,n,r,i,s,a,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(za);if(o=new c(o),!o.s){if(e.s<1)throw Error(zo+"Infinity");return o}if(o.eq(za))return o;if(r=c.precision,e.eq(za))return fr(o,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=o.s,a){if((n=d<0?-d:d)<=Aue){for(i=new c(za),t=Math.ceil(r/_r+4),Or=!1;n%2&&(i=i.times(o),sW(i.d,t)),n=Mg(n/2),n!==0;)o=o.times(o),sW(o.d,t);return Or=!0,e.s<0?new c(za).div(i):fr(i,r)}}else if(s<0)throw Error(zo+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,Or=!1,i=e.times(Iy(o,r+u)),Or=!0,i=Pue(i),i.s=s,i};Mt.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Si(i),r=m0(i,n<=s.toExpNeg||n>=s.toExpPos)):(_c(e,1,Rg),t===void 0?t=s.rounding:_c(t,0,8),i=fr(new s(i),e,t),n=Si(i),r=m0(i,e<=n||n<=s.toExpNeg,e)),r};Mt.toSignificantDigits=Mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(_c(e,1,Rg),t===void 0?t=r.rounding:_c(t,0,8)),fr(new r(n),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Si(e),n=e.constructor;return m0(e,t<=n.toExpNeg||t>=n.toExpPos)};function jue(e,t){var n,r,i,s,a,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Or?fr(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,o=u.length):(r=u,i=a,o=c.length),a=Math.ceil(f/_r),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=c.length,s=u.length,o-s<0&&(s=o,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/es|0,c[s]%=es;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Or?fr(t,f):t}function _c(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wh+e)}function fc(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=_r-r.length,n&&(s+=Dd(n)),s+=r;a=e[t],r=a+"",n=_r-r.length,n&&(s+=Dd(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Eu=(function(){function e(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%es|0,a=s/es|0;return a&&r.unshift(a),r}function t(r,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*es+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,c,u,d,f,h,p,v,x,b,w,E,k,_,A,T,C,I,B=r.constructor,$=r.s==i.s?1:-1,L=r.d,U=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(zo+"Division by zero");for(c=r.e-i.e,C=U.length,A=L.length,p=new B($),v=p.d=[],u=0;U[u]==(L[u]||0);)++u;if(U[u]>(L[u]||0)&&--c,s==null?E=s=B.precision:a?E=s+(Si(r)-Si(i))+1:E=s,E<0)return new B(0);if(E=E/_r+2|0,u=0,C==1)for(d=0,U=U[0],E++;(u<A||d)&&E--;u++)k=d*es+(L[u]||0),v[u]=k/U|0,d=k%U|0;else{for(d=es/(U[0]+1)|0,d>1&&(U=e(U,d),L=e(L,d),C=U.length,A=L.length),_=C,x=L.slice(0,C),b=x.length;b<C;)x[b++]=0;I=U.slice(),I.unshift(0),T=U[0],U[1]>=es/2&&++T;do d=0,o=t(U,x,C,b),o<0?(w=x[0],C!=b&&(w=w*es+(x[1]||0)),d=w/T|0,d>1?(d>=es&&(d=es-1),f=e(U,d),h=f.length,b=x.length,o=t(f,x,h,b),o==1&&(d--,n(f,C<h?I:U,h))):(d==0&&(o=d=1),f=U.slice()),h=f.length,h<b&&f.unshift(0),n(x,f,b),o==-1&&(b=x.length,o=t(U,x,C,b),o<1&&(d++,n(x,C<b?I:U,b))),b=x.length):o===0&&(d++,x=[0]),v[u++]=d,o&&x[0]?x[b++]=L[_]||0:(x=[L[_]],b=1);while((_++<A||x[0]!==void 0)&&E--)}return v[0]||v.shift(),p.e=c,fr(p,a?s+Si(p)+1:s)}})();function Pue(e,t){var n,r,i,s,a,o,c=0,u=0,d=e.constructor,f=d.precision;if(Si(e)>16)throw Error(IM+Si(e));if(!e.s)return new d(za);for(Or=!1,o=f,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(fh(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(za),d.precision=o;;){if(i=fr(i.times(e),o),n=n.times(++c),a=s.plus(Eu(i,n,o)),fc(a.d).slice(0,o)===fc(s.d).slice(0,o)){for(;u--;)s=fr(s.times(s),o);return d.precision=f,t==null?(Or=!0,fr(s,f)):s}s=a}}function Si(e){for(var t=e.e*_r,n=e.d[0];n>=10;n/=10)t++;return t}function j5(e,t,n){if(t>e.LN10.sd())throw Or=!0,n&&(e.precision=n),Error(zo+"LN10 precision limit exceeded");return fr(new e(e.LN10),t)}function Dd(e){for(var t="";e--;)t+="0";return t}function Iy(e,t){var n,r,i,s,a,o,c,u,d,f=1,h=10,p=e,v=p.d,x=p.constructor,b=x.precision;if(p.s<1)throw Error(zo+(p.s?"NaN":"-Infinity"));if(p.eq(za))return new x(0);if(t==null?(Or=!1,u=b):u=t,p.eq(10))return t==null&&(Or=!0),j5(x,u);if(u+=h,x.precision=u,n=fc(v),r=n.charAt(0),s=Si(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=fc(p.d),r=n.charAt(0),f++;s=Si(p),r>1?(p=new x("0."+n),s++):p=new x(r+"."+n.slice(1))}else return c=j5(x,u+2,b).times(s+""),p=Iy(new x(r+"."+n.slice(1)),u-h).plus(c),x.precision=b,t==null?(Or=!0,fr(p,b)):p;for(o=a=p=Eu(p.minus(za),p.plus(za),u),d=fr(p.times(p),u),i=3;;){if(a=fr(a.times(d),u),c=o.plus(Eu(a,new x(i),u)),fc(c.d).slice(0,u)===fc(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(j5(x,u+2,b).times(s+""))),o=Eu(o,new x(f),u),x.precision=b,t==null?(Or=!0,fr(o,b)):o;o=c,i+=2}}function iW(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Mg(n/_r),e.d=[],r=(n+1)%_r,n<0&&(r+=_r),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=_r;r<i;)e.d.push(+t.slice(r,r+=_r));t=t.slice(r),r=_r-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Or&&(e.e>uS||e.e<-uS))throw Error(IM+n)}else e.s=0,e.e=0,e.d=[0];return e}function fr(e,t,n){var r,i,s,a,o,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=_r,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/_r),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=_r,i=r-_r+a}if(n!==void 0&&(s=fh(10,a-i-1),o=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=n<4?(o||c)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?u/fh(10,a-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(s=Si(e),f.length=1,t=t-s-1,f[0]=fh(10,(_r-t%_r)%_r),e.e=Mg(-t/_r)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=fh(10,_r-r),f[d]=i>0?(u/fh(10,a-i)%fh(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==es&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=es)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Or&&(e.e>uS||e.e<-uS))throw Error(IM+Si(e));return e}function Iue(e,t){var n,r,i,s,a,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Or?fr(t,p):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,o=f.length):(n=f,r=u,o=c.length),i=Math.max(Math.ceil(p/_r),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=es-1;--c[s],c[i]+=es}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Or?fr(t,p):t):new h(0)}function m0(e,t,n){var r,i=Si(e),s=fc(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Dd(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Dd(-i-1)+s,n&&(r=n-a)>0&&(s+=Dd(r))):i>=a?(s+=Dd(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Dd(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Dd(r))),e.s<0?"-"+s:s}function sW(e,t){if(e.length>t)return e.length=t,!0}function Rue(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wh+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return iW(a,s.toString())}else if(typeof s!="string")throw Error(Wh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,$ot.test(s))iW(a,s);else throw Error(Wh+s)}if(i.prototype=Mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Rue,i.config=i.set=zot,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function zot(e){if(!e||typeof e!="object")throw Error(zo+"Object expected");var t,n,r,i=["precision",1,Rg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Mg(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Wh+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wh+n+": "+r);return this}var RM=Rue(Fot);za=new RM(1);const rr=RM;var Bot=e=>e,Mue={},Oue=e=>e===Mue,aW=e=>function t(){return arguments.length===0||arguments.length===1&&Oue(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Due=(e,t)=>e===1?t:aW(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==Mue).length;return s>=e?t(...r):Due(e-s,aW(function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=r.map(d=>Oue(d)?o.shift():d);return t(...u,...o)}))}),Uot=e=>Due(e.length,e),sj=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Hot=Uot((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Vot=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Bot;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,c)=>c(o),s(...arguments))}},aj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Lue(e){var t;return e===0?t=1:t=Math.floor(new rr(e).abs().log(10).toNumber())+1,t}function Fue(e,t,n){for(var r=new rr(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var $ue=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},zue=(e,t,n)=>{if(e.lte(0))return new rr(0);var r=Lue(e.toNumber()),i=new rr(10).pow(r),s=e.div(i),a=r!==1?.05:.1,o=new rr(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=o.mul(i);return t?new rr(c.toNumber()):new rr(Math.ceil(c.toNumber()))},qot=(e,t,n)=>{var r=new rr(1),i=new rr(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new rr(10).pow(Lue(e)-1),i=new rr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new rr(Math.floor(e)))}else e===0?i=new rr(Math.floor((t-1)/2)):n||(i=new rr(Math.floor(e)));var a=Math.floor((t-1)/2),o=Vot(Hot(c=>i.add(new rr(c-a).mul(r)).toNumber()),sj);return o(0,t)},Bue=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var a=zue(new rr(n).sub(t).div(r-1),i,s),o;t<=0&&n>=0?o=new rr(0):(o=new rr(t).add(n).div(2),o=o.sub(new rr(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new rr(n).sub(o).div(a).toNumber()),d=c+u+1;return d>r?Bue(t,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:o.sub(new rr(c).mul(a)),tickMax:o.add(new rr(u).mul(a))})},Wot=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,c]=$ue([n,r]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...sj(0,i-1).map(()=>1/0)]:[...sj(0,i-1).map(()=>-1/0),c];return n>r?aj(u):u}if(o===c)return qot(o,i,s);var{step:d,tickMin:f,tickMax:h}=Bue(o,c,a,s,0),p=Fue(f,h.add(new rr(.1).mul(d)),d);return n>r?aj(p):p},Got=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=$ue([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var c=Math.max(n,2),u=zue(new rr(o).sub(a).div(c-1),s,0),d=[...Fue(new rr(a),new rr(o),u),o];return s===!1&&(d=d.map(f=>Math.round(f))),r>i?aj(d):d},Kot=e=>e.rootProps.barCategoryGap,H3=e=>e.rootProps.stackOffset,Uue=e=>e.rootProps.reverseStackOrder,Hue=e=>e.options.chartName,Vue=e=>e.rootProps.syncId,Yot=e=>e.rootProps.syncMethod,que=e=>e.options.eventEmitter,Ll={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},cu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Da={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},V3=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Xot={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:cu.reversed,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:cu.type,unit:void 0},Qot={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:Da.type,unit:void 0},Zot={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:cu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cu.scale,tick:cu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Jot={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:"category",unit:void 0},MM=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Zot:Xot,OM=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Jot:Qot,q3=e=>e.polarOptions,DM=Ve([Xu,Qu,gs],Uit),Wue=Ve([q3,DM],(e,t)=>{if(e!=null)return _f(e.innerRadius,t,0)}),Gue=Ve([q3,DM],(e,t)=>{if(e!=null)return _f(e.outerRadius,t,t*.8)}),elt=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Kue=Ve([q3],elt);Ve([MM,Kue],V3);var Yue=Ve([DM,Wue,Gue],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ve([OM,Yue],V3);var Xue=Ve([Tr,q3,Wue,Gue,Xu,Qu],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:o,startAngle:c,endAngle:u}=t;return{cx:_f(a,i,i/2),cy:_f(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Ui=(e,t)=>t,W3=(e,t,n)=>n;function Que(e){return e==null?void 0:e.id}function Zue(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=Que(o);u.forEach((f,h)=>{var p=s==null||i?h:String(Ps(f,s,null)),v=Ps(f,o.dataKey,0),x;a.has(p)?x=a.get(p):x={},Object.assign(x,{[d]:v}),a.set(p,x)})}}),Array.from(a.values())}function LM(e){return e.stackId!=null&&e.dataKey!=null}var G3=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function K3(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function tlt(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Hi=e=>{var t=Tr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Og=e=>e.tooltip.settings.axisId;function oW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oW(Object(n),!0).forEach(function(r){nlt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nlt(e,t,n){return(t=rlt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rlt(e){var t=ilt(e,"string");return typeof t=="symbol"?t:t+""}function ilt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oj=[0,"auto"],Yi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jue=(e,t)=>e.cartesianAxis.xAxis[t],Ju=(e,t)=>{var n=Jue(e,t);return n??Yi},Xi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xx},ede=(e,t)=>e.cartesianAxis.yAxis[t],ed=(e,t)=>{var n=ede(e,t);return n??Xi},slt={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FM=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??slt},ea=(e,t,n)=>{switch(t){case"xAxis":return Ju(e,n);case"yAxis":return ed(e,n);case"zAxis":return FM(e,n);case"angleAxis":return MM(e,n);case"radiusAxis":return OM(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},alt=(e,t,n)=>{switch(t){case"xAxis":return Ju(e,n);case"yAxis":return ed(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},nb=(e,t,n)=>{switch(t){case"xAxis":return Ju(e,n);case"yAxis":return ed(e,n);case"angleAxis":return MM(e,n);case"radiusAxis":return OM(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},tde=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function nde(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var rde=e=>e.graphicalItems.cartesianItems,olt=Ve([Ui,W3],nde),ide=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),rb=Ve([rde,ea,olt],ide,{memoizeOptions:{resultEqualityCheck:K3}}),sde=Ve([rb],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(LM)),ade=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),llt=Ve([rb],ade),ode=e=>e.map(t=>t.data).filter(Boolean).flat(1),clt=Ve([rb],ode,{memoizeOptions:{resultEqualityCheck:K3}}),lde=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},$M=Ve([clt,PM],lde),cde=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ps(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ps(i,r)}))):e.map(r=>({value:r})),Y3=Ve([$M,ea,rb],cde);function ude(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function c4(e){if(zp(e)||e instanceof Date){var t=Number(e);if(rs(t))return t}}function lW(e){if(Array.isArray(e)){var t=[c4(e[0]),c4(e[1])];return Cf(t)?t:void 0}var n=c4(e);if(n!=null)return[n,n]}function zu(e){return e.map(c4).filter(utt)}function ult(e,t,n){return!n||typeof t!="number"||Ec(t)?[]:n.length?zu(n.flatMap(r=>{var i=Ps(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!rs(s)||!rs(a)))return[t-s,t+a]})):[]}var ss=e=>{var t=Hi(e),n=Og(e);return nb(e,t,n)},ib=Ve([ss],e=>e==null?void 0:e.dataKey),dlt=Ve([sde,PM,ss],Zue),dde=(e,t,n,r)=>{var i={},s=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,c]=a,u=r?[...c].reverse():c,d=u.map(Que);return[o,{stackedData:urt(e,d,n),graphicalItems:u}]}))},flt=Ve([dlt,sde,H3,Uue],dde),fde=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var a=hrt(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},hlt=Ve([ea],e=>e.allowDataOverflow),zM=e=>{var t;if(e==null||!("domain"in e))return oj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=zu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:oj},hde=Ve([ea],zM),mde=Ve([hde,hlt],Tue),mlt=Ve([flt,zf,Ui,mde],fde,{memoizeOptions:{resultEqualityCheck:G3}}),BM=e=>e.errorBars,plt=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>ude(n,r)),fS=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},pde=(e,t,n,r,i)=>{var s,a;if(n.length>0&&e.forEach(o=>{n.forEach(c=>{var u,d,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(w=>ude(i,w)),h=Ps(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=ult(o,h,f);if(p.length>=2){var v=Math.min(...p),x=Math.max(...p);(s==null||v<s)&&(s=v),(a==null||x>a)&&(a=x)}var b=lW(h);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=lW(Ps(o,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),rs(s)&&rs(a))return[s,a]},glt=Ve([$M,ea,llt,BM,Ui],pde,{memoizeOptions:{resultEqualityCheck:G3}});function vlt(e){var{value:t}=e;if(zp(t)||t instanceof Date)return t}var ylt=(e,t,n)=>{var r=e.map(vlt).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&$le(r))?Hce(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},gde=e=>e.referenceElements.dots,Dg=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),xlt=Ve([gde,Ui,W3],Dg),vde=e=>e.referenceElements.areas,blt=Ve([vde,Ui,W3],Dg),yde=e=>e.referenceElements.lines,wlt=Ve([yde,Ui,W3],Dg),xde=(e,t)=>{var n=zu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Elt=Ve(xlt,Ui,xde),bde=(e,t)=>{var n=zu(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Slt=Ve([blt,Ui],bde);function klt(e){var t;if(e.x!=null)return zu([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:zu(n)}function _lt(e){var t;if(e.y!=null)return zu([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:zu(n)}var wde=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?klt(r):_lt(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Clt=Ve([wlt,Ui],wde),Nlt=Ve(Elt,Clt,Slt,(e,t,n)=>fS(e,n,t)),Ede=(e,t,n,r,i,s,a,o)=>{if(n!=null)return n;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=c?fS(r,s,i):fS(s,i);return Lot(t,u,e.allowDataOverflow)},Tlt=Ve([ea,hde,mde,mlt,glt,Nlt,Tr,Ui],Ede,{memoizeOptions:{resultEqualityCheck:G3}}),Alt=[0,1],Sde=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:c}=e,u=Lf(t,s);if(u&&o==null){var d;return Hce(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?ylt(r,e,u):i==="expand"?Alt:a}},UM=Ve([ea,Tr,$M,Y3,H3,Ui,Tlt],Sde),kde=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(qx(s));return o in ov?o:"point"}}},sb=Ve([ea,Tr,tde,Hue,Ui],kde);function jlt(e){if(e!=null){if(e in ov)return ov[e]();var t="scale".concat(qx(e));if(t in ov)return ov[t]()}}function HM(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=jlt(t);if(i!=null){var s=i.domain(n).range(r);return art(s),s}}}var _de=(e,t,n)=>{var r=zM(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cf(e))return Wot(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cf(e))return Got(e,t.tickCount,t.allowDecimals)}},VM=Ve([UM,nb,sb],_de),Cde=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},Plt=Ve([ea,UM,VM,Ui],Cde),Ilt=Ve(Y3,ea,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(zu(e.map(o=>o.value))).sort((o,c)=>o-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),Nde=Ve(Ilt,Tr,Kot,gs,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!rs(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=_f(n,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),Rlt=(e,t)=>{var n=Ju(e,t);return n==null||typeof n.padding!="string"?0:Nde(e,"xAxis",t,n.padding)},Mlt=(e,t)=>{var n=ed(e,t);return n==null||typeof n.padding!="string"?0:Nde(e,"yAxis",t,n.padding)},Olt=Ve(Ju,Rlt,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Dlt=Ve(ed,Mlt,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Llt=Ve([gs,Olt,M3,R3,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Flt=Ve([gs,Tr,Dlt,M3,R3,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ab=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Llt(e,n,r);case"yAxis":return Flt(e,n,r);case"zAxis":return(i=FM(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Kue(e);case"radiusAxis":return Yue(e,n);default:return}},Tde=Ve([ea,ab],V3),Lg=Ve([ea,sb,Plt,Tde],HM);Ve([rb,BM,Ui],plt);function Ade(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var X3=(e,t)=>t,Q3=(e,t,n)=>n,$lt=Ve(P3,X3,Q3,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Ade)),zlt=Ve(I3,X3,Q3,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Ade)),jde=(e,t)=>({width:e.width,height:t.height}),Blt=(e,t)=>{var n=typeof t.width=="number"?t.width:Xx;return{width:n,height:e.height}},Ult=Ve(gs,Ju,jde),Hlt=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Vlt=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},qlt=Ve(Qu,gs,$lt,X3,Q3,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var c=jde(t,o);a==null&&(a=Hlt(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),Wlt=Ve(Xu,gs,zlt,X3,Q3,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var c=Blt(t,o);a==null&&(a=Vlt(t,r,e));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),Glt=(e,t)=>{var n=Ju(e,t);if(n!=null)return qlt(e,n.orientation,n.mirror)},Klt=Ve([gs,Ju,Glt,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Ylt=(e,t)=>{var n=ed(e,t);if(n!=null)return Wlt(e,n.orientation,n.mirror)},Xlt=Ve([gs,ed,Ylt,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Qlt=Ve(gs,ed,(e,t)=>{var n=typeof t.width=="number"?t.width:Xx;return{width:n,height:e.height}}),Pde=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Lf(e,r),c=t.map(u=>u.value);if(a&&o&&s==="category"&&i&&$le(c))return c}},qM=Ve([Tr,Y3,ea,Ui],Pde),Ide=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Lf(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},WM=Ve([Tr,Y3,nb,Ui],Ide),cW=Ve([Tr,alt,sb,Lg,qM,WM,ab,VM,Ui],(e,t,n,r,i,s,a,o,c)=>{if(t!=null){var u=Lf(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}}),Zlt=(e,t,n,r,i,s,a,o,c)=>{if(!(t==null||r==null)){var u=Lf(e,c),{type:d,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=d==="category"&&r.bandwidth?r.bandwidth()/p:0;v=c==="angleAxis"&&s!=null&&s.length>=2?Po(s[0]-s[1])*2*v:v;var x=f||i;if(x){var b=x.map((w,E)=>{var k=a?a.indexOf(w):w;return{index:E,coordinate:r(k)+v,value:w,offset:v}});return b.filter(w=>rs(w.coordinate))}return u&&o?o.map((w,E)=>({coordinate:r(w)+v,value:w,index:E,offset:v})).filter(w=>rs(w.coordinate)):r.ticks?r.ticks(h).map(w=>({coordinate:r(w)+v,value:w,offset:v})):r.domain().map((w,E)=>({coordinate:r(w)+v,value:a?a[w]:w,index:E,offset:v}))}},Rde=Ve([Tr,nb,sb,Lg,VM,ab,qM,WM,Ui],Zlt),Jlt=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Lf(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Po(r[0]-r[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Mde=Ve([Tr,nb,Lg,ab,qM,WM,Ui],Jlt),Ode=Ve(ea,Lg,(e,t)=>{if(!(e==null||t==null))return dS(dS({},e),{},{scale:t})}),ect=Ve([ea,sb,UM,Tde],HM);Ve((e,t,n)=>FM(e,n),ect,(e,t)=>{if(!(e==null||t==null))return dS(dS({},e),{},{scale:t})});var tct=Ve([Tr,P3,I3],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Dde=e=>e.options.defaultTooltipEventType,Lde=e=>e.options.validateTooltipEventTypes;function Fde(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function $de(e,t){var n=Dde(e),r=Lde(e);return Fde(t,n,r)}var zde=(e,t)=>{var n,r=Number(t);if(!(Ec(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},nct=e=>e.tooltip.settings,Bd={active:!1,index:null,dataKey:void 0,coordinate:void 0},rct={itemInteraction:{click:Bd,hover:Bd},axisInteraction:{click:Bd,hover:Bd},keyboardInteraction:Bd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Bde=_a({name:"tooltip",initialState:rct,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Rr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nl(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Rr()},removeTooltipEntrySettings:{reducer(e,t){var n=Nl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Rr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ict,replaceTooltipEntrySettings:sct,removeTooltipEntrySettings:act,setTooltipSettingsState:y4t,setActiveMouseOverItemIndex:oct,mouseLeaveItem:x4t,mouseLeaveChart:Ude,setActiveClickItemIndex:b4t,setMouseOverAxisIndex:Hde,setMouseClickAxisIndex:lct,setSyncInteraction:uW,setKeyboardInteraction:lj}=Bde.actions,cct=Bde.reducer;function dW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dW(Object(n),!0).forEach(function(r){uct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uct(e,t,n){return(t=dct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dct(e){var t=fct(e,"string");return typeof t=="symbol"?t:t+""}function fct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hct(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function mct(e){return e.index!=null}var Vde=(e,t,n,r)=>{if(t==null)return Bd;var i=hct(e,t,n);if(i==null)return Bd;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(mct(i)){if(s)return j2(j2({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return j2(j2({},Bd),{},{coordinate:i.coordinate})};function pct(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function gct(e,t){var n=pct(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function vct(e,t,n){if(n==null||t==null)return!0;var r=Ps(e,t);return r==null||!Cf(n)?!0:gct(r,n)}var GM=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!rs(s))return i;var a=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(a,Math.min(s,o)),u=t[c];return u==null||vct(u,n,r)?String(c):null},qde=(e,t,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var c=a[0],u=c==null?void 0:o(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},Wde=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},ob=e=>e.options.tooltipPayloadSearcher,lb=e=>e.tooltip;function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(r){yct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yct(e,t,n){return(t=xct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xct(e){var t=bct(e,"string");return typeof t=="symbol"?t:t+""}function bct(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wct(e,t){return e??t}var Gde=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:x,settings:b}=p,w=wct(x,o),E=Array.isArray(w)?kce(w,u,d):w,k=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:r,_=b==null?void 0:b.nameKey,A;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&a==="axis"?A=zle(E,r,i):A=s(E,t,c,_),Array.isArray(A))A.forEach(C=>{var I=hW(hW({},b),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(VV({tooltipEntrySettings:I,dataKey:C.dataKey,payload:C.payload,value:Ps(C.payload,C.dataKey),name:C.name}))});else{var T;h.push(VV({tooltipEntrySettings:b,dataKey:k,payload:A,value:Ps(A,k),name:(T=Ps(A,_))!==null&&T!==void 0?T:b==null?void 0:b.name}))}return h},f)}},KM=Ve([ss,Tr,tde,Hue,Hi],kde),Ect=Ve([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Sct=Ve([Hi,Og],nde),cb=Ve([Ect,ss,Sct],ide,{memoizeOptions:{resultEqualityCheck:K3}}),kct=Ve([cb],e=>e.filter(LM)),_ct=Ve([cb],ode,{memoizeOptions:{resultEqualityCheck:K3}}),Fg=Ve([_ct,zf],lde),Cct=Ve([kct,zf,ss],Zue),YM=Ve([Fg,ss,cb],cde),Kde=Ve([ss],zM),Nct=Ve([ss],e=>e.allowDataOverflow),Yde=Ve([Kde,Nct],Tue),Tct=Ve([cb],e=>e.filter(LM)),Act=Ve([Cct,Tct,H3,Uue],dde),jct=Ve([Act,zf,Hi,Yde],fde),Pct=Ve([cb],ade),Ict=Ve([Fg,ss,Pct,BM,Hi],pde,{memoizeOptions:{resultEqualityCheck:G3}}),Rct=Ve([gde,Hi,Og],Dg),Mct=Ve([Rct,Hi],xde),Oct=Ve([vde,Hi,Og],Dg),Dct=Ve([Oct,Hi],bde),Lct=Ve([yde,Hi,Og],Dg),Fct=Ve([Lct,Hi],wde),$ct=Ve([Mct,Fct,Dct],fS),zct=Ve([ss,Kde,Yde,jct,Ict,$ct,Tr,Hi],Ede),ub=Ve([ss,Tr,Fg,YM,H3,Hi,zct],Sde),Bct=Ve([ub,ss,KM],_de),Uct=Ve([ss,ub,Bct,Hi],Cde),Xde=e=>{var t=Hi(e),n=Og(e),r=!1;return ab(e,t,n,r)},Qde=Ve([ss,Xde],V3),Hct=Ve([ss,KM,Uct,Qde],HM),Vct=Ve([Tr,YM,ss,Hi],Pde),qct=Ve([Tr,YM,ss,Hi],Ide),Wct=(e,t,n,r,i,s,a,o)=>{if(t){var{type:c}=t,u=Lf(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Po(i[0]-i[1])*2*f:f,u&&a?a.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},Bf=Ve([Tr,ss,KM,Hct,Xde,Vct,qct,Hi],Wct),XM=Ve([Dde,Lde,nct],(e,t,n)=>Fde(n.shared,e,t)),Zde=e=>e.tooltip.settings.trigger,QM=e=>e.tooltip.settings.defaultIndex,Z3=Ve([lb,XM,Zde,QM],Vde),Ry=Ve([Z3,Fg,ib,ub],GM),Jde=Ve([Bf,Ry],zde),Gct=Ve([Z3],e=>{if(e)return e.dataKey}),efe=Ve([lb,XM,Zde,QM],Wde),Kct=Ve([Xu,Qu,Tr,gs,Bf,QM,efe,ob],qde),Yct=Ve([Z3,Kct],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Xct=Ve([Z3],e=>e.active),Qct=Ve([efe,Ry,zf,ib,Jde,ob,XM],Gde),Zct=Ve([Qct],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function mW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mW(Object(n),!0).forEach(function(r){Jct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jct(e,t,n){return(t=eut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eut(e){var t=tut(e,"string");return typeof t=="symbol"?t:t+""}function tut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nut=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},rut=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:a}=r;return _m(_m(_m({},r),Ha(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:c}=r;return _m(_m(_m({},r),Ha(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function iut(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var tfe=(e,t,n,r,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,f=c>=o-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(Po(d-u)!==Po(f-d)){var p=[];if(Po(f-d)===Po(i[1]-i[0])){h=f;var v=d+i[1]-i[0];p[0]=Math.min(v,(v+u)/2),p[1]=Math.max(v,(v+u)/2)}else{h=u;var x=f+i[1]-i[0];p[0]=Math.min(d,(x+d)/2),p[1]=Math.max(d,(x+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:a}=n[c]);break}}else{var w=Math.min(u,f),E=Math.max(u,f);if(e>(w+d)/2&&e<=(E+d)/2){({index:a}=n[c]);break}}}else if(t){for(var k=0;k<o;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===o-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:a}=t[k]);break}}return a},ZM=(e,t)=>t,nfe=(e,t,n)=>n,JM=(e,t,n,r)=>r,sut=Ve(Bf,e=>XR(e,t=>t.coordinate)),eO=Ve([lb,ZM,nfe,JM],Vde),tO=Ve([eO,Fg,ib,ub],GM),rfe=Ve([lb,ZM,nfe,JM],Wde),hS=Ve([Xu,Qu,Tr,gs,Bf,JM,rfe,ob],qde);Ve([eO,hS],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t});var aut=Ve([Bf,tO],zde);Ve([rfe,tO,zf,ib,aut,ob,ZM],Gde);Ve([eO,tO],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t}));var out=(e,t,n,r,i,s,a)=>{if(!(!e||!n||!r||!i)&&iut(e,a)){var o=mrt(e,t),c=tfe(o,s,i,n,r),u=nut(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},lut=(e,t,n,r,i,s,a)=>{if(!(!e||!r||!i||!s||!n)){var o=Git(e,n);if(o){var c=prt(o,t),u=tfe(c,a,s,r,i),d=rut(t,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},cut=(e,t,n,r,i,s,a,o)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?out(e,t,r,i,s,a,o):lut(e,t,n,r,i,s,a)},uut=Ve(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),dut=Ve(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ll)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:tlt}});function pW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pW(Object(n),!0).forEach(function(r){fut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fut(e,t,n){return(t=hut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hut(e){var t=mut(e,"string");return typeof t=="symbol"?t:t+""}function mut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var put={},gut={zIndexMap:Object.values(Ll).reduce((e,t)=>gW(gW({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),put)},vut=new Set(Object.values(Ll));function yut(e){return vut.has(e)}var ife=_a({name:"zIndex",initialState:gut,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Rr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!yut(n)&&delete e.zIndexMap[n])},prepare:Rr()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Rr()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Rr()}}}),{registerZIndexPortal:xut,unregisterZIndexPortal:but,registerZIndexPortalId:wut,unregisterZIndexPortalId:Eut}=ife.actions,Sut=ife.reducer;function Uf(e){var{zIndex:t,children:n}=e,r=Yrt(),i=r&&t!==void 0&&t!==0,s=Ca(),a=ps();y.useLayoutEffect(()=>i?(a(xut({zIndex:t})),()=>{a(but({zIndex:t}))}):Wx,[a,t,i]);var o=wn(u=>uut(u,t,s));if(!i)return n;if(!o)return null;var c=document.getElementById(o);return c?E0.createPortal(n,c):null}var kut=y.createContext(null),P5={exports:{}},vW;function _ut(){return vW||(vW=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,v){var x=n?n+u:u;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,E,k;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(k=1,E=new Array(w-1);k<w;k++)E[k-1]=arguments[k];b.fn.apply(b.context,E)}else{var _=b.length,A;for(k=0;k<_;k++)switch(b[k].once&&this.removeListener(u,b[k].fn,void 0,!0),w){case 1:b[k].fn.call(b[k].context);break;case 2:b[k].fn.call(b[k].context,d);break;case 3:b[k].fn.call(b[k].context,d,f);break;case 4:b[k].fn.call(b[k].context,d,f,h);break;default:if(!E)for(A=1,E=new Array(w-1);A<w;A++)E[A-1]=arguments[A];b[k].fn.apply(b[k].context,E)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var x=0,b=[],w=v.length;x<w;x++)(v[x].fn!==d||h&&!v[x].once||f&&v[x].context!==f)&&b.push(v[x]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(P5)),P5.exports}var Cut=_ut();const Nut=Xa(Cut);var mS=new Nut,yW="recharts.syncEvent.tooltip",xW="recharts.syncEvent.brush";function Tut(e,t){if(t){var n=Number.parseInt(t,10);if(!Ec(n))return e==null?void 0:e[n]}}var Aut={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sfe=_a({name:"options",initialState:Aut,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jut=sfe.reducer,{createEventEmitter:Put}=sfe.actions,Iut={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},afe=_a({name:"chartData",initialState:Iut,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:bW,setDataStartEndIndexes:Rut,setComputedData:w4t}=afe.actions,Mut=afe.reducer,Out=["x","y"];function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wW(Object(n),!0).forEach(function(r){Dut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dut(e,t,n){return(t=Lut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lut(e){var t=Fut(e,"string");return typeof t=="symbol"?t:t+""}function Fut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ut(e,t){if(e==null)return{};var n,r,i=zut(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zut(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function But(){var e=wn(Vue),t=wn(que),n=ps(),r=wn(Yot),i=wn(Bf),s=aM(),a=Mce(),o=wn(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return Wx;var c=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(a&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:v,y:x}=p,b=$ut(p,Out),{x:w,y:E,width:k,height:_}=d.payload.sourceViewBox,A=Cm(Cm({},b),{},{x:a.x+(k?(v-w)/k:0)*a.width,y:a.y+(_?(x-E)/_:0)*a.height});n(Cm(Cm({},d),{},{payload:Cm(Cm({},d.payload),{},{coordinate:A})}))}else n(d);return}if(i!=null){var T;if(typeof r=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=r(i,C);T=i[I]}else r==="value"&&(T=i.find(W=>String(W.value)===d.payload.label));var{coordinate:B}=d.payload;if(T==null||d.payload.active===!1||B==null||a==null){n(uW({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:$,y:L}=B,U=Math.min($,a.x+a.width),Y=Math.min(L,a.y+a.height),V={x:s==="horizontal"?T.coordinate:U,y:s==="horizontal"?Y:T.coordinate},K=uW({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(T.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(K)}}};return mS.on(yW,c),()=>{mS.off(yW,c)}},[o,n,t,e,r,i,s,a])}function Uut(){var e=wn(Vue),t=wn(que),n=ps();y.useEffect(()=>{if(e==null)return Wx;var r=(i,s,a)=>{t!==a&&e===i&&n(Rut(s))};return mS.on(xW,r),()=>{mS.off(xW,r)}},[n,t,e])}function Hut(){var e=ps();y.useEffect(()=>{e(Put())},[e]),But(),Uut()}function Vut(e,t,n){return(t=qut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qut(e){var t=Wut(e,"string");return typeof t=="symbol"?t:t+""}function Wut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gut{constructor(t){Vut(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function EW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EW(Object(n),!0).forEach(function(r){Yut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yut(e,t,n){return(t=Xut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xut(e){var t=Qut(e,"string");return typeof t=="symbol"?t:t+""}function Qut(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zut={cacheSize:2e3,enableCache:!0},ofe=Kut({},Zut),SW=new Gut(ofe.cacheSize),Jut={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kW="recharts_measurement_span";function edt(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var _W=(e,t)=>{try{var n=document.getElementById(kW);n||(n=document.createElement("span"),n.setAttribute("id",kW),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Jut,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mv=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qx.isSsr)return{width:0,height:0};if(!ofe.enableCache)return _W(t,n);var r=edt(t,n),i=SW.get(r);if(i)return i;var s=_W(t,n);return SW.set(r,s),s},CW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tdt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ndt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rdt=Object.keys(lfe),Gm="NaN";function idt(e,t){return e*lfe[t]}class pa{static parse(t){var n,[,r,i]=(n=ndt.exec(t))!==null&&n!==void 0?n:[];return new pa(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ec(t)&&(this.unit=""),n!==""&&!tdt.test(n)&&(this.num=NaN,this.unit=""),rdt.includes(n)&&(this.num=idt(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pa(NaN,""):new pa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pa(NaN,""):new pa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ec(this.num)}}function cfe(e){if(e.includes(Gm))return Gm;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=CW.exec(t))!==null&&n!==void 0?n:[],a=pa.parse(r??""),o=pa.parse(s??""),c=i==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return Gm;t=t.replace(CW,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=NW.exec(t))!==null&&u!==void 0?u:[],p=pa.parse(d??""),v=pa.parse(h??""),x=f==="+"?p.add(v):p.subtract(v);if(x.isNaN())return Gm;t=t.replace(NW,x.toString())}return t}var TW=/\(([^()]*)\)/;function sdt(e){for(var t=e,n;(n=TW.exec(t))!=null;){var[,r]=n;t=t.replace(TW,cfe(r))}return t}function adt(e){var t=e.replace(/\s+/g,"");return t=sdt(t),t=cfe(t),t}function odt(e){try{return adt(e)}catch{return Gm}}function I5(e){var t=odt(e.slice(5,-1));return t===Gm?"":t}var ldt=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],cdt=["dx","dy","angle","className","breakAll"];function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cj.apply(null,arguments)}function AW(e,t){if(e==null)return{};var n,r,i=udt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function udt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ufe=/[ \f\n\r\t\v\u2028\u2029]+/,dfe=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];fs(t)||(n?i=t.toString().split(""):i=t.toString().split(ufe));var s=i.map(o=>({word:o,width:Mv(o,r).width})),a=n?0:Mv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function ddt(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var ffe=(e,t,n,r)=>e.reduce((i,s)=>{var{word:a,width:o}=s,c=i[i.length-1];if(c&&o!=null&&(t==null||r||c.width+o+n<Number(t)))c.words.push(a),c.width+=o+n;else{var u={words:[a],width:o};i.push(u)}return i},[]),hfe=e=>e.reduce((t,n)=>t.width>n.width?t:n),fdt="",jW=(e,t,n,r,i,s,a,o)=>{var c=e.slice(0,t),u=dfe({breakAll:n,style:r,children:c+fdt});if(!u)return[!1,[]];var d=ffe(u.wordsWithComputedWidth,s,a,o),f=d.length>i||hfe(d).width>Number(s);return[f,d]},hdt=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:c}=e,u=Cn(s),d=String(a),f=ffe(t,r,n,i);if(!u||i)return f;var h=f.length>s||hfe(f).width>Number(r);if(!h)return f;for(var p=0,v=d.length-1,x=0,b;p<=v&&x<=d.length-1;){var w=Math.floor((p+v)/2),E=w-1,[k,_]=jW(d,E,c,o,s,r,n,i),[A]=jW(d,w,c,o,s,r,n,i);if(!k&&!A&&(p=w+1),k&&A&&(v=w-1),!k&&A){b=_;break}x++}return b||f},PW=e=>{var t=fs(e)?[]:e.toString().split(ufe);return[{words:t,width:void 0}]},mdt=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!Qx.isSsr){var o,c,u=dfe({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return PW(r);return hdt({breakAll:s,children:r,maxLines:a,style:i},o,c,t,!!n)}return PW(r)},mfe="#808080",pdt={angle:0,breakAll:!1,capHeight:"0.71em",fill:mfe,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nO=y.forwardRef((e,t)=>{var n=Za(e,pdt),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,f=AW(n,ldt),h=y.useMemo(()=>mdt({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:p,dy:v,angle:x,className:b,breakAll:w}=f,E=AW(f,cdt);if(!zp(r)||!zp(i)||h.length===0)return null;var k=Number(r)+(Cn(p)?p:0),_=Number(i)+(Cn(v)?v:0);if(!rs(k)||!rs(_))return null;var A;switch(d){case"start":A=I5("calc(".concat(a,")"));break;case"middle":A=I5("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:A=I5("calc(".concat(h.length-1," * -").concat(s,")"));break}var T=[];if(c){var C=h[0].width,{width:I}=f;T.push("scale(".concat(Cn(I)&&Cn(C)?I/C:1,")"))}return x&&T.push("rotate(".concat(x,", ").concat(k,", ").concat(_,")")),T.length&&(E.transform=T.join(" ")),y.createElement("text",cj({},wa(E),{ref:t,x:k,y:_,className:Nr("recharts-text",b),textAnchor:u,fill:o.includes("url")?mfe:o}),h.map((B,$)=>{var L=B.words.join(w?"":" ");return y.createElement("tspan",{x:k,dy:$===0?A:s,key:"".concat(L,"-").concat($)},L)}))});nO.displayName="Text";var gdt=["labelRef"];function vdt(e,t){if(e==null)return{};var n,r,i=ydt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ydt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IW(Object(n),!0).forEach(function(r){xdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xdt(e,t,n){return(t=bdt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bdt(e){var t=wdt(e,"string");return typeof t=="symbol"?t:t+""}function wdt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu.apply(null,arguments)}var pfe=y.createContext(null),Edt=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=e,c=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[t,n,r,i,s,a]);return y.createElement(pfe.Provider,{value:c},o)},gfe=()=>{var e=y.useContext(pfe),t=Mce();return e||Rce(t)},Sdt=y.createContext(null),kdt=()=>{var e=y.useContext(Sdt),t=wn(Xue);return e||t},_dt=e=>{var{value:t,formatter:n}=e,r=fs(e.children)?t:e.children;return typeof n=="function"?n(r):r},rO=e=>e!=null&&typeof e=="function",Cdt=(e,t)=>{var n=Po(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ndt=(e,t,n,r,i)=>{var{offset:s,className:a}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,v=(u+d)/2,x=Cdt(f,h),b=x>=0?1:-1,w,E;switch(t){case"insideStart":w=f+b*s,E=p;break;case"insideEnd":w=h-b*s,E=!p;break;case"end":w=h+b*s,E=p;break;default:throw new Error("Unsupported position ".concat(t))}E=x<=0?E:!E;var k=Ha(o,c,v,w),_=Ha(o,c,v,w+(E?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(_.x,",").concat(_.y),T=fs(e.id)?ky("recharts-radial-line-"):e.id;return y.createElement("text",uu({},r,{dominantBaseline:"central",className:Nr("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:T,d:A})),y.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Tdt=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(n==="outside"){var{x:d,y:f}=Ha(r,i,a+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:p,y:v}=Ha(r,i,h,u);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},uj=e=>"cx"in e&&Cn(e.cx),Adt=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!uj(n)&&(s=n);var{x:a,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=a,h=a+(c-u)/2,p=(f+h)/2,v=(c+u)/2,x=f+c/2,b=d>=0?1:-1,w=b*r,E=b>0?"end":"start",k=b>0?"start":"end",_=c>=0?1:-1,A=_*r,T=_>0?"end":"start",C=_>0?"start":"end";if(i==="top"){var I={x:f+c/2,y:o-w,textAnchor:"middle",verticalAnchor:E};return ai(ai({},I),s?{height:Math.max(o-s.y,0),width:c}:{})}if(i==="bottom"){var B={x:h+u/2,y:o+d+w,textAnchor:"middle",verticalAnchor:k};return ai(ai({},B),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var $={x:p-A,y:o+d/2,textAnchor:T,verticalAnchor:"middle"};return ai(ai({},$),s?{width:Math.max($.x-s.x,0),height:d}:{})}if(i==="right"){var L={x:p+v+A,y:o+d/2,textAnchor:C,verticalAnchor:"middle"};return ai(ai({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:d}:{})}var U=s?{width:v,height:d}:{};return i==="insideLeft"?ai({x:p+A,y:o+d/2,textAnchor:C,verticalAnchor:"middle"},U):i==="insideRight"?ai({x:p+v-A,y:o+d/2,textAnchor:T,verticalAnchor:"middle"},U):i==="insideTop"?ai({x:f+c/2,y:o+w,textAnchor:"middle",verticalAnchor:k},U):i==="insideBottom"?ai({x:h+u/2,y:o+d-w,textAnchor:"middle",verticalAnchor:E},U):i==="insideTopLeft"?ai({x:f+A,y:o+w,textAnchor:C,verticalAnchor:k},U):i==="insideTopRight"?ai({x:f+c-A,y:o+w,textAnchor:T,verticalAnchor:k},U):i==="insideBottomLeft"?ai({x:h+A,y:o+d-w,textAnchor:C,verticalAnchor:E},U):i==="insideBottomRight"?ai({x:h+u-A,y:o+d-w,textAnchor:T,verticalAnchor:E},U):i&&typeof i=="object"&&(Cn(i.x)||Ou(i.x))&&(Cn(i.y)||Ou(i.y))?ai({x:a+_f(i.x,v),y:o+_f(i.y,d),textAnchor:"end",verticalAnchor:"end"},U):ai({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},U)},jdt={angle:0,offset:5,zIndex:Ll.label,position:"middle",textBreakAll:!1};function Ld(e){var t=Za(e,jdt),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:c,labelRef:u}=t,d=kdt(),f=gfe(),h=r==="center"?f:d??f,p,v,x;if(n==null?p=h:uj(n)?p=n:p=Rce(n),!p||fs(i)&&fs(s)&&!y.isValidElement(a)&&typeof a!="function")return null;var b=ai(ai({},t),{},{viewBox:p});if(y.isValidElement(a)){var{labelRef:w}=b,E=vdt(b,gdt);return y.cloneElement(a,E)}if(typeof a=="function"){if(v=y.createElement(a,b),y.isValidElement(v))return v}else v=_dt(t);var k=wa(t);if(uj(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ndt(t,r,v,k,p);x=Tdt(p,t.offset,t.position)}else x=Adt(t,p);return y.createElement(Uf,{zIndex:t.zIndex},y.createElement(nO,uu({ref:u,className:Nr("recharts-label",o)},k,x,{textAnchor:ddt(k.textAnchor)?k.textAnchor:x.textAnchor,breakAll:c}),v))}Ld.displayName="Label";var Pdt=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(Ld,uu({key:"label-implicit"},r)):zp(e)?y.createElement(Ld,uu({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===Ld?y.cloneElement(e,ai({key:"label-implicit"},r)):y.createElement(Ld,uu({key:"label-implicit",content:e},r)):rO(e)?y.createElement(Ld,uu({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(Ld,uu({},e,{key:"label-implicit"},r)):null};function Idt(e){var{label:t,labelRef:n}=e,r=gfe();return Pdt(t,r,n)||null}var R5={},M5={},RW;function Rdt(){return RW||(RW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(M5)),M5}var O5={},MW;function Mdt(){return MW||(MW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(O5)),O5}var OW;function Odt(){return OW||(OW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rdt(),n=Mdt(),r=Hle();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(R5)),R5}var D5,DW;function Ddt(){return DW||(DW=1,D5=Odt().last),D5}var Ldt=Ddt();const Fdt=Xa(Ldt);var $dt=["valueAccessor"],zdt=["dataKey","clockWise","id","textBreakAll","zIndex"];function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pS.apply(null,arguments)}function LW(e,t){if(e==null)return{};var n,r,i=Bdt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bdt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Udt=e=>Array.isArray(e.value)?Fdt(e.value):e.value,vfe=y.createContext(void 0),Hdt=vfe.Provider,yfe=y.createContext(void 0);yfe.Provider;function Vdt(){return y.useContext(vfe)}function qdt(){return y.useContext(yfe)}function u4(e){var{valueAccessor:t=Udt}=e,n=LW(e,$dt),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,c=LW(n,zdt),u=Vdt(),d=qdt(),f=u||d;return!f||!f.length?null:y.createElement(Uf,{zIndex:o??Ll.label},y.createElement(kf,{className:"recharts-label-list"},f.map((h,p)=>{var v,x=fs(r)?t(h,p):Ps(h&&h.payload,r),b=fs(s)?{}:{id:"".concat(s,"-").concat(p)};return y.createElement(Ld,pS({key:"label-".concat(p)},wa(h),c,b,{fill:(v=n.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:a,viewBox:h.viewBox,index:p,zIndex:0}))})))}u4.displayName="LabelList";function Wdt(e){var{label:t}=e;return t?t===!0?y.createElement(u4,{key:"labelList-implicit"}):y.isValidElement(t)||rO(t)?y.createElement(u4,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(u4,pS({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dj.apply(null,arguments)}var xfe=e=>{var{cx:t,cy:n,r,className:i}=e,s=Nr("recharts-dot",i);return Cn(t)&&Cn(n)&&Cn(r)?y.createElement("circle",dj({},wc(e),KR(e),{className:s,cx:t,cy:n,r})):null},Gdt={radiusAxis:{},angleAxis:{}},bfe=_a({name:"polarAxis",initialState:Gdt,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:E4t,removeRadiusAxis:S4t,addAngleAxis:k4t,removeAngleAxis:_4t}=bfe.actions,Kdt=bfe.reducer,L5={exports:{}},sr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FW;function Ydt(){if(FW)return sr;FW=1;var e=60103,t=60106,n=60107,r=60108,i=60114,s=60109,a=60110,o=60112,c=60113,u=60120,d=60115,f=60116,h=60121,p=60122,v=60117,x=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var w=Symbol.for;e=w("react.element"),t=w("react.portal"),n=w("react.fragment"),r=w("react.strict_mode"),i=w("react.profiler"),s=w("react.provider"),a=w("react.context"),o=w("react.forward_ref"),c=w("react.suspense"),u=w("react.suspense_list"),d=w("react.memo"),f=w("react.lazy"),h=w("react.block"),p=w("react.server.block"),v=w("react.fundamental"),x=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function E(Y){if(typeof Y=="object"&&Y!==null){var V=Y.$$typeof;switch(V){case e:switch(Y=Y.type,Y){case n:case i:case r:case c:case u:return Y;default:switch(Y=Y&&Y.$$typeof,Y){case a:case o:case f:case d:case s:return Y;default:return V}}case t:return V}}}var k=s,_=e,A=o,T=n,C=f,I=d,B=t,$=i,L=r,U=c;return sr.ContextConsumer=a,sr.ContextProvider=k,sr.Element=_,sr.ForwardRef=A,sr.Fragment=T,sr.Lazy=C,sr.Memo=I,sr.Portal=B,sr.Profiler=$,sr.StrictMode=L,sr.Suspense=U,sr.isAsyncMode=function(){return!1},sr.isConcurrentMode=function(){return!1},sr.isContextConsumer=function(Y){return E(Y)===a},sr.isContextProvider=function(Y){return E(Y)===s},sr.isElement=function(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e},sr.isForwardRef=function(Y){return E(Y)===o},sr.isFragment=function(Y){return E(Y)===n},sr.isLazy=function(Y){return E(Y)===f},sr.isMemo=function(Y){return E(Y)===d},sr.isPortal=function(Y){return E(Y)===t},sr.isProfiler=function(Y){return E(Y)===i},sr.isStrictMode=function(Y){return E(Y)===r},sr.isSuspense=function(Y){return E(Y)===c},sr.isValidElementType=function(Y){return typeof Y=="string"||typeof Y=="function"||Y===n||Y===i||Y===x||Y===r||Y===c||Y===u||Y===b||typeof Y=="object"&&Y!==null&&(Y.$$typeof===f||Y.$$typeof===d||Y.$$typeof===s||Y.$$typeof===a||Y.$$typeof===o||Y.$$typeof===v||Y.$$typeof===h||Y[0]===p)},sr.typeOf=E,sr}var $W;function Xdt(){return $W||($W=1,L5.exports=Ydt()),L5.exports}Xdt();var wfe=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,F5={},zW;function Qdt(){return zW||(zW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(F5)),F5}var $5,BW;function Zdt(){return BW||(BW=1,$5=Qdt().isPlainObject),$5}var Jdt=Zdt();const eft=Xa(Jdt);function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UW(Object(n),!0).forEach(function(r){tft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tft(e,t,n){return(t=nft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nft(e){var t=rft(e,"string");return typeof t=="symbol"?t:t+""}function rft(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gS.apply(null,arguments)}var VW=(e,t,n,r,i)=>{var s=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},ift={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sft=e=>{var t=Za(e,ift),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[p,v]=y.useState(-1),x=y.useRef(i),b=y.useRef(s),w=y.useRef(a),E=y.useRef(n),k=y.useRef(r),_=lM(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&v(V)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var A=Nr("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",gS({},wa(t),{className:A,d:VW(n,r,i,s,a)})));var T=x.current,C=b.current,I=w.current,B=E.current,$=k.current,L="0px ".concat(p===-1?1:p,"px"),U="".concat(p,"px 0px"),Y=Fce(["strokeDasharray"],u,c);return y.createElement(oM,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},V=>{var K=va(T,i,V),W=va(C,s,V),J=va(I,a,V),q=va(B,n,V),G=va($,r,V);h.current&&(x.current=K,b.current=W,w.current=J,E.current=q,k.current=G);var j=V>0?{transition:Y,strokeDasharray:U}:{strokeDasharray:L};return y.createElement("path",gS({},wa(t),{className:A,d:VW(q,G,K,W,J),ref:h,style:HW(HW({},j),t.style)}))})},aft=["option","shapeType","propTransformer","activeClassName"];function oft(e,t){if(e==null)return{};var n,r,i=lft(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lft(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qW(Object(n),!0).forEach(function(r){cft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cft(e,t,n){return(t=uft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uft(e){var t=dft(e,"string");return typeof t=="symbol"?t:t+""}function dft(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fft(e,t){return vS(vS({},t),e)}function hft(e,t){return e==="symbols"}function WW(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(Lit,n);case"trapezoid":return y.createElement(sft,n);case"sector":return y.createElement(Qit,n);case"symbols":if(hft(t))return y.createElement(Ule,n);break;case"curve":return y.createElement(lit,n);default:return null}}function mft(e){return y.isValidElement(e)?e.props:e}function pft(e){var{option:t,shapeType:n,propTransformer:r=fft,activeClassName:i="recharts-active-shape"}=e,s=oft(e,aft),a;if(y.isValidElement(t))a=y.cloneElement(t,vS(vS({},s),mft(t)));else if(typeof t=="function")a=t(s);else if(eft(t)&&typeof t!="boolean"){var o=r(t,s);a=y.createElement(WW,{shapeType:n,elementProps:o})}else{var c=s;a=y.createElement(WW,{shapeType:n,elementProps:c})}return s.isActive?y.createElement(kf,{className:i},a):a}function gft(e){var{tooltipEntrySettings:t}=e,n=ps(),r=Ca(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(ict(t)):i.current!==t&&n(sct({prev:i.current,next:t})),i.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{i.current&&(n(act(i.current)),i.current=null)},[n]),null}function vft(e){var{legendPayload:t}=e,n=ps(),r=Ca(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(Qrt(t)):i.current!==t&&n(Zrt({prev:i.current,next:t})),i.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{i.current&&(n(Jrt(i.current)),i.current=null)},[n]),null}var z5,yft=()=>{var[e]=y.useState(()=>ky("uid-"));return e},xft=(z5=Pj.useId)!==null&&z5!==void 0?z5:yft;function Efe(e,t){var n=xft();return t||(e?"".concat(e,"-").concat(n):n)}var bft=y.createContext(void 0),wft=e=>{var{id:t,type:n,children:r}=e,i=Efe("recharts-".concat(n),t);return y.createElement(bft.Provider,{value:i},r(i))},Eft={cartesianItems:[],polarItems:[]},Sfe=_a({name:"graphicalItems",initialState:Eft,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Rr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Nl(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Rr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Nl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Rr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Rr()},removePolarGraphicalItem:{reducer(e,t){var n=Nl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Rr()}}}),{addCartesianGraphicalItem:Sft,replaceCartesianGraphicalItem:kft,removeCartesianGraphicalItem:_ft,addPolarGraphicalItem:C4t,removePolarGraphicalItem:N4t}=Sfe.actions,Cft=Sfe.reducer,Nft=e=>{var t=ps(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Sft(e)):n.current!==e&&t(kft({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(_ft(n.current)),n.current=null)},[t]),null},Tft=y.memo(Nft),Aft=["points"];function GW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(n),!0).forEach(function(r){jft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jft(e,t,n){return(t=Pft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pft(e){var t=Ift(e,"string");return typeof t=="symbol"?t:t+""}function Ift(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yS.apply(null,arguments)}function Rft(e,t){if(e==null)return{};var n,r,i=Mft(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mft(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Oft(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Nr(r,typeof t!="boolean"?t.className:""),s=n??{},{points:a}=s,o=Rft(s,Aft);return y.createElement(xfe,yS({},o,{className:i}))}function Dft(e,t){return e==null?!1:t?!0:e.length===1}function Lft(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:c,zIndex:u=Ll.scatter}=e;if(!Dft(t,n))return null;var d=wfe(n),f=pet(n),h=t.map((v,x)=>{var b,w,E=B5(B5(B5({r:3},a),f),{},{index:x,cx:(b=v.x)!==null&&b!==void 0?b:void 0,cy:(w=v.y)!==null&&w!==void 0?w:void 0,dataKey:s,value:v.value,payload:v.payload,points:t});return y.createElement(Oft,{key:"dot-".concat(x),option:n,dotProps:E,className:i})}),p={};return o&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),y.createElement(Uf,{zIndex:u},y.createElement(kf,yS({className:r},p),h))}function KW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KW(Object(n),!0).forEach(function(r){Fft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fft(e,t,n){return(t=$ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ft(e){var t=zft(e,"string");return typeof t=="symbol"?t:t+""}function zft(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bft={xAxis:{},yAxis:{},zAxis:{}},kfe=_a({name:"cartesianAxis",initialState:Bft,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Rr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Rr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Rr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Rr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Rr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Rr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Rr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Rr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Rr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);e.yAxis[n]=YW(YW({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:Uft,replaceXAxis:Hft,removeXAxis:Vft,addYAxis:qft,replaceYAxis:Wft,removeYAxis:Gft,addZAxis:T4t,replaceZAxis:A4t,removeZAxis:j4t,updateYAxisWidth:Kft}=kfe.actions,Yft=kfe.reducer,Xft=Ve([gs],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Qft=Ve([Xft,Xu,Qu],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),iO=()=>wn(Qft),Zft=()=>wn(Zct);function XW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XW(Object(n),!0).forEach(function(r){Jft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jft(e,t,n){return(t=eht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eht(e){var t=tht(e,"string");return typeof t=="symbol"?t:t+""}function tht(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nht=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=U5(U5(U5({},o),VR(i)),KR(i)),u;return y.isValidElement(i)?u=y.cloneElement(i,c):typeof i=="function"?u=i(c):u=y.createElement(xfe,c),y.createElement(kf,{className:"recharts-active-dot",clipPath:a},u)};function rht(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Ll.activeDot}=e,o=wn(Ry),c=Zft();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return fs(u)?null:y.createElement(Uf,{zIndex:a},y.createElement(nht,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var iht={},_fe=_a({name:"errorBars",initialState:iht,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:P4t,replaceErrorBar:I4t,removeErrorBar:R4t}=_fe.actions,sht=_fe.reducer,aht=["children"];function oht(e,t){if(e==null)return{};var n,r,i=lht(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lht(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cht={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uht=y.createContext(cht);function dht(e){var{children:t}=e,n=oht(e,aht);return y.createElement(uht.Provider,{value:n},t)}function Cfe(e,t){var n,r,i=wn(u=>Ju(u,e)),s=wn(u=>ed(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Yi.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Xi.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function fht(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=iO(),{needClipX:s,needClipY:a,needClip:o}=Cfe(t,n);if(!o||!i)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var H5={exports:{}},V5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QW;function hht(){if(QW)return V5;QW=1;var e=eg();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,o=e.useDebugValue;return V5.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var p=i(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=a(function(){function b(A){if(!w){if(w=!0,E=A,A=f(A),h!==void 0&&v.hasValue){var T=v.value;if(h(T,A))return k=T}return k=A}if(T=k,n(E,A))return T;var C=f(A);return h!==void 0&&h(T,C)?(E=A,T):(E=A,k=C)}var w=!1,E,k,_=d===void 0?null:d;return[function(){return b(u())},_===null?void 0:function(){return b(_())}]},[u,d,f,h]);var x=r(c,p[0],p[1]);return s(function(){v.hasValue=!0,v.value=x},[x]),o(x),x},V5}var ZW;function mht(){return ZW||(ZW=1,H5.exports=hht()),H5.exports}mht();function pht(e){e()}function ght(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pht(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JW={notify(){},get:()=>[]};function vht(e,t){let n,r=JW,i=0,s=!1;function a(x){d();const b=r.subscribe(x);let w=!1;return()=>{w||(w=!0,b(),f())}}function o(){r.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return s}function d(){i++,n||(n=e.subscribe(c),r=ght())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JW)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const v={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return v}var yht=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xht=yht(),bht=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wht=bht(),Eht=()=>xht||wht?y.useLayoutEffect:y.useEffect,Sht=Eht();function eG(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function kht(e,t){if(eG(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!eG(e[n[i]],t[n[i]]))return!1;return!0}var q5=Symbol.for("react-redux-context"),W5=typeof globalThis<"u"?globalThis:{};function _ht(){if(!y.createContext)return{};const e=W5[q5]??(W5[q5]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Cht=_ht();function Nht(e){const{children:t,context:n,serverState:r,store:i}=e,s=y.useMemo(()=>{const c=vht(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=y.useMemo(()=>i.getState(),[i]);Sht(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const o=n||Cht;return y.createElement(o.Provider,{value:s},t)}var Tht=Nht,Aht=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function jht(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sO(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Aht.has(r)){if(e[r]==null&&t[r]==null)continue;if(!kht(e[r],t[r]))return!1}else if(!jht(e[r],t[r]))return!1;return!0}var Pht=e=>{var{chartData:t}=e,n=ps(),r=Ca();return y.useEffect(()=>r?()=>{}:(n(bW(t)),()=>{n(bW(void 0))}),[t,n,r]),null},tG={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nfe=_a({name:"brush",initialState:tG,reducers:{setBrushSettings(e,t){return t.payload==null?tG:t.payload}}}),{setBrushSettings:M4t}=Nfe.actions,Iht=Nfe.reducer;function Rht(e,t,n){return(t=Mht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mht(e){var t=Oht(e,"string");return typeof t=="symbol"?t:t+""}function Oht(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aO{static create(t){return new aO(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Rht(aO,"EPS",1e-4);function Dht(e){return(e%180+180)%180}var Lht=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Dht(i),a=s*Math.PI/180,o=Math.atan(r/n),c=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Fht={dots:[],areas:[],lines:[]},Tfe=_a({name:"referenceElements",initialState:Fht,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Nl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Nl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Nl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:O4t,removeDot:D4t,addArea:L4t,removeArea:F4t,addLine:$4t,removeLine:z4t}=Tfe.actions,$ht=Tfe.reducer,zht=y.createContext(void 0),Bht=e=>{var{children:t}=e,[n]=y.useState("".concat(ky("recharts"),"-clip")),r=iO();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return y.createElement(zht.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function Afe(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Uht(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Lht(r,n)}function Hht(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function xS(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function Vht(e,t){return Afe(e,t+1)}function qht(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=t,c=0,u=1,d=a,f=function(){var v=r==null?void 0:r[c];if(v===void 0)return{v:Afe(r,u)};var x=c,b,w=()=>(b===void 0&&(b=n(v,x)),b),E=v.coordinate,k=c===0||xS(e,E,w,d,o);k||(c=0,d=a,u+=1),k&&(d=E+e*(w()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function nG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nG(Object(n),!0).forEach(function(r){Wht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wht(e,t,n){return(t=Ght(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ght(e){var t=Kht(e,"string");return typeof t=="symbol"?t:t+""}function Kht(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yht(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=t,{end:c}=t,u=function(h){var p=s[h],v,x=()=>(v===void 0&&(v=n(p,h)),v);if(h===a-1){var b=e*(p.coordinate+e*x()/2-c);s[h]=p=Ss(Ss({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else s[h]=p=Ss(Ss({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var w=xS(e,p.tickCoord,x,o,c);w&&(c=p.tickCoord-e*(x()/2+i),s[h]=Ss(Ss({},p),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function Xht(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:c,end:u}=t;if(s){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(a[o-1]=d=Ss(Ss({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=xS(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+i),a[o-1]=Ss(Ss({},d),{},{isShow:!0}))}}for(var v=s?o-1:o,x=function(E){var k=a[E],_,A=()=>(_===void 0&&(_=n(k,E)),_);if(E===0){var T=e*(k.coordinate-e*A()/2-c);a[E]=k=Ss(Ss({},k),{},{tickCoord:T<0?k.coordinate-T*e:k.coordinate})}else a[E]=k=Ss(Ss({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var C=xS(e,k.tickCoord,A,c,u);C&&(c=k.tickCoord+e*(A()/2+i),a[E]=Ss(Ss({},k),{},{isShow:!0}))}},b=0;b<v;b++)x(b);return a}function oO(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Cn(c)||Qx.isSsr){var h;return(h=Vht(i,Cn(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],v=o==="top"||o==="bottom"?"width":"height",x=d&&v==="width"?Mv(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(k,_)=>{var A=typeof u=="function"?u(k.value,_):k.value;return v==="width"?Uht(Mv(A,{fontSize:t,letterSpacing:n}),x,f):Mv(A,{fontSize:t,letterSpacing:n})[v]},w=i.length>=2?Po(i[1].coordinate-i[0].coordinate):1,E=Hht(s,w,v);return c==="equidistantPreserveStart"?qht(w,E,b,i,a):(c==="preserveStart"||c==="preserveStartEnd"?p=Xht(w,E,b,i,a,c==="preserveStartEnd"):p=Yht(w,E,b,i,a),p.filter(k=>k.isShow))}var Qht=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,c=i+s,u=a+c+o+(n?r:0);return Math.round(u)}return 0},Zht=["axisLine","width","height","className","hide","ticks","axisType"];function Jht(e,t){if(e==null)return{};var n,r,i=e0t(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e0t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function rG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rG(Object(n),!0).forEach(function(r){t0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t0t(e,t,n){return(t=n0t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n0t(e){var t=r0t(e,"string");return typeof t=="symbol"?t:t+""}function r0t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ll.axis};function i0t(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=xi(xi(xi({},c),wc(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=xi(xi({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(s==="left"&&!a||s==="right"&&a);u=xi(xi({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return y.createElement("line",p0({},u,{className:Nr("recharts-cartesian-axis-line",E3(o,"className"))}))}function s0t(e,t,n,r,i,s,a,o,c){var u,d,f,h,p,v,x=o?-1:1,b=e.tickSize||a,w=Cn(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-x*b,v=f-x*c,p=w;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-x*b,p=u-x*c,v=w;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+x*b,p=u+x*c,v=w;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+x*b,v=f+x*c,p=w;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:v}}}function a0t(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function o0t(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function l0t(e){var{option:t,tickProps:n,value:r}=e,i,s=Nr(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,xi(xi({},n),{},{className:s}));else if(typeof t=="function")i=t(xi(xi({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Nr(a,t==null?void 0:t.className)),i=y.createElement(nO,p0({},n,{className:a}),r)}return i}var c0t=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:p,width:v,height:x,tickSize:b,tickMargin:w,fontSize:E,letterSpacing:k,getTicksConfig:_,events:A,axisType:T}=e,C=oO(xi(xi({},_),{},{ticks:n}),E,k),I=a0t(d,f),B=o0t(d,f),$=wc(_),L=VR(r),U={};typeof i=="object"&&(U=i);var Y=xi(xi({},$),{},{fill:"none"},U),V=C.map(J=>xi({entry:J},s0t(J,h,p,v,x,d,b,f,w))),K=V.map(J=>{var{entry:q,line:G}=J;return y.createElement(kf,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&y.createElement("line",p0({},Y,G,{className:Nr("recharts-cartesian-axis-tick-line",E3(i,"className"))})))}),W=V.map((J,q)=>{var{entry:G,tick:j}=J,M=xi(xi(xi(xi({textAnchor:I,verticalAnchor:B},$),{},{stroke:"none",fill:s},L),j),{},{index:q,payload:G,visibleTicksCount:C.length,tickFormatter:a,padding:c},u);return y.createElement(kf,p0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},Ett(A,G,q)),r&&y.createElement(l0t,{option:r,tickProps:M,value:"".concat(typeof a=="function"?a(G.value,q):G.value).concat(o||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},W.length>0&&y.createElement(Uf,{zIndex:Ll.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},W)),K.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},K))}),u0t=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:c}=e,u=Jht(e,Zht),[d,f]=y.useState(""),[h,p]=y.useState(""),v=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Qht({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=y.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=w;var E=w[0];if(E){var k=window.getComputedStyle(E),_=k.fontSize,A=k.letterSpacing;(_!==d||A!==h)&&(f(_),p(A))}}},[d,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:y.createElement(Uf,{zIndex:e.zIndex},y.createElement(kf,{className:Nr("recharts-cartesian-axis",s)},y.createElement(i0t,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:wc(e)}),y.createElement(c0t,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(Edt,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(Idt,{label:e.label,labelRef:e.labelRef}),e.children)))}),lO=y.forwardRef((e,t)=>{var n=Za(e,Su);return y.createElement(u0t,p0({},n,{ref:t}))});lO.displayName="CartesianAxis";var d0t=["x1","y1","x2","y2","key"],f0t=["offset"],h0t=["xAxisId","yAxisId"],m0t=["xAxisId","yAxisId"];function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iG(Object(n),!0).forEach(function(r){p0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p0t(e,t,n){return(t=g0t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g0t(e){var t=v0t(e,"string");return typeof t=="symbol"?t:t+""}function v0t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(){return _h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_h.apply(null,arguments)}function bS(e,t){if(e==null)return{};var n,r,i=y0t(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y0t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x0t=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=e;return y.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function jfe(e){var{option:t,lineItemProps:n}=e,r;if(y.isValidElement(t))r=y.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:a,x2:o,y2:c,key:u}=n,d=bS(n,d0t),f=(i=wc(d))!==null&&i!==void 0?i:{},{offset:h}=f,p=bS(f,f0t);r=y.createElement("line",_h({},p,{x1:s,y1:a,x2:o,y2:c,fill:"none",key:u}))}return r}function b0t(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=bS(e,h0t),c=i.map((u,d)=>{var f=_s(_s({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return y.createElement(jfe,{key:"line-".concat(d),option:r,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function w0t(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=bS(e,m0t),c=i.map((u,d)=>{var f=_s(_s({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return y.createElement(jfe,{option:r,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function E0t(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],v=p?i+a-f:u[h+1]-f;if(v<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:v,width:s,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function S0t(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],v=p?i+a-f:u[h+1]-f;if(v<=0)return null;var x=h%n.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:v,height:o,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var k0t=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return _ce(oO(_s(_s(_s({},Su),n),{},{ticks:Cce(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},_0t=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return _ce(oO(_s(_s(_s({},Su),n),{},{ticks:Cce(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},C0t={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ll.grid};function Pfe(e){var t=Oce(),n=Dce(),r=Krt(),i=_s(_s({},Za(e,C0t)),{},{x:Cn(e.x)?e.x:r.left,y:Cn(e.y)?e.y:r.top,width:Cn(e.width)?e.width:r.width,height:Cn(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,v=Ca(),x=wn(B=>cW(B,"xAxis",s,v)),b=wn(B=>cW(B,"yAxis",a,v));if(!kc(u)||!kc(d)||!Cn(o)||!Cn(c))return null;var w=i.verticalCoordinatesGenerator||k0t,E=i.horizontalCoordinatesGenerator||_0t,{horizontalPoints:k,verticalPoints:_}=i;if((!k||!k.length)&&typeof E=="function"){var A=h&&h.length,T=E({yAxis:b?_s(_s({},b),{},{ticks:A?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);YE(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(k=T)}if((!_||!_.length)&&typeof w=="function"){var C=p&&p.length,I=w({xAxis:x?_s(_s({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);YE(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(_=I)}return y.createElement(Uf,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(x0t,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(E0t,_h({},i,{horizontalPoints:k})),y.createElement(S0t,_h({},i,{verticalPoints:_})),y.createElement(b0t,_h({},i,{offset:r,horizontalPoints:k,xAxis:x,yAxis:b})),y.createElement(w0t,_h({},i,{offset:r,verticalPoints:_,xAxis:x,yAxis:b}))))}Pfe.displayName="CartesianGrid";var Ife=(e,t,n,r)=>Ode(e,"xAxis",t,r),Rfe=(e,t,n,r)=>Mde(e,"xAxis",t,r),Mfe=(e,t,n,r)=>Ode(e,"yAxis",n,r),Ofe=(e,t,n,r)=>Mde(e,"yAxis",n,r),N0t=Ve([Tr,Ife,Mfe,Rfe,Ofe],(e,t,n,r,i)=>Lf(e,"xAxis")?HV(t,r,!1):HV(n,i,!1)),T0t=(e,t,n,r,i)=>i;function A0t(e){return e.type==="line"}var j0t=Ve([rde,T0t],(e,t)=>e.filter(A0t).find(n=>n.id===t)),P0t=Ve([Tr,Ife,Mfe,Rfe,Ofe,j0t,N0t,PM],(e,t,n,r,i,s,a,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return Z0t({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:p})}});function I0t(e){var t=VR(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var R0t=["id"],M0t=["type","layout","connectNulls","needClip","shape"],O0t=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function sG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sG(Object(n),!0).forEach(function(r){D0t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0t(e,t,n){return(t=L0t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0t(e){var t=F0t(e,"string");return typeof t=="symbol"?t:t+""}function F0t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cO(e,t){if(e==null)return{};var n,r,i=$0t(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $0t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var z0t=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:Nce(n,t),payload:e}]},B0t=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Nce(a,t),hide:o,type:u,color:r,unit:c}};return y.createElement(gft,{tooltipEntrySettings:d})}),Dfe=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function U0t(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var H0t=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return Dfe(t,e);for(var i=Math.floor(e/r),s=e%r,a=t-e,o=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){o=[...n.slice(0,c),s-u];break}var d=o.length%2===0?[0,a]:[a];return[...U0t(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function V0t(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:a}=r,{id:o}=r,c=cO(r,R0t),u=wc(c);return y.createElement(Lft,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:a,clipPathId:t})}function q0t(e){var{showLabels:t,children:n,points:r}=e,i=y.useMemo(()=>r==null?void 0:r.map(s=>{var a,o,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return rc(rc({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(Hdt,{value:t?i:void 0},n)}function aG(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s}=e,{type:a,layout:o,connectNulls:c,needClip:u,shape:d}=s,f=cO(s,M0t),h=rc(rc({},wa(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:o,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(pft,My({shapeType:"curve",option:d},h,{pathRef:n})),y.createElement(V0t,{points:r,clipPathId:t,props:s}))}function W0t(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function G0t(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:a,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:v,onAnimationEnd:x,onAnimationStart:b}=n,w=i.current,E=lM(a,"recharts-line-"),k=y.useRef(E),[_,A]=y.useState(!1),T=!_,C=y.useCallback(()=>{typeof x=="function"&&x(),A(!1)},[x]),I=y.useCallback(()=>{typeof b=="function"&&b(),A(!0)},[b]),B=W0t(r.current),$=y.useRef(0);k.current!==E&&($.current=s.current,k.current=E);var L=$.current;return y.createElement(q0t,{points:a,showLabels:T},n.children,y.createElement(oM,{animationId:E,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:C,onAnimationStart:I,key:E},U=>{var Y=va(L,B+L,U),V=Math.min(Y,B),K;if(c)if(o){var W="".concat(o).split(/[,\s]+/gim).map(G=>parseFloat(G));K=H0t(V,B,W)}else K=Dfe(B,V);else K=o==null?void 0:String(o);if(U>0&&B>0&&(i.current=a,s.current=Math.max(s.current,V)),w){var J=w.length/a.length,q=U===1?a:a.map((G,j)=>{var M=Math.floor(j*J);if(w[M]){var z=w[M];return rc(rc({},G),{},{x:va(z.x,G.x,U),y:va(z.y,G.y,U)})}return h?rc(rc({},G),{},{x:va(p*2,G.x,U),y:va(v/2,G.y,U)}):rc(rc({},G),{},{x:G.x,y:G.y})});return i.current=q,y.createElement(aG,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:K})}return y.createElement(aG,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:K})}),y.createElement(Wdt,{label:n.label}))}function K0t(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),i=y.useRef(0),s=y.useRef(null);return y.createElement(G0t,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Y0t=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ps(e.payload,t)}};class X0t extends y.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var v=Nr("recharts-line",i),x=f,{r:b,strokeWidth:w}=I0t(n),E=wfe(n),k=b*2+w,_=h?"url(#clipPath-".concat(E?"":"dots-").concat(x,")"):void 0;return y.createElement(Uf,{zIndex:p},y.createElement(kf,{className:v},h&&y.createElement("defs",null,y.createElement(fht,{clipPathId:x,xAxisId:s,yAxisId:a}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:c-k/2,y:o-k/2,width:u+k,height:d+k}))),y.createElement(dht,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:Y0t,errorBarOffset:0},y.createElement(K0t,{props:this.props,clipPathId:x}))),y.createElement(rht,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var Lfe={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ll.line,type:"linear"};function Q0t(e){var t=Za(e,Lfe),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:v,id:x}=t,b=cO(t,O0t),{needClip:w}=Cfe(p,v),E=iO(),k=aM(),_=Ca(),A=wn($=>P0t($,p,v,_,x));if(k!=="horizontal"&&k!=="vertical"||A==null||E==null)return null;var{height:T,width:C,x:I,y:B}=E;return y.createElement(X0t,My({},b,{id:x,connectNulls:o,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:v,points:A,layout:k,height:T,width:C,left:I,top:B,needClip:w}))}function Z0t(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=Ps(u,a);if(t==="horizontal"){var h=zV({axis:n,ticks:i,bandSize:o,entry:u,index:d}),p=fs(f)?null:r.scale(f);return{x:h,y:p,value:f,payload:u}}var v=fs(f)?null:n.scale(f),x=zV({axis:r,ticks:s,bandSize:o,entry:u,index:d});return v==null||x==null?null:{x:v,y:x,value:f,payload:u}}).filter(Boolean)}function J0t(e){var t=Za(e,Lfe),n=Ca();return y.createElement(wft,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(vft,{legendPayload:z0t(t)}),y.createElement(B0t,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(Tft,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(Q0t,My({},t,{id:r}))))}var fj=y.memo(J0t,sO);fj.displayName="Line";var emt=["domain","range"],tmt=["domain","range"];function oG(e,t){if(e==null)return{};var n,r,i=nmt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nmt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lG(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Ffe(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=oG(e,emt),{domain:s,range:a}=t,o=oG(t,tmt);return!lG(n,s)||!lG(r,a)?!1:sO(i,o)}var rmt=["dangerouslySetInnerHTML","ticks"],imt=["id"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hj.apply(null,arguments)}function cG(e,t){if(e==null)return{};var n,r,i=smt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function smt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function amt(e){var t=ps(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Uft(e)):n.current!==e&&t(Hft({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Vft(n.current)),n.current=null)},[t]),null}var omt=e=>{var{xAxisId:t,className:n}=e,r=wn(Ace),i=Ca(),s="xAxis",a=wn(b=>Lg(b,s,t,i)),o=wn(b=>Rde(b,s,t,i)),c=wn(b=>Ult(b,t)),u=wn(b=>Klt(b,t)),d=wn(b=>Jue(b,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=cG(e,rmt),{id:v}=d,x=cG(d,imt);return y.createElement(lO,hj({},p,x,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:Nr("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},lmt={allowDataOverflow:Yi.allowDataOverflow,allowDecimals:Yi.allowDecimals,allowDuplicatedCategory:Yi.allowDuplicatedCategory,angle:Yi.angle,axisLine:Su.axisLine,height:Yi.height,hide:!1,includeHidden:Yi.includeHidden,interval:Yi.interval,minTickGap:Yi.minTickGap,mirror:Yi.mirror,orientation:Yi.orientation,padding:Yi.padding,reversed:Yi.reversed,scale:Yi.scale,tick:Yi.tick,tickCount:Yi.tickCount,tickLine:Su.tickLine,tickSize:Su.tickSize,type:Yi.type,xAxisId:0},cmt=e=>{var t=Za(e,lmt);return y.createElement(y.Fragment,null,y.createElement(amt,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(omt,t))},$fe=y.memo(cmt,Ffe);$fe.displayName="XAxis";var umt=["dangerouslySetInnerHTML","ticks"],dmt=["id"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mj.apply(null,arguments)}function uG(e,t){if(e==null)return{};var n,r,i=fmt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fmt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hmt(e){var t=ps(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(qft(e)):n.current!==e&&t(Wft({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Gft(n.current)),n.current=null)},[t]),null}var mmt=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=y.useRef(null),a=y.useRef(null),o=wn(Ace),c=Ca(),u=ps(),d="yAxis",f=wn(A=>Lg(A,d,t,c)),h=wn(A=>Qlt(A,t)),p=wn(A=>Xlt(A,t)),v=wn(A=>Rde(A,d,t,c)),x=wn(A=>ede(A,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!h||rO(i)||y.isValidElement(i)||x==null)){var A=s.current;if(A){var T=A.getCalculatedWidth();Math.round(h.width)!==Math.round(T)&&u(Kft({id:t,width:T}))}}},[v,h,u,i,t,r,x]),h==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,E=uG(e,umt),{id:k}=x,_=uG(x,dmt);return y.createElement(lO,mj({},E,_,{ref:s,labelRef:a,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Nr("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:v,axisType:d}))},pmt={allowDataOverflow:Xi.allowDataOverflow,allowDecimals:Xi.allowDecimals,allowDuplicatedCategory:Xi.allowDuplicatedCategory,angle:Xi.angle,axisLine:Su.axisLine,hide:!1,includeHidden:Xi.includeHidden,interval:Xi.interval,minTickGap:Xi.minTickGap,mirror:Xi.mirror,orientation:Xi.orientation,padding:Xi.padding,reversed:Xi.reversed,scale:Xi.scale,tick:Xi.tick,tickCount:Xi.tickCount,tickLine:Su.tickLine,tickSize:Su.tickSize,type:Xi.type,width:Xi.width,yAxisId:0},gmt=e=>{var t=Za(e,pmt);return y.createElement(y.Fragment,null,y.createElement(hmt,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(mmt,t))},zfe=y.memo(gmt,Ffe);zfe.displayName="YAxis";var vmt=(e,t)=>t,uO=Ve([vmt,Tr,Xue,Hi,Qde,Bf,sut,gs],cut),dO=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Bfe=$o("mouseClick"),Ufe=Yx();Ufe.startListening({actionCreator:Bfe,effect:(e,t)=>{var n=e.payload,r=uO(t.getState(),dO(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(lct({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var pj=$o("mouseMove"),Hfe=Yx(),P2=null;Hfe.startListening({actionCreator:pj,effect:(e,t)=>{var n=e.payload;P2!==null&&cancelAnimationFrame(P2);var r=dO(n);P2=requestAnimationFrame(()=>{var i=t.getState(),s=$de(i,i.tooltip.settings.shared);if(s==="axis"){var a=uO(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(Hde({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Ude())}P2=null})}});var dG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Vfe=_a({name:"rootProps",initialState:dG,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:dG.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ymt=Vfe.reducer,{updateOptions:xmt}=Vfe.actions,qfe=_a({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:B4t}=qfe.actions,bmt=qfe.reducer,Wfe=$o("keyDown"),Gfe=$o("focus"),fO=Yx();fO.startListening({actionCreator:Wfe,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=GM(i,Fg(n),ib(n),ub(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var c=Bf(n);if(s==="Enter"){var u=hS(n,"axis","hover",String(i.index));t.dispatch(lj({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=tct(n),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=o+h*f;if(!(c==null||p>=c.length||p<0)){var v=hS(n,"axis","hover",String(p));t.dispatch(lj({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});fO.startListening({actionCreator:Gfe,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=hS(n,"axis","hover",String(s));t.dispatch(lj({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var mo=$o("externalEvent"),Kfe=Yx(),G5=new Map;Kfe.startListening({actionCreator:mo,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=G5.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:Yct(o),activeDataKey:Gct(o),activeIndex:Ry(o),activeLabel:Jde(o),activeTooltipIndex:Ry(o),isTooltipActive:Xct(o)};n(c,r)}finally{G5.delete(i)}});G5.set(i,a)}}});var wmt=Ve([lb],e=>e.tooltipItemPayloads),Emt=Ve([wmt,ob,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),Yfe=$o("touchMove"),Xfe=Yx();Xfe.startListening({actionCreator:Yfe,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=$de(r,r.tooltip.settings.shared);if(i==="axis"){var s=uO(r,dO({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(Hde({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(vrt),d=(a=c.getAttribute(yrt))!==null&&a!==void 0?a:void 0,f=Emt(t.getState(),u,d);t.dispatch(oct({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Smt=Xle({brush:Iht,cartesianAxis:Yft,chartData:Mut,errorBars:sht,graphicalItems:Cft,layout:trt,legend:eit,options:jut,polarAxis:Kdt,polarOptions:bmt,referenceElements:$ht,rootProps:ymt,tooltip:cct,zIndex:Sut}),kmt=function(t){return Cnt({reducer:Smt,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Ufe.middleware,Hfe.middleware,fO.middleware,Kfe.middleware,Xfe.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(dce({type:"raf"}))},devTools:Qx.devToolsEnabled})};function _mt(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ca(),s=y.useRef(null);if(i)return n;s.current==null&&(s.current=kmt(t));var a=YR;return y.createElement(Tht,{context:a,store:s.current},n)}function Cmt(e){var{layout:t,margin:n}=e,r=ps(),i=Ca();return y.useEffect(()=>{i||(r(Znt(t)),r(Qnt(n)))},[r,i,t,n]),null}var Nmt=y.memo(Cmt,sO);function Tmt(e){var t=ps();return y.useEffect(()=>{t(xmt(e))},[t,e]),null}function fG(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=Efe("".concat(r).concat(t)),s=ps();return y.useLayoutEffect(()=>(s(wut({zIndex:t,elementId:i,isPanorama:n})),()=>{s(Eut({zIndex:t,isPanorama:n}))}),[s,t,i,n]),y.createElement("g",{id:i})}function hG(e){var{children:t,isPanorama:n}=e,r=wn(dut);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return y.createElement(y.Fragment,null,i.map(a=>y.createElement(fG,{key:a,zIndex:a,isPanorama:n})),t,s.map(a=>y.createElement(fG,{key:a,zIndex:a,isPanorama:n})))}var Amt=["children"];function jmt(e,t){if(e==null)return{};var n,r,i=Pmt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pmt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wS.apply(null,arguments)}var Imt={width:"100%",height:"100%",display:"block"},Rmt=y.forwardRef((e,t)=>{var n=Oce(),r=Dce(),i=nit();if(!kc(n)||!kc(r))return null;var{children:s,otherAttributes:a,title:o,desc:c}=e,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),y.createElement(ble,wS({},a,{title:o,desc:c,role:d,tabIndex:u,width:n,height:r,style:Imt,ref:t}),s)}),Mmt=e=>{var{children:t}=e,n=wn(M3);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return y.createElement(ble,{width:r,height:i,x:a,y:s},t)},mG=y.forwardRef((e,t)=>{var{children:n}=e,r=jmt(e,Amt),i=Ca();return i?y.createElement(Mmt,null,y.createElement(hG,{isPanorama:!0},n)):y.createElement(Rmt,wS({ref:t},r),y.createElement(hG,{isPanorama:!1},n))});function Omt(){var e=ps(),[t,n]=y.useState(null),r=wn(grt);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;rs(s)&&s!==r&&e(ert(s))}},[t,e,r]),n}function pG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dmt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(n),!0).forEach(function(r){Lmt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lmt(e,t,n){return(t=Fmt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fmt(e){var t=$mt(e,"string");return typeof t=="symbol"?t:t+""}function $mt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}var zmt=()=>(Hut(),null);function ES(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Bmt=y.forwardRef((e,t)=>{var n,r,i=y.useRef(null),[s,a]=y.useState({containerWidth:ES((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:ES((r=e.style)===null||r===void 0?void 0:r.height)}),o=y.useCallback((u,d)=>{a(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),c=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=v=>{var{width:x,height:b}=v[0].contentRect;o(x,b)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,o]);return y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(O3,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",g0({ref:c},e)))}),Umt=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=y.useState({containerWidth:ES(n),containerHeight:ES(r)}),a=y.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[t,a]);return y.createElement(y.Fragment,null,y.createElement(O3,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",g0({ref:o},e)))}),Hmt=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(O3,{width:n,height:r}),y.createElement("div",g0({ref:t},e)))}),Vmt=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ou(n)||Ou(r)?y.createElement(Umt,g0({},e,{ref:t})):y.createElement(Hmt,g0({},e,{ref:t}))});function qmt(e){return e===!0?Bmt:Vmt}var Wmt=y.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:x,style:b,width:w,responsive:E,dispatchTouchEvents:k=!0}=e,_=y.useRef(null),A=ps(),[T,C]=y.useState(null),[I,B]=y.useState(null),$=Omt(),L=sM(),U=(L==null?void 0:L.width)>0?L.width:w,Y=(L==null?void 0:L.height)>0?L.height:i,V=y.useCallback(ie=>{$(ie),typeof t=="function"&&t(ie),C(ie),B(ie),ie!=null&&(_.current=ie)},[$,t,C,B]),K=y.useCallback(ie=>{A(Bfe(ie)),A(mo({handler:s,reactEvent:ie}))},[A,s]),W=y.useCallback(ie=>{A(pj(ie)),A(mo({handler:u,reactEvent:ie}))},[A,u]),J=y.useCallback(ie=>{A(Ude()),A(mo({handler:d,reactEvent:ie}))},[A,d]),q=y.useCallback(ie=>{A(pj(ie)),A(mo({handler:f,reactEvent:ie}))},[A,f]),G=y.useCallback(()=>{A(Gfe())},[A]),j=y.useCallback(ie=>{A(Wfe(ie.key))},[A]),M=y.useCallback(ie=>{A(mo({handler:a,reactEvent:ie}))},[A,a]),z=y.useCallback(ie=>{A(mo({handler:o,reactEvent:ie}))},[A,o]),O=y.useCallback(ie=>{A(mo({handler:c,reactEvent:ie}))},[A,c]),X=y.useCallback(ie=>{A(mo({handler:h,reactEvent:ie}))},[A,h]),ne=y.useCallback(ie=>{A(mo({handler:x,reactEvent:ie}))},[A,x]),re=y.useCallback(ie=>{k&&A(Yfe(ie)),A(mo({handler:v,reactEvent:ie}))},[A,k,v]),Q=y.useCallback(ie=>{A(mo({handler:p,reactEvent:ie}))},[A,p]),te=qmt(E);return y.createElement(kut.Provider,{value:T},y.createElement(Eet.Provider,{value:I},y.createElement(te,{width:U??(b==null?void 0:b.width),height:Y??(b==null?void 0:b.height),className:Nr("recharts-wrapper",r),style:Dmt({position:"relative",cursor:"default",width:U,height:Y},b),onClick:K,onContextMenu:M,onDoubleClick:z,onFocus:G,onKeyDown:j,onMouseDown:O,onMouseEnter:W,onMouseLeave:J,onMouseMove:q,onMouseUp:X,onTouchEnd:Q,onTouchMove:re,onTouchStart:ne,ref:V},y.createElement(zmt,null),n)))}),Gmt=["width","height","responsive","children","className","style","compact","title","desc"];function Kmt(e,t){if(e==null)return{};var n,r,i=Ymt(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ymt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xmt=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:c,title:u,desc:d}=e,f=Kmt(e,Gmt),h=wc(f);return c?y.createElement(y.Fragment,null,y.createElement(O3,{width:n,height:r}),y.createElement(mG,{otherAttributes:h,title:u,desc:d},s)):y.createElement(Wmt,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(mG,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(Bht,null,s)))});function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gj.apply(null,arguments)}var Qmt={top:5,right:5,bottom:5,left:5},Zmt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qmt,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Jmt=y.forwardRef(function(t,n){var r,i=Za(t.categoricalChartProps,Zmt),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(_mt,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},y.createElement(Pht,{chartData:u.data}),y.createElement(Nmt,{layout:i.layout,margin:i.margin}),y.createElement(Tmt,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(Xmt,gj({},i,{ref:n})))}),ept=["axis"],tpt=y.forwardRef((e,t)=>y.createElement(Jmt,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ept,tooltipPayloadSearcher:Tut,categoricalChartProps:e,ref:t}));const npt=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(t=>({month:t,manual:Math.floor(Math.random()*60)+40,automated:Math.floor(Math.random()*30)+5}));function rpt({data:e=npt(),height:t=192}){return l.jsxs("div",{className:"rounded-lg border bg-background p-3",children:[l.jsxs("div",{className:"mb-6 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h2",{className:"font-semibold",children:"Ticket Trends"}),l.jsx(PS,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsx("p",{className:"text-muted-foreground",children:"Rita learned from 976 tickets, automatically handled 0%"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"w-full",children:l.jsx(Wrt,{width:"100%",height:t,children:l.jsxs(tpt,{data:e,children:[l.jsx(Pfe,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),l.jsx($fe,{dataKey:"month",stroke:"#6b7280"}),l.jsx(zfe,{stroke:"#6b7280"}),l.jsx(fj,{type:"monotone",dataKey:"manual",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:4}}),l.jsx(fj,{type:"monotone",dataKey:"automated",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",r:4}})]})})}),l.jsxs("div",{className:"flex gap-4 justify-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-xs",style:{backgroundColor:"#8b5cf6"}}),l.jsx("span",{className:"text-sm",children:"Manual"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-xs",style:{backgroundColor:"#10b981"}}),l.jsx("span",{className:"text-sm",children:"Automated"})]})]})]})]})}var hO={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=(function(){if(!t.OffscreenCanvas)return!1;try{var j=new OffscreenCanvas(1,1),M=j.getContext("2d");M.fillRect(0,0,1,1);var z=j.transferToImageBitmap();M.createPattern(z,"no-repeat")}catch{return!1}return!0})();function c(){}function u(j){var M=n.exports.Promise,z=M!==void 0?M:t.Promise;return typeof z=="function"?new z(j):(j(c,c),null)}var d=(function(j,M){return{transform:function(z){if(j)return z;if(M.has(z))return M.get(z);var O=new OffscreenCanvas(z.width,z.height),X=O.getContext("2d");return X.drawImage(z,0,0),M.set(z,O),O},clear:function(){M.clear()}}})(o,new Map),f=(function(){var j=Math.floor(16.666666666666668),M,z,O={},X=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(M=function(ne){var re=Math.random();return O[re]=requestAnimationFrame(function Q(te){X===te||X+j-1<te?(X=te,delete O[re],ne()):O[re]=requestAnimationFrame(Q)}),re},z=function(ne){O[ne]&&cancelAnimationFrame(O[ne])}):(M=function(ne){return setTimeout(ne,j)},z=function(ne){return clearTimeout(ne)}),{frame:M,cancel:z}})(),h=(function(){var j,M,z={};function O(X){function ne(re,Q){X.postMessage({options:re||{},callback:Q})}X.init=function(Q){var te=Q.transferControlToOffscreen();X.postMessage({canvas:te},[te])},X.fire=function(Q,te,ie){if(M)return ne(Q,null),M;var fe=Math.random().toString(36).slice(2);return M=u(function(he){function ae(Pe){Pe.data.callback===fe&&(delete z[fe],X.removeEventListener("message",ae),M=null,d.clear(),ie(),he())}X.addEventListener("message",ae),ne(Q,fe),z[fe]=ae.bind(null,{data:{callback:fe}})}),M},X.reset=function(){X.postMessage({reset:!0});for(var Q in z)z[Q](),delete z[Q]}}return function(){if(j)return j;if(!r&&s){var X=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([X])))}catch(ne){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ne),null}O(j)}return j}})(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(j,M){return M?M(j):j}function x(j){return j!=null}function b(j,M,z){return v(j&&x(j[M])?j[M]:p[M],z)}function w(j){return j<0?0:Math.floor(j)}function E(j,M){return Math.floor(Math.random()*(M-j))+j}function k(j){return parseInt(j,16)}function _(j){return j.map(A)}function A(j){var M=String(j).replace(/[^0-9a-f]/gi,"");return M.length<6&&(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]),{r:k(M.substring(0,2)),g:k(M.substring(2,4)),b:k(M.substring(4,6))}}function T(j){var M=b(j,"origin",Object);return M.x=b(M,"x",Number),M.y=b(M,"y",Number),M}function C(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function I(j){var M=j.getBoundingClientRect();j.width=M.width,j.height=M.height}function B(j){var M=document.createElement("canvas");return M.style.position="fixed",M.style.top="0px",M.style.left="0px",M.style.pointerEvents="none",M.style.zIndex=j,M}function $(j,M,z,O,X,ne,re,Q,te){j.save(),j.translate(M,z),j.rotate(ne),j.scale(O,X),j.arc(0,0,1,re,Q,te),j.restore()}function L(j){var M=j.angle*(Math.PI/180),z=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-M+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function U(j,M){M.x+=Math.cos(M.angle2D)*M.velocity+M.drift,M.y+=Math.sin(M.angle2D)*M.velocity+M.gravity,M.velocity*=M.decay,M.flat?(M.wobble=0,M.wobbleX=M.x+10*M.scalar,M.wobbleY=M.y+10*M.scalar,M.tiltSin=0,M.tiltCos=0,M.random=1):(M.wobble+=M.wobbleSpeed,M.wobbleX=M.x+10*M.scalar*Math.cos(M.wobble),M.wobbleY=M.y+10*M.scalar*Math.sin(M.wobble),M.tiltAngle+=.1,M.tiltSin=Math.sin(M.tiltAngle),M.tiltCos=Math.cos(M.tiltAngle),M.random=Math.random()+2);var z=M.tick++/M.totalTicks,O=M.x+M.random*M.tiltCos,X=M.y+M.random*M.tiltSin,ne=M.wobbleX+M.random*M.tiltCos,re=M.wobbleY+M.random*M.tiltSin;if(j.fillStyle="rgba("+M.color.r+", "+M.color.g+", "+M.color.b+", "+(1-z)+")",j.beginPath(),a&&M.shape.type==="path"&&typeof M.shape.path=="string"&&Array.isArray(M.shape.matrix))j.fill(J(M.shape.path,M.shape.matrix,M.x,M.y,Math.abs(ne-O)*.1,Math.abs(re-X)*.1,Math.PI/10*M.wobble));else if(M.shape.type==="bitmap"){var Q=Math.PI/10*M.wobble,te=Math.abs(ne-O)*.1,ie=Math.abs(re-X)*.1,fe=M.shape.bitmap.width*M.scalar,he=M.shape.bitmap.height*M.scalar,ae=new DOMMatrix([Math.cos(Q)*te,Math.sin(Q)*te,-Math.sin(Q)*ie,Math.cos(Q)*ie,M.x,M.y]);ae.multiplySelf(new DOMMatrix(M.shape.matrix));var Pe=j.createPattern(d.transform(M.shape.bitmap),"no-repeat");Pe.setTransform(ae),j.globalAlpha=1-z,j.fillStyle=Pe,j.fillRect(M.x-fe/2,M.y-he/2,fe,he),j.globalAlpha=1}else if(M.shape==="circle")j.ellipse?j.ellipse(M.x,M.y,Math.abs(ne-O)*M.ovalScalar,Math.abs(re-X)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI):$(j,M.x,M.y,Math.abs(ne-O)*M.ovalScalar,Math.abs(re-X)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI);else if(M.shape==="star")for(var Te=Math.PI/2*3,Ge=4*M.scalar,nt=8*M.scalar,vt=M.x,Ct=M.y,Tt=5,ue=Math.PI/Tt;Tt--;)vt=M.x+Math.cos(Te)*nt,Ct=M.y+Math.sin(Te)*nt,j.lineTo(vt,Ct),Te+=ue,vt=M.x+Math.cos(Te)*Ge,Ct=M.y+Math.sin(Te)*Ge,j.lineTo(vt,Ct),Te+=ue;else j.moveTo(Math.floor(M.x),Math.floor(M.y)),j.lineTo(Math.floor(M.wobbleX),Math.floor(X)),j.lineTo(Math.floor(ne),Math.floor(re)),j.lineTo(Math.floor(O),Math.floor(M.wobbleY));return j.closePath(),j.fill(),M.tick<M.totalTicks}function Y(j,M,z,O,X){var ne=M.slice(),re=j.getContext("2d"),Q,te,ie=u(function(fe){function he(){Q=te=null,re.clearRect(0,0,O.width,O.height),d.clear(),X(),fe()}function ae(){r&&!(O.width===i.width&&O.height===i.height)&&(O.width=j.width=i.width,O.height=j.height=i.height),!O.width&&!O.height&&(z(j),O.width=j.width,O.height=j.height),re.clearRect(0,0,O.width,O.height),ne=ne.filter(function(Pe){return U(re,Pe)}),ne.length?Q=f.frame(ae):he()}Q=f.frame(ae),te=he});return{addFettis:function(fe){return ne=ne.concat(fe),ie},canvas:j,promise:ie,reset:function(){Q&&f.cancel(Q),te&&te()}}}function V(j,M){var z=!j,O=!!b(M||{},"resize"),X=!1,ne=b(M,"disableForReducedMotion",Boolean),re=s&&!!b(M||{},"useWorker"),Q=re?h():null,te=z?C:I,ie=j&&Q?!!j.__confetti_initialized:!1,fe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,he;function ae(Te,Ge,nt){for(var vt=b(Te,"particleCount",w),Ct=b(Te,"angle",Number),Tt=b(Te,"spread",Number),ue=b(Te,"startVelocity",Number),_e=b(Te,"decay",Number),Ae=b(Te,"gravity",Number),Be=b(Te,"drift",Number),We=b(Te,"colors",_),qe=b(Te,"ticks",Number),Ee=b(Te,"shapes"),$e=b(Te,"scalar"),Ze=!!b(Te,"flat"),bt=T(Te),Ue=vt,St=[],At=j.width*bt.x,je=j.height*bt.y;Ue--;)St.push(L({x:At,y:je,angle:Ct,spread:Tt,startVelocity:ue,color:We[Ue%We.length],shape:Ee[E(0,Ee.length)],ticks:qe,decay:_e,gravity:Ae,drift:Be,scalar:$e,flat:Ze}));return he?he.addFettis(St):(he=Y(j,St,te,Ge,nt),he.promise)}function Pe(Te){var Ge=ne||b(Te,"disableForReducedMotion",Boolean),nt=b(Te,"zIndex",Number);if(Ge&&fe)return u(function(ue){ue()});z&&he?j=he.canvas:z&&!j&&(j=B(nt),document.body.appendChild(j)),O&&!ie&&te(j);var vt={width:j.width,height:j.height};Q&&!ie&&Q.init(j),ie=!0,Q&&(j.__confetti_initialized=!0);function Ct(){if(Q){var ue={getBoundingClientRect:function(){if(!z)return j.getBoundingClientRect()}};te(ue),Q.postMessage({resize:{width:ue.width,height:ue.height}});return}vt.width=vt.height=null}function Tt(){he=null,O&&(X=!1,t.removeEventListener("resize",Ct)),z&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,ie=!1)}return O&&!X&&(X=!0,t.addEventListener("resize",Ct,!1)),Q?Q.fire(Te,vt,Tt):ae(Te,vt,Tt)}return Pe.reset=function(){Q&&Q.reset(),he&&he.reset()},Pe}var K;function W(){return K||(K=V(null,{useWorker:!0,resize:!0})),K}function J(j,M,z,O,X,ne,re){var Q=new Path2D(j),te=new Path2D;te.addPath(Q,new DOMMatrix(M));var ie=new Path2D;return ie.addPath(te,new DOMMatrix([Math.cos(re)*X,Math.sin(re)*X,-Math.sin(re)*ne,Math.cos(re)*ne,z,O])),ie}function q(j){if(!a)throw new Error("path confetti are not supported in this browser");var M,z;typeof j=="string"?M=j:(M=j.path,z=j.matrix);var O=new Path2D(M),X=document.createElement("canvas"),ne=X.getContext("2d");if(!z){for(var re=1e3,Q=re,te=re,ie=0,fe=0,he,ae,Pe=0;Pe<re;Pe+=2)for(var Te=0;Te<re;Te+=2)ne.isPointInPath(O,Pe,Te,"nonzero")&&(Q=Math.min(Q,Pe),te=Math.min(te,Te),ie=Math.max(ie,Pe),fe=Math.max(fe,Te));he=ie-Q,ae=fe-te;var Ge=10,nt=Math.min(Ge/he,Ge/ae);z=[nt,0,0,nt,-Math.round(he/2+Q)*nt,-Math.round(ae/2+te)*nt]}return{type:"path",path:M,matrix:z}}function G(j){var M,z=1,O="#000000",X='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?M=j:(M=j.text,z="scalar"in j?j.scalar:z,X="fontFamily"in j?j.fontFamily:X,O="color"in j?j.color:O);var ne=10*z,re=""+ne+"px "+X,Q=new OffscreenCanvas(ne,ne),te=Q.getContext("2d");te.font=re;var ie=te.measureText(M),fe=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),he=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),ae=2,Pe=ie.actualBoundingBoxLeft+ae,Te=ie.actualBoundingBoxAscent+ae;fe+=ae+ae,he+=ae+ae,Q=new OffscreenCanvas(fe,he),te=Q.getContext("2d"),te.font=re,te.fillStyle=O,te.fillText(M,Pe,Te);var Ge=1/z;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Ge,0,0,Ge,-fe*Ge/2,-he*Ge/2]}}n.exports=function(){return W().apply(this,arguments)},n.exports.reset=function(){W().reset()},n.exports.create=V,n.exports.shapeFromPath=q,n.exports.shapeFromText=G})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),hO,!1);const ipt=hO.exports;hO.exports.create;const spt=y.createContext({}),Qfe=y.forwardRef((e,t)=>{const{options:n,globalOptions:r={resize:!0,useWorker:!0},manualstart:i=!1,children:s,...a}=e,o=y.useRef(null),c=y.useCallback(f=>{if(f!==null){if(o.current)return;o.current=ipt.create(f,{...r,resize:!0})}else o.current&&(o.current.reset(),o.current=null)},[r]),u=y.useCallback(async(f={})=>{var h;try{await((h=o.current)==null?void 0:h.call(o,{...n,...f}))}catch(p){console.error("Confetti error:",p)}},[n]),d=y.useMemo(()=>({fire:u}),[u]);return y.useImperativeHandle(t,()=>d,[d]),y.useEffect(()=>{i||(async()=>{try{await u()}catch(f){console.error("Confetti effect error:",f)}})()},[i,u]),l.jsxs(spt.Provider,{value:d,children:[l.jsx("canvas",{ref:c,...a}),s]})});Qfe.displayName="Confetti";const apt=Qfe;function opt(e){if(e.totalReviewed===0)return"poor";const t=e.trusted/e.totalReviewed*100;return t>70?"excellent":t>=30?"mixed":"poor"}function lpt({open:e,onOpenChange:t,stats:n,clusterId:r,onEnableAutoRespond:i,onKeepReviewing:s,onAddKnowledge:a,onConnectSources:o}){const c=y.useRef(null),u=opt(n),{setFeedbackState:d}=jR();y.useEffect(()=>{e&&r&&d(r,u,n)},[e,r,u,n,d]),y.useEffect(()=>{if(e&&u==="excellent"){const b=setTimeout(()=>{c.current&&c.current.fire({particleCount:100,spread:70,origin:{x:.5,y:.6}})},300);return()=>clearTimeout(b)}},[e,u]);const f=()=>{s==null||s(),t(!1)},h=()=>{i==null||i(n),t(!1)},p=()=>{a==null||a(),t(!1)},v=()=>{o==null||o(),t(!1)},x={excellent:{title:`You reviewed ${n.totalReviewed} tickets`,subtitle:"Confidence improved by",message:"Ready to enable Auto-Respond for this ticket group?"},mixed:{title:`You reviewed ${n.totalReviewed} tickets`,subtitle:"Trusted responses",message:"Keep reviewing to improve response quality."},poor:{title:`You reviewed ${n.totalReviewed} tickets`,subtitle:"Trusted responses",message:"Help Rita improve by adding more knowledge."}}[u];return l.jsx(Xk,{open:e,onOpenChange:t,children:l.jsxs(jx,{className:"flex flex-col gap-6 sm:max-w-2xl w-full p-8","aria-describedby":void 0,children:[l.jsx(J7,{className:"sr-only",children:l.jsx(tR,{children:"Review Complete"})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-13 text-center relative",children:[u==="excellent"&&l.jsx(apt,{ref:c,className:"absolute inset-0 w-full h-full pointer-events-none",manualstart:!0}),l.jsx("h2",{className:"text-3xl mb-28 text-foreground",children:x.title}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("p",{className:"text-2xl font-serif",children:x.subtitle}),l.jsxs("p",{className:"text-7xl font-serif font-bold text-foreground",children:[n.confidenceImprovement,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-6",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(lY,{className:"size-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Need improvement"}),l.jsx("span",{className:"text-sm font-semibold",children:n.needsImprovement})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Gj,{className:"size-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Trusted"}),l.jsx("span",{className:"text-sm font-semibold",children:n.trusted})]})]}),l.jsx("p",{className:"text-base font-serif",children:x.message}),u==="poor"&&l.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[l.jsxs(ve,{variant:"outline",className:"w-full justify-start gap-3",onClick:p,children:[l.jsx(Cs,{className:"size-4"}),"Add knowledge articles"]}),l.jsxs(ve,{variant:"outline",className:"w-full justify-start gap-3",onClick:v,children:[l.jsx(Vj,{className:"size-4"}),"Connect data sources"]})]})]}),l.jsx(eR,{className:"flex-row justify-end gap-2",children:u==="excellent"?l.jsxs(l.Fragment,{children:[l.jsx(ve,{variant:"outline",onClick:f,children:"Keep reviewing"}),l.jsx(ve,{onClick:h,children:"Enable Auto-Respond"})]}):u==="mixed"?l.jsxs(l.Fragment,{children:[l.jsx(ve,{variant:"outline",onClick:p,children:"Add knowledge"}),l.jsx(ve,{onClick:f,children:"Keep reviewing"})]}):l.jsx(ve,{onClick:f,children:"Keep reviewing"})})]})})}const cpt=["Missing information","Wrong tone","Incorrect solution","Too generic"];function upt({show:e,onSubmit:t,onCancel:n}){const[r,i]=y.useState([]),[s,a]=y.useState(""),o=d=>{i(f=>f.includes(d)?f.filter(h=>h!==d):[...f,d])},c=()=>{s.trim()&&(t(r,s),i([]),a(""))},u=()=>{n(),i([]),a("")};return l.jsx(IBe,{children:e&&l.jsx(wh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute bg-gray-50 bottom-0 left-0 right-0 p-8 border-t shadow-2xl z-50",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("p",{className:"text-sm font-medium",children:"What was wrong with this response?"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:cpt.map(d=>l.jsx(xn,{variant:r.includes(d)?"default":"outline",onClick:()=>o(d),className:we("cursor-pointer transition-colors hover:bg-accent",r.includes(d)&&"bg-primary text-primary-foreground hover:bg-primary/90"),children:d},d))}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{htmlFor:"feedback-text",className:"text-sm font-medium",children:"Enter feedback"}),l.jsx("textarea",{id:"feedback-text",value:s,onChange:d=>a(d.target.value),placeholder:"Describe what was incorrect or missing...",className:"min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm resize-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ve,{variant:"ghost",size:"sm",onClick:u,children:"Skip"}),l.jsx(ve,{size:"sm",onClick:c,disabled:!s.trim(),children:"Submit feedback"})]})]})})})}function dpt(e){switch(e){case"critical":return"bg-red-50 text-red-800 border-red-400";case"high":return"bg-orange-50 text-orange-800 border-orange-400";case"medium":return"bg-yellow-50 text-yellow-800 border-yellow-400";case"low":return"bg-blue-50 text-blue-800 border-blue-400"}}function fpt(e){return e>=90?"bg-teal-500":e>=75?"bg-green-500":e>=60?"bg-yellow-500":"bg-orange-500"}function hpt(e){return e>=90?"strong":e>=75?"good":e>=60?"moderate":"low"}function mpt(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ppt({response:e,label:t="AI-Response",badgeText:n="Auto-Respond",className:r,maxVisibleArticles:i=1}){const s=e.kbArticles.slice(0,i),a=e.kbArticles.length-i;return l.jsxs("div",{className:we("flex-1 flex flex-col gap-2 min-h-0",r),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-sm text-foreground",children:t}),l.jsxs(xn,{className:"px-2 py-0.5 border border-purple-500 bg-purple-50 text-purple-500 font-semibold gap-1",children:[l.jsx(rg,{className:"size-3"}),n]})]}),l.jsx("div",{className:"flex-1 flex flex-col gap-4 min-h-0",children:l.jsx("div",{className:"flex-1 bg-gray-50 border rounded-lg p-4 overflow-y-auto",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("p",{className:"font-mono text-base whitespace-pre-wrap",children:e.content}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.kbArticles.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[s.map(o=>l.jsxs("div",{className:"flex items-center gap-1 px-2.5 py-1 bg-white border rounded-md h-7",children:[l.jsx(Cs,{className:"size-3 text-muted-foreground"}),l.jsxs("p",{className:"text-sm",children:[o.id," - ",o.title]})]},o.id)),a>0&&l.jsx("div",{className:"flex items-center px-2.5 py-1 bg-white border rounded-md h-7",children:l.jsxs("p",{className:"text-sm",children:["+",a]})})]}),l.jsxs(xn,{className:we("px-2 py-0.5 border border-transparent text-primary-foreground font-semibold",fpt(e.confidenceScore)),children:[e.confidenceScore,"% ",hpt(e.confidenceScore)]})]})]})})})]})}function gpt({open:e,onOpenChange:t,ticket:n,aiResponse:r,currentIndex:i,totalTickets:s,showFeedback:a,onApprove:o,onReject:c,onSubmitFeedback:u,onCancelFeedback:d}){const f=(i+1)/s*100;return l.jsx(Xk,{open:e,onOpenChange:t,children:l.jsxs(jx,{className:"flex flex-col gap-6 sm:max-w-2xl w-full p-8",children:[l.jsxs(J7,{className:"p-0",children:[l.jsx(tR,{className:"text-lg font-semibold",children:"Review AI response"}),l.jsx(Yse,{className:"text-sm text-muted-foreground",children:"Rita analyzed your KB and similar tickets to draft this response."})]}),l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[l.jsx("p",{className:"text-base text-accent-foreground",children:"Tickets:"}),l.jsxs("p",{className:"text-base font-bold text-accent-foreground",children:[i+1," of ",s]})]}),l.jsx(Fx,{value:f,className:"flex-1 h-2"})]}),l.jsx("div",{className:"flex-1 flex flex-col gap-2 overflow-hidden",children:l.jsxs("div",{className:"flex-1 flex flex-col gap-6 overflow-y-auto",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("p",{className:"text-sm text-foreground",children:"Ticket Details"}),l.jsxs("div",{className:"border rounded-lg p-4 flex flex-col gap-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsx("p",{className:"text-base flex-1",children:n.id}),l.jsx(xn,{className:we("px-2 py-0.5 border font-semibold",dpt(n.priority)),children:mpt(n.priority)})]}),l.jsx("p",{className:"text-base",children:n.title}),l.jsx(Mu,{className:"h-[1px]"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),l.jsx("p",{className:"text-base",children:n.description})]})]})]}),l.jsx(ppt,{response:r})]})}),l.jsx(upt,{show:a,onSubmit:u,onCancel:d}),l.jsxs(eR,{className:"flex-row justify-center gap-2",children:[l.jsxs(ve,{variant:"outline",className:"flex-1 gap-2 border-destructive text-foreground",onClick:c,disabled:a,children:[l.jsx(lY,{className:"size-4 text-destructive"}),"Teach the Bot"]}),l.jsxs(ve,{variant:"outline",className:"flex-1 gap-2 border-primary text-foreground",onClick:o,disabled:a,children:[l.jsx(Gj,{className:"size-4 text-primary"}),"Trust the Bot"]})]})]})})}function vpt({open:e,onOpenChange:t,tickets:n,currentIndex:r,onNavigate:i,onApprove:s,onReject:a,onEnableAutoRespond:o,onKeepReviewing:c}){const[u,d]=y.useState(!1),[f,h]=y.useState(!1),[p,v]=y.useState(0),[x,b]=y.useState(0),w=n[r];if(y.useEffect(()=>{e&&(h(!1),v(0),b(0),d(!1))},[e]),n.length===0)return null;const E=f?n.length:p+x,k=E>0?Math.round(p/E*100):0,_={totalReviewed:E,trusted:p,needsImprovement:x,confidenceImprovement:k};if(f)return l.jsx(lpt,{open:e,onOpenChange:t,stats:_,onEnableAutoRespond:o,onKeepReviewing:c});const A={content:`Hi {name},

Thank you for reaching out about your email signature. I'd be happy to help you update it to reflect your new role.

Here are the steps to update your email signature:

 Open Outlook and navigate to File > Options > Mail
 Click on "Signatures" button
 Select your existing signature or create a new one
 Update your information (name, contact details)
 Click OK to save and apply to new messages

Please let me know if these steps resolve your issue. If you need any additional assistance with formatting or have questions, I'm here to help!`,kbArticles:[{id:"KB0004",title:"Email Signature Configuration Guide"},{id:"KB0012",title:"Outlook Profile Settings"},{id:"KB0023",title:"Corporate Branding Guidelines"},{id:"KB0034",title:"Email Template Best Practices"},{id:"KB0045",title:"Troubleshooting Email Display"}],confidenceScore:92},T=()=>{const $=p+1;v($);const L=r>=n.length-1;s(w.id),L?h(!0):i(r+1)},C=()=>{d(!0)},I=($,L)=>{const U=x+1;b(U);const Y=r>=n.length-1;a(w.id),d(!1),Y?h(!0):i(r+1)},B=()=>{d(!1)};return l.jsx(gpt,{open:e,onOpenChange:t,ticket:w,aiResponse:A,currentIndex:r,totalTickets:n.length,showFeedback:u,onApprove:T,onReject:C,onSubmitFeedback:I,onCancelFeedback:B})}const ypt=e=>({ServiceNow:"/connections/icon_servicenow.svg",Confluence:"/connections/icon_confluence.svg",SharePoint:"/connections/icon_sharepoint.svg"})[e]||"/connections/icon_servicenow.svg",xpt=[{id:"INC0000001",name:"Password Reset",status:"Needs response",source:"ServiceNow",date:"03 Sep, 2025 18:07",description:"User unable to access account. Password reset required.",priority:"high"},{id:"INC0000002",name:"VPN Connection Troubleshooting",status:"Needs response",source:"ServiceNow",date:"03 Sep, 2025 18:07",description:"VPN client fails to connect. Error code 800.",priority:"medium"},{id:"INC0000003",name:"Two-factor authentication setup",status:"Needs response",source:"ServiceNow",date:"03 Sep, 2025 18:07",description:"User needs help configuring 2FA for their account.",priority:"low"},{id:"INC0000004",name:"Phishing awareness guide",status:"Needs response",source:"ServiceNow",date:"03 Sep, 2025 18:07",description:"Request for phishing email identification training.",priority:"low"},{id:"INC0000005",name:"Email Configuration Setup",status:"Needs response",source:"ServiceNow",date:"03 Sep, 2025 18:07",description:"New employee needs email client configuration assistance.",priority:"medium"}];function bpt({tickets:e=xpt,knowledgeArticleCount:t=12}){const[n,r]=y.useState([]),[i,s]=y.useState(!1),[a,o]=y.useState([]),[c,u]=y.useState(0),d=k=>{r(k?e.map(_=>_.id):[])},f=(k,_)=>{r(_?[...n,k]:n.filter(A=>A!==k))},h=k=>({id:k.id,title:k.name,description:k.description||"No description provided.",priority:k.priority||"medium"}),p=k=>{const _=e.find(A=>A.id===k);_&&(o([h(_)]),u(0),s(!0))},v=async()=>{const k=e.filter(_=>n.includes(_.id)).map(h);o(k),u(0),s(!0)},x=k=>{console.log(`Approved AI response for ticket: ${k}`)},b=k=>{console.log(`Rejected AI response for ticket: ${k}`)},w=k=>{u(k)},E=k=>{s(k),k||r([])};return l.jsxs("div",{className:"flex flex-col gap-3",children:[n.length===0?l.jsxs("div",{className:"flex flex-col gap-4 py-4 sm:flex-row sm:items-center sm:justify-between",children:[l.jsx(Hx,{defaultValue:"needs-response",className:"w-fit",children:l.jsxs(Vx,{children:[l.jsx(Cl,{value:"needs-response",children:"Needs Response"}),l.jsx(Cl,{value:"completed",children:"Completed"})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"secondary",children:["Source: All",l.jsx(ri,{className:"ml-2 h-4 w-4"})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{children:"All Sources"}),l.jsx(Jt,{children:"ServiceNow"})]})]}),l.jsx(en,{placeholder:"Search tickets.....",className:"w-40"})]})]}):l.jsx(c3,{selectedItems:n.map(String),actions:[{key:"review",label:"Review AI Responses",variant:"default",onClick:v}],onClose:()=>r([]),itemLabel:"tickets"}),l.jsx("div",{className:"rounded-md border",children:l.jsxs($x,{children:[l.jsx(zx,{children:l.jsxs(_l,{children:[l.jsx(Fn,{className:"w-8",children:l.jsx(Xs,{checked:n.length===e.length,onCheckedChange:k=>d(k)})}),l.jsx(Fn,{children:"Name"}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",className:"h-auto p-0",children:["Status",l.jsx(y4,{className:"ml-2 h-4 w-4"})]})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",className:"h-auto p-0",children:["Source",l.jsx(y4,{className:"ml-2 h-4 w-4"})]})}),l.jsx(Fn,{className:"text-right",children:"Created Modified"}),l.jsx(Fn,{className:"w-16"})]})}),l.jsx(Bx,{children:e.map(k=>l.jsxs(_l,{children:[l.jsx(yn,{children:l.jsx(Xs,{checked:n.includes(k.id),onCheckedChange:_=>f(k.id,_)})}),l.jsx(yn,{className:"font-medium text-primary",children:k.name}),l.jsx(yn,{children:l.jsx(xn,{variant:"outline",children:k.status})}),l.jsx(yn,{className:"text-center",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:ypt(k.source),alt:k.source,className:"h-4 w-4"})})}),l.jsx(yn,{className:"text-right text-sm",children:k.date}),l.jsx(yn,{children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"icon",children:l.jsx(Hu,{})})}),l.jsx(ni,{align:"end",children:l.jsx(Jt,{onClick:()=>p(k.id),children:"Review AI response"})})]})})]},k.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between py-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t," Knowledge articles"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",disabled:!0,children:"Previous"}),l.jsx(ve,{variant:"outline",disabled:!0,children:"Next"})]})]}),l.jsx(vpt,{open:i,onOpenChange:E,tickets:a,currentIndex:c,onNavigate:w,onApprove:x,onReject:b})]})}function wpt({clusterId:e}){const{getFeedbackForCluster:t,dismissBanner:n}=jR(),r=di(),i=t(e);if(!i)return null;const{state:s,stats:a}=i,o=()=>{r("/settings/connections/knowledge"),n()},c=()=>{r("/settings/connections/knowledge"),n()},u=s==="poor"?`Rita struggled with ${a.needsImprovement} of ${a.totalReviewed} responses. Adding more knowledge can help.`:`${a.needsImprovement} of ${a.totalReviewed} responses need improvement. More context could help Rita do better.`;return l.jsx("div",{className:"mx-6 mb-4 rounded-lg border border-amber-200 bg-amber-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 rounded-full bg-amber-100 p-2",children:l.jsx(O1e,{className:"size-4 text-amber-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Help Rita improve"}),l.jsx("p",{className:"mt-1 text-sm text-amber-700",children:u}),l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[l.jsxs(ve,{size:"sm",variant:"outline",className:"bg-white",onClick:o,children:[l.jsx(Cs,{className:"size-4 mr-1.5"}),"Add knowledge articles"]}),l.jsxs(ve,{size:"sm",variant:"outline",className:"bg-white",onClick:c,children:[l.jsx(Vj,{className:"size-4 mr-1.5"}),"Connect data sources"]})]})]}),l.jsx("button",{onClick:n,className:"flex-shrink-0 rounded p-1 hover:bg-amber-100 transition-colors","aria-label":"Dismiss",children:l.jsx(li,{className:"size-4 text-amber-600"})})]})})}const Ept=[{text:"976 tickets",variant:"secondary"},{text:"14 open",variant:"secondary"},{text:"12% automated",variant:"secondary"},{text:"Knowledge found",variant:"outline"}];function Spt(){const{id:e}=cg(),t=e?e.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):"Ticket Group";return l.jsx(F0,{activePage:"tickets",children:l.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[l.jsx("div",{className:"flex-1 p-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[e&&l.jsx(wpt,{clusterId:e}),l.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center",children:[l.jsx("h1",{className:"text-xl font-medium",children:t}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Ept.map((n,r)=>l.jsx(xn,{variant:n.variant,children:n.text},r))})]}),l.jsx(rpt,{}),l.jsx(bpt,{})]})}),l.jsx(det,{knowledgeCount:3})]})})}function kpt(){return l.jsx("div",{className:"bg-background flex flex-col items-center w-full",children:l.jsxs("div",{className:"p-6 border border-border rounded-lg flex flex-col items-center gap-6 w-full",children:[l.jsx(nY,{className:"w-12 h-12 text-foreground"}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("h2",{className:"text-xl font-normal text-foreground text-center leading-7",children:"No pending invitations"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"When you invite users, they will appear here"})]}),l.jsx("div",{className:"flex justify-center items-center gap-3",children:l.jsx(bR,{variant:"secondary",className:"shadow-sm"})})]})})}function _pt(){const[e,t]=y.useState([]),[n,r]=y.useState(null),[i,s]=y.useState(!1),[a,o]=y.useState(!1),[c,u]=y.useState(""),{data:d,isLoading:f,error:h}=eoe({status:yR.PENDING}),{mutate:p,isPending:v}=kGe(),{mutate:x,isPending:b}=SGe(),w=(d==null?void 0:d.invitations)||[],E=w.filter($=>{if(!c.trim())return!0;const L=c.toLowerCase(),U=$.email.toLowerCase(),Y=($.invited_by_name||"").toLowerCase();return U.includes(L)||Y.includes(L)}),k=$=>{t($?E.map(L=>L.id):[])},_=($,L)=>{t(L?[...e,$]:e.filter(U=>U!==$))},A=$=>{p({emails:[$.email],role:xR.USER},{onSuccess:()=>{Oi.success("Invitation resent",{description:`A new invitation has been sent to ${$.email}`})},onError:L=>{Oi.error("Failed to resend invitation",{description:L.message||"Please try again later"})}})},T=$=>{r($),s(!0)},C=()=>{n&&x({invitationId:n.id},{onSuccess:()=>{Oi.success("Invitation cancelled",{description:`The invitation to ${n.email} has been cancelled`}),s(!1),r(null)},onError:$=>{Oi.error("Failed to cancel invitation",{description:$.message||"Please try again later"})}})},I=()=>{o(!0)},B=async()=>{o(!1);let $=0,L=0;for(const U of e)try{await new Promise((Y,V)=>{x({invitationId:U},{onSuccess:()=>{$++,Y()},onError:()=>{L++,V()}})})}catch{}t([]),$>0&&L===0?Oi.success("Invitations cancelled",{description:`Successfully cancelled ${$} invitation${$!==1?"s":""}`}):L>0&&$>0?Oi.warning("Partial success",{description:`Cancelled ${$} invitation${$!==1?"s":""}, but ${L} failed`}):L>0&&Oi.error("Failed to cancel invitations",{description:`Failed to cancel ${L} invitation${L!==1?"s":""}`})};return f?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(gu,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):h?l.jsx(LS,{title:"Failed to load invitations",description:h.message||"An error occurred while fetching invitations. Please try again.",actionLabel:"Try Again",onAction:()=>window.location.reload()}):E.length===0?l.jsx(kpt,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col gap-5",children:[e.length===0?l.jsx("div",{className:"flex justify-between items-center py-4",children:l.jsx(en,{placeholder:"Search by email or inviter...",className:"max-w-sm",value:c,onChange:$=>u($.target.value)})}):l.jsx(c3,{selectedItems:e,onDelete:I,deleteLabel:"Cancel Invitations",onClose:()=>t([]),itemLabel:"invitations"}),l.jsx("div",{className:"border rounded-md",children:l.jsxs($x,{children:[l.jsx(zx,{children:l.jsxs(_l,{children:[l.jsx(Fn,{className:"w-8",children:l.jsx(Xs,{checked:e.length===E.length,onCheckedChange:k})}),l.jsx(Fn,{children:"Email"}),l.jsx(Fn,{children:"Invited By"}),l.jsx(Fn,{children:"Invited Date"}),l.jsx(Fn,{children:"Expires At"}),l.jsx(Fn,{children:"Status"}),l.jsx(Fn,{className:"w-8"})]})}),l.jsx(Bx,{children:E.map($=>l.jsxs(_l,{children:[l.jsx(yn,{children:l.jsx(Xs,{checked:e.includes($.id),onCheckedChange:L=>_($.id,L)})}),l.jsx(yn,{children:l.jsx("span",{className:"text-sm text-foreground",children:$.email})}),l.jsx(yn,{children:l.jsx("span",{className:"text-sm text-muted-foreground",children:$.invited_by_name||"Unknown"})}),l.jsx(yn,{className:"text-sm text-muted-foreground",children:_8($.created_at)}),l.jsx(yn,{className:"text-sm text-muted-foreground",children:_8($.token_expires_at)}),l.jsx(yn,{children:l.jsxs(xn,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[l.jsx(gu,{className:"h-3 w-3"}),"Pending"]})}),l.jsx(yn,{children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(Hu,{className:"h-4 w-4"})})}),l.jsxs(ni,{align:"end",children:[l.jsx(Jt,{onClick:()=>A($),disabled:v,children:"Resend Invitation"}),l.jsx(Jt,{onClick:()=>T($),disabled:b,variant:"destructive",children:"Cancel Invitation"})]})]})})]},$.id))})]})}),l.jsx("div",{className:"flex justify-between items-center py-4",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.length," Pending Invitation",E.length!==1?"s":"",c&&` (filtered from ${w.length})`]})})]}),l.jsx(af,{open:i,onOpenChange:s,title:"Cancel Invitation",description:`Are you sure you want to cancel the invitation for ${n==null?void 0:n.email}? They will no longer be able to accept this invitation.`,onConfirm:C,confirmLabel:"Cancel Invitation",cancelLabel:"Keep Invitation",variant:"destructive"}),l.jsx(af,{open:a,onOpenChange:o,title:"Cancel Invitations",description:`Are you sure you want to cancel ${e.length} invitation${e.length!==1?"s":""}? This action cannot be undone.`,onConfirm:B,confirmLabel:"Cancel Invitations",cancelLabel:"Keep Invitations",variant:"destructive"})]})}const lv=y.forwardRef(({className:e,children:t,description:n,...r},i)=>l.jsxs(MZ,{ref:i,className:we("relative flex w-full cursor-default select-none items-center justify-between gap-2 rounded-sm py-2 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx(OZ,{asChild:!0,children:l.jsx("span",{className:"font-medium",children:t})}),n&&l.jsx("span",{className:"text-xs text-muted-foreground",children:n})]}),l.jsx("span",{className:"flex h-3.5 w-3.5 items-center justify-center flex-shrink-0",children:l.jsx(DZ,{children:l.jsx(or,{className:"h-5 w-5 font-semibold"})})})]}));lv.displayName="SelectItemWithDescription";function Cpt({open:e,onOpenChange:t,user:n,onSave:r,isLastActiveOwner:i=!1}){const{isOwner:s,isAdmin:a}=qu(),[o,c]=y.useState("user");y.useEffect(()=>{n&&c(n.role)},[n]);const u=()=>{if(n){const d={};o!==n.role&&(d.role=o),r(n.id,d)}};return n?l.jsx(Xk,{open:e,onOpenChange:t,children:l.jsxs(jx,{children:[l.jsxs(J7,{children:[l.jsx(tR,{children:"Edit user"}),l.jsx(Yse,{children:"Profile information"})]}),l.jsxs("div",{className:"flex flex-col gap-4 px-4",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Jn,{htmlFor:"name",children:"Name"}),l.jsx(en,{id:"name",value:n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.email,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Jn,{htmlFor:"email",children:"Email"}),l.jsx(en,{id:"email",type:"email",value:n.email,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Jn,{htmlFor:"role",children:"Role"}),l.jsxs(LZ,{value:o,onValueChange:d=>c(d),disabled:i,children:[l.jsx($Z,{id:"role",children:l.jsx(FZ,{placeholder:"Select role"})}),l.jsxs(zZ,{children:[a()&&l.jsxs(l.Fragment,{children:[l.jsx(lv,{value:"owner",description:"Full control over all content, members, and settings",children:"Owner"}),l.jsx(lv,{value:"admin",description:"Can manage users and content, but not other admins/owners",children:"Admin"})]}),s()&&!a()&&l.jsx(lv,{value:"owner",description:"Full control over all content, members, and settings",children:"Owner"}),l.jsx(lv,{value:"user",description:"Can view and chat with content but not manage users",children:"User"})]})]}),i&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cannot change role: This is the only active owner in the organization. Promote another member to owner first."})]})]}),l.jsx(eR,{className:"px-4 flex-row justify-end",children:l.jsx(ve,{onClick:u,children:"Update"})})]})}):null}const Npt={selectedUsers:[],searchInput:"",searchQuery:"",statusFilter:"All",sortBy:"joinedAt",sortOrder:"desc",page:0,editingUser:null,deletingUser:null,deactivatingUser:null,editSheetOpen:!1,deleteDialogOpen:!1,bulkDeleteDialogOpen:!1,roleChangeDialogOpen:!1,deactivateDialogOpen:!1,pendingRoleChange:null};function Tpt(e,t){switch(t.type){case"SET_SELECTED_USERS":return{...e,selectedUsers:t.payload};case"SET_SEARCH_INPUT":return{...e,searchInput:t.payload};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload,page:0};case"SET_STATUS_FILTER":return{...e,statusFilter:t.payload,page:0,selectedUsers:[]};case"SET_PAGE":return{...e,page:t.payload,selectedUsers:[]};case"SET_SORT":return{...e,sortBy:t.payload.sortBy,sortOrder:t.payload.sortOrder,page:0};case"TOGGLE_SORT":return e.sortBy===t.payload?{...e,sortOrder:e.sortOrder==="asc"?"desc":"asc",page:0}:{...e,sortBy:t.payload,sortOrder:"desc",page:0};case"OPEN_EDIT_SHEET":return{...e,editingUser:t.payload,editSheetOpen:!0};case"CLOSE_EDIT_SHEET":return{...e,editSheetOpen:!1};case"OPEN_DEACTIVATE_DIALOG":return{...e,deactivatingUser:t.payload,deactivateDialogOpen:!0};case"CLOSE_DEACTIVATE_DIALOG":return{...e,deactivateDialogOpen:!1,deactivatingUser:null};case"OPEN_DELETE_DIALOG":return{...e,deletingUser:t.payload,deleteDialogOpen:!0};case"CLOSE_DELETE_DIALOG":return{...e,deleteDialogOpen:!1,deletingUser:null};case"OPEN_BULK_DELETE_DIALOG":return{...e,bulkDeleteDialogOpen:!0};case"CLOSE_BULK_DELETE_DIALOG":return{...e,bulkDeleteDialogOpen:!1};case"OPEN_ROLE_CHANGE_DIALOG":return{...e,pendingRoleChange:t.payload,roleChangeDialogOpen:!0};case"CLOSE_ROLE_CHANGE_DIALOG":return{...e,roleChangeDialogOpen:!1,pendingRoleChange:null};default:return e}}function Apt(){const[e,t]=y.useReducer(Tpt,Npt),n=(T,C)=>{t({type:"SET_SELECTED_USERS",payload:T?C.map(I=>I.id):[]})},r=(T,C)=>{t({type:"SET_SELECTED_USERS",payload:C?[...e.selectedUsers,T]:e.selectedUsers.filter(I=>I!==T)})},i=T=>{t({type:"OPEN_EDIT_SHEET",payload:T})},s=T=>{t({type:"OPEN_DEACTIVATE_DIALOG",payload:T})},a=T=>{t({type:"OPEN_DELETE_DIALOG",payload:T})},o=T=>{t({type:"TOGGLE_SORT",payload:T})},c=T=>{t({type:"SET_SEARCH_INPUT",payload:T})},u=T=>{t({type:"SET_SEARCH_QUERY",payload:T})},d=T=>{t({type:"SET_STATUS_FILTER",payload:T})},f=T=>{t({type:"SET_PAGE",payload:T})},h=T=>{t({type:"SET_SELECTED_USERS",payload:T})},p=T=>{T||t({type:"CLOSE_EDIT_SHEET"})},v=T=>{T||t({type:"CLOSE_DELETE_DIALOG"})},x=T=>{T||t({type:"CLOSE_DEACTIVATE_DIALOG"})},b=T=>{t(T?{type:"OPEN_BULK_DELETE_DIALOG"}:{type:"CLOSE_BULK_DELETE_DIALOG"})},w=T=>{T||t({type:"CLOSE_ROLE_CHANGE_DIALOG"})},E=T=>{t(T?{type:"OPEN_ROLE_CHANGE_DIALOG",payload:T}:{type:"CLOSE_ROLE_CHANGE_DIALOG"})},k=T=>{T&&t({type:"OPEN_EDIT_SHEET",payload:T})},_=T=>{T&&t({type:"OPEN_DELETE_DIALOG",payload:T})},A=T=>{T&&t({type:"OPEN_DEACTIVATE_DIALOG",payload:T})};return{selectedUsers:e.selectedUsers,setSelectedUsers:h,handleSelectAll:n,handleSelectUser:r,searchInput:e.searchInput,setSearchInput:c,searchQuery:e.searchQuery,setSearchQuery:u,statusFilter:e.statusFilter,setStatusFilter:d,sortBy:e.sortBy,sortOrder:e.sortOrder,handleSort:o,page:e.page,setPage:f,editingUser:e.editingUser,setEditingUser:k,deletingUser:e.deletingUser,setDeletingUser:_,deactivatingUser:e.deactivatingUser,setDeactivatingUser:A,handleEditUser:i,handleDeactivateUser:s,handleDeleteUser:a,editSheetOpen:e.editSheetOpen,setEditSheetOpen:p,deleteDialogOpen:e.deleteDialogOpen,setDeleteDialogOpen:v,bulkDeleteDialogOpen:e.bulkDeleteDialogOpen,setBulkDeleteDialogOpen:b,roleChangeDialogOpen:e.roleChangeDialogOpen,setRoleChangeDialogOpen:w,deactivateDialogOpen:e.deactivateDialogOpen,setDeactivateDialogOpen:x,pendingRoleChange:e.pendingRoleChange,setPendingRoleChange:E}}const V1=50;function jpt(){const{selectedUsers:e,setSelectedUsers:t,handleSelectAll:n,handleSelectUser:r,searchInput:i,setSearchInput:s,searchQuery:a,setSearchQuery:o,statusFilter:c,setStatusFilter:u,sortBy:d,sortOrder:f,handleSort:h,page:p,setPage:v,editingUser:x,deletingUser:b,setDeletingUser:w,deactivatingUser:E,setDeactivatingUser:k,handleEditUser:_,handleDeleteUser:A,editSheetOpen:T,setEditSheetOpen:C,deleteDialogOpen:I,setDeleteDialogOpen:B,bulkDeleteDialogOpen:$,setBulkDeleteDialogOpen:L,roleChangeDialogOpen:U,setRoleChangeDialogOpen:Y,deactivateDialogOpen:V,setDeactivateDialogOpen:K,pendingRoleChange:W,setPendingRoleChange:J}=Apt(),[q,G]=y.useState(!1),[j,M]=y.useState(null),{data:z}=Xy(),O=z==null?void 0:z.user.id;y.useEffect(()=>{const Be=setTimeout(()=>{o(i)},500);return()=>clearTimeout(Be)},[i,o]);const{data:X,isLoading:ne,error:re}=L2e({limit:V1,offset:p*V1,sortBy:d,sortOrder:f,search:a||void 0,status:c!=="All"?c:void 0}),{mutate:Q}=F2e(),{mutate:te}=$2e(),{mutate:ie}=z2e(),fe=(X==null?void 0:X.members)||[],he=(X==null?void 0:X.total)||0,ae=(p+1)*V1<he,Pe=p>0,Te=()=>{ae&&v(p+1)},Ge=()=>{Pe&&v(p-1)},nt=Be=>{const We=fe.filter(qe=>qe.role==="owner"&&qe.isActive);return We.length===1&&We[0].id===Be};if(ne)return l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(gu,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(re)return l.jsx(LS,{title:"Failed to load members",description:re.message||"An error occurred while fetching members. Please try again.",actionLabel:"Try Again",onAction:()=>window.location.reload()});const vt=(Be,We)=>{const qe=fe.find($e=>$e.id===Be);if(!qe)return;const Ee=We.role!==void 0;if(Ee&&(qe.role==="owner"||qe.role==="admin")&&We.role&&We.role!==qe.role){J({userId:Be,newRole:We.role,oldRole:qe.role}),Y(!0);return}Ee&&We.role?Q({userId:Be,role:We.role},{onSuccess:()=>{C(!1)}}):C(!1)},Ct=()=>{W&&Q({userId:W.userId,role:W.newRole},{onSuccess:()=>{J(null),Y(!1),C(!1)}})},Tt=()=>{E&&te({userId:E.id,isActive:!1},{onSuccess:()=>{K(!1),k(null)}})},ue=()=>{b&&ie({userId:b.id},{onSuccess:()=>{B(!1),w(null)}})},_e=()=>{L(!0)},Ae=async()=>{L(!1),G(!0);let Be=0,We=0;const qe=[...e];let Ee=qe.length;M(Ee);for(const $e of qe)try{await new Promise((Ze,bt)=>{ie({userId:$e},{onSuccess:()=>{Be++,Ee--,M(Ee),Ze()},onError:()=>{We++,Ee--,M(Ee),bt()}})})}catch{}G(!1),M(null),t([])};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col gap-5",children:[e.length===0?l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 py-4",children:[l.jsx(en,{placeholder:"Search by name or email...",className:"max-w-sm",value:i,onChange:Be=>s(Be.target.value)}),l.jsx("div",{className:"flex gap-4",children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"outline",children:["Status: ",c==="All"?"All":c==="active"?"Active":"Inactive",l.jsx(ri,{className:"h-4 w-4 ml-2"})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{onSelect:()=>u("All"),children:"All"}),l.jsx(Jt,{onSelect:()=>u("active"),children:"Active"}),l.jsx(Jt,{onSelect:()=>u("inactive"),children:"Inactive"})]})]})})]}):l.jsx(c3,{selectedItems:e,onDelete:_e,onClose:()=>t([]),itemLabel:"users",isLoading:q,remainingCount:j}),l.jsx("div",{className:"relative border rounded-md",children:l.jsxs($x,{children:[l.jsx(zx,{children:l.jsxs(_l,{children:[l.jsx(Fn,{className:"w-8",children:l.jsx(Xs,{checked:e.length===fe.length&&fe.length>0,onCheckedChange:Be=>n(Be,fe)})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",className:"flex items-center gap-2 -ml-3",onClick:()=>h("name"),children:["Name",ac(d,"name",f)]})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",className:"flex items-center gap-2 -ml-3",onClick:()=>h("status"),children:["Status",ac(d,"status",f)]})}),l.jsx(Fn,{children:l.jsxs(ve,{variant:"ghost",className:"flex items-center gap-2 -ml-3",onClick:()=>h("role"),children:["Role",ac(d,"role",f)]})}),l.jsx(Fn,{className:"text-right",children:l.jsxs(ve,{variant:"ghost",className:"flex items-center gap-2 ml-auto -mr-3",onClick:()=>h("conversationsCount"),children:["Conversations",ac(d,"conversationsCount",f)]})}),l.jsx(Fn,{className:"text-right",children:l.jsxs(ve,{variant:"ghost",className:"flex items-center gap-2 ml-auto",onClick:()=>h("joinedAt"),children:["Joined",ac(d,"joinedAt",f)]})}),l.jsx(Fn,{className:"w-8"})]})}),l.jsx(Bx,{children:fe.map(Be=>l.jsxs(_l,{children:[l.jsx(yn,{children:l.jsx(Xs,{checked:e.includes(Be.id),onCheckedChange:We=>r(Be.id,We)})}),l.jsx(yn,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-foreground",children:Be.firstName&&Be.lastName?`${Be.firstName} ${Be.lastName}`:Be.email}),l.jsx("span",{className:"text-sm text-muted-foreground",children:Be.email})]})}),l.jsx(yn,{children:l.jsxs(xn,{variant:"outline",className:"flex items-center gap-1 w-fit",children:[Be.isActive?l.jsx(or,{className:"h-3 w-3"}):l.jsx(Cge,{className:"h-3 w-3"}),Be.isActive?"Active":"Inactive"]})}),l.jsx(yn,{children:l.jsx(xn,{variant:"outline",className:"capitalize",children:Be.role})}),l.jsx(yn,{className:"text-right",children:Be.conversationsCount}),l.jsx(yn,{className:"text-right",children:_8(Be.joinedAt)}),l.jsx(yn,{children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(Hu,{className:"h-4 w-4"})})}),l.jsxs(ni,{align:"end",children:[l.jsx(Jt,{onClick:()=>_(Be),children:"Edit"}),Be.id!==O&&l.jsx(Jt,{onClick:()=>A(Be),variant:"destructive",children:"Delete"})]})]})})]},Be.id))})]})}),!ne&&fe.length>0&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:i||c!=="All"?l.jsxs(l.Fragment,{children:["Showing ",fe.length," of ",he," users (filtered)"]}):l.jsxs(l.Fragment,{children:["Showing ",p*V1+1,"-",Math.min((p+1)*V1,he)," of ",he," users"]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ve,{variant:"outline",size:"sm",onClick:Ge,disabled:!Pe,children:"Previous"}),l.jsx(ve,{variant:"outline",size:"sm",onClick:Te,disabled:!ae,children:"Next"})]})]})]}),l.jsx(Cpt,{open:T,onOpenChange:C,user:x,onSave:vt,isLastActiveOwner:x?nt(x.id):!1}),l.jsx(af,{open:V,onOpenChange:K,title:"Deactivate User",description:`Are you sure you want to deactivate ${E==null?void 0:E.email}? They will be blocked from accessing the system immediately.`,onConfirm:Tt,confirmLabel:"Deactivate",cancelLabel:"Cancel",variant:"destructive"}),l.jsx(af,{open:I,onOpenChange:B,title:"Permanently Delete User",description:`Are you sure you want to PERMANENTLY delete ${b==null?void 0:b.email}? This will delete their account from Keycloak, remove all their data (messages, conversations, files), and cannot be undone.${(b==null?void 0:b.role)==="owner"?"  WARNING: If they are the only member, this will delete the entire organization and all data.":""}`,onConfirm:ue,confirmLabel:"Delete Permanently",cancelLabel:"Cancel",variant:"destructive"}),l.jsx(af,{open:U,onOpenChange:Y,title:"Change User Role",description:`This will change ${x==null?void 0:x.email}'s role from ${W==null?void 0:W.oldRole} to ${W==null?void 0:W.newRole}. This may affect their permissions.`,onConfirm:Ct,confirmLabel:"Confirm",cancelLabel:"Cancel"}),l.jsx(af,{open:$,onOpenChange:L,title:"Permanently Delete Users",description:`Are you sure you want to PERMANENTLY delete ${e.length} user${e.length!==1?"s":""}? This will delete their accounts from Keycloak, remove all their data (messages, conversations, files), and cannot be undone. If any are the only owner, their entire organization will be deleted.`,onConfirm:Ae,confirmLabel:"Delete Users Permanently",cancelLabel:"Cancel",variant:"destructive"})]})}function Ppt(){const[e,t]=y.useState("users"),{isOwnerOrAdmin:n}=qu(),r=di();y.useEffect(()=>{n()||r("/404",{replace:!0})},[n,r]);const{data:i}=eoe({status:yR.PENDING}),s=(i==null?void 0:i.total)||0;return l.jsxs("div",{className:"flex-1 inline-flex flex-col items-center gap-8 w-full",children:[l.jsx("div",{className:"self-stretch flex flex-col items-start gap-8",children:l.jsx(u0,{title:"Users",description:"Manage users and invitations to your organization.",action:l.jsx(bR,{})})}),l.jsx("div",{className:"pb-8 w-full flex flex-col gap-6",children:l.jsxs(Hx,{value:e,onValueChange:t,className:"w-full pr-[2em]",children:[l.jsxs(Vx,{children:[l.jsx(Cl,{value:"users",children:"Users"}),l.jsxs(Cl,{value:"pending",children:["Invite Pending",s>0&&` (${s})`]})]}),l.jsx(DE,{value:"users",className:"mt-6",children:l.jsx(jpt,{})}),l.jsx(DE,{value:"pending",className:"mt-6",children:l.jsx(_pt,{})})]})})]})}const Ipt=()=>l.jsx(vc,{children:l.jsx(Ppt,{})}),Rpt="";function Mpt(){const[e]=HS(),t=di(),{login:n}=DS(),[r,i]=y.useState("loading"),[s,a]=y.useState(""),[o,c]=y.useState("");y.useEffect(()=>{const f=e.get("token");if(!f){i("error"),a("No verification token provided.");return}(async()=>{try{const p=await fetch(`${Rpt}/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:f})}),v=await p.json();if(!p.ok)throw new Error(v.error||"Verification failed");i("success"),a(v.message),c(v.email)}catch(p){i("error"),a(p instanceof Error?p.message:"Verification failed")}})()},[e]);const u=()=>{n()},d=()=>{t("/login")};return l.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-black via-[#0d1637] to-[#1a2549] text-white flex items-center justify-center p-4",children:l.jsx("div",{className:"w-full max-w-lg",children:l.jsx("div",{className:"p-6 sm:p-12",children:l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"text-center space-y-2 mb-8",children:[r==="success"&&l.jsx(xn,{variant:"default",className:"px-3 text-sm mb-7",children:"Email verification"}),l.jsxs("h1",{className:"text-4xl font-bold tracking-tighter",children:[r!=="success"&&"Email Verification",r==="success"&&"Email verification successful!"]}),l.jsxs("p",{className:"text-muted-foreground",children:[r==="loading"&&"Verifying your email address...",r==="error"&&"There was an issue verifying your email."]})]}),l.jsxs("div",{className:"space-y-4",children:[r==="loading"&&l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[l.jsx(ds,{className:"h-6 w-6 animate-spin text-blue-400"}),l.jsx("span",{className:"text-muted-foreground",children:"Verifying..."})]})}),r==="success"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col items-center space-y-4",children:l.jsx("div",{className:"text-center space-y-6 mb-4",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["You can now sign in. Email: ",o]})})}),l.jsx(ve,{onClick:u,className:"w-full h-12 text-base font-medium bg-blue-600 hover:bg-blue-700 text-white",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:"Continue to sign in"})})})]}),r==="error"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col items-center space-y-4",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-sm text-red-300 bg-red-900/20 border border-red-700 rounded-lg p-4",children:s})})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ve,{onClick:d,className:"w-full h-12 text-base font-medium bg-blue-600 hover:bg-blue-700 text-white",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:"Try Signing Up Again"})})}),l.jsx(ve,{onClick:u,variant:"link",className:"w-full h-12 text-blue-400 font-medium",children:"Sign In"})]})]})]})]})})})})}const Opt="";function Dpt(){const[e]=HS(),t=e.get("email")||"",[n,r]=y.useState(!1),[i,s]=y.useState(null),[a,o]=y.useState(null),c=async()=>{if(!t){o("Email address is required");return}r(!0),o(null),s(null);try{const u=await fetch(`${Opt}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),d=await u.json();if(!u.ok)throw new Error(d.error||"Failed to resend verification email");s("Verification email sent! Please check your inbox.")}catch(u){o(u instanceof Error?u.message:"Failed to resend verification email")}finally{r(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-[#0d1637] to-[#1a2549] px-4",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-6 w-full",children:[l.jsx(xn,{variant:"default",className:"px-3 text-sm mb-7",children:"Signup successful!"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-light text-white leading-tight",children:"Please check your email to verify."}),t&&l.jsxs("p",{className:"text-gray-400",children:["We sent a verification link to"," ",l.jsx("span",{className:"text-white font-medium",children:t})]}),i&&l.jsx("div",{className:"w-full p-4 bg-green-900/20 border border-green-700 rounded-lg",children:l.jsx("p",{className:"text-sm text-green-300",children:i})}),a&&l.jsx("div",{className:"w-full p-4 bg-red-900/20 border border-red-700 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-300",children:a})}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-white",children:"Did not receive?"}),l.jsx(ve,{onClick:c,disabled:n||!t,variant:"link",className:"text-blue-500 hover:text-blue-400 p-0 h-auto transition-colors disabled:opacity-50",children:n?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ds,{className:"h-3 w-3 animate-spin"}),"Sending..."]}):"Resend verification"})]}),l.jsx("div",{className:"pt-4",children:l.jsx("a",{href:"/",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Back to login"})})]})})}function I2({value:e,label:t,badge:n}){return l.jsx(Rn,{className:"border border-border bg-popover",children:l.jsx(k4,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col gap-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h3",{className:"text-2xl font-normal text-foreground",children:e}),n]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})})})}function Lpt({children:e}){return l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:e})}function Fpt({id:e,title:t,count:n,manualPercentage:r,automatedPercentage:i,knowledgeStatus:s}){const a=di(),o=()=>{a(`/tickets/${e}`)};return l.jsxs("button",{type:"button",onClick:o,className:"flex flex-col gap-4 rounded-lg border border-border bg-card p-4 cursor-pointer hover:bg-accent/50 transition-colors text-left",children:[l.jsxs("div",{className:"flex flex-col gap-3.5",children:[l.jsx("h2",{className:"text-base font-normal text-card-foreground leading-7",children:t}),l.jsx("div",{className:"text-[38px] font-normal leading-6 text-card-foreground",children:n})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Fx,{value:r,className:"h-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"size-1.5 rounded-sm bg-primary"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Manual"}),l.jsxs("span",{className:"text-xs text-foreground",children:[r,"%"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"size-1.5 rounded-sm bg-primary"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Automated"}),l.jsxs("span",{className:"text-xs text-foreground",children:[i,"%"]})]})]})]}),l.jsx("div",{children:l.jsx(xn,{variant:"secondary",className:we(s==="gap"&&"bg-yellow-50 text-secondary-foreground border-yellow-500"),children:s==="found"?"Knowledge found":"Knowledge gap"})})]})}const $pt=[{id:"email-signatures",title:"Email Signatures",count:976,manualPercentage:37,automatedPercentage:0,knowledgeStatus:"found"},{id:"password-resets",title:"Password Resets",count:743,manualPercentage:21,automatedPercentage:0,knowledgeStatus:"found"},{id:"network-connectivity",title:"Network Connectivity",count:564,manualPercentage:7,automatedPercentage:5,knowledgeStatus:"found"},{id:"application-crashes",title:"Application Crashes",count:121,manualPercentage:27,automatedPercentage:0,knowledgeStatus:"found"},{id:"vpn-issues",title:"VPN Issues",count:45,manualPercentage:39,automatedPercentage:0,knowledgeStatus:"found"},{id:"system-overload",title:"System Overload",count:32,manualPercentage:17,automatedPercentage:0,knowledgeStatus:"gap"},{id:"signature-preferences",title:"Signature Preferences",count:21,manualPercentage:57,automatedPercentage:0,knowledgeStatus:"gap"},{id:"performance-optimization",title:"Performance Optimization",count:11,manualPercentage:12,automatedPercentage:0,knowledgeStatus:"gap"},{id:"connection-troubleshooting",title:"Connection Troubleshooting",count:4,manualPercentage:57,automatedPercentage:0,knowledgeStatus:"found"}];function zpt({totalCount:e=12,period:t="Last 90 days"}){return l.jsx("div",{className:"flex min-h-screen w-full flex-col items-center",children:l.jsx("div",{className:"flex w-full items-start justify-center py-6",children:l.jsxs("div",{className:"flex w-full flex-col gap-6 px-6",children:[l.jsxs("div",{className:"flex w-full flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("h1",{className:"text-base font-bold text-card-foreground",children:"Ticket Groups"}),l.jsx(xn,{variant:"outline",children:e})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on the last 90 days"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"outline",size:"sm",children:[t,l.jsx(ri,{})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{children:"Last 30 days"}),l.jsx(Jt,{children:"Last 90 days"}),l.jsx(Jt,{children:"Last 6 months"}),l.jsx(Jt,{children:"Last year"})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"outline",size:"sm",children:["Filter by",l.jsx(ri,{})]})}),l.jsxs(ni,{children:[l.jsx(Jt,{children:"All"}),l.jsx(Jt,{children:"Knowledge found"}),l.jsx(Jt,{children:"Knowledge gap"})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3",children:$pt.map(n=>l.jsx(Fpt,{id:n.id,title:n.title,count:n.count,manualPercentage:n.manualPercentage,automatedPercentage:n.automatedPercentage,knowledgeStatus:n.knowledgeStatus},n.id))})]})})})}function Bpt(){return l.jsxs(F0,{activePage:"tickets",children:[l.jsx(Poe,{title:"Tickets",description:l.jsxs("span",{children:["Rita learned from",l.jsx("span",{className:"font-semibold",children:"1,200"}),"tickets this month ",l.jsx("span",{className:"font-semibold",children:"across 8 issue types"})]}),stats:l.jsxs(Lpt,{children:[l.jsx(I2,{value:"103K",label:"Tickets last 7 days",badge:l.jsxs(xn,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(cY,{className:"h-3 w-3"}),"+4.5%"]})}),l.jsx(I2,{value:"0",label:"Handled Automatically"}),l.jsx(I2,{value:"0%",label:"Automation Rate"}),l.jsx(I2,{value:"0hr",label:"AI hours saved"})]})}),l.jsx(zpt,{})]})}function Ti(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ti(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Upt={value:()=>{}};function J3(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new d4(n)}function d4(e){this._=e}function Hpt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}d4.prototype=J3.prototype={constructor:d4,on:function(e,t){var n=this._,r=Hpt(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=Vpt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=gG(n[i],e.name,t);else if(t==null)for(i in n)n[i]=gG(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new d4(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Vpt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function gG(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Upt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var vj="http://www.w3.org/1999/xhtml";const vG={svg:"http://www.w3.org/2000/svg",xhtml:vj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function e_(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vG.hasOwnProperty(t)?{space:vG[t],local:e}:e}function qpt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vj&&t.documentElement.namespaceURI===vj?t.createElement(e):t.createElementNS(n,e)}}function Wpt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Zfe(e){var t=e_(e);return(t.local?Wpt:qpt)(t)}function Gpt(){}function mO(e){return e==null?Gpt:function(){return this.querySelector(e)}}function Kpt(e){typeof e!="function"&&(e=mO(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),c,u,d=0;d<a;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new Ya(r,this._parents)}function Ypt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xpt(){return[]}function Jfe(e){return e==null?Xpt:function(){return this.querySelectorAll(e)}}function Qpt(e){return function(){return Ypt(e.apply(this,arguments))}}function Zpt(e){typeof e=="function"?e=Qpt(e):e=Jfe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,c,u=0;u<o;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),i.push(c));return new Ya(r,i)}function ehe(e){return function(){return this.matches(e)}}function the(e){return function(t){return t.matches(e)}}var Jpt=Array.prototype.find;function egt(e){return function(){return Jpt.call(this.children,e)}}function tgt(){return this.firstElementChild}function ngt(e){return this.select(e==null?tgt:egt(typeof e=="function"?e:the(e)))}var rgt=Array.prototype.filter;function igt(){return Array.from(this.children)}function sgt(e){return function(){return rgt.call(this.children,e)}}function agt(e){return this.selectAll(e==null?igt:sgt(typeof e=="function"?e:the(e)))}function ogt(e){typeof e!="function"&&(e=ehe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],c,u=0;u<a;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new Ya(r,this._parents)}function nhe(e){return new Array(e.length)}function lgt(){return new Ya(this._enter||this._groups.map(nhe),this._parents)}function SS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}SS.prototype={constructor:SS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cgt(e){return function(){return e}}function ugt(e,t,n,r,i,s){for(var a=0,o,c=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new SS(e,s[a]);for(;a<c;++a)(o=t[a])&&(i[a]=o)}function dgt(e,t,n,r,i,s,a){var o,c,u=new Map,d=t.length,f=s.length,h=new Array(d),p;for(o=0;o<d;++o)(c=t[o])&&(h[o]=p=a.call(c,c.__data__,o,t)+"",u.has(p)?i[o]=c:u.set(p,c));for(o=0;o<f;++o)p=a.call(e,s[o],o,s)+"",(c=u.get(p))?(r[o]=c,c.__data__=s[o],u.delete(p)):n[o]=new SS(e,s[o]);for(o=0;o<d;++o)(c=t[o])&&u.get(h[o])===c&&(i[o]=c)}function fgt(e){return e.__data__}function hgt(e,t){if(!arguments.length)return Array.from(this,fgt);var n=t?dgt:ugt,r=this._parents,i=this._groups;typeof e!="function"&&(e=cgt(e));for(var s=i.length,a=new Array(s),o=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],f=i[u],h=f.length,p=mgt(e.call(d,d&&d.__data__,u,r)),v=p.length,x=o[u]=new Array(v),b=a[u]=new Array(v),w=c[u]=new Array(h);n(d,f,x,b,w,p,t);for(var E=0,k=0,_,A;E<v;++E)if(_=x[E]){for(E>=k&&(k=E+1);!(A=b[k])&&++k<v;);_._next=A||null}}return a=new Ya(a,r),a._enter=o,a._exit=c,a}function mgt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pgt(){return new Ya(this._exit||this._groups.map(nhe),this._parents)}function ggt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function vgt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),c=0;c<a;++c)for(var u=n[c],d=r[c],f=u.length,h=o[c]=new Array(f),p,v=0;v<f;++v)(p=u[v]||d[v])&&(h[v]=p);for(;c<i;++c)o[c]=n[c];return new Ya(o,this._parents)}function ygt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function xgt(e){e||(e=bgt);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,c=i[s]=new Array(o),u,d=0;d<o;++d)(u=a[d])&&(c[d]=u);c.sort(t)}return new Ya(i,this._parents).order()}function bgt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wgt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Egt(){return Array.from(this)}function Sgt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function kgt(){let e=0;for(const t of this)++e;return e}function _gt(){return!this.node()}function Cgt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Ngt(e){return function(){this.removeAttribute(e)}}function Tgt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Agt(e,t){return function(){this.setAttribute(e,t)}}function jgt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pgt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Igt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Rgt(e,t){var n=e_(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Tgt:Ngt:typeof t=="function"?n.local?Igt:Pgt:n.local?jgt:Agt)(n,t))}function rhe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mgt(e){return function(){this.style.removeProperty(e)}}function Ogt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Dgt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Lgt(e,t,n){return arguments.length>1?this.each((t==null?Mgt:typeof t=="function"?Dgt:Ogt)(e,t,n??"")):Wp(this.node(),e)}function Wp(e,t){return e.style.getPropertyValue(t)||rhe(e).getComputedStyle(e,null).getPropertyValue(t)}function Fgt(e){return function(){delete this[e]}}function $gt(e,t){return function(){this[e]=t}}function zgt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Bgt(e,t){return arguments.length>1?this.each((t==null?Fgt:typeof t=="function"?zgt:$gt)(e,t)):this.node()[e]}function ihe(e){return e.trim().split(/^|\s+/)}function pO(e){return e.classList||new she(e)}function she(e){this._node=e,this._names=ihe(e.getAttribute("class")||"")}she.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ahe(e,t){for(var n=pO(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ohe(e,t){for(var n=pO(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ugt(e){return function(){ahe(this,e)}}function Hgt(e){return function(){ohe(this,e)}}function Vgt(e,t){return function(){(t.apply(this,arguments)?ahe:ohe)(this,e)}}function qgt(e,t){var n=ihe(e+"");if(arguments.length<2){for(var r=pO(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Vgt:t?Ugt:Hgt)(n,t))}function Wgt(){this.textContent=""}function Ggt(e){return function(){this.textContent=e}}function Kgt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ygt(e){return arguments.length?this.each(e==null?Wgt:(typeof e=="function"?Kgt:Ggt)(e)):this.node().textContent}function Xgt(){this.innerHTML=""}function Qgt(e){return function(){this.innerHTML=e}}function Zgt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Jgt(e){return arguments.length?this.each(e==null?Xgt:(typeof e=="function"?Zgt:Qgt)(e)):this.node().innerHTML}function e1t(){this.nextSibling&&this.parentNode.appendChild(this)}function t1t(){return this.each(e1t)}function n1t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r1t(){return this.each(n1t)}function i1t(e){var t=typeof e=="function"?e:Zfe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function s1t(){return null}function a1t(e,t){var n=typeof e=="function"?e:Zfe(e),r=t==null?s1t:typeof t=="function"?t:mO(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function o1t(){var e=this.parentNode;e&&e.removeChild(this)}function l1t(){return this.each(o1t)}function c1t(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function u1t(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d1t(e){return this.select(e?u1t:c1t)}function f1t(e){return arguments.length?this.property("__data__",e):this.node().__data__}function h1t(e){return function(t){e.call(this,t,this.__data__)}}function m1t(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function p1t(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function g1t(e,t,n){return function(){var r=this.__on,i,s=h1t(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function v1t(e,t,n){var r=m1t(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(i=0,d=o[c];i<s;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(o=t?g1t:p1t,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function lhe(e,t,n){var r=rhe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function y1t(e,t){return function(){return lhe(this,e,t)}}function x1t(e,t){return function(){return lhe(this,e,t.apply(this,arguments))}}function b1t(e,t){return this.each((typeof t=="function"?x1t:y1t)(e,t))}function*w1t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var che=[null];function Ya(e,t){this._groups=e,this._parents=t}function db(){return new Ya([[document.documentElement]],che)}function E1t(){return this}Ya.prototype=db.prototype={constructor:Ya,select:Kpt,selectAll:Zpt,selectChild:ngt,selectChildren:agt,filter:ogt,data:hgt,enter:lgt,exit:pgt,join:ggt,merge:vgt,selection:E1t,order:ygt,sort:xgt,call:wgt,nodes:Egt,node:Sgt,size:kgt,empty:_gt,each:Cgt,attr:Rgt,style:Lgt,property:Bgt,classed:qgt,text:Ygt,html:Jgt,raise:t1t,lower:r1t,append:i1t,insert:a1t,remove:l1t,clone:d1t,datum:f1t,on:v1t,dispatch:b1t,[Symbol.iterator]:w1t};function Ba(e){return typeof e=="string"?new Ya([[document.querySelector(e)]],[document.documentElement]):new Ya([[e]],che)}function S1t(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ol(e,t){if(e=S1t(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const k1t={passive:!1},Oy={capture:!0,passive:!1};function K5(e){e.stopImmediatePropagation()}function dp(e){e.preventDefault(),e.stopImmediatePropagation()}function uhe(e){var t=e.document.documentElement,n=Ba(e).on("dragstart.drag",dp,Oy);"onselectstart"in t?n.on("selectstart.drag",dp,Oy):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function dhe(e,t){var n=e.document.documentElement,r=Ba(e).on("dragstart.drag",null);t&&(r.on("click.drag",dp,Oy),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const R2=e=>()=>e;function yj(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:a,y:o,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}yj.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _1t(e){return!e.ctrlKey&&!e.button}function C1t(){return this.parentNode}function N1t(e,t){return t??{x:e.x,y:e.y}}function T1t(){return navigator.maxTouchPoints||"ontouchstart"in this}function fhe(){var e=_1t,t=C1t,n=N1t,r=T1t,i={},s=J3("start","drag","end"),a=0,o,c,u,d,f=0;function h(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",w,k1t).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,A){if(!(d||!e.call(this,_,A))){var T=k(this,t.call(this,_,A),_,A,"mouse");T&&(Ba(_.view).on("mousemove.drag",v,Oy).on("mouseup.drag",x,Oy),uhe(_.view),K5(_),u=!1,o=_.clientX,c=_.clientY,T("start",_))}}function v(_){if(dp(_),!u){var A=_.clientX-o,T=_.clientY-c;u=A*A+T*T>f}i.mouse("drag",_)}function x(_){Ba(_.view).on("mousemove.drag mouseup.drag",null),dhe(_.view,u),dp(_),i.mouse("end",_)}function b(_,A){if(e.call(this,_,A)){var T=_.changedTouches,C=t.call(this,_,A),I=T.length,B,$;for(B=0;B<I;++B)($=k(this,C,_,A,T[B].identifier,T[B]))&&(K5(_),$("start",_,T[B]))}}function w(_){var A=_.changedTouches,T=A.length,C,I;for(C=0;C<T;++C)(I=i[A[C].identifier])&&(dp(_),I("drag",_,A[C]))}function E(_){var A=_.changedTouches,T=A.length,C,I;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<T;++C)(I=i[A[C].identifier])&&(K5(_),I("end",_,A[C]))}function k(_,A,T,C,I,B){var $=s.copy(),L=ol(B||T,A),U,Y,V;if((V=n.call(_,new yj("beforestart",{sourceEvent:T,target:h,identifier:I,active:a,x:L[0],y:L[1],dx:0,dy:0,dispatch:$}),C))!=null)return U=V.x-L[0]||0,Y=V.y-L[1]||0,function K(W,J,q){var G=L,j;switch(W){case"start":i[I]=K,j=a++;break;case"end":delete i[I],--a;case"drag":L=ol(q||J,A),j=a;break}$.call(W,_,new yj(W,{sourceEvent:J,subject:V,target:h,identifier:I,active:j,x:L[0]+U,y:L[1]+Y,dx:L[0]-G[0],dy:L[1]-G[1],dispatch:$}),C)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:R2(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:R2(_),h):t},h.subject=function(_){return arguments.length?(n=typeof _=="function"?_:R2(_),h):n},h.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:R2(!!_),h):r},h.on=function(){var _=s.on.apply(s,arguments);return _===s?h:_},h.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,h):Math.sqrt(f)},h}var Gp=0,cv=0,q1=0,hhe=1e3,kS,uv,_S=0,v0=0,t_=0,Dy=typeof performance=="object"&&performance.now?performance:Date,mhe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gO(){return v0||(mhe(A1t),v0=Dy.now()+t_)}function A1t(){v0=0}function CS(){this._call=this._time=this._next=null}CS.prototype=phe.prototype={constructor:CS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gO():+n)+(t==null?0:+t),!this._next&&uv!==this&&(uv?uv._next=this:kS=this,uv=this),this._call=e,this._time=n,xj()},stop:function(){this._call&&(this._call=null,this._time=1/0,xj())}};function phe(e,t,n){var r=new CS;return r.restart(e,t,n),r}function j1t(){gO(),++Gp;for(var e=kS,t;e;)(t=v0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gp}function yG(){v0=(_S=Dy.now())+t_,Gp=cv=0;try{j1t()}finally{Gp=0,I1t(),v0=0}}function P1t(){var e=Dy.now(),t=e-_S;t>hhe&&(t_-=t,_S=e)}function I1t(){for(var e,t=kS,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:kS=n);uv=e,xj(r)}function xj(e){if(!Gp){cv&&(cv=clearTimeout(cv));var t=e-v0;t>24?(e<1/0&&(cv=setTimeout(yG,e-Dy.now()-t_)),q1&&(q1=clearInterval(q1))):(q1||(_S=Dy.now(),q1=setInterval(P1t,hhe)),Gp=1,mhe(yG))}}function xG(e,t,n){var r=new CS;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var R1t=J3("start","end","cancel","interrupt"),M1t=[],ghe=0,bG=1,bj=2,f4=3,wG=4,wj=5,h4=6;function n_(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;O1t(e,n,{name:t,index:r,group:i,on:R1t,tween:M1t,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ghe})}function vO(e,t){var n=Fl(e,t);if(n.state>ghe)throw new Error("too late; already scheduled");return n}function Oc(e,t){var n=Fl(e,t);if(n.state>f4)throw new Error("too late; already running");return n}function Fl(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function O1t(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=phe(s,0,n.time);function s(u){n.state=bG,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,f,h,p;if(n.state!==bG)return c();for(d in r)if(p=r[d],p.name===n.name){if(p.state===f4)return xG(a);p.state===wG?(p.state=h4,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[d]):+d<t&&(p.state=h4,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[d])}if(xG(function(){n.state===f4&&(n.state=wG,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=bj,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bj){for(n.state=f4,i=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(p=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=wj,1),f=-1,h=i.length;++f<h;)i[f].call(e,d);n.state===wj&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=h4,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function m4(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>bj&&r.state<wj,r.state=h4,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function D1t(e){return this.each(function(){m4(this,e)})}function L1t(e,t){var n,r;return function(){var i=Oc(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function F1t(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Oc(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=o;break}c===u&&i.push(o)}s.tween=i}}function $1t(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fl(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?L1t:F1t)(n,e,t))}function yO(e,t,n){var r=e._id;return e.each(function(){var i=Oc(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Fl(i,r).value[t]}}function vhe(e,t){var n;return(typeof t=="number"?ul:t instanceof h0?iS:(n=h0(t))?(t=n,iS):Zce)(e,t)}function z1t(e){return function(){this.removeAttribute(e)}}function B1t(e){return function(){this.removeAttributeNS(e.space,e.local)}}function U1t(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function H1t(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function V1t(e,t,n){var r,i,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=o+"",a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,o)))}}function q1t(e,t,n){var r,i,s;return function(){var a,o=n(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=o+"",a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,o)))}}function W1t(e,t){var n=e_(e),r=n==="transform"?Ust:vhe;return this.attrTween(e,typeof t=="function"?(n.local?q1t:V1t)(n,r,yO(this,"attr."+e,t)):t==null?(n.local?B1t:z1t)(n):(n.local?H1t:U1t)(n,r,t))}function G1t(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function K1t(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Y1t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&K1t(e,s)),n}return i._value=t,i}function X1t(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&G1t(e,s)),n}return i._value=t,i}function Q1t(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=e_(e);return this.tween(n,(r.local?Y1t:X1t)(r,t))}function Z1t(e,t){return function(){vO(this,e).delay=+t.apply(this,arguments)}}function J1t(e,t){return t=+t,function(){vO(this,e).delay=t}}function evt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Z1t:J1t)(t,e)):Fl(this.node(),t).delay}function tvt(e,t){return function(){Oc(this,e).duration=+t.apply(this,arguments)}}function nvt(e,t){return t=+t,function(){Oc(this,e).duration=t}}function rvt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tvt:nvt)(t,e)):Fl(this.node(),t).duration}function ivt(e,t){if(typeof t!="function")throw new Error;return function(){Oc(this,e).ease=t}}function svt(e){var t=this._id;return arguments.length?this.each(ivt(t,e)):Fl(this.node(),t).ease}function avt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Oc(this,e).ease=n}}function ovt(e){if(typeof e!="function")throw new Error;return this.each(avt(this._id,e))}function lvt(e){typeof e!="function"&&(e=ehe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],c,u=0;u<a;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&o.push(c);return new Bu(r,this._parents,this._name,this._id)}function cvt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var c=t[o],u=n[o],d=c.length,f=a[o]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;o<r;++o)a[o]=t[o];return new Bu(a,this._parents,this._name,this._id)}function uvt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function dvt(e,t,n){var r,i,s=uvt(t)?vO:Oc;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function fvt(e,t){var n=this._id;return arguments.length<2?Fl(this.node(),n).on.on(e):this.each(dvt(n,e,t))}function hvt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function mvt(){return this.on("end.remove",hvt(this._id))}function pvt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mO(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],c=o.length,u=s[a]=new Array(c),d,f,h=0;h<c;++h)(d=o[h])&&(f=e.call(d,d.__data__,h,o))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,n_(u[h],t,n,h,u,Fl(d,n)));return new Bu(s,this._parents,t,n)}function gvt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jfe(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var c=r[o],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),p,v=Fl(d,n),x=0,b=h.length;x<b;++x)(p=h[x])&&n_(p,t,n,x,h,v);s.push(h),a.push(d)}return new Bu(s,a,t,n)}var vvt=db.prototype.constructor;function yvt(){return new vvt(this._groups,this._parents)}function xvt(e,t){var n,r,i;return function(){var s=Wp(this,e),a=(this.style.removeProperty(e),Wp(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function yhe(e){return function(){this.style.removeProperty(e)}}function bvt(e,t,n){var r,i=n+"",s;return function(){var a=Wp(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function wvt(e,t,n){var r,i,s;return function(){var a=Wp(this,e),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Wp(this,e))),a===c?null:a===r&&c===i?s:(i=c,s=t(r=a,o))}}function Evt(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var c=Oc(this,e),u=c.on,d=c.value[s]==null?o||(o=yhe(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(a,i=d),c.on=r}}function Svt(e,t,n){var r=(e+="")=="transform"?Bst:vhe;return t==null?this.styleTween(e,xvt(e,r)).on("end.style."+e,yhe(e)):typeof t=="function"?this.styleTween(e,wvt(e,r,yO(this,"style."+e,t))).each(Evt(this._id,e)):this.styleTween(e,bvt(e,r,t),n).on("end.style."+e,null)}function kvt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function _vt(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&kvt(e,a,n)),r}return s._value=t,s}function Cvt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,_vt(e,t,n??""))}function Nvt(e){return function(){this.textContent=e}}function Tvt(e){return function(){var t=e(this);this.textContent=t??""}}function Avt(e){return this.tween("text",typeof e=="function"?Tvt(yO(this,"text",e)):Nvt(e==null?"":e+""))}function jvt(e){return function(t){this.textContent=e.call(this,t)}}function Pvt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&jvt(i)),t}return r._value=e,r}function Ivt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Pvt(e))}function Rvt(){for(var e=this._name,t=this._id,n=xhe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,c,u=0;u<o;++u)if(c=a[u]){var d=Fl(c,t);n_(c,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Bu(r,this._parents,e,n)}function Mvt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},c={value:function(){--i===0&&s()}};n.each(function(){var u=Oc(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(c)),u.on=t}),i===0&&s()})}var Ovt=0;function Bu(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xhe(){return++Ovt}var Qc=db.prototype;Bu.prototype={constructor:Bu,select:pvt,selectAll:gvt,selectChild:Qc.selectChild,selectChildren:Qc.selectChildren,filter:lvt,merge:cvt,selection:yvt,transition:Rvt,call:Qc.call,nodes:Qc.nodes,node:Qc.node,size:Qc.size,empty:Qc.empty,each:Qc.each,on:fvt,attr:W1t,attrTween:Q1t,style:Svt,styleTween:Cvt,text:Avt,textTween:Ivt,remove:mvt,tween:$1t,delay:evt,duration:rvt,ease:svt,easeVarying:ovt,end:Mvt,[Symbol.iterator]:Qc[Symbol.iterator]};function Dvt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lvt={time:null,delay:0,duration:250,ease:Dvt};function Fvt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $vt(e){var t,n;e instanceof Bu?(t=e._id,e=e._name):(t=xhe(),(n=Lvt).time=gO(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,c,u=0;u<o;++u)(c=a[u])&&n_(c,e,t,u,a,n||Fvt(c,t));return new Bu(r,this._parents,e,t)}db.prototype.interrupt=D1t;db.prototype.transition=$vt;const M2=e=>()=>e;function zvt(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pu(e,t,n){this.k=e,this.x=t,this.y=n}pu.prototype={constructor:pu,scale:function(e){return e===1?this:new pu(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pu(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var r_=new pu(1,0,0);bhe.prototype=pu.prototype;function bhe(e){for(;!e.__zoom;)if(!(e=e.parentNode))return r_;return e.__zoom}function Y5(e){e.stopImmediatePropagation()}function W1(e){e.preventDefault(),e.stopImmediatePropagation()}function Bvt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Uvt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function EG(){return this.__zoom||r_}function Hvt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vvt(){return navigator.maxTouchPoints||"ontouchstart"in this}function qvt(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function whe(){var e=Bvt,t=Uvt,n=qvt,r=Hvt,i=Vvt,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,c=l4,u=J3("start","zoom","end"),d,f,h,p=500,v=150,x=0,b=10;function w(V){V.property("__zoom",EG).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(V,K,W,J){var q=V.selection?V.selection():V;q.property("__zoom",EG),V!==q?A(V,K,W,J):q.interrupt().each(function(){T(this,arguments).event(J).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},w.scaleBy=function(V,K,W,J){w.scaleTo(V,function(){var q=this.__zoom.k,G=typeof K=="function"?K.apply(this,arguments):K;return q*G},W,J)},w.scaleTo=function(V,K,W,J){w.transform(V,function(){var q=t.apply(this,arguments),G=this.__zoom,j=W==null?_(q):typeof W=="function"?W.apply(this,arguments):W,M=G.invert(j),z=typeof K=="function"?K.apply(this,arguments):K;return n(k(E(G,z),j,M),q,a)},W,J)},w.translateBy=function(V,K,W,J){w.transform(V,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),a)},null,J)},w.translateTo=function(V,K,W,J,q){w.transform(V,function(){var G=t.apply(this,arguments),j=this.__zoom,M=J==null?_(G):typeof J=="function"?J.apply(this,arguments):J;return n(r_.translate(M[0],M[1]).scale(j.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof W=="function"?-W.apply(this,arguments):-W),G,a)},J,q)};function E(V,K){return K=Math.max(s[0],Math.min(s[1],K)),K===V.k?V:new pu(K,V.x,V.y)}function k(V,K,W){var J=K[0]-W[0]*V.k,q=K[1]-W[1]*V.k;return J===V.x&&q===V.y?V:new pu(V.k,J,q)}function _(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function A(V,K,W,J){V.on("start.zoom",function(){T(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(J).end()}).tween("zoom",function(){var q=this,G=arguments,j=T(q,G).event(J),M=t.apply(q,G),z=W==null?_(M):typeof W=="function"?W.apply(q,G):W,O=Math.max(M[1][0]-M[0][0],M[1][1]-M[0][1]),X=q.__zoom,ne=typeof K=="function"?K.apply(q,G):K,re=c(X.invert(z).concat(O/X.k),ne.invert(z).concat(O/ne.k));return function(Q){if(Q===1)Q=ne;else{var te=re(Q),ie=O/te[2];Q=new pu(ie,z[0]-te[0]*ie,z[1]-te[1]*ie)}j.zoom(null,Q)}})}function T(V,K,W){return!W&&V.__zooming||new C(V,K)}function C(V,K){this.that=V,this.args=K,this.active=0,this.sourceEvent=null,this.extent=t.apply(V,K),this.taps=0}C.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,K){return this.mouse&&V!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var K=Ba(this.that).datum();u.call(V,this.that,new zvt(V,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),K)}};function I(V,...K){if(!e.apply(this,arguments))return;var W=T(this,K).event(V),J=this.__zoom,q=Math.max(s[0],Math.min(s[1],J.k*Math.pow(2,r.apply(this,arguments)))),G=ol(V);if(W.wheel)(W.mouse[0][0]!==G[0]||W.mouse[0][1]!==G[1])&&(W.mouse[1]=J.invert(W.mouse[0]=G)),clearTimeout(W.wheel);else{if(J.k===q)return;W.mouse=[G,J.invert(G)],m4(this),W.start()}W1(V),W.wheel=setTimeout(j,v),W.zoom("mouse",n(k(E(J,q),W.mouse[0],W.mouse[1]),W.extent,a));function j(){W.wheel=null,W.end()}}function B(V,...K){if(h||!e.apply(this,arguments))return;var W=V.currentTarget,J=T(this,K,!0).event(V),q=Ba(V.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",O,!0),G=ol(V,W),j=V.clientX,M=V.clientY;uhe(V.view),Y5(V),J.mouse=[G,this.__zoom.invert(G)],m4(this),J.start();function z(X){if(W1(X),!J.moved){var ne=X.clientX-j,re=X.clientY-M;J.moved=ne*ne+re*re>x}J.event(X).zoom("mouse",n(k(J.that.__zoom,J.mouse[0]=ol(X,W),J.mouse[1]),J.extent,a))}function O(X){q.on("mousemove.zoom mouseup.zoom",null),dhe(X.view,J.moved),W1(X),J.event(X).end()}}function $(V,...K){if(e.apply(this,arguments)){var W=this.__zoom,J=ol(V.changedTouches?V.changedTouches[0]:V,this),q=W.invert(J),G=W.k*(V.shiftKey?.5:2),j=n(k(E(W,G),J,q),t.apply(this,K),a);W1(V),o>0?Ba(this).transition().duration(o).call(A,j,J,V):Ba(this).call(w.transform,j,J,V)}}function L(V,...K){if(e.apply(this,arguments)){var W=V.touches,J=W.length,q=T(this,K,V.changedTouches.length===J).event(V),G,j,M,z;for(Y5(V),j=0;j<J;++j)M=W[j],z=ol(M,this),z=[z,this.__zoom.invert(z),M.identifier],q.touch0?!q.touch1&&q.touch0[2]!==z[2]&&(q.touch1=z,q.taps=0):(q.touch0=z,G=!0,q.taps=1+!!d);d&&(d=clearTimeout(d)),G&&(q.taps<2&&(f=z[0],d=setTimeout(function(){d=null},p)),m4(this),q.start())}}function U(V,...K){if(this.__zooming){var W=T(this,K).event(V),J=V.changedTouches,q=J.length,G,j,M,z;for(W1(V),G=0;G<q;++G)j=J[G],M=ol(j,this),W.touch0&&W.touch0[2]===j.identifier?W.touch0[0]=M:W.touch1&&W.touch1[2]===j.identifier&&(W.touch1[0]=M);if(j=W.that.__zoom,W.touch1){var O=W.touch0[0],X=W.touch0[1],ne=W.touch1[0],re=W.touch1[1],Q=(Q=ne[0]-O[0])*Q+(Q=ne[1]-O[1])*Q,te=(te=re[0]-X[0])*te+(te=re[1]-X[1])*te;j=E(j,Math.sqrt(Q/te)),M=[(O[0]+ne[0])/2,(O[1]+ne[1])/2],z=[(X[0]+re[0])/2,(X[1]+re[1])/2]}else if(W.touch0)M=W.touch0[0],z=W.touch0[1];else return;W.zoom("touch",n(k(j,M,z),W.extent,a))}}function Y(V,...K){if(this.__zooming){var W=T(this,K).event(V),J=V.changedTouches,q=J.length,G,j;for(Y5(V),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),G=0;G<q;++G)j=J[G],W.touch0&&W.touch0[2]===j.identifier?delete W.touch0:W.touch1&&W.touch1[2]===j.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(j=ol(j,this),Math.hypot(f[0]-j[0],f[1]-j[1])<b)){var M=Ba(this).on("dblclick.zoom");M&&M.apply(this,arguments)}}}return w.wheelDelta=function(V){return arguments.length?(r=typeof V=="function"?V:M2(+V),w):r},w.filter=function(V){return arguments.length?(e=typeof V=="function"?V:M2(!!V),w):e},w.touchable=function(V){return arguments.length?(i=typeof V=="function"?V:M2(!!V),w):i},w.extent=function(V){return arguments.length?(t=typeof V=="function"?V:M2([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),w):t},w.scaleExtent=function(V){return arguments.length?(s[0]=+V[0],s[1]=+V[1],w):[s[0],s[1]]},w.translateExtent=function(V){return arguments.length?(a[0][0]=+V[0][0],a[1][0]=+V[1][0],a[0][1]=+V[0][1],a[1][1]=+V[1][1],w):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},w.constrain=function(V){return arguments.length?(n=V,w):n},w.duration=function(V){return arguments.length?(o=+V,w):o},w.interpolate=function(V){return arguments.length?(c=V,w):c},w.on=function(){var V=u.on.apply(u,arguments);return V===u?w:V},w.clickDistance=function(V){return arguments.length?(x=(V=+V)*V,w):Math.sqrt(x)},w.tapDistance=function(V){return arguments.length?(b=+V,w):b},w}const Cc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ly=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ehe=["Enter"," ","Escape"],She={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Kp;(function(e){e.Strict="strict",e.Loose="loose"})(Kp||(Kp={}));var Gh;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Gh||(Gh={}));var Fy;(function(e){e.Partial="partial",e.Full="full"})(Fy||(Fy={}));const khe={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Ud;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ud||(Ud={}));var Yp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Yp||(Yp={}));var Kt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Kt||(Kt={}));const SG={[Kt.Left]:Kt.Right,[Kt.Right]:Kt.Left,[Kt.Top]:Kt.Bottom,[Kt.Bottom]:Kt.Top};function _he(e){return e===null?null:e?"valid":"invalid"}const Che=e=>"id"in e&&"source"in e&&"target"in e,Wvt=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),xO=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),fb=(e,t=[0,0])=>{const{width:n,height:r}=td(e),i=e.origin??t,s=n*i[0],a=r*i[1];return{x:e.position.x-s,y:e.position.y-a}},Gvt=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let a=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(a=s?t.nodeLookup.get(i):xO(i)?i:t.nodeLookup.get(i.id));const o=a?NS(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return i_(r,o)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return s_(n)},hb=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=i_(n,NS(i)),r=!0)}),r?s_(n):{x:0,y:0,width:0,height:0}},bO=(e,t,[n,r,i]=[0,0,1],s=!1,a=!1)=>{const o={...pb(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(a&&!f||h)continue;const p=d.width??u.width??u.initialWidth??null,v=d.height??u.height??u.initialHeight??null,x=$y(o,Qp(u)),b=(p??0)*(v??0),w=s&&x>0;(!u.internals.handleBounds||w||x>=b||u.dragging)&&c.push(u)}return c},Kvt=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Yvt(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Xvt({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},a){if(e.size===0)return Promise.resolve(!0);const o=Yvt(e,a),c=hb(o),u=wO(c,t,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??s,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function Nhe({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const a=n.get(e),o=a.parentId?n.get(a.parentId):void 0,{x:c,y:u}=o?o.internals.positionAbsolute:{x:0,y:0},d=a.origin??r;let f=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!o)s==null||s("005",Cc.error005());else{const p=o.measured.width,v=o.measured.height;p&&v&&(f=[[c,u],[c+p,u+v]])}else o&&Zp(a.extent)&&(f=[[a.extent[0][0]+c,a.extent[0][1]+u],[a.extent[1][0]+c,a.extent[1][1]+u]]);const h=Zp(f)?y0(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(s==null||s("015",Cc.error015())),{position:{x:h.x-c+(a.measured.width??0)*d[0],y:h.y-u+(a.measured.height??0)*d[1]},positionAbsolute:h}}async function Qvt({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(h=>h.id)),a=[];for(const h of n){if(h.deletable===!1)continue;const p=s.has(h.id),v=!p&&h.parentId&&a.find(x=>x.id===h.parentId);(p||v)&&a.push(h)}const o=new Set(t.map(h=>h.id)),c=r.filter(h=>h.deletable!==!1),d=Kvt(a,c);for(const h of c)o.has(h.id)&&!d.find(v=>v.id===h.id)&&d.push(h);if(!i)return{edges:d,nodes:a};const f=await i({nodes:a,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:a}:{edges:[],nodes:[]}:f}const Xp=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),y0=(e={x:0,y:0},t,n)=>({x:Xp(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Xp(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function The(e,t,n){const{width:r,height:i}=td(n),{x:s,y:a}=n.internals.positionAbsolute;return y0(e,[[s,a],[s+r,a+i]],t)}const kG=(e,t,n)=>e<t?Xp(Math.abs(e-t),1,t)/t:e>n?-Xp(Math.abs(e-n),1,t)/t:0,Ahe=(e,t,n=15,r=40)=>{const i=kG(e.x,r,t.width-r)*n,s=kG(e.y,r,t.height-r)*n;return[i,s]},i_=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ej=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),s_=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Qp=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=xO(e)?e.internals.positionAbsolute:fb(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},NS=(e,t=[0,0])=>{var i,s;const{x:n,y:r}=xO(e)?e.internals.positionAbsolute:fb(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},jhe=(e,t)=>s_(i_(Ej(e),Ej(t))),$y=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},_G=e=>wl(e.width)&&wl(e.height)&&wl(e.x)&&wl(e.y),wl=e=>!isNaN(e)&&isFinite(e),Zvt=(e,t)=>{},mb=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),pb=({x:e,y:t},[n,r,i],s=!1,a=[1,1])=>{const o={x:(e-n)/i,y:(t-r)/i};return s?mb(o,a):o},TS=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Nm(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Jvt(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Nm(e,n),i=Nm(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Nm(e.top??e.y??0,n),i=Nm(e.bottom??e.y??0,n),s=Nm(e.left??e.x??0,t),a=Nm(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:s,x:s+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function eyt(e,t,n,r,i,s){const{x:a,y:o}=TS(e,[t,n,r]),{x:c,y:u}=TS({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-c,f=s-u;return{left:Math.floor(a),top:Math.floor(o),right:Math.floor(d),bottom:Math.floor(f)}}const wO=(e,t,n,r,i,s)=>{const a=Jvt(s,t,n),o=(t-a.x)/e.width,c=(n-a.y)/e.height,u=Math.min(o,c),d=Xp(u,r,i),f=e.x+e.width/2,h=e.y+e.height/2,p=t/2-f*d,v=n/2-h*d,x=eyt(e,p,v,d,t,n),b={left:Math.min(x.left-a.left,0),top:Math.min(x.top-a.top,0),right:Math.min(x.right-a.right,0),bottom:Math.min(x.bottom-a.bottom,0)};return{x:p-b.left+b.right,y:v-b.top+b.bottom,zoom:d}},zy=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Zp(e){return e!=null&&e!=="parent"}function td(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Phe(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ihe(e,t={width:0,height:0},n,r,i){const s={...e},a=r.get(n);if(a){const o=a.origin||i;s.x+=a.internals.positionAbsolute.x-(t.width??0)*o[0],s.y+=a.internals.positionAbsolute.y-(t.height??0)*o[1]}return s}function CG(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function tyt(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function nyt(e){return{...She,...e||{}}}function Ov(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:a}=El(e),o=pb({x:s-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?mb(o,t):o;return{xSnapped:c,ySnapped:u,...o}}const EO=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rhe=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},ryt=["INPUT","SELECT","TEXTAREA"];function Mhe(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:ryt.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Ohe=e=>"clientX"in e,El=(e,t)=>{var s,a;const n=Ohe(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},NG=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(a=>{const o=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(o.left-n.left)/r,y:(o.top-n.top)/r,...EO(a)}})};function Dhe({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:o}){const c=e*.125+i*.375+a*.375+n*.125,u=t*.125+s*.375+o*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function O2(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function TG({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case Kt.Left:return[t-O2(t-r,s),n];case Kt.Right:return[t+O2(r-t,s),n];case Kt.Top:return[t,n-O2(n-i,s)];case Kt.Bottom:return[t,n+O2(i-n,s)]}}function Lhe({sourceX:e,sourceY:t,sourcePosition:n=Kt.Bottom,targetX:r,targetY:i,targetPosition:s=Kt.Top,curvature:a=.25}){const[o,c]=TG({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,d]=TG({pos:s,x1:r,y1:i,x2:e,y2:t,c:a}),[f,h,p,v]=Dhe({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${c} ${u},${d} ${r},${i}`,f,h,p,v]}function Fhe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,a=Math.abs(r-t)/2,o=r<t?r+a:r-a;return[s,o,i,a]}function iyt({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const a=i&&n?r+1e3:r,o=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return a+o}function syt({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=i_(NS(e),NS(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $y(a,s_(s))>0}const ayt=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,oyt=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),$he=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||ayt;let i;return Che(e)?i={...e}:i={...e,id:r(e)},oyt(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function zhe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,a,o]=Fhe({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,a,o]}const AG={[Kt.Left]:{x:-1,y:0},[Kt.Right]:{x:1,y:0},[Kt.Top]:{x:0,y:-1},[Kt.Bottom]:{x:0,y:1}},lyt=({source:e,sourcePosition:t=Kt.Bottom,target:n})=>t===Kt.Left||t===Kt.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},jG=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function cyt({source:e,sourcePosition:t=Kt.Bottom,target:n,targetPosition:r=Kt.Top,center:i,offset:s,stepPosition:a}){const o=AG[t],c=AG[r],u={x:e.x+o.x*s,y:e.y+o.y*s},d={x:n.x+c.x*s,y:n.y+c.y*s},f=lyt({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",p=f[h];let v=[],x,b;const w={x:0,y:0},E={x:0,y:0},[,,k,_]=Fhe({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[h]*c[h]===-1){h==="x"?(x=i.x??u.x+(d.x-u.x)*a,b=i.y??(u.y+d.y)/2):(x=i.x??(u.x+d.x)/2,b=i.y??u.y+(d.y-u.y)*a);const T=[{x,y:u.y},{x,y:d.y}],C=[{x:u.x,y:b},{x:d.x,y:b}];o[h]===p?v=h==="x"?T:C:v=h==="x"?C:T}else{const T=[{x:u.x,y:d.y}],C=[{x:d.x,y:u.y}];if(h==="x"?v=o.x===p?C:T:v=o.y===p?T:C,t===r){const U=Math.abs(e[h]-n[h]);if(U<=s){const Y=Math.min(s-1,s-U);o[h]===p?w[h]=(u[h]>e[h]?-1:1)*Y:E[h]=(d[h]>n[h]?-1:1)*Y}}if(t!==r){const U=h==="x"?"y":"x",Y=o[h]===c[U],V=u[U]>d[U],K=u[U]<d[U];(o[h]===1&&(!Y&&V||Y&&K)||o[h]!==1&&(!Y&&K||Y&&V))&&(v=h==="x"?T:C)}const I={x:u.x+w.x,y:u.y+w.y},B={x:d.x+E.x,y:d.y+E.y},$=Math.max(Math.abs(I.x-v[0].x),Math.abs(B.x-v[0].x)),L=Math.max(Math.abs(I.y-v[0].y),Math.abs(B.y-v[0].y));$>=L?(x=(I.x+B.x)/2,b=v[0].y):(x=v[0].x,b=(I.y+B.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...v,{x:d.x+E.x,y:d.y+E.y},n],x,b,k,_]}function uyt(e,t,n,r){const i=Math.min(jG(e,t)/2,jG(t,n)/2,r),{x:s,y:a}=t;if(e.x===s&&s===n.x||e.y===a&&a===n.y)return`L${s} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+i*u},${a}Q ${s},${a} ${s},${a+i*d}`}const o=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${s},${a+i*c}Q ${s},${a} ${s+i*o},${a}`}function Sj({sourceX:e,sourceY:t,sourcePosition:n=Kt.Bottom,targetX:r,targetY:i,targetPosition:s=Kt.Top,borderRadius:a=5,centerX:o,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,p,v,x]=cyt({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:o,y:c},offset:u,stepPosition:d});return[f.reduce((w,E,k)=>{let _="";return k>0&&k<f.length-1?_=uyt(f[k-1],E,f[k+1],a):_=`${k===0?"M":"L"}${E.x} ${E.y}`,w+=_,w},""),h,p,v,x]}function PG(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function dyt(e){var f;const{sourceNode:t,targetNode:n}=e;if(!PG(t)||!PG(n))return null;const r=t.internals.handleBounds||IG(t.handles),i=n.internals.handleBounds||IG(n.handles),s=RG((r==null?void 0:r.source)??[],e.sourceHandle),a=RG(e.connectionMode===Kp.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!s||!a)return(f=e.onError)==null||f.call(e,"008",Cc.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const o=(s==null?void 0:s.position)||Kt.Bottom,c=(a==null?void 0:a.position)||Kt.Top,u=x0(t,s,o),d=x0(n,a,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:o,targetPosition:c}}function IG(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function x0(e,t,n=Kt.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:o}=t??td(e);if(r)return{x:i+a/2,y:s+o/2};switch((t==null?void 0:t.position)??n){case Kt.Top:return{x:i+a/2,y:s};case Kt.Right:return{x:i+a,y:s+o/2};case Kt.Bottom:return{x:i+a/2,y:s+o};case Kt.Left:return{x:i,y:s+o/2}}}function RG(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function kj(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function fyt(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((a,o)=>([o.markerStart||r,o.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=kj(c,t);s.has(u)||(a.push({id:u,color:c.color||n,...c}),s.add(u))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))}const Bhe=1e3,hyt=10,SO={nodeOrigin:[0,0],nodeExtent:Ly,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},myt={...SO,checkEquality:!0};function kO(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function pyt(e,t,n){const r=kO(SO,n);for(const i of e.values())if(i.parentId)CO(i,e,t,r);else{const s=fb(i,r.nodeOrigin),a=Zp(i.extent)?i.extent:r.nodeExtent,o=y0(s,a,td(i));i.internals.positionAbsolute=o}}function gyt(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function _O(e){return e==="manual"}function _j(e,t,n,r={}){var u,d;const i=kO(myt,r),s={i:0},a=new Map(t),o=i!=null&&i.elevateNodesOnSelect&&!_O(i.zIndexMode)?Bhe:0;let c=e.length>0;t.clear(),n.clear();for(const f of e){let h=a.get(f.id);if(i.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const p=fb(f,i.nodeOrigin),v=Zp(f.extent)?f.extent:i.nodeExtent,x=y0(p,v,td(f));h={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:gyt(f,h),z:Uhe(f,o,i.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&CO(h,t,n,r,s)}return c}function vyt(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function CO(e,t,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:a,nodeExtent:o,zIndexMode:c}=kO(SO,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}vyt(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*hyt),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const f=s&&!_O(c)?Bhe:0,{x:h,y:p,z:v}=yyt(e,d,a,o,f,c),{positionAbsolute:x}=e.internals,b=h!==x.x||p!==x.y;(b||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:h,y:p}:x,z:v}})}function Uhe(e,t,n){const r=wl(e.zIndex)?e.zIndex:0;return _O(n)?r:r+(e.selected?t:0)}function yyt(e,t,n,r,i,s){const{x:a,y:o}=t.internals.positionAbsolute,c=td(e),u=fb(e,n),d=Zp(e.extent)?y0(u,e.extent,c):u;let f=y0({x:a+d.x,y:o+d.y},r,c);e.extent==="parent"&&(f=The(f,c,t));const h=Uhe(e,i,s),p=t.internals.z??0;return{x:f.x,y:f.y,z:p>=h?p+1:h}}function NO(e,t,n,r=[0,0]){var a;const i=[],s=new Map;for(const o of e){const c=t.get(o.parentId);if(!c)continue;const u=((a=s.get(o.parentId))==null?void 0:a.expandedRect)??Qp(c),d=jhe(u,o.rect);s.set(o.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:o,parent:c},u)=>{var k;const d=c.internals.positionAbsolute,f=td(c),h=c.origin??r,p=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,v=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,x=Math.max(f.width,Math.round(o.width)),b=Math.max(f.height,Math.round(o.height)),w=(x-f.width)*h[0],E=(b-f.height)*h[1];(p>0||v>0||w||E)&&(i.push({id:u,type:"position",position:{x:c.position.x-p+w,y:c.position.y-v+E}}),(k=n.get(u))==null||k.forEach(_=>{e.some(A=>A.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+p,y:_.position.y+v}})})),(f.width<o.width||f.height<o.height||p||v)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(p?h[0]*p-w:0),height:b+(v?h[1]*v-E:0)}})}),i}function xyt(e,t,n,r,i,s,a){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!o)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const p of e.values()){const v=t.get(p.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),c=!0;continue}const x=EO(p.nodeElement),b=v.measured.width!==x.width||v.measured.height!==x.height;if(!!(x.width&&x.height&&(b||!v.internals.handleBounds||p.force))){const E=p.nodeElement.getBoundingClientRect(),k=Zp(v.extent)?v.extent:s;let{positionAbsolute:_}=v.internals;v.parentId&&v.extent==="parent"?_=The(_,x,t.get(v.parentId)):k&&(_=y0(_,k,x));const A={...v,measured:x,internals:{...v.internals,positionAbsolute:_,handleBounds:{source:NG("source",p.nodeElement,E,f,v.id),target:NG("target",p.nodeElement,E,f,v.id)}}};t.set(v.id,A),v.parentId&&CO(A,t,n,{nodeOrigin:i,zIndexMode:a}),c=!0,b&&(u.push({id:v.id,type:"dimensions",dimensions:x}),v.expandParent&&v.parentId&&h.push({id:v.id,parentId:v.parentId,rect:Qp(A,i)}))}}if(h.length>0){const p=NO(h,t,n,i);u.push(...p)}return{changes:u,updatedInternals:c}}async function byt({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),o=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(o)}function MG(e,t,n,r,i,s){let a=i;const o=r.get(a)||new Map;r.set(a,o.set(n,t)),a=`${i}-${e}`;const c=r.get(a)||new Map;if(r.set(a,c.set(n,t)),s){a=`${i}-${e}-${s}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function Hhe(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:a=null,targetHandle:o=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:a,targetHandle:o},u=`${i}-${a}--${s}-${o}`,d=`${s}-${o}--${i}-${a}`;MG("source",c,d,e,i,a),MG("target",c,u,e,s,o),t.set(r.id,r)}}function Vhe(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Vhe(n,t):!1}function OG(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function wyt(e,t,n,r){const i=new Map;for(const[s,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!Vhe(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const o=e.get(s);o&&i.set(s,{id:s,position:o.position||{x:0,y:0},distance:{x:n.x-o.internals.positionAbsolute.x,y:n.y-o.internals.positionAbsolute.y},extent:o.extent,parentId:o.parentId,origin:o.origin,expandParent:o.expandParent,internals:{positionAbsolute:o.internals.positionAbsolute||{x:0,y:0}},measured:{width:o.measured.width??0,height:o.measured.height??0}})}return i}function X5({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,o,c;const i=[];for(const[u,d]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:d.position,dragging:r})}if(!e)return[i[0],i];const s=(o=n.get(e))==null?void 0:o.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:r}:i[0],i]}function Eyt({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},a=mb(s,t);return{x:a.x-s.x,y:a.y-s.y}}function Syt({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},a=0,o=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,p=!1,v=!1,x=null;function b({noDragClassName:E,handleSelector:k,domNode:_,isSelectable:A,nodeId:T,nodeClickDistance:C=0}){h=Ba(_);function I({x:U,y:Y}){const{nodeLookup:V,nodeExtent:K,snapGrid:W,snapToGrid:J,nodeOrigin:q,onNodeDrag:G,onSelectionDrag:j,onError:M,updateNodePositions:z}=t();s={x:U,y:Y};let O=!1;const X=o.size>1,ne=X&&K?Ej(hb(o)):null,re=X&&J?Eyt({dragItems:o,snapGrid:W,x:U,y:Y}):null;for(const[Q,te]of o){if(!V.has(Q))continue;let ie={x:U-te.distance.x,y:Y-te.distance.y};J&&(ie=re?{x:Math.round(ie.x+re.x),y:Math.round(ie.y+re.y)}:mb(ie,W));let fe=null;if(X&&K&&!te.extent&&ne){const{positionAbsolute:Pe}=te.internals,Te=Pe.x-ne.x+K[0][0],Ge=Pe.x+te.measured.width-ne.x2+K[1][0],nt=Pe.y-ne.y+K[0][1],vt=Pe.y+te.measured.height-ne.y2+K[1][1];fe=[[Te,nt],[Ge,vt]]}const{position:he,positionAbsolute:ae}=Nhe({nodeId:Q,nextPosition:ie,nodeLookup:V,nodeExtent:fe||K,nodeOrigin:q,onError:M});O=O||te.position.x!==he.x||te.position.y!==he.y,te.position=he,te.internals.positionAbsolute=ae}if(v=v||O,!!O&&(z(o,!0),x&&(r||G||!T&&j))){const[Q,te]=X5({nodeId:T,dragItems:o,nodeLookup:V});r==null||r(x,o,Q,te),G==null||G(x,Q,te),T||j==null||j(x,te)}}async function B(){if(!d)return;const{transform:U,panBy:Y,autoPanSpeed:V,autoPanOnNodeDrag:K}=t();if(!K){c=!1,cancelAnimationFrame(a);return}const[W,J]=Ahe(u,d,V);(W!==0||J!==0)&&(s.x=(s.x??0)-W/U[2],s.y=(s.y??0)-J/U[2],await Y({x:W,y:J})&&I(s)),a=requestAnimationFrame(B)}function $(U){var X;const{nodeLookup:Y,multiSelectionActive:V,nodesDraggable:K,transform:W,snapGrid:J,snapToGrid:q,selectNodesOnDrag:G,onNodeDragStart:j,onSelectionDragStart:M,unselectNodesAndEdges:z}=t();f=!0,(!G||!A)&&!V&&T&&((X=Y.get(T))!=null&&X.selected||z()),A&&G&&T&&(e==null||e(T));const O=Ov(U.sourceEvent,{transform:W,snapGrid:J,snapToGrid:q,containerBounds:d});if(s=O,o=wyt(Y,K,O,T),o.size>0&&(n||j||!T&&M)){const[ne,re]=X5({nodeId:T,dragItems:o,nodeLookup:Y});n==null||n(U.sourceEvent,o,ne,re),j==null||j(U.sourceEvent,ne,re),T||M==null||M(U.sourceEvent,re)}}const L=fhe().clickDistance(C).on("start",U=>{const{domNode:Y,nodeDragThreshold:V,transform:K,snapGrid:W,snapToGrid:J}=t();d=(Y==null?void 0:Y.getBoundingClientRect())||null,p=!1,v=!1,x=U.sourceEvent,V===0&&$(U),s=Ov(U.sourceEvent,{transform:K,snapGrid:W,snapToGrid:J,containerBounds:d}),u=El(U.sourceEvent,d)}).on("drag",U=>{const{autoPanOnNodeDrag:Y,transform:V,snapGrid:K,snapToGrid:W,nodeDragThreshold:J,nodeLookup:q}=t(),G=Ov(U.sourceEvent,{transform:V,snapGrid:K,snapToGrid:W,containerBounds:d});if(x=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||T&&!q.has(T))&&(p=!0),!p){if(!c&&Y&&f&&(c=!0,B()),!f){const j=El(U.sourceEvent,d),M=j.x-u.x,z=j.y-u.y;Math.sqrt(M*M+z*z)>J&&$(U)}(s.x!==G.xSnapped||s.y!==G.ySnapped)&&o&&f&&(u=El(U.sourceEvent,d),I(G))}}).on("end",U=>{if(!(!f||p)&&(c=!1,f=!1,cancelAnimationFrame(a),o.size>0)){const{nodeLookup:Y,updateNodePositions:V,onNodeDragStop:K,onSelectionDragStop:W}=t();if(v&&(V(o,!1),v=!1),i||K||!T&&W){const[J,q]=X5({nodeId:T,dragItems:o,nodeLookup:Y,dragging:!1});i==null||i(U.sourceEvent,o,J,q),K==null||K(U.sourceEvent,J,q),T||W==null||W(U.sourceEvent,q)}}}).filter(U=>{const Y=U.target;return!U.button&&(!E||!OG(Y,`.${E}`,_))&&(!k||OG(Y,k,_))});h.call(L)}function w(){h==null||h.on(".drag",null)}return{update:b,destroy:w}}function kyt(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())$y(i,Qp(s))>0&&r.push(s);return r}const _yt=250;function Cyt(e,t,n,r){var o,c;let i=[],s=1/0;const a=kyt(e,n,t+_yt);for(const u of a){const d=[...((o=u.internals.handleBounds)==null?void 0:o.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:p}=x0(u,f,f.position,!0),v=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(p-e.y,2));v>t||(v<s?(i=[{...f,x:h,y:p}],s=v):v===s&&i.push({...f,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(d=>d.type===u)??i[0]}return i[0]}function qhe(e,t,n,r,i,s=!1){var u,d,f;const a=r.get(e);if(!a)return null;const o=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((d=a.internals.handleBounds)==null?void 0:d.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],c=(n?o==null?void 0:o.find(h=>h.id===n):o==null?void 0:o[0])??null;return c&&s?{...c,...x0(a,c,c.position,!0)}:c}function Whe(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Nyt(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Ghe=()=>!0;function Tyt(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:a,domNode:o,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:p,onConnectStart:v,onConnect:x,onConnectEnd:b,isValidConnection:w=Ghe,onReconnectEnd:E,updateConnection:k,getTransform:_,getFromHandle:A,autoPanSpeed:T,dragThreshold:C=1,handleDomNode:I}){const B=Rhe(e.target);let $=0,L;const{x:U,y:Y}=El(e),V=Whe(s,I),K=o==null?void 0:o.getBoundingClientRect();let W=!1;if(!K||!V)return;const J=qhe(i,V,r,c,t);if(!J)return;let q=El(e,K),G=!1,j=null,M=!1,z=null;function O(){if(!d||!K)return;const[he,ae]=Ahe(q,K,T);h({x:he,y:ae}),$=requestAnimationFrame(O)}const X={...J,nodeId:i,type:V,position:J.position},ne=c.get(i);let Q={inProgress:!0,isValid:null,from:x0(ne,X,Kt.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:ne,to:q,toHandle:null,toPosition:SG[X.position],toNode:null,pointer:q};function te(){W=!0,k(Q),v==null||v(e,{nodeId:i,handleId:r,handleType:V})}C===0&&te();function ie(he){if(!W){const{x:vt,y:Ct}=El(he),Tt=vt-U,ue=Ct-Y;if(!(Tt*Tt+ue*ue>C*C))return;te()}if(!A()||!X){fe(he);return}const ae=_();q=El(he,K),L=Cyt(pb(q,ae,!1,[1,1]),n,c,X),G||(O(),G=!0);const Pe=Khe(he,{handle:L,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:w,doc:B,lib:u,flowId:f,nodeLookup:c});z=Pe.handleDomNode,j=Pe.connection,M=Nyt(!!L,Pe.isValid);const Te=c.get(i),Ge=Te?x0(Te,X,Kt.Left,!0):Q.from,nt={...Q,from:Ge,isValid:M,to:Pe.toHandle&&M?TS({x:Pe.toHandle.x,y:Pe.toHandle.y},ae):q,toHandle:Pe.toHandle,toPosition:M&&Pe.toHandle?Pe.toHandle.position:SG[X.position],toNode:Pe.toHandle?c.get(Pe.toHandle.nodeId):null,pointer:q};k(nt),Q=nt}function fe(he){if(!("touches"in he&&he.touches.length>0)){if(W){(L||z)&&j&&M&&(x==null||x(j));const{inProgress:ae,...Pe}=Q,Te={...Pe,toPosition:Q.toHandle?Q.toPosition:null};b==null||b(he,Te),s&&(E==null||E(he,Te))}p(),cancelAnimationFrame($),G=!1,M=!1,j=null,z=null,B.removeEventListener("mousemove",ie),B.removeEventListener("mouseup",fe),B.removeEventListener("touchmove",ie),B.removeEventListener("touchend",fe)}}B.addEventListener("mousemove",ie),B.addEventListener("mouseup",fe),B.addEventListener("touchmove",ie),B.addEventListener("touchend",fe)}function Khe(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:a,lib:o,flowId:c,isValidConnection:u=Ghe,nodeLookup:d}){const f=s==="target",h=t?a.querySelector(`.${o}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:v}=El(e),x=a.elementFromPoint(p,v),b=x!=null&&x.classList.contains(`${o}-flow__handle`)?x:h,w={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const E=Whe(void 0,b),k=b.getAttribute("data-nodeid"),_=b.getAttribute("data-handleid"),A=b.classList.contains("connectable"),T=b.classList.contains("connectableend");if(!k||!E)return w;const C={source:f?k:r,sourceHandle:f?_:i,target:f?r:k,targetHandle:f?i:_};w.connection=C;const B=A&&T&&(n===Kp.Strict?f&&E==="source"||!f&&E==="target":k!==r||_!==i);w.isValid=B&&u(C),w.toHandle=qhe(k,E,_,d,n,!0)}return w}const Cj={onPointerDown:Tyt,isValid:Khe};function Ayt({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Ba(e);function s({translateExtent:o,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:p=!1}){const v=k=>{if(k.sourceEvent.type!=="wheel"||!t)return;const _=n(),A=k.sourceEvent.ctrlKey&&zy()?10:1,T=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*d,C=_[2]*Math.pow(2,T*A);t.scaleTo(C)};let x=[0,0];const b=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(x=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},w=k=>{const _=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!t)return;const A=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],T=[A[0]-x[0],A[1]-x[1]];x=A;const C=r()*Math.max(_[2],Math.log(_[2]))*(p?-1:1),I={x:_[0]-T[0]*C,y:_[1]-T[1]*C},B=[[0,0],[c,u]];t.setViewportConstrained({x:I.x,y:I.y,zoom:_[2]},B,o)},E=whe().on("start",b).on("zoom",f?w:null).on("zoom.wheel",h?v:null);i.call(E,{})}function a(){i.on("zoom",null)}return{update:s,destroy:a,pointer:ol}}const a_=e=>({x:e.x,y:e.y,zoom:e.k}),Q5=({x:e,y:t,zoom:n})=>r_.translate(e,t).scale(n),Km=(e,t)=>e.target.closest(`.${t}`),Yhe=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),jyt=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Z5=(e,t=0,n=jyt,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Xhe=e=>{const t=e.ctrlKey&&zy()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Pyt({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:a,onPanZoomStart:o,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(Km(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&a){const b=ol(d),w=Xhe(d),E=f*Math.pow(2,w);r.scaleTo(n,E,b,d);return}const h=d.deltaMode===1?20:1;let p=i===Gh.Vertical?0:d.deltaX*h,v=i===Gh.Horizontal?0:d.deltaY*h;!zy()&&d.shiftKey&&i!==Gh.Vertical&&(p=d.deltaY*h,v=0),r.translateBy(n,-(p/f)*s,-(v/f)*s,{internal:!0});const x=a_(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,o==null||o(d,x))}}function Iyt({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",a=!t&&s&&!r.ctrlKey,o=Km(r,e);if(r.ctrlKey&&s&&o&&r.preventDefault(),a||o)return null;r.preventDefault(),n.call(this,r,i)}}function Ryt({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,a,o;if((s=r.sourceEvent)!=null&&s.internal)return;const i=a_(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((o=r.sourceEvent)==null?void 0:o.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function Myt({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var a,o;e.usedRightMouseButton=!!(n&&Yhe(t,e.mouseButton??0)),(a=s.sourceEvent)!=null&&a.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((o=s.sourceEvent)!=null&&o.internal)&&(i==null||i(s.sourceEvent,a_(s.transform)))}}function Oyt({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return a=>{var o;if(!((o=a.sourceEvent)!=null&&o.internal)&&(e.isZoomingOrPanning=!1,s&&Yhe(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&s(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const c=a_(a.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,c)},n?150:0)}}}function Dyt({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:o,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var b;const h=e||t,p=n&&f.ctrlKey,v=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Km(f,`${u}-flow__node`)||Km(f,`${u}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||a||d&&!v||Km(f,o)&&v||Km(f,c)&&(!v||i&&v&&!e)||!n&&f.ctrlKey&&v)return!1;if(!n&&f.type==="touchstart"&&((b=f.touches)==null?void 0:b.length)>1)return f.preventDefault(),!1;if(!h&&!i&&!p&&v||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||v)&&x}}function Lyt({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:o,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=whe().scaleExtent([t,n]).translateExtent(r),h=Ba(e).call(f);E({x:i.x,y:i.y,zoom:Xp(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const p=h.on("wheel.zoom"),v=h.on("dblclick.zoom");f.wheelDelta(Xhe);function x(L,U){return h?new Promise(Y=>{f==null||f.interpolate((U==null?void 0:U.interpolate)==="linear"?wu:l4).transform(Z5(h,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>Y(!0)),L)}):Promise.resolve(!1)}function b({noWheelClassName:L,noPanClassName:U,onPaneContextMenu:Y,userSelectionActive:V,panOnScroll:K,panOnDrag:W,panOnScrollMode:J,panOnScrollSpeed:q,preventScrolling:G,zoomOnPinch:j,zoomOnScroll:M,zoomOnDoubleClick:z,zoomActivationKeyPressed:O,lib:X,onTransformChange:ne,connectionInProgress:re,paneClickDistance:Q,selectionOnDrag:te}){V&&!u.isZoomingOrPanning&&w();const ie=K&&!O&&!V;f.clickDistance(te?1/0:!wl(Q)||Q<0?0:Q);const fe=ie?Pyt({zoomPanValues:u,noWheelClassName:L,d3Selection:h,d3Zoom:f,panOnScrollMode:J,panOnScrollSpeed:q,zoomOnPinch:j,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:o}):Iyt({noWheelClassName:L,preventScrolling:G,d3ZoomHandler:p});if(h.on("wheel.zoom",fe,{passive:!1}),!V){const ae=Ryt({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",ae);const Pe=Myt({zoomPanValues:u,panOnDrag:W,onPaneContextMenu:!!Y,onPanZoom:s,onTransformChange:ne});f.on("zoom",Pe);const Te=Oyt({zoomPanValues:u,panOnDrag:W,panOnScroll:K,onPaneContextMenu:Y,onPanZoomEnd:o,onDraggingChange:c});f.on("end",Te)}const he=Dyt({zoomActivationKeyPressed:O,panOnDrag:W,zoomOnScroll:M,panOnScroll:K,zoomOnDoubleClick:z,zoomOnPinch:j,userSelectionActive:V,noPanClassName:U,noWheelClassName:L,lib:X,connectionInProgress:re});f.filter(he),z?h.on("dblclick.zoom",v):h.on("dblclick.zoom",null)}function w(){f.on("zoom",null)}async function E(L,U,Y){const V=Q5(L),K=f==null?void 0:f.constrain()(V,U,Y);return K&&await x(K),new Promise(W=>W(K))}async function k(L,U){const Y=Q5(L);return await x(Y,U),new Promise(V=>V(Y))}function _(L){if(h){const U=Q5(L),Y=h.property("__zoom");(Y.k!==L.zoom||Y.x!==L.x||Y.y!==L.y)&&(f==null||f.transform(h,U,null,{sync:!0}))}}function A(){const L=h?bhe(h.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function T(L,U){return h?new Promise(Y=>{f==null||f.interpolate((U==null?void 0:U.interpolate)==="linear"?wu:l4).scaleTo(Z5(h,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>Y(!0)),L)}):Promise.resolve(!1)}function C(L,U){return h?new Promise(Y=>{f==null||f.interpolate((U==null?void 0:U.interpolate)==="linear"?wu:l4).scaleBy(Z5(h,U==null?void 0:U.duration,U==null?void 0:U.ease,()=>Y(!0)),L)}):Promise.resolve(!1)}function I(L){f==null||f.scaleExtent(L)}function B(L){f==null||f.translateExtent(L)}function $(L){const U=!wl(L)||L<0?0:L;f==null||f.clickDistance(U)}return{update:b,destroy:w,setViewport:k,setViewportConstrained:E,getViewport:A,scaleTo:T,scaleBy:C,setScaleExtent:I,setTranslateExtent:B,syncViewport:_,setClickDistance:$}}var Jp;(function(e){e.Line="line",e.Handle="handle"})(Jp||(Jp={}));function Fyt({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:s}){const a=e-t,o=n-r,c=[a>0?1:a<0?-1:0,o>0?1:o<0?-1:0];return a&&i&&(c[0]=c[0]*-1),o&&s&&(c[1]=c[1]*-1),c}function DG(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function _d(e,t){return Math.max(0,t-e)}function Cd(e,t){return Math.max(0,e-t)}function D2(e,t,n){return Math.max(0,t-e,e-n)}function LG(e,t){return e?!t:t}function $yt(e,t,n,r,i,s,a,o){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:p,ySnapped:v}=n,{minWidth:x,maxWidth:b,minHeight:w,maxHeight:E}=r,{x:k,y:_,width:A,height:T,aspectRatio:C}=e;let I=Math.floor(d?p-e.pointerX:0),B=Math.floor(f?v-e.pointerY:0);const $=A+(c?-I:I),L=T+(u?-B:B),U=-s[0]*A,Y=-s[1]*T;let V=D2($,x,b),K=D2(L,w,E);if(a){let q=0,G=0;c&&I<0?q=_d(k+I+U,a[0][0]):!c&&I>0&&(q=Cd(k+$+U,a[1][0])),u&&B<0?G=_d(_+B+Y,a[0][1]):!u&&B>0&&(G=Cd(_+L+Y,a[1][1])),V=Math.max(V,q),K=Math.max(K,G)}if(o){let q=0,G=0;c&&I>0?q=Cd(k+I,o[0][0]):!c&&I<0&&(q=_d(k+$,o[1][0])),u&&B>0?G=Cd(_+B,o[0][1]):!u&&B<0&&(G=_d(_+L,o[1][1])),V=Math.max(V,q),K=Math.max(K,G)}if(i){if(d){const q=D2($/C,w,E)*C;if(V=Math.max(V,q),a){let G=0;!c&&!u||c&&!u&&h?G=Cd(_+Y+$/C,a[1][1])*C:G=_d(_+Y+(c?I:-I)/C,a[0][1])*C,V=Math.max(V,G)}if(o){let G=0;!c&&!u||c&&!u&&h?G=_d(_+$/C,o[1][1])*C:G=Cd(_+(c?I:-I)/C,o[0][1])*C,V=Math.max(V,G)}}if(f){const q=D2(L*C,x,b)/C;if(K=Math.max(K,q),a){let G=0;!c&&!u||u&&!c&&h?G=Cd(k+L*C+U,a[1][0])/C:G=_d(k+(u?B:-B)*C+U,a[0][0])/C,K=Math.max(K,G)}if(o){let G=0;!c&&!u||u&&!c&&h?G=_d(k+L*C,o[1][0])/C:G=Cd(k+(u?B:-B)*C,o[0][0])/C,K=Math.max(K,G)}}}B=B+(B<0?K:-K),I=I+(I<0?V:-V),i&&(h?$>L*C?B=(LG(c,u)?-I:I)/C:I=(LG(c,u)?-B:B)*C:d?(B=I/C,u=c):(I=B*C,c=u));const W=c?k+I:k,J=u?_+B:_;return{width:A+(c?-I:I),height:T+(u?-B:B),x:s[0]*I*(c?-1:1)+W,y:s[1]*B*(u?-1:1)+J}}const Qhe={width:0,height:0,x:0,y:0},zyt={...Qhe,pointerX:0,pointerY:0,aspectRatio:1};function Byt(e){return[[0,0],[e.measured.width,e.measured.height]]}function Uyt(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,a=e.measured.height??0,o=n[0]*s,c=n[1]*a;return[[r-o,i-c],[r+s-o,i+a-c]]}function Hyt({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const s=Ba(e);let a={controlDirection:DG("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function o({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:p,onResize:v,onResizeEnd:x,shouldResize:b}){let w={...Qhe},E={...zyt};a={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:DG(u)};let k,_=null,A=[],T,C,I,B=!1;const $=fhe().on("start",L=>{const{nodeLookup:U,transform:Y,snapGrid:V,snapToGrid:K,nodeOrigin:W,paneDomNode:J}=n();if(k=U.get(t),!k)return;_=(J==null?void 0:J.getBoundingClientRect())??null;const{xSnapped:q,ySnapped:G}=Ov(L.sourceEvent,{transform:Y,snapGrid:V,snapToGrid:K,containerBounds:_});w={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},E={...w,pointerX:q,pointerY:G,aspectRatio:w.width/w.height},T=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(T=U.get(k.parentId),C=T&&k.extent==="parent"?Byt(T):void 0),A=[],I=void 0;for(const[j,M]of U)if(M.parentId===t&&(A.push({id:j,position:{...M.position},extent:M.extent}),M.extent==="parent"||M.expandParent)){const z=Uyt(M,k,M.origin??W);I?I=[[Math.min(z[0][0],I[0][0]),Math.min(z[0][1],I[0][1])],[Math.max(z[1][0],I[1][0]),Math.max(z[1][1],I[1][1])]]:I=z}p==null||p(L,{...w})}).on("drag",L=>{const{transform:U,snapGrid:Y,snapToGrid:V,nodeOrigin:K}=n(),W=Ov(L.sourceEvent,{transform:U,snapGrid:Y,snapToGrid:V,containerBounds:_}),J=[];if(!k)return;const{x:q,y:G,width:j,height:M}=w,z={},O=k.origin??K,{width:X,height:ne,x:re,y:Q}=$yt(E,a.controlDirection,W,a.boundaries,a.keepAspectRatio,O,C,I),te=X!==j,ie=ne!==M,fe=re!==q&&te,he=Q!==G&&ie;if(!fe&&!he&&!te&&!ie)return;if((fe||he||O[0]===1||O[1]===1)&&(z.x=fe?re:w.x,z.y=he?Q:w.y,w.x=z.x,w.y=z.y,A.length>0)){const Ge=re-q,nt=Q-G;for(const vt of A)vt.position={x:vt.position.x-Ge+O[0]*(X-j),y:vt.position.y-nt+O[1]*(ne-M)},J.push(vt)}if((te||ie)&&(z.width=te&&(!a.resizeDirection||a.resizeDirection==="horizontal")?X:w.width,z.height=ie&&(!a.resizeDirection||a.resizeDirection==="vertical")?ne:w.height,w.width=z.width,w.height=z.height),T&&k.expandParent){const Ge=O[0]*(z.width??0);z.x&&z.x<Ge&&(w.x=Ge,E.x=E.x-(z.x-Ge));const nt=O[1]*(z.height??0);z.y&&z.y<nt&&(w.y=nt,E.y=E.y-(z.y-nt))}const ae=Fyt({width:w.width,prevWidth:j,height:w.height,prevHeight:M,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),Pe={...w,direction:ae};(b==null?void 0:b(L,Pe))!==!1&&(B=!0,v==null||v(L,Pe),r(z,J))}).on("end",L=>{B&&(x==null||x(L,{...w}),i==null||i({...w}),B=!1)});s.call($)}function c(){s.on(".drag",null)}return{update:o,destroy:c}}const Vyt={},FG=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,p))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Vyt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},qyt=e=>e?FG(e):FG,{useDebugValue:Wyt}=Xe,{useSyncExternalStoreWithSelector:Gyt}=Rtt,Kyt=e=>e;function Zhe(e,t=Kyt,n){const r=Gyt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Wyt(r),r}const $G=(e,t)=>{const n=qyt(e),r=(i,s=t)=>Zhe(n,i,s);return Object.assign(r,n),r},Yyt=(e,t)=>e?$G(e,t):$G;function Dr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const o_=y.createContext(null),Xyt=o_.Provider,Jhe=Cc.error001();function $n(e,t){const n=y.useContext(o_);if(n===null)throw new Error(Jhe);return Zhe(n,e,t)}function zr(){const e=y.useContext(o_);if(e===null)throw new Error(Jhe);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const zG={display:"none"},Qyt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},e0e="react-flow__node-desc",t0e="react-flow__edge-desc",Zyt="react-flow__aria-live",Jyt=e=>e.ariaLiveMessage,ext=e=>e.ariaLabelConfig;function txt({rfId:e}){const t=$n(Jyt);return l.jsx("div",{id:`${Zyt}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Qyt,children:t})}function nxt({rfId:e,disableKeyboardA11y:t}){const n=$n(ext);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${e0e}-${e}`,style:zG,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${t0e}-${e}`,style:zG,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(txt,{rfId:e})]})}const gb=y.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{const a=`${e}`.split("-");return l.jsx("div",{className:Ti(["react-flow__panel",n,...a]),style:r,ref:s,...i,children:t})});gb.displayName="Panel";function rxt({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(gb,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ixt=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},L2=e=>e.id;function sxt(e,t){return Dr(e.selectedNodes.map(L2),t.selectedNodes.map(L2))&&Dr(e.selectedEdges.map(L2),t.selectedEdges.map(L2))}function axt({onSelectionChange:e}){const t=zr(),{selectedNodes:n,selectedEdges:r}=$n(ixt,sxt);return y.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,e]),null}const oxt=e=>!!e.onSelectionChangeHandlers;function lxt({onSelectionChange:e}){const t=$n(oxt);return e||t?l.jsx(axt,{onSelectionChange:e}):null}const n0e=[0,0],cxt={x:0,y:0,zoom:1},uxt=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],BG=[...uxt,"rfId"],dxt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),UG={translateExtent:Ly,nodeOrigin:n0e,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function fxt(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:a,reset:o,setDefaultNodesAndEdges:c}=$n(dxt,Dr),u=zr();y.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=UG,o()}),[]);const d=y.useRef(UG);return y.useEffect(()=>{for(const f of BG){const h=e[f],p=d.current[f];h!==p&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?i(h):f==="translateExtent"?s(h):f==="nodeExtent"?a(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:nyt(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},BG.map(f=>e[f])),null}function HG(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hxt(e){var r;const[t,n]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){n(e);return}const i=HG(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[e]),t!==null?t:(r=HG())!=null&&r.matches?"dark":"light"}const VG=typeof document<"u"?document:null;function By(e=null,t={target:VG,actInsideInputWithModifier:!0}){const[n,r]=y.useState(!1),i=y.useRef(!1),s=y.useRef(new Set([])),[a,o]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=(t==null?void 0:t.target)??VG,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=p=>{var b,w;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&Mhe(p))return!1;const x=WG(p.code,o);if(s.current.add(p[x]),qG(a,s.current,!1)){const E=((w=(b=p.composedPath)==null?void 0:b.call(p))==null?void 0:w[0])||p.target,k=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";t.preventDefault!==!1&&(i.current||!k)&&p.preventDefault(),r(!0)}},f=p=>{const v=WG(p.code,o);qG(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[v]),p.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function qG(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function WG(e,t){return t.includes(e)?"code":"key"}const mxt=()=>{const e=zr();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,s],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:s,maxZoom:a,panZoom:o}=e.getState(),c=wO(t,r,i,s,a,(n==null?void 0:n.padding)??.1);return o?(await o.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:a}=e.getState();if(!a)return t;const{x:o,y:c}=a.getBoundingClientRect(),u={x:t.x-o,y:t.y-c},d=n.snapGrid??i,f=n.snapToGrid??s;return pb(u,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:s}=r.getBoundingClientRect(),a=TS(t,n);return{x:a.x+i,y:a.y+s}}}),[])};function r0e(e,t){const n=[],r=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const a=r.get(s.id);a?a.push(s):r.set(s.id,[s])}for(const s of t){const a=r.get(s.id);if(!a){n.push(s);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const o={...s};for(const c of a)pxt(c,o);n.push(o)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function pxt(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function i0e(e,t){return r0e(e,t)}function s0e(e,t){return r0e(e,t)}function hh(e,t){return{id:e,type:"select",selected:t}}function Ym(e,t=new Set,n=!1){const r=[];for(const[i,s]of e){const a=t.has(i);!(s.selected===void 0&&!a)&&s.selected!==a&&(n&&(s.selected=a),r.push(hh(s.id,a)))}return r}function GG({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,a]of e.entries()){const o=t.get(a.id),c=((i=o==null?void 0:o.internals)==null?void 0:i.userNode)??o;c!==void 0&&c!==a&&n.push({id:a.id,item:a,type:"replace"}),c===void 0&&n.push({item:a,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function KG(e){return{id:e.id,type:"remove"}}const YG=e=>Wvt(e),gxt=e=>Che(e);function a0e(e){return y.forwardRef(e)}const vxt=typeof window<"u"?y.useLayoutEffect:y.useEffect;function XG(e){const[t,n]=y.useState(BigInt(0)),[r]=y.useState(()=>yxt(()=>n(i=>i+BigInt(1))));return vxt(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function yxt(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const o0e=y.createContext(null);function xxt({children:e}){const t=zr(),n=y.useCallback(o=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:p,onNodesChangeMiddlewareMap:v}=t.getState();let x=c;for(const w of o)x=typeof w=="function"?w(x):w;let b=GG({items:x,lookup:h});for(const w of v.values())b=w(b);d&&u(x),b.length>0?f==null||f(b):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:E,setNodes:k}=t.getState();w&&k(E)})},[]),r=XG(n),i=y.useCallback(o=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let p=c;for(const v of o)p=typeof v=="function"?v(p):v;d?u(p):f&&f(GG({items:p,lookup:h}))},[]),s=XG(i),a=y.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return l.jsx(o0e.Provider,{value:a,children:e})}function bxt(){const e=y.useContext(o0e);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const wxt=e=>!!e.panZoom;function TO(){const e=mxt(),t=zr(),n=bxt(),r=$n(wxt),i=y.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},o=f=>{n.edgeQueue.push(f)},c=f=>{var w,E;const{nodeLookup:h,nodeOrigin:p}=t.getState(),v=YG(f)?f:h.get(f.id),x=v.parentId?Ihe(v.position,v.measured,v.parentId,h,p):v.position,b={...v,position:x,width:((w=v.measured)==null?void 0:w.width)??v.width,height:((E=v.measured)==null?void 0:E.height)??v.height};return Qp(b)},u=(f,h,p={replace:!1})=>{a(v=>v.map(x=>{if(x.id===f){const b=typeof h=="function"?h(x):h;return p.replace&&YG(b)?b:{...x,...b}}return x}))},d=(f,h,p={replace:!1})=>{o(v=>v.map(x=>{if(x.id===f){const b=typeof h=="function"?h(x):h;return p.replace&&gxt(b)?b:{...x,...b}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=s(f))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:o,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(p=>[...p,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:p}=t.getState(),[v,x,b]=p;return{nodes:f.map(w=>({...w})),edges:h.map(w=>({...w})),viewport:{x:v,y:x,zoom:b}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:p,edges:v,onNodesDelete:x,onEdgesDelete:b,triggerNodeChanges:w,triggerEdgeChanges:E,onDelete:k,onBeforeDelete:_}=t.getState(),{nodes:A,edges:T}=await Qvt({nodesToRemove:f,edgesToRemove:h,nodes:p,edges:v,onBeforeDelete:_}),C=T.length>0,I=A.length>0;if(C){const B=T.map(KG);b==null||b(T),E(B)}if(I){const B=A.map(KG);x==null||x(A),w(B)}return(I||C)&&(k==null||k({nodes:A,edges:T})),{deletedNodes:A,deletedEdges:T}},getIntersectingNodes:(f,h=!0,p)=>{const v=_G(f),x=v?f:c(f),b=p!==void 0;return x?(p||t.getState().nodes).filter(w=>{const E=t.getState().nodeLookup.get(w.id);if(E&&!v&&(w.id===f.id||!E.internals.positionAbsolute))return!1;const k=Qp(b?w:E),_=$y(k,x);return h&&_>0||_>=k.width*k.height||_>=x.width*x.height}):[]},isNodeIntersecting:(f,h,p=!0)=>{const x=_G(f)?f:c(f);if(!x)return!1;const b=$y(x,h);return p&&b>0||b>=h.width*h.height||b>=x.width*x.height},updateNode:u,updateNodeData:(f,h,p={replace:!1})=>{u(f,v=>{const x=typeof h=="function"?h(v):h;return p.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},p)},updateEdge:d,updateEdgeData:(f,h,p={replace:!1})=>{d(f,v=>{const x=typeof h=="function"?h(v):h;return p.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},p)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:p}=t.getState();return Gvt(f,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:f,id:h,nodeId:p})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${p}-${f}${h?`-${h}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:p})=>{var v;return Array.from(((v=t.getState().connectionLookup.get(`${p}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:v.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??tyt();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(p=>[...p]),h.promise}}},[]);return y.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const QG=e=>e.selected,Ext=typeof window<"u"?window:void 0;function Sxt({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=zr(),{deleteElements:r}=TO(),i=By(e,{actInsideInputWithModifier:!1}),s=By(t,{target:Ext});y.useEffect(()=>{if(i){const{edges:a,nodes:o}=n.getState();r({nodes:o.filter(QG),edges:a.filter(QG)}),n.setState({nodesSelectionActive:!1})}},[i]),y.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function kxt(e){const t=zr();y.useEffect(()=>{const n=()=>{var i,s,a,o;if(!e.current||!(((s=(i=e.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=EO(e.current);(r.height===0||r.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",Cc.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const l_={position:"absolute",width:"100%",height:"100%",top:0,left:0},_xt=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function Cxt({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Gh.Free,zoomOnDoubleClick:a=!0,panOnDrag:o=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:p=!0,children:v,noWheelClassName:x,noPanClassName:b,onViewportChange:w,isControlledViewport:E,paneClickDistance:k,selectionOnDrag:_}){const A=zr(),T=y.useRef(null),{userSelectionActive:C,lib:I,connectionInProgress:B}=$n(_xt,Dr),$=By(h),L=y.useRef();kxt(T);const U=y.useCallback(Y=>{w==null||w({x:Y[0],y:Y[1],zoom:Y[2]}),E||A.setState({transform:Y})},[w,E]);return y.useEffect(()=>{if(T.current){L.current=Lyt({domNode:T.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:W=>A.setState({paneDragging:W}),onPanZoomStart:(W,J)=>{const{onViewportChangeStart:q,onMoveStart:G}=A.getState();G==null||G(W,J),q==null||q(J)},onPanZoom:(W,J)=>{const{onViewportChange:q,onMove:G}=A.getState();G==null||G(W,J),q==null||q(J)},onPanZoomEnd:(W,J)=>{const{onViewportChangeEnd:q,onMoveEnd:G}=A.getState();G==null||G(W,J),q==null||q(J)}});const{x:Y,y:V,zoom:K}=L.current.getViewport();return A.setState({panZoom:L.current,transform:[Y,V,K],domNode:T.current.closest(".react-flow")}),()=>{var W;(W=L.current)==null||W.destroy()}}},[]),y.useEffect(()=>{var Y;(Y=L.current)==null||Y.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:a,panOnDrag:o,zoomActivationKeyPressed:$,preventScrolling:p,noPanClassName:b,userSelectionActive:C,noWheelClassName:x,lib:I,onTransformChange:U,connectionInProgress:B,selectionOnDrag:_,paneClickDistance:k})},[e,t,n,r,i,s,a,o,$,p,b,C,x,I,U,B,_,k]),l.jsx("div",{className:"react-flow__renderer",ref:T,style:l_,children:v})}const Nxt=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Txt(){const{userSelectionActive:e,userSelectionRect:t}=$n(Nxt,Dr);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const J5=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Axt=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function jxt({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Fy.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:a,onSelectionEnd:o,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:p,children:v}){const x=zr(),{userSelectionActive:b,elementsSelectable:w,dragging:E,connectionInProgress:k}=$n(Axt,Dr),_=w&&(e||b),A=y.useRef(null),T=y.useRef(),C=y.useRef(new Set),I=y.useRef(new Set),B=y.useRef(!1),$=q=>{if(B.current||k){B.current=!1;return}c==null||c(q),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},L=q=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){q.preventDefault();return}u==null||u(q)},U=d?q=>d(q):void 0,Y=q=>{B.current&&(q.stopPropagation(),B.current=!1)},V=q=>{var ne,re;const{domNode:G}=x.getState();if(T.current=G==null?void 0:G.getBoundingClientRect(),!T.current)return;const j=q.target===A.current;if(!j&&!!q.target.closest(".nokey")||!e||!(s&&j||t)||q.button!==0||!q.isPrimary)return;(re=(ne=q.target)==null?void 0:ne.setPointerCapture)==null||re.call(ne,q.pointerId),B.current=!1;const{x:O,y:X}=El(q.nativeEvent,T.current);x.setState({userSelectionRect:{width:0,height:0,startX:O,startY:X,x:O,y:X}}),j||(q.stopPropagation(),q.preventDefault())},K=q=>{const{userSelectionRect:G,transform:j,nodeLookup:M,edgeLookup:z,connectionLookup:O,triggerNodeChanges:X,triggerEdgeChanges:ne,defaultEdgeOptions:re,resetSelectedElements:Q}=x.getState();if(!T.current||!G)return;const{x:te,y:ie}=El(q.nativeEvent,T.current),{startX:fe,startY:he}=G;if(!B.current){const nt=t?0:i;if(Math.hypot(te-fe,ie-he)<=nt)return;Q(),a==null||a(q)}B.current=!0;const ae={startX:fe,startY:he,x:te<fe?te:fe,y:ie<he?ie:he,width:Math.abs(te-fe),height:Math.abs(ie-he)},Pe=C.current,Te=I.current;C.current=new Set(bO(M,ae,j,n===Fy.Partial,!0).map(nt=>nt.id)),I.current=new Set;const Ge=(re==null?void 0:re.selectable)??!0;for(const nt of C.current){const vt=O.get(nt);if(vt)for(const{edgeId:Ct}of vt.values()){const Tt=z.get(Ct);Tt&&(Tt.selectable??Ge)&&I.current.add(Ct)}}if(!CG(Pe,C.current)){const nt=Ym(M,C.current,!0);X(nt)}if(!CG(Te,I.current)){const nt=Ym(z,I.current);ne(nt)}x.setState({userSelectionRect:ae,userSelectionActive:!0,nodesSelectionActive:!1})},W=q=>{var G,j;q.button===0&&((j=(G=q.target)==null?void 0:G.releasePointerCapture)==null||j.call(G,q.pointerId),!b&&q.target===A.current&&x.getState().userSelectionRect&&($==null||$(q)),x.setState({userSelectionActive:!1,userSelectionRect:null}),B.current&&(o==null||o(q),x.setState({nodesSelectionActive:C.current.size>0})))},J=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:Ti(["react-flow__pane",{draggable:J,dragging:E,selection:e}]),onClick:_?void 0:J5($,A),onContextMenu:J5(L,A),onWheel:J5(U,A),onPointerEnter:_?void 0:f,onPointerMove:_?K:h,onPointerUp:_?W:void 0,onPointerDownCapture:_?V:void 0,onClickCapture:_?Y:void 0,onPointerLeave:p,ref:A,style:l_,children:[v,l.jsx(Txt,{})]})}function Nj({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeLookup:o,onError:c}=t.getState(),u=o.get(e);if(!u){c==null||c("012",Cc.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([e])}function l0e({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:a}){const o=zr(),[c,u]=y.useState(!1),d=y.useRef();return y.useEffect(()=>{d.current=Syt({getStoreItems:()=>o.getState(),onNodeMouseDown:f=>{Nj({id:f,store:o,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),y.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:a}),()=>{var p;(p=d.current)==null||p.destroy()}},[n,r,t,s,e,i]),c}const Pxt=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function c0e(){const e=zr();return y.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:a,onError:o,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=Pxt(a),p=i?s[0]:5,v=i?s[1]:5,x=n.direction.x*p*n.factor,b=n.direction.y*v*n.factor;for(const[,w]of u){if(!h(w))continue;let E={x:w.internals.positionAbsolute.x+x,y:w.internals.positionAbsolute.y+b};i&&(E=mb(E,s));const{position:k,positionAbsolute:_}=Nhe({nodeId:w.id,nextPosition:E,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:o});w.position=k,w.internals.positionAbsolute=_,f.set(w.id,w)}c(f)},[])}const AO=y.createContext(null),Ixt=AO.Provider;AO.Consumer;const u0e=()=>y.useContext(AO),Rxt=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Mxt=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:a}=r,{fromHandle:o,toHandle:c,isValid:u}=a,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,connectingTo:d,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Kp.Strict?(o==null?void 0:o.type)!==n:e!==(o==null?void 0:o.nodeId)||t!==(o==null?void 0:o.id),connectionInProcess:!!o,clickConnectionInProcess:!!i,valid:d&&u}};function Oxt({type:e="source",position:t=Kt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:o,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},p){var K,W;const v=a||null,x=e==="target",b=zr(),w=u0e(),{connectOnClick:E,noPanClassName:k,rfId:_}=$n(Rxt,Dr),{connectingFrom:A,connectingTo:T,clickConnecting:C,isPossibleEndHandle:I,connectionInProcess:B,clickConnectionInProcess:$,valid:L}=$n(Mxt(w,v,e),Dr);w||(W=(K=b.getState()).onError)==null||W.call(K,"010",Cc.error010());const U=J=>{const{defaultEdgeOptions:q,onConnect:G,hasDefaultEdges:j}=b.getState(),M={...q,...J};if(j){const{edges:z,setEdges:O}=b.getState();O($he(M,z))}G==null||G(M),o==null||o(M)},Y=J=>{if(!w)return;const q=Ohe(J.nativeEvent);if(i&&(q&&J.button===0||!q)){const G=b.getState();Cj.onPointerDown(J.nativeEvent,{handleDomNode:J.currentTarget,autoPanOnConnect:G.autoPanOnConnect,connectionMode:G.connectionMode,connectionRadius:G.connectionRadius,domNode:G.domNode,nodeLookup:G.nodeLookup,lib:G.lib,isTarget:x,handleId:v,nodeId:w,flowId:G.rfId,panBy:G.panBy,cancelConnection:G.cancelConnection,onConnectStart:G.onConnectStart,onConnectEnd:G.onConnectEnd,updateConnection:G.updateConnection,onConnect:U,isValidConnection:n||G.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:G.autoPanSpeed,dragThreshold:G.connectionDragThreshold})}q?d==null||d(J):f==null||f(J)},V=J=>{const{onClickConnectStart:q,onClickConnectEnd:G,connectionClickStartHandle:j,connectionMode:M,isValidConnection:z,lib:O,rfId:X,nodeLookup:ne,connection:re}=b.getState();if(!w||!j&&!i)return;if(!j){q==null||q(J.nativeEvent,{nodeId:w,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:w,type:e,id:v}});return}const Q=Rhe(J.target),te=n||z,{connection:ie,isValid:fe}=Cj.isValid(J.nativeEvent,{handle:{nodeId:w,id:v,type:e},connectionMode:M,fromNodeId:j.nodeId,fromHandleId:j.id||null,fromType:j.type,isValidConnection:te,flowId:X,doc:Q,lib:O,nodeLookup:ne});fe&&ie&&U(ie);const he=structuredClone(re);delete he.inProgress,he.toPosition=he.toHandle?he.toHandle.position:null,G==null||G(J,he),b.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":v,"data-nodeid":w,"data-handlepos":t,"data-id":`${_}-${w}-${v}-${e}`,className:Ti(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,u,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:s,clickconnecting:C,connectingfrom:A,connectingto:T,valid:L,connectionindicator:r&&(!B||I)&&(B||$?s:i)}]),onMouseDown:Y,onTouchStart:Y,onClick:E?V:void 0,ref:p,...h,children:c})}const Tl=y.memo(a0e(Oxt));function Dxt({data:e,isConnectable:t,sourcePosition:n=Kt.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(Tl,{type:"source",position:n,isConnectable:t})]})}function Lxt({data:e,isConnectable:t,targetPosition:n=Kt.Top,sourcePosition:r=Kt.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(Tl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,l.jsx(Tl,{type:"source",position:r,isConnectable:t})]})}function Fxt(){return null}function $xt({data:e,isConnectable:t,targetPosition:n=Kt.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(Tl,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const AS={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ZG={input:Dxt,default:Lxt,output:$xt,group:Fxt};function zxt(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const Bxt=e=>{const{width:t,height:n,x:r,y:i}=hb(e.nodeLookup,{filter:s=>!!s.selected});return{width:wl(t)?t:null,height:wl(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function Uxt({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=zr(),{width:i,height:s,transformString:a,userSelectionActive:o}=$n(Bxt,Dr),c=c0e(),u=y.useRef(null);if(y.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),l0e({nodeRef:u}),o||!i||!s)return null;const d=e?h=>{const p=r.getState().nodes.filter(v=>v.selected);e(h,p)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(AS,h.key)&&(h.preventDefault(),c({direction:AS[h.key],factor:h.shiftKey?4:1}))};return l.jsx("div",{className:Ti(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:l.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:s}})})}const JG=typeof window<"u"?window:void 0,Hxt=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function d0e({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,paneClickDistance:o,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:k,panOnScroll:_,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:C,panOnDrag:I,defaultViewport:B,translateExtent:$,minZoom:L,maxZoom:U,preventScrolling:Y,onSelectionContextMenu:V,noWheelClassName:K,noPanClassName:W,disableKeyboardA11y:J,onViewportChange:q,isControlledViewport:G}){const{nodesSelectionActive:j,userSelectionActive:M}=$n(Hxt,Dr),z=By(u,{target:JG}),O=By(x,{target:JG}),X=O||I,ne=O||_,re=d&&X!==!0,Q=z||M||re;return Sxt({deleteKeyCode:c,multiSelectionKeyCode:v}),l.jsx(Cxt,{onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:k,panOnScroll:ne,panOnScrollSpeed:A,panOnScrollMode:T,zoomOnDoubleClick:C,panOnDrag:!z&&X,defaultViewport:B,translateExtent:$,minZoom:L,maxZoom:U,zoomActivationKeyCode:b,preventScrolling:Y,noWheelClassName:K,noPanClassName:W,onViewportChange:q,isControlledViewport:G,paneClickDistance:o,selectionOnDrag:re,children:l.jsxs(jxt,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:X,isSelecting:!!Q,selectionMode:f,selectionKeyPressed:z,paneClickDistance:o,selectionOnDrag:re,children:[e,j&&l.jsx(Uxt,{onSelectionContextMenu:V,noPanClassName:W,disableKeyboardA11y:J})]})})}d0e.displayName="FlowRenderer";const Vxt=y.memo(d0e),qxt=e=>t=>e?bO(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Wxt(e){return $n(y.useCallback(qxt(e),[e]),Dr)}const Gxt=e=>e.updateNodeInternals;function Kxt(){const e=$n(Gxt),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),e(r)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Yxt({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=zr(),s=y.useRef(null),a=y.useRef(null),o=y.useRef(e.sourcePosition),c=y.useRef(e.targetPosition),u=y.useRef(t),d=n&&!!e.internals.handleBounds;return y.useEffect(()=>{s.current&&!e.hidden&&(!d||a.current!==s.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(s.current),a.current=s.current)},[d,e.hidden]),y.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),y.useEffect(()=>{if(s.current){const f=u.current!==t,h=o.current!==e.sourcePosition,p=c.current!==e.targetPosition;(f||h||p)&&(u.current=t,o.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function Xxt({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:a,nodesDraggable:o,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:v,rfId:x,nodeTypes:b,nodeClickDistance:w,onError:E}){const{node:k,internals:_,isParent:A}=$n(te=>{const ie=te.nodeLookup.get(e),fe=te.parentLookup.has(e);return{node:ie,internals:ie.internals,isParent:fe}},Dr);let T=k.type||"default",C=(b==null?void 0:b[T])||ZG[T];C===void 0&&(E==null||E("003",Cc.error003(T)),T="default",C=(b==null?void 0:b.default)||ZG.default);const I=!!(k.draggable||o&&typeof k.draggable>"u"),B=!!(k.selectable||c&&typeof k.selectable>"u"),$=!!(k.connectable||u&&typeof k.connectable>"u"),L=!!(k.focusable||d&&typeof k.focusable>"u"),U=zr(),Y=Phe(k),V=Yxt({node:k,nodeType:T,hasDimensions:Y,resizeObserver:f}),K=l0e({nodeRef:V,disabled:k.hidden||!I,noDragClassName:h,handleSelector:k.dragHandle,nodeId:e,isSelectable:B,nodeClickDistance:w}),W=c0e();if(k.hidden)return null;const J=td(k),q=zxt(k),G=B||I||t||n||r||i,j=n?te=>n(te,{..._.userNode}):void 0,M=r?te=>r(te,{..._.userNode}):void 0,z=i?te=>i(te,{..._.userNode}):void 0,O=s?te=>s(te,{..._.userNode}):void 0,X=a?te=>a(te,{..._.userNode}):void 0,ne=te=>{const{selectNodesOnDrag:ie,nodeDragThreshold:fe}=U.getState();B&&(!ie||!I||fe>0)&&Nj({id:e,store:U,nodeRef:V}),t&&t(te,{..._.userNode})},re=te=>{if(!(Mhe(te.nativeEvent)||v)){if(Ehe.includes(te.key)&&B){const ie=te.key==="Escape";Nj({id:e,store:U,unselect:ie,nodeRef:V})}else if(I&&k.selected&&Object.prototype.hasOwnProperty.call(AS,te.key)){te.preventDefault();const{ariaLabelConfig:ie}=U.getState();U.setState({ariaLiveMessage:ie["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),W({direction:AS[te.key],factor:te.shiftKey?4:1})}}},Q=()=>{var Te;if(v||!((Te=V.current)!=null&&Te.matches(":focus-visible")))return;const{transform:te,width:ie,height:fe,autoPanOnNodeFocus:he,setCenter:ae}=U.getState();if(!he)return;bO(new Map([[e,k]]),{x:0,y:0,width:ie,height:fe},te,!0).length>0||ae(k.position.x+J.width/2,k.position.y+J.height/2,{zoom:te[2]})};return l.jsx("div",{className:Ti(["react-flow__node",`react-flow__node-${T}`,{[p]:I},k.className,{selected:k.selected,selectable:B,parent:A,draggable:I,dragging:K}]),ref:V,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:G?"all":"none",visibility:Y?"visible":"hidden",...k.style,...q},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:j,onMouseMove:M,onMouseLeave:z,onContextMenu:O,onClick:ne,onDoubleClick:X,onKeyDown:L?re:void 0,tabIndex:L?0:void 0,onFocus:L?Q:void 0,role:k.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${e0e}-${x}`,"aria-label":k.ariaLabel,...k.domAttributes,children:l.jsx(Ixt,{value:e,children:l.jsx(C,{id:e,data:k.data,type:T,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:k.selected??!1,selectable:B,draggable:I,deletable:k.deletable??!0,isConnectable:$,sourcePosition:k.sourcePosition,targetPosition:k.targetPosition,dragging:K,dragHandle:k.dragHandle,zIndex:_.z,parentId:k.parentId,...J})})})}var Qxt=y.memo(Xxt);const Zxt=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function f0e(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=$n(Zxt,Dr),a=Wxt(e.onlyRenderVisibleElements),o=Kxt();return l.jsx("div",{className:"react-flow__nodes",style:l_,children:a.map(c=>l.jsx(Qxt,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:o,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}f0e.displayName="NodeRenderer";const Jxt=y.memo(f0e);function ebt(e){return $n(y.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);s&&a&&syt({sourceNode:s,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Dr)}const tbt=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},nbt=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},eK={[Yp.Arrow]:tbt,[Yp.ArrowClosed]:nbt};function rbt(e){const t=zr();return y.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(eK,e)?eK[e]:((s=(i=t.getState()).onError)==null||s.call(i,"009",Cc.error009(e)),null)},[e])}const ibt=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const c=rbt(t);return c?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0",children:l.jsx(c,{color:n,strokeWidth:a})}):null},h0e=({defaultColor:e,rfId:t})=>{const n=$n(s=>s.edges),r=$n(s=>s.defaultEdgeOptions),i=y.useMemo(()=>fyt(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:i.map(s=>l.jsx(ibt,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};h0e.displayName="MarkerDefinitions";var sbt=y.memo(h0e);function m0e({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:c,className:u,...d}){const[f,h]=y.useState({x:1,y:0,width:0,height:0}),p=Ti(["react-flow__edge-textwrapper",u]),v=y.useRef(null);return y.useEffect(()=>{if(v.current){const x=v.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...d,children:[i&&l.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),l.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:n}),c]}):null}m0e.displayName="EdgeText";const abt=y.memo(m0e);function c_({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:o,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...d,d:e,fill:"none",className:Ti(["react-flow__edge-path",d.className])}),u?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&wl(t)&&wl(n)?l.jsx(abt,{x:t,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:a,labelBgPadding:o,labelBgBorderRadius:c}):null]})}function tK({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Kt.Left||e===Kt.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function p0e({sourceX:e,sourceY:t,sourcePosition:n=Kt.Bottom,targetX:r,targetY:i,targetPosition:s=Kt.Top}){const[a,o]=tK({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,u]=tK({pos:s,x1:r,y1:i,x2:e,y2:t}),[d,f,h,p]=Dhe({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:o,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${o} ${c},${u} ${r},${i}`,d,f,h,p]}function g0e(e){return y.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:a,targetPosition:o,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:x,markerStart:b,interactionWidth:w})=>{const[E,k,_]=p0e({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:s,targetPosition:o}),A=e.isInternal?void 0:t;return l.jsx(c_,{id:A,path:E,labelX:k,labelY:_,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:x,markerStart:b,interactionWidth:w})})}const obt=g0e({isInternal:!1}),v0e=g0e({isInternal:!0});obt.displayName="SimpleBezierEdge";v0e.displayName="SimpleBezierEdgeInternal";function y0e(e){return y.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:p=Kt.Bottom,targetPosition:v=Kt.Top,markerEnd:x,markerStart:b,pathOptions:w,interactionWidth:E})=>{const[k,_,A]=Sj({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:s,targetPosition:v,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset,stepPosition:w==null?void 0:w.stepPosition}),T=e.isInternal?void 0:t;return l.jsx(c_,{id:T,path:k,labelX:_,labelY:A,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:b,interactionWidth:E})})}const x0e=y0e({isInternal:!1}),b0e=y0e({isInternal:!0});x0e.displayName="SmoothStepEdge";b0e.displayName="SmoothStepEdgeInternal";function w0e(e){return y.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return l.jsx(x0e,{...n,id:r,pathOptions:y.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const lbt=w0e({isInternal:!1}),E0e=w0e({isInternal:!0});lbt.displayName="StepEdge";E0e.displayName="StepEdgeInternal";function S0e(e){return y.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:x})=>{const[b,w,E]=zhe({sourceX:n,sourceY:r,targetX:i,targetY:s}),k=e.isInternal?void 0:t;return l.jsx(c_,{id:k,path:b,labelX:w,labelY:E,label:a,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:x})})}const cbt=S0e({isInternal:!1}),k0e=S0e({isInternal:!0});cbt.displayName="StraightEdge";k0e.displayName="StraightEdgeInternal";function _0e(e){return y.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:a=Kt.Bottom,targetPosition:o=Kt.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:x,markerStart:b,pathOptions:w,interactionWidth:E})=>{const[k,_,A]=Lhe({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:s,targetPosition:o,curvature:w==null?void 0:w.curvature}),T=e.isInternal?void 0:t;return l.jsx(c_,{id:T,path:k,labelX:_,labelY:A,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:x,markerStart:b,interactionWidth:E})})}const ubt=_0e({isInternal:!1}),C0e=_0e({isInternal:!0});ubt.displayName="BezierEdge";C0e.displayName="BezierEdgeInternal";const nK={default:C0e,straight:k0e,step:E0e,smoothstep:b0e,simplebezier:v0e},rK={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},dbt=(e,t,n)=>n===Kt.Left?e-t:n===Kt.Right?e+t:e,fbt=(e,t,n)=>n===Kt.Top?e-t:n===Kt.Bottom?e+t:e,iK="react-flow__edgeupdater";function sK({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:o}){return l.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:Ti([iK,`${iK}-${o}`]),cx:dbt(t,r,e),cy:fbt(n,r,e),r,stroke:"transparent",fill:"transparent"})}function hbt({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:a,sourcePosition:o,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:p}){const v=zr(),x=(_,A)=>{if(_.button!==0)return;const{autoPanOnConnect:T,domNode:C,isValidConnection:I,connectionMode:B,connectionRadius:$,lib:L,onConnectStart:U,onConnectEnd:Y,cancelConnection:V,nodeLookup:K,rfId:W,panBy:J,updateConnection:q}=v.getState(),G=A.type==="target",j=(O,X)=>{h(!1),f==null||f(O,n,A.type,X)},M=O=>u==null?void 0:u(n,O),z=(O,X)=>{h(!0),d==null||d(_,n,A.type),U==null||U(O,X)};Cj.onPointerDown(_.nativeEvent,{autoPanOnConnect:T,connectionMode:B,connectionRadius:$,domNode:C,handleId:A.id,nodeId:A.nodeId,nodeLookup:K,isTarget:G,edgeUpdaterType:A.type,lib:L,flowId:W,cancelConnection:V,panBy:J,isValidConnection:I,onConnect:M,onConnectStart:z,onConnectEnd:Y,onReconnectEnd:j,updateConnection:q,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},b=_=>x(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),w=_=>x(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>p(!0),k=()=>p(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(sK,{position:o,centerX:r,centerY:i,radius:t,onMouseDown:b,onMouseEnter:E,onMouseOut:k,type:"source"}),(e===!0||e==="target")&&l.jsx(sK,{position:c,centerX:s,centerY:a,radius:t,onMouseDown:w,onMouseEnter:E,onMouseOut:k,type:"target"})]})}function mbt({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:a,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,rfId:v,edgeTypes:x,noPanClassName:b,onError:w,disableKeyboardA11y:E}){let k=$n(ae=>ae.edgeLookup.get(e));const _=$n(ae=>ae.defaultEdgeOptions);k=_?{..._,...k}:k;let A=k.type||"default",T=(x==null?void 0:x[A])||nK[A];T===void 0&&(w==null||w("011",Cc.error011(A)),A="default",T=(x==null?void 0:x.default)||nK.default);const C=!!(k.focusable||t&&typeof k.focusable>"u"),I=typeof f<"u"&&(k.reconnectable||n&&typeof k.reconnectable>"u"),B=!!(k.selectable||r&&typeof k.selectable>"u"),$=y.useRef(null),[L,U]=y.useState(!1),[Y,V]=y.useState(!1),K=zr(),{zIndex:W,sourceX:J,sourceY:q,targetX:G,targetY:j,sourcePosition:M,targetPosition:z}=$n(y.useCallback(ae=>{const Pe=ae.nodeLookup.get(k.source),Te=ae.nodeLookup.get(k.target);if(!Pe||!Te)return{zIndex:k.zIndex,...rK};const Ge=dyt({id:e,sourceNode:Pe,targetNode:Te,sourceHandle:k.sourceHandle||null,targetHandle:k.targetHandle||null,connectionMode:ae.connectionMode,onError:w});return{zIndex:iyt({selected:k.selected,zIndex:k.zIndex,sourceNode:Pe,targetNode:Te,elevateOnSelect:ae.elevateEdgesOnSelect,zIndexMode:ae.zIndexMode}),...Ge||rK}},[k.source,k.target,k.sourceHandle,k.targetHandle,k.selected,k.zIndex]),Dr),O=y.useMemo(()=>k.markerStart?`url('#${kj(k.markerStart,v)}')`:void 0,[k.markerStart,v]),X=y.useMemo(()=>k.markerEnd?`url('#${kj(k.markerEnd,v)}')`:void 0,[k.markerEnd,v]);if(k.hidden||J===null||q===null||G===null||j===null)return null;const ne=ae=>{var nt;const{addSelectedEdges:Pe,unselectNodesAndEdges:Te,multiSelectionActive:Ge}=K.getState();B&&(K.setState({nodesSelectionActive:!1}),k.selected&&Ge?(Te({nodes:[],edges:[k]}),(nt=$.current)==null||nt.blur()):Pe([e])),i&&i(ae,k)},re=s?ae=>{s(ae,{...k})}:void 0,Q=a?ae=>{a(ae,{...k})}:void 0,te=o?ae=>{o(ae,{...k})}:void 0,ie=c?ae=>{c(ae,{...k})}:void 0,fe=u?ae=>{u(ae,{...k})}:void 0,he=ae=>{var Pe;if(!E&&Ehe.includes(ae.key)&&B){const{unselectNodesAndEdges:Te,addSelectedEdges:Ge}=K.getState();ae.key==="Escape"?((Pe=$.current)==null||Pe.blur(),Te({edges:[k]})):Ge([e])}};return l.jsx("svg",{style:{zIndex:W},children:l.jsxs("g",{className:Ti(["react-flow__edge",`react-flow__edge-${A}`,k.className,b,{selected:k.selected,animated:k.animated,inactive:!B&&!i,updating:L,selectable:B}]),onClick:ne,onDoubleClick:re,onContextMenu:Q,onMouseEnter:te,onMouseMove:ie,onMouseLeave:fe,onKeyDown:C?he:void 0,tabIndex:C?0:void 0,role:k.ariaRole??(C?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":k.ariaLabel===null?void 0:k.ariaLabel||`Edge from ${k.source} to ${k.target}`,"aria-describedby":C?`${t0e}-${v}`:void 0,ref:$,...k.domAttributes,children:[!Y&&l.jsx(T,{id:e,source:k.source,target:k.target,type:k.type,selected:k.selected,animated:k.animated,selectable:B,deletable:k.deletable??!0,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,sourceX:J,sourceY:q,targetX:G,targetY:j,sourcePosition:M,targetPosition:z,data:k.data,style:k.style,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerStart:O,markerEnd:X,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth}),I&&l.jsx(hbt,{edge:k,isReconnectable:I,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,sourceX:J,sourceY:q,targetX:G,targetY:j,sourcePosition:M,targetPosition:z,setUpdateHover:U,setReconnecting:V})]})})}var pbt=y.memo(mbt);const gbt=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function N0e({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:b,edgesReconnectable:w,elementsSelectable:E,onError:k}=$n(gbt,Dr),_=ebt(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(sbt,{defaultColor:e,rfId:n}),_.map(A=>l.jsx(pbt,{id:A,edgesFocusable:b,edgesReconnectable:w,elementsSelectable:E,noPanClassName:i,onReconnect:s,onContextMenu:a,onMouseEnter:o,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:v,rfId:n,onError:k,edgeTypes:r,disableKeyboardA11y:x},A))]})}N0e.displayName="EdgeRenderer";const vbt=y.memo(N0e),ybt=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function xbt({children:e}){const t=$n(ybt);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function bbt(e){const t=TO(),n=y.useRef(!1);y.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const wbt=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Ebt(e){const t=$n(wbt),n=zr();return y.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Sbt(e){return e.connection.inProgress?{...e.connection,to:pb(e.connection.to,e.transform)}:{...e.connection}}function kbt(e){return Sbt}function _bt(e){const t=kbt();return $n(t,Dr)}const Cbt=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Nbt({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:s,height:a,isValid:o,inProgress:c}=$n(Cbt,Dr);return!(s&&i&&c)?null:l.jsx("svg",{style:e,width:s,height:a,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:Ti(["react-flow__connection",_he(o)]),children:l.jsx(T0e,{style:t,type:n,CustomComponent:r,isValid:o})})})}const T0e=({style:e,type:t=Ud.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:a,fromHandle:o,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:p}=_bt();if(!i)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:o,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:_he(r),toNode:d,toHandle:f,pointer:p});let v="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Ud.Bezier:[v]=Lhe(x);break;case Ud.SimpleBezier:[v]=p0e(x);break;case Ud.Step:[v]=Sj({...x,borderRadius:0});break;case Ud.SmoothStep:[v]=Sj(x);break;default:[v]=zhe(x)}return l.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};T0e.displayName="ConnectionLine";const Tbt={};function aK(e=Tbt){y.useRef(e),zr(),y.useEffect(()=>{},[e])}function Abt(){zr(),y.useRef(!1),y.useEffect(()=>{},[])}function A0e({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:a,onNodeMouseEnter:o,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:p,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:b,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:k,selectionMode:_,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:C,deleteKeyCode:I,onlyRenderVisibleElements:B,elementsSelectable:$,defaultViewport:L,translateExtent:U,minZoom:Y,maxZoom:V,preventScrolling:K,defaultMarkerColor:W,zoomOnScroll:J,zoomOnPinch:q,panOnScroll:G,panOnScrollSpeed:j,panOnScrollMode:M,zoomOnDoubleClick:z,panOnDrag:O,onPaneClick:X,onPaneMouseEnter:ne,onPaneMouseMove:re,onPaneMouseLeave:Q,onPaneScroll:te,onPaneContextMenu:ie,paneClickDistance:fe,nodeClickDistance:he,onEdgeContextMenu:ae,onEdgeMouseEnter:Pe,onEdgeMouseMove:Te,onEdgeMouseLeave:Ge,reconnectRadius:nt,onReconnect:vt,onReconnectStart:Ct,onReconnectEnd:Tt,noDragClassName:ue,noWheelClassName:_e,noPanClassName:Ae,disableKeyboardA11y:Be,nodeExtent:We,rfId:qe,viewport:Ee,onViewportChange:$e}){return aK(e),aK(t),Abt(),bbt(n),Ebt(Ee),l.jsx(Vxt,{onPaneClick:X,onPaneMouseEnter:ne,onPaneMouseMove:re,onPaneMouseLeave:Q,onPaneContextMenu:ie,onPaneScroll:te,paneClickDistance:fe,deleteKeyCode:I,selectionKeyCode:E,selectionOnDrag:k,selectionMode:_,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:A,panActivationKeyCode:T,zoomActivationKeyCode:C,elementsSelectable:$,zoomOnScroll:J,zoomOnPinch:q,zoomOnDoubleClick:z,panOnScroll:G,panOnScrollSpeed:j,panOnScrollMode:M,panOnDrag:O,defaultViewport:L,translateExtent:U,minZoom:Y,maxZoom:V,onSelectionContextMenu:f,preventScrolling:K,noDragClassName:ue,noWheelClassName:_e,noPanClassName:Ae,disableKeyboardA11y:Be,onViewportChange:$e,isControlledViewport:!!Ee,children:l.jsxs(xbt,{children:[l.jsx(vbt,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:vt,onReconnectStart:Ct,onReconnectEnd:Tt,onlyRenderVisibleElements:B,onEdgeContextMenu:ae,onEdgeMouseEnter:Pe,onEdgeMouseMove:Te,onEdgeMouseLeave:Ge,reconnectRadius:nt,defaultMarkerColor:W,noPanClassName:Ae,disableKeyboardA11y:Be,rfId:qe}),l.jsx(Nbt,{style:x,type:v,component:b,containerStyle:w}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(Jxt,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:o,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:he,onlyRenderVisibleElements:B,noPanClassName:Ae,noDragClassName:ue,disableKeyboardA11y:Be,nodeExtent:We,rfId:qe}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}A0e.displayName="GraphView";const jbt=y.memo(A0e),oK=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:a,fitViewOptions:o,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const p=new Map,v=new Map,x=new Map,b=new Map,w=r??t??[],E=n??e??[],k=d??[0,0],_=f??Ly;Hhe(x,b,w);const A=_j(E,p,v,{nodeOrigin:k,nodeExtent:_,zIndexMode:h});let T=[0,0,1];if(a&&i&&s){const C=hb(p,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:I,y:B,zoom:$}=wO(C,i,s,c,u,(o==null?void 0:o.padding)??.1);T=[I,B,$]}return{rfId:"1",width:i??0,height:s??0,transform:T,nodes:E,nodesInitialized:A,nodeLookup:p,parentLookup:v,edges:w,edgeLookup:b,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Ly,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Kp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:k,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:o,fitViewResolver:null,connection:{...khe},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Zvt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:She,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Pbt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:a,fitViewOptions:o,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>Yyt((p,v)=>{async function x(){const{nodeLookup:b,panZoom:w,fitViewOptions:E,fitViewResolver:k,width:_,height:A,minZoom:T,maxZoom:C}=v();w&&(await Xvt({nodes:b,width:_,height:A,panZoom:w,minZoom:T,maxZoom:C},E),k==null||k.resolve(!0),p({fitViewResolver:null}))}return{...oK({nodes:e,edges:t,width:i,height:s,fitView:a,fitViewOptions:o,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:b=>{const{nodeLookup:w,parentLookup:E,nodeOrigin:k,elevateNodesOnSelect:_,fitViewQueued:A,zIndexMode:T}=v(),C=_j(b,w,E,{nodeOrigin:k,nodeExtent:f,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:T});A&&C?(x(),p({nodes:b,nodesInitialized:C,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:b,nodesInitialized:C})},setEdges:b=>{const{connectionLookup:w,edgeLookup:E}=v();Hhe(w,E,b),p({edges:b})},setDefaultNodesAndEdges:(b,w)=>{if(b){const{setNodes:E}=v();E(b),p({hasDefaultNodes:!0})}if(w){const{setEdges:E}=v();E(w),p({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:w,nodeLookup:E,parentLookup:k,domNode:_,nodeOrigin:A,nodeExtent:T,debug:C,fitViewQueued:I,zIndexMode:B}=v(),{changes:$,updatedInternals:L}=xyt(b,E,k,_,A,T,B);L&&(pyt(E,k,{nodeOrigin:A,nodeExtent:T,zIndexMode:B}),I?(x(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),($==null?void 0:$.length)>0&&(C&&console.log("React Flow: trigger node changes",$),w==null||w($)))},updateNodePositions:(b,w=!1)=>{const E=[];let k=[];const{nodeLookup:_,triggerNodeChanges:A,connection:T,updateConnection:C,onNodesChangeMiddlewareMap:I}=v();for(const[B,$]of b){const L=_.get(B),U=!!(L!=null&&L.expandParent&&(L!=null&&L.parentId)&&($!=null&&$.position)),Y={id:B,type:"position",position:U?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:w};if(L&&T.inProgress&&T.fromNode.id===L.id){const V=x0(L,T.fromHandle,Kt.Left,!0);C({...T,from:V})}U&&L.parentId&&E.push({id:B,parentId:L.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),k.push(Y)}if(E.length>0){const{parentLookup:B,nodeOrigin:$}=v(),L=NO(E,_,B,$);k.push(...L)}for(const B of I.values())k=B(k);A(k)},triggerNodeChanges:b=>{const{onNodesChange:w,setNodes:E,nodes:k,hasDefaultNodes:_,debug:A}=v();if(b!=null&&b.length){if(_){const T=i0e(b,k);E(T)}A&&console.log("React Flow: trigger node changes",b),w==null||w(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:w,setEdges:E,edges:k,hasDefaultEdges:_,debug:A}=v();if(b!=null&&b.length){if(_){const T=s0e(b,k);E(T)}A&&console.log("React Flow: trigger edge changes",b),w==null||w(b)}},addSelectedNodes:b=>{const{multiSelectionActive:w,edgeLookup:E,nodeLookup:k,triggerNodeChanges:_,triggerEdgeChanges:A}=v();if(w){const T=b.map(C=>hh(C,!0));_(T);return}_(Ym(k,new Set([...b]),!0)),A(Ym(E))},addSelectedEdges:b=>{const{multiSelectionActive:w,edgeLookup:E,nodeLookup:k,triggerNodeChanges:_,triggerEdgeChanges:A}=v();if(w){const T=b.map(C=>hh(C,!0));A(T);return}A(Ym(E,new Set([...b]))),_(Ym(k,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:w}={})=>{const{edges:E,nodes:k,nodeLookup:_,triggerNodeChanges:A,triggerEdgeChanges:T}=v(),C=b||k,I=w||E,B=C.map(L=>{const U=_.get(L.id);return U&&(U.selected=!1),hh(L.id,!1)}),$=I.map(L=>hh(L.id,!1));A(B),T($)},setMinZoom:b=>{const{panZoom:w,maxZoom:E}=v();w==null||w.setScaleExtent([b,E]),p({minZoom:b})},setMaxZoom:b=>{const{panZoom:w,minZoom:E}=v();w==null||w.setScaleExtent([E,b]),p({maxZoom:b})},setTranslateExtent:b=>{var w;(w=v().panZoom)==null||w.setTranslateExtent(b),p({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:w,triggerNodeChanges:E,triggerEdgeChanges:k,elementsSelectable:_}=v();if(!_)return;const A=w.reduce((C,I)=>I.selected?[...C,hh(I.id,!1)]:C,[]),T=b.reduce((C,I)=>I.selected?[...C,hh(I.id,!1)]:C,[]);E(A),k(T)},setNodeExtent:b=>{const{nodes:w,nodeLookup:E,parentLookup:k,nodeOrigin:_,elevateNodesOnSelect:A,nodeExtent:T,zIndexMode:C}=v();b[0][0]===T[0][0]&&b[0][1]===T[0][1]&&b[1][0]===T[1][0]&&b[1][1]===T[1][1]||(_j(w,E,k,{nodeOrigin:_,nodeExtent:b,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:C}),p({nodeExtent:b}))},panBy:b=>{const{transform:w,width:E,height:k,panZoom:_,translateExtent:A}=v();return byt({delta:b,panZoom:_,transform:w,translateExtent:A,width:E,height:k})},setCenter:async(b,w,E)=>{const{width:k,height:_,maxZoom:A,panZoom:T}=v();if(!T)return Promise.resolve(!1);const C=typeof(E==null?void 0:E.zoom)<"u"?E.zoom:A;return await T.setViewport({x:k/2-b*C,y:_/2-w*C,zoom:C},{duration:E==null?void 0:E.duration,ease:E==null?void 0:E.ease,interpolate:E==null?void 0:E.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...khe}})},updateConnection:b=>{p({connection:b})},reset:()=>p({...oK()})}},Object.is);function Ibt({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:a,initialMaxZoom:o,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:p}){const[v]=y.useState(()=>Pbt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:u,minZoom:a,maxZoom:o,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return l.jsx(Xyt,{value:v,children:l.jsx(xxt,{children:p})})}function Rbt({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:a,fitView:o,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p}){return y.useContext(o_)?l.jsx(l.Fragment,{children:e}):l.jsx(Ibt,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:a,fitView:o,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p,children:e})}const Mbt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Obt({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:a,onNodeClick:o,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:w,onNodeMouseEnter:E,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:T,onNodeDragStart:C,onNodeDrag:I,onNodeDragStop:B,onNodesDelete:$,onEdgesDelete:L,onDelete:U,onSelectionChange:Y,onSelectionDragStart:V,onSelectionDrag:K,onSelectionDragStop:W,onSelectionContextMenu:J,onSelectionStart:q,onSelectionEnd:G,onBeforeDelete:j,connectionMode:M,connectionLineType:z=Ud.Bezier,connectionLineStyle:O,connectionLineComponent:X,connectionLineContainerStyle:ne,deleteKeyCode:re="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:te=!1,selectionMode:ie=Fy.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:he=zy()?"Meta":"Control",zoomActivationKeyCode:ae=zy()?"Meta":"Control",snapToGrid:Pe,snapGrid:Te,onlyRenderVisibleElements:Ge=!1,selectNodesOnDrag:nt,nodesDraggable:vt,autoPanOnNodeFocus:Ct,nodesConnectable:Tt,nodesFocusable:ue,nodeOrigin:_e=n0e,edgesFocusable:Ae,edgesReconnectable:Be,elementsSelectable:We=!0,defaultViewport:qe=cxt,minZoom:Ee=.5,maxZoom:$e=2,translateExtent:Ze=Ly,preventScrolling:bt=!0,nodeExtent:Ue,defaultMarkerColor:St="#b1b1b7",zoomOnScroll:At=!0,zoomOnPinch:je=!0,panOnScroll:Je=!1,panOnScrollSpeed:wt=.5,panOnScrollMode:Et=Gh.Free,zoomOnDoubleClick:gn=!0,panOnDrag:dn=!0,onPaneClick:In,onPaneMouseEnter:fi,onPaneMouseMove:Un,onPaneMouseLeave:Tn,onPaneScroll:Ut,onPaneContextMenu:Pt,paneClickDistance:En=1,nodeClickDistance:Qn=0,children:lr,onReconnect:Os,onReconnectStart:pr,onReconnectEnd:Ar,onEdgeContextMenu:ye,onEdgeDoubleClick:ke,onEdgeMouseEnter:De,onEdgeMouseMove:Ke,onEdgeMouseLeave:st,reconnectRadius:It=10,onNodesChange:Ft,onEdgesChange:Ot,noDragClassName:Vt="nodrag",noWheelClassName:Xt="nowheel",noPanClassName:Wt="nopan",fitView:Ht,fitViewOptions:an,connectOnClick:Hn,attributionPosition:gr,proOptions:cr,defaultEdgeOptions:Vn,elevateNodesOnSelect:qn=!0,elevateEdgesOnSelect:ta=!1,disableKeyboardA11y:Ja=!1,autoPanOnConnect:Ln,autoPanOnNodeDrag:vs,autoPanSpeed:eo,connectionRadius:to,isValidConnection:as,onError:qo,style:no,id:fn,nodeDragThreshold:Wn,connectionDragThreshold:Na,viewport:jr,onViewportChange:tr,width:de,height:Ie,colorMode:ct="light",debug:pt,onScroll:Zt,ariaLabelConfig:jt,zIndexMode:hi="basic",...Wo},$g){const q0=fn||"1",zg=hxt(ct),Hf=y.useCallback(vb=>{vb.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Zt==null||Zt(vb)},[Zt]);return l.jsx("div",{"data-testid":"rf__wrapper",...Wo,onScroll:Hf,style:{...no,...Mbt},ref:$g,className:Ti(["react-flow",i,zg]),id:fn,role:"application",children:l.jsxs(Rbt,{nodes:e,edges:t,width:de,height:Ie,fitView:Ht,fitViewOptions:an,minZoom:Ee,maxZoom:$e,nodeOrigin:_e,nodeExtent:Ue,zIndexMode:hi,children:[l.jsx(jbt,{onInit:u,onNodeClick:o,onEdgeClick:c,onNodeMouseEnter:E,onNodeMouseMove:k,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:T,nodeTypes:s,edgeTypes:a,connectionLineType:z,connectionLineStyle:O,connectionLineComponent:X,connectionLineContainerStyle:ne,selectionKeyCode:Q,selectionOnDrag:te,selectionMode:ie,deleteKeyCode:re,multiSelectionKeyCode:he,panActivationKeyCode:fe,zoomActivationKeyCode:ae,onlyRenderVisibleElements:Ge,defaultViewport:qe,translateExtent:Ze,minZoom:Ee,maxZoom:$e,preventScrolling:bt,zoomOnScroll:At,zoomOnPinch:je,zoomOnDoubleClick:gn,panOnScroll:Je,panOnScrollSpeed:wt,panOnScrollMode:Et,panOnDrag:dn,onPaneClick:In,onPaneMouseEnter:fi,onPaneMouseMove:Un,onPaneMouseLeave:Tn,onPaneScroll:Ut,onPaneContextMenu:Pt,paneClickDistance:En,nodeClickDistance:Qn,onSelectionContextMenu:J,onSelectionStart:q,onSelectionEnd:G,onReconnect:Os,onReconnectStart:pr,onReconnectEnd:Ar,onEdgeContextMenu:ye,onEdgeDoubleClick:ke,onEdgeMouseEnter:De,onEdgeMouseMove:Ke,onEdgeMouseLeave:st,reconnectRadius:It,defaultMarkerColor:St,noDragClassName:Vt,noWheelClassName:Xt,noPanClassName:Wt,rfId:q0,disableKeyboardA11y:Ja,nodeExtent:Ue,viewport:jr,onViewportChange:tr}),l.jsx(fxt,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:v,onConnectEnd:x,onClickConnectStart:b,onClickConnectEnd:w,nodesDraggable:vt,autoPanOnNodeFocus:Ct,nodesConnectable:Tt,nodesFocusable:ue,edgesFocusable:Ae,edgesReconnectable:Be,elementsSelectable:We,elevateNodesOnSelect:qn,elevateEdgesOnSelect:ta,minZoom:Ee,maxZoom:$e,nodeExtent:Ue,onNodesChange:Ft,onEdgesChange:Ot,snapToGrid:Pe,snapGrid:Te,connectionMode:M,translateExtent:Ze,connectOnClick:Hn,defaultEdgeOptions:Vn,fitView:Ht,fitViewOptions:an,onNodesDelete:$,onEdgesDelete:L,onDelete:U,onNodeDragStart:C,onNodeDrag:I,onNodeDragStop:B,onSelectionDrag:K,onSelectionDragStart:V,onSelectionDragStop:W,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Wt,nodeOrigin:_e,rfId:q0,autoPanOnConnect:Ln,autoPanOnNodeDrag:vs,autoPanSpeed:eo,onError:qo,connectionRadius:to,isValidConnection:as,selectNodesOnDrag:nt,nodeDragThreshold:Wn,connectionDragThreshold:Na,onBeforeDelete:j,debug:pt,ariaLabelConfig:jt,zIndexMode:hi}),l.jsx(lxt,{onSelectionChange:Y}),lr,l.jsx(rxt,{proOptions:cr,position:gr}),l.jsx(nxt,{rfId:q0,disableKeyboardA11y:Ja})]})})}var Dbt=a0e(Obt);function Lbt(e){const[t,n]=y.useState(e),r=y.useCallback(i=>n(s=>i0e(i,s)),[]);return[t,n,r]}function Fbt(e){const[t,n]=y.useState(e),r=y.useCallback(i=>n(s=>s0e(i,s)),[]);return[t,n,r]}function $bt({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ti(["react-flow__background-pattern",n,r])})}function zbt({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:Ti(["react-flow__background-pattern","dots",t])})}var ku;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ku||(ku={}));const Bbt={[ku.Dots]:1,[ku.Lines]:1,[ku.Cross]:6},Ubt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function j0e({id:e,variant:t=ku.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:a,bgColor:o,style:c,className:u,patternClassName:d}){const f=y.useRef(null),{transform:h,patternId:p}=$n(Ubt,Dr),v=r||Bbt[t],x=t===ku.Dots,b=t===ku.Cross,w=Array.isArray(n)?n:[n,n],E=[w[0]*h[2]||1,w[1]*h[2]||1],k=v*h[2],_=Array.isArray(s)?s:[s,s],A=b?[k,k]:E,T=[_[0]*h[2]||1+A[0]/2,_[1]*h[2]||1+A[1]/2],C=`${p}${e||""}`;return l.jsxs("svg",{className:Ti(["react-flow__background",u]),style:{...c,...l_,"--xy-background-color-props":o,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[l.jsx("pattern",{id:C,x:h[0]%E[0],y:h[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:x?l.jsx(zbt,{radius:k/2,className:d}):l.jsx($bt,{dimensions:A,lineWidth:i,variant:t,className:d})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}j0e.displayName="Background";const Hbt=y.memo(j0e);function Vbt(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function qbt(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Wbt(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Gbt(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Kbt(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function F2({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:Ti(["react-flow__controls-button",t]),...n,children:e})}const Ybt=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function P0e({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:o,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":p}){const v=zr(),{isInteractive:x,minZoomReached:b,maxZoomReached:w,ariaLabelConfig:E}=$n(Ybt,Dr),{zoomIn:k,zoomOut:_,fitView:A}=TO(),T=()=>{k(),s==null||s()},C=()=>{_(),a==null||a()},I=()=>{A(i),o==null||o()},B=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},$=h==="horizontal"?"horizontal":"vertical";return l.jsxs(gb,{className:Ti(["react-flow__controls",$,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":p??E["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(F2,{onClick:T,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:w,children:l.jsx(Vbt,{})}),l.jsx(F2,{onClick:C,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:b,children:l.jsx(qbt,{})})]}),n&&l.jsx(F2,{className:"react-flow__controls-fitview",onClick:I,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:l.jsx(Wbt,{})}),r&&l.jsx(F2,{className:"react-flow__controls-interactive",onClick:B,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:x?l.jsx(Kbt,{}):l.jsx(Gbt,{})}),d]})}P0e.displayName="Controls";const Xbt=y.memo(P0e);function Qbt({id:e,x:t,y:n,width:r,height:i,style:s,color:a,strokeColor:o,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:p}){const{background:v,backgroundColor:x}=s||{},b=a||v||x;return l.jsx("rect",{className:Ti(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:i,style:{fill:b,stroke:o,strokeWidth:c},shapeRendering:f,onClick:p?w=>p(w,e):void 0})}const Zbt=y.memo(Qbt),Jbt=e=>e.nodes.map(t=>t.id),e6=e=>e instanceof Function?e:()=>e;function ewt({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Zbt,onClick:a}){const o=$n(Jbt,Dr),c=e6(t),u=e6(e),d=e6(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:o.map(h=>l.jsx(nwt,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:a,shapeRendering:f},h))})}function twt({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:a,NodeComponent:o,onClick:c}){const{node:u,x:d,y:f,width:h,height:p}=$n(v=>{const{internals:x}=v.nodeLookup.get(e),b=x.userNode,{x:w,y:E}=x.positionAbsolute,{width:k,height:_}=td(b);return{node:b,x:w,y:E,width:k,height:_}},Dr);return!u||u.hidden||!Phe(u)?null:l.jsx(o,{x:d,y:f,width:h,height:p,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:s,shapeRendering:a,onClick:c,id:u.id})}const nwt=y.memo(twt);var rwt=y.memo(ewt);const iwt=200,swt=150,awt=e=>!e.hidden,owt=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?jhe(hb(e.nodeLookup,{filter:awt}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},lwt="react-flow__minimap-desc";function I0e({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:o,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:p,onNodeClick:v,pannable:x=!1,zoomable:b=!1,ariaLabel:w,inversePan:E,zoomStep:k=1,offsetScale:_=5}){const A=zr(),T=y.useRef(null),{boundingRect:C,viewBB:I,rfId:B,panZoom:$,translateExtent:L,flowWidth:U,flowHeight:Y,ariaLabelConfig:V}=$n(owt,Dr),K=(e==null?void 0:e.width)??iwt,W=(e==null?void 0:e.height)??swt,J=C.width/K,q=C.height/W,G=Math.max(J,q),j=G*K,M=G*W,z=_*G,O=C.x-(j-C.width)/2-z,X=C.y-(M-C.height)/2-z,ne=j+z*2,re=M+z*2,Q=`${lwt}-${B}`,te=y.useRef(0),ie=y.useRef();te.current=G,y.useEffect(()=>{if(T.current&&$)return ie.current=Ayt({domNode:T.current,panZoom:$,getTransform:()=>A.getState().transform,getViewScale:()=>te.current}),()=>{var Pe;(Pe=ie.current)==null||Pe.destroy()}},[$]),y.useEffect(()=>{var Pe;(Pe=ie.current)==null||Pe.update({translateExtent:L,width:U,height:Y,inversePan:E,pannable:x,zoomStep:k,zoomable:b})},[x,b,E,k,L,U,Y]);const fe=p?Pe=>{var nt;const[Te,Ge]=((nt=ie.current)==null?void 0:nt.pointer(Pe))||[0,0];p(Pe,{x:Te,y:Ge})}:void 0,he=v?y.useCallback((Pe,Te)=>{const Ge=A.getState().nodeLookup.get(Te).internals.userNode;v(Pe,Ge)},[]):void 0,ae=w??V["minimap.ariaLabel"];return l.jsx(gb,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*G:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Ti(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:K,height:W,viewBox:`${O} ${X} ${ne} ${re}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:T,onClick:fe,children:[ae&&l.jsx("title",{id:Q,children:ae}),l.jsx(rwt,{onClick:he,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:o}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${O-z},${X-z}h${ne+z*2}v${re+z*2}h${-ne-z*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}I0e.displayName="MiniMap";const cwt=y.memo(I0e),uwt=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,dwt={[Jp.Line]:"right",[Jp.Handle]:"bottom-right"};function fwt({nodeId:e,position:t,variant:n=Jp.Handle,className:r,style:i=void 0,children:s,color:a,minWidth:o=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:p=!0,shouldResize:v,onResizeStart:x,onResize:b,onResizeEnd:w}){const E=u0e(),k=typeof e=="string"?e:E,_=zr(),A=y.useRef(null),T=n===Jp.Handle,C=$n(y.useCallback(uwt(T&&p),[T,p]),Dr),I=y.useRef(null),B=t??dwt[n];y.useEffect(()=>{if(!(!A.current||!k))return I.current||(I.current=Hyt({domNode:A.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:L,transform:U,snapGrid:Y,snapToGrid:V,nodeOrigin:K,domNode:W}=_.getState();return{nodeLookup:L,transform:U,snapGrid:Y,snapToGrid:V,nodeOrigin:K,paneDomNode:W}},onChange:(L,U)=>{const{triggerNodeChanges:Y,nodeLookup:V,parentLookup:K,nodeOrigin:W}=_.getState(),J=[],q={x:L.x,y:L.y},G=V.get(k);if(G&&G.expandParent&&G.parentId){const j=G.origin??W,M=L.width??G.measured.width??0,z=L.height??G.measured.height??0,O={id:G.id,parentId:G.parentId,rect:{width:M,height:z,...Ihe({x:L.x??G.position.x,y:L.y??G.position.y},{width:M,height:z},G.parentId,V,j)}},X=NO([O],V,K,W);J.push(...X),q.x=L.x?Math.max(j[0]*M,L.x):void 0,q.y=L.y?Math.max(j[1]*z,L.y):void 0}if(q.x!==void 0&&q.y!==void 0){const j={id:k,type:"position",position:{...q}};J.push(j)}if(L.width!==void 0&&L.height!==void 0){const M={id:k,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};J.push(M)}for(const j of U){const M={...j,type:"position"};J.push(M)}Y(J)},onEnd:({width:L,height:U})=>{const Y={id:k,type:"dimensions",resizing:!1,dimensions:{width:L,height:U}};_.getState().triggerNodeChanges([Y])}})),I.current.update({controlPosition:B,boundaries:{minWidth:o,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:x,onResize:b,onResizeEnd:w,shouldResize:v}),()=>{var L;(L=I.current)==null||L.destroy()}},[B,o,c,u,d,f,x,b,w,v]);const $=B.split("-");return l.jsx("div",{className:Ti(["react-flow__resize-control","nodrag",...$,n,r]),ref:A,style:{...i,scale:C,...a&&{[T?"backgroundColor":"borderColor"]:a}},children:s})}y.memo(fwt);const R0e=[{id:"basic",label:null,nodes:[{type:"end",icon:IS,label:"End",color:"bg-slate-600",description:"Terminate the flow"},{type:"agent",icon:_o,label:"Agent",color:"bg-blue-500",description:"Autonomous AI agent"},{type:"note",icon:oY,label:"Note",color:"bg-yellow-500",description:"Add documentation"}]},{id:"models",label:"Models",nodes:[{type:"llm",icon:Il,label:"LLM",color:"bg-violet-500",description:"Language model call"},{type:"classifier",icon:Fv,label:"Classifier",color:"bg-cyan-500",description:"Route based on input"}]},{id:"tools",label:"Tools",nodes:[{type:"file_search",icon:Cs,label:"File search",color:"bg-amber-500",description:"Search documents"},{type:"http",icon:$j,label:"HTTP Request",color:"bg-green-500",description:"API call"},{type:"code",icon:KK,label:"Code",color:"bg-gray-700",description:"Run custom code"},{type:"guardrails",icon:sY,label:"Guardrails",color:"bg-red-500",description:"Safety filters"},{type:"mcp",icon:gve,label:"MCP",color:"bg-purple-500",description:"Model Context Protocol"}]},{id:"logic",label:"Logic",nodes:[{type:"if_else",icon:Fv,label:"If / Else",color:"bg-indigo-500",description:"Conditional branching"}]}],hwt=["gpt-4o","gpt-4o-mini","claude-3.5-sonnet","claude-3-opus","claude-3-haiku"],mwt=["low","medium","high"],pwt=["Text","JSON","Widget"],jO=e=>R0e.flatMap(t=>t.nodes).find(t=>t.type===e);function gwt({selected:e}){return l.jsxs("div",{className:`px-4 py-3 rounded-xl bg-white border-2 shadow-sm transition-all ${e?"border-emerald-500 shadow-lg ring-2 ring-emerald-500/20":"border-slate-200"}`,children:[l.jsx(Tl,{type:"source",position:Kt.Right,className:"!w-3 !h-3 !bg-emerald-500 !border-2 !border-white"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-emerald-500 flex items-center justify-center text-white",children:l.jsx($v,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:"Start"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Entry point"})]})]})]})}function vwt({selected:e}){return l.jsxs("div",{className:`px-4 py-3 rounded-xl bg-white border-2 shadow-sm transition-all ${e?"border-slate-600 shadow-lg ring-2 ring-slate-600/20":"border-slate-200"}`,children:[l.jsx(Tl,{type:"target",position:Kt.Left,className:"!w-3 !h-3 !bg-slate-600 !border-2 !border-white"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-slate-600 flex items-center justify-center text-white",children:l.jsx(IS,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:"End"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Exit point"})]})]})]})}function Zc({data:e,selected:t}){const n=jO(e.type),r=(n==null?void 0:n.icon)||JK,i=(n==null?void 0:n.color)||"bg-blue-500";return l.jsxs("div",{className:`px-4 py-3 rounded-xl bg-white border-2 shadow-sm transition-all min-w-[160px] ${t?"border-blue-500 shadow-lg ring-2 ring-blue-500/20":"border-slate-200 hover:border-slate-300"}`,children:[l.jsx(Tl,{type:"target",position:Kt.Left,className:"!w-3 !h-3 !bg-blue-500 !border-2 !border-white"}),l.jsx(Tl,{type:"source",position:Kt.Right,className:"!w-3 !h-3 !bg-blue-500 !border-2 !border-white"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-9 h-9 rounded-lg ${i} flex items-center justify-center text-white`,children:l.jsx(r,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm truncate",children:e.config.name||e.label}),l.jsx("div",{className:"text-xs text-slate-500",children:e.label})]})]})]})}function ywt({data:e,selected:t}){return l.jsxs("div",{className:`px-4 py-3 rounded-xl bg-white border-2 shadow-sm transition-all min-w-[160px] ${t?"border-indigo-500 shadow-lg ring-2 ring-indigo-500/20":"border-slate-200 hover:border-slate-300"}`,children:[l.jsx(Tl,{type:"target",position:Kt.Left,className:"!w-3 !h-3 !bg-indigo-500 !border-2 !border-white"}),l.jsx(Tl,{type:"source",position:Kt.Right,id:"true",style:{top:"30%"},className:"!w-3 !h-3 !bg-green-500 !border-2 !border-white"}),l.jsx(Tl,{type:"source",position:Kt.Right,id:"false",style:{top:"70%"},className:"!w-3 !h-3 !bg-red-500 !border-2 !border-white"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-9 h-9 rounded-lg bg-indigo-500 flex items-center justify-center text-white",children:l.jsx(Fv,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm truncate",children:e.config.name||"Condition"}),l.jsx("div",{className:"text-xs text-slate-500",children:"If / Else"})]})]}),l.jsxs("div",{className:"mt-2 flex justify-end gap-2 text-[10px]",children:[l.jsx("span",{className:"px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"True"}),l.jsx("span",{className:"px-1.5 py-0.5 rounded bg-red-100 text-red-700",children:"False"})]})]})}const xwt={start:gwt,end:vwt,agent:Zc,llm:Zc,classifier:Zc,file_search:Zc,http:Zc,code:Zc,guardrails:Zc,mcp:Zc,note:Zc,if_else:ywt};function bwt(){const[e,t]=y.useState("create"),[n,r]=y.useState(""),[i,s]=y.useState("workflow"),[a,o]=y.useState(null),[c]=y.useState(!0),[u,d,f]=Lbt([]),[h,p,v]=Fbt([]),x=()=>{n.trim()||r("New workflow"),d([{id:"start",type:"start",position:{x:100,y:200},data:{label:"Start",type:"start",config:{}}}]),t("builder")};return e==="create"?l.jsx(wwt,{agentName:n,setAgentName:r,agentType:i,setAgentType:s,onCreate:x}):l.jsx(Ewt,{agentName:n,setAgentName:r,isDraft:c,nodes:u,edges:h,setNodes:d,setEdges:p,onNodesChange:f,onEdgesChange:v,selectedNodeId:a,setSelectedNodeId:o,onBack:()=>t("create")})}function wwt({agentName:e,setAgentName:t,agentType:n,setAgentType:r,onCreate:i}){return l.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50",children:l.jsxs(Rn,{className:"w-[520px] p-8 shadow-xl border-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white",children:l.jsx(xo,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Create workflow"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-3 block",children:"Type"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>r("workflow"),className:`p-4 rounded-xl border-2 text-left transition-all ${n==="workflow"?"border-violet-500 bg-violet-50":"border-slate-200 hover:border-violet-300 hover:bg-slate-50"}`,children:[l.jsx(xo,{className:"w-5 h-5 mb-2 text-violet-600"}),l.jsx("div",{className:"font-medium",children:"Workflow"}),l.jsx("div",{className:"text-sm text-slate-500",children:"Agentic flow for automations"})]}),l.jsxs("button",{onClick:()=>r("chatflow"),className:`p-4 rounded-xl border-2 text-left transition-all ${n==="chatflow"?"border-violet-500 bg-violet-50":"border-slate-200 hover:border-violet-300 hover:bg-slate-50"}`,children:[l.jsx(ks,{className:"w-5 h-5 mb-2 text-violet-600"}),l.jsx("div",{className:"font-medium",children:"Chatflow"}),l.jsx("div",{className:"text-sm text-slate-500",children:"Multi-turn conversations"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:"Name"}),l.jsx(en,{value:e,onChange:s=>t(s.target.value),placeholder:"My workflow",className:"h-12 text-lg border-slate-200 focus:border-violet-500 focus:ring-violet-500"})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(ve,{variant:"outline",className:"flex-1 h-11 border-slate-200",children:"Cancel"}),l.jsx(ve,{className:"flex-1 h-11 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700",onClick:i,children:"Create workflow"})]})]})]})})}function Ewt({agentName:e,setAgentName:t,isDraft:n,nodes:r,edges:i,setNodes:s,setEdges:a,onNodesChange:o,onEdgesChange:c,selectedNodeId:u,setSelectedNodeId:d,onBack:f}){const[h,p]=y.useState(""),v=y.useMemo(()=>r.find(A=>A.id===u),[r,u]),x=y.useCallback(A=>{a(T=>$he({...A,type:"smoothstep",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},markerEnd:{type:Yp.ArrowClosed,color:"#94a3b8"}},T))},[a]),b=y.useCallback((A,T)=>{d(T.id)},[d]),w=y.useCallback(()=>{d(null)},[d]),E=(A,T)=>{const C={id:`${A}-${Date.now()}`,type:A==="if_else"?"if_else":A,position:{x:350+Math.random()*100,y:150+Math.random()*100},data:{label:T,type:A,config:{name:T,context:"full_conversation",model:"gpt-4o",reasoningEffort:"low",outputFormat:"text",instructions:"",tools:[]}}};s(I=>[...I,C]),d(C.id)},k=(A,T)=>{s(C=>C.map(I=>I.id===A?{...I,data:{...I.data,config:{...I.data.config,...T}}}:I))},_=A=>{s(T=>T.filter(C=>C.id!==A)),a(T=>T.filter(C=>C.source!==A&&C.target!==A)),u===A&&d(null)};return l.jsxs("div",{className:"h-full flex flex-col bg-slate-100",children:[l.jsxs("header",{className:"h-14 bg-white border-b border-slate-200 flex items-center justify-between px-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:l.jsx(WK,{className:"w-5 h-5 text-slate-600"})}),l.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white",children:l.jsx(xo,{className:"w-4 h-4"})}),l.jsx("input",{type:"text",value:e,onChange:A=>t(A.target.value),className:"text-lg font-medium bg-transparent border-none outline-none"}),n&&l.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-slate-500 bg-amber-50 px-2 py-0.5 rounded-full",children:[l.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),"Draft"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ve,{variant:"ghost",size:"sm",className:"text-slate-600",children:l.jsx(Hu,{className:"w-4 h-4"})}),l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-slate-600",children:[l.jsx(ng,{className:"w-4 h-4 mr-1.5"}),"Evaluate"]}),l.jsxs(ve,{variant:"ghost",size:"sm",className:"text-slate-600",children:[l.jsx(KK,{className:"w-4 h-4 mr-1.5"}),"Code"]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"border-slate-200",children:[l.jsx(XK,{className:"w-4 h-4 mr-1.5"}),"Preview"]}),l.jsx(ve,{size:"sm",className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700",children:"Publish"})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"w-56 bg-white border-r border-slate-200 flex flex-col shadow-sm",children:[l.jsx("div",{className:"p-3 border-b border-slate-100",children:l.jsxs("div",{className:"relative",children:[l.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),l.jsx(en,{value:h,onChange:A=>p(A.target.value),placeholder:"Search nodes...",className:"pl-9 h-9 border-slate-200 focus:border-violet-500"})]})}),l.jsx("div",{className:"flex-1 overflow-auto p-3 space-y-4",children:R0e.map(A=>l.jsxs("div",{children:[A.label&&l.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 px-1",children:A.label}),l.jsx("div",{className:"space-y-1",children:A.nodes.filter(T=>T.label.toLowerCase().includes(h.toLowerCase())).map(T=>l.jsxs("button",{onClick:()=>E(T.type,T.label),className:"w-full flex items-center gap-2.5 px-2.5 py-2 rounded-lg hover:bg-slate-50 transition-colors text-left group",children:[l.jsx("div",{className:`w-7 h-7 rounded-md flex items-center justify-center text-white ${T.color} group-hover:scale-105 transition-transform`,children:l.jsx(T.icon,{className:"w-3.5 h-3.5"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium text-slate-700",children:T.label}),l.jsx("div",{className:"text-xs text-slate-400 truncate",children:T.description})]})]},T.type))})]},A.id))})]}),l.jsx("div",{className:"flex-1 relative",children:l.jsxs(Dbt,{nodes:r,edges:i,onNodesChange:o,onEdgesChange:c,onConnect:x,onNodeClick:b,onPaneClick:w,nodeTypes:xwt,fitView:!0,snapToGrid:!0,snapGrid:[16,16],defaultEdgeOptions:{type:"smoothstep",animated:!0,style:{stroke:"#94a3b8",strokeWidth:2},markerEnd:{type:Yp.ArrowClosed,color:"#94a3b8"}},connectionLineStyle:{stroke:"#94a3b8",strokeWidth:2},className:"bg-slate-50",children:[l.jsx(Hbt,{variant:ku.Dots,gap:20,size:1,color:"#cbd5e1"}),l.jsx(Xbt,{className:"!bg-white !border-slate-200 !rounded-xl !shadow-lg [&>button]:!border-slate-200 [&>button]:!bg-white [&>button:hover]:!bg-slate-50",showInteractive:!1}),l.jsx(cwt,{className:"!bg-white !border-slate-200 !rounded-xl !shadow-lg",nodeColor:A=>{var I;const T=A.data,C=jO((T==null?void 0:T.type)||"");return((I=C==null?void 0:C.color)==null?void 0:I.replace("bg-",""))||"#94a3b8"},maskColor:"rgba(0, 0, 0, 0.1)"}),l.jsx(gb,{position:"bottom-center",className:"mb-4",children:l.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-xl shadow-lg border border-slate-200 px-2 py-1.5",children:[l.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Undo",children:l.jsx(nye,{className:"w-4 h-4 text-slate-500"})}),l.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Redo",children:l.jsx(bve,{className:"w-4 h-4 text-slate-500"})}),l.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),l.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Add note",children:l.jsx(oY,{className:"w-4 h-4 text-slate-500"})})]})})]})}),v&&v.type!=="start"&&l.jsx(Swt,{node:v,onUpdate:A=>k(v.id,A),onDelete:()=>_(v.id),onClose:()=>d(null)})]})]})}function Swt({node:e,onUpdate:t,onDelete:n,onClose:r}){const i=jO(e.data.type),s=(i==null?void 0:i.icon)||JK,a=["agent","llm","classifier"].includes(e.data.type);return l.jsxs("div",{className:"w-80 bg-white border-l border-slate-200 flex flex-col shadow-sm",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-8 h-8 rounded-lg ${(i==null?void 0:i.color)||"bg-slate-500"} flex items-center justify-center text-white`,children:l.jsx(s,{className:"w-4 h-4"})}),l.jsx("h3",{className:"font-semibold text-slate-800",children:e.data.config.name||e.data.label})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{className:"p-1.5 hover:bg-slate-100 rounded-lg transition-colors",title:"Duplicate",children:l.jsx(jS,{className:"w-4 h-4 text-slate-400"})}),l.jsx("button",{className:"p-1.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",onClick:n,children:l.jsx(hf,{className:"w-4 h-4 text-slate-400 hover:text-red-500"})})]})]}),l.jsx("p",{className:"text-sm text-slate-500",children:(i==null?void 0:i.description)||"Configure this node"})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-1.5 block",children:"Name"}),l.jsx(en,{value:e.data.config.name||"",onChange:o=>t({name:o.target.value}),placeholder:"Node name",className:"border-slate-200 focus:border-violet-500"})]}),a&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Instructions"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{className:"p-1 hover:bg-slate-100 rounded transition-colors",children:l.jsx(Ts,{className:"w-3.5 h-3.5 text-slate-400"})}),l.jsx("button",{className:"p-1 hover:bg-slate-100 rounded transition-colors",children:l.jsx(ng,{className:"w-3.5 h-3.5 text-slate-400"})})]})]}),l.jsx("textarea",{value:e.data.config.instructions||"",onChange:o=>t({instructions:o.target.value}),placeholder:"Enter instructions for this node...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm resize-none min-h-[100px] focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none"})]}),a&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-1.5 block",children:"Context"}),l.jsxs("select",{value:e.data.config.context||"full_conversation",onChange:o=>t({context:o.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm bg-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none",children:[l.jsx("option",{value:"full_conversation",children:"Full conversation"}),l.jsx("option",{value:"last_message",children:"Last message"}),l.jsx("option",{value:"custom",children:"Custom"})]})]}),a&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-1.5 block",children:"Model"}),l.jsx("select",{value:e.data.config.model||"gpt-4o",onChange:o=>t({model:o.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm bg-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none",children:hwt.map(o=>l.jsx("option",{value:o,children:o},o))})]}),a&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-1.5 block",children:"Reasoning effort"}),l.jsx("div",{className:"flex gap-2",children:mwt.map(o=>l.jsx("button",{onClick:()=>t({reasoningEffort:o}),className:`flex-1 py-2 text-sm rounded-lg border transition-colors capitalize ${e.data.config.reasoningEffort===o?"border-violet-500 bg-violet-50 text-violet-700":"border-slate-200 hover:border-slate-300 text-slate-600"}`,children:o},o))})]}),a&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[l.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Tools"}),l.jsx("button",{className:"p-1 hover:bg-slate-100 rounded transition-colors",children:l.jsx(Ts,{className:"w-3.5 h-3.5 text-slate-400"})})]}),l.jsx("div",{className:"text-sm text-slate-400 px-3 py-3 border border-dashed border-slate-300 rounded-lg text-center",children:"Click + to add tools"})]}),a&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-600 mb-1.5 block",children:"Output format"}),l.jsx("select",{value:e.data.config.outputFormat||"text",onChange:o=>t({outputFormat:o.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm bg-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 outline-none",children:pwt.map(o=>l.jsx("option",{value:o.toLowerCase(),children:o},o.toLowerCase()))})]}),l.jsxs("button",{className:"flex items-center gap-1.5 text-sm text-slate-500 hover:text-slate-700 transition-colors",children:[l.jsx(ri,{className:"w-4 h-4"}),"More options"]})]})]})}const lK=[{value:"answer_formatter",label:"Answer Formatter",desc:"Reformats RAG/ITSM responses",icon:ks,color:"bg-blue-500"},{value:"embedded_knowledge",label:"Embedded Knowledge",desc:"Uses uploaded documents",icon:Cs,color:"bg-amber-500"},{value:"workflow_executor",label:"Workflow Executor",desc:"Runs automations & workflows",icon:Il,color:"bg-violet-500"}],kwt={answer_formatter:["Describe","Content","Build","Test"],embedded_knowledge:["Describe","Content","Build","Test"],workflow_executor:["Describe","Actions","Build","Test"]};function _wt(){const[e,t]=y.useState(!0),[n,r]=y.useState("Describe"),[i,s]=y.useState(!1),[a,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState({name:"",type:"",persona:"",goal:"",completion:"",knowledge:[],actions:[],tone:"friendly",fallback:"apologize"}),[h,p]=y.useState([]),[v,x]=y.useState(""),[b,w]=y.useState(!1),E=d.type?kwt[d.type]:["Describe","Content","Build","Test"],k=lK.find(L=>L.value===d.type),_=d.name&&d.type&&d.persona&&d.goal,A=()=>{d.name&&d.type&&(t(!1),o([{role:"agent",content:`I'll help you build "${d.name}". Fill out the fields above, or ask me anything!`}]))},T=()=>{if(!c.trim())return;o(U=>[...U,{role:"user",content:c}]);const L=c;u(""),setTimeout(()=>{let U="";L.toLowerCase().includes("persona")||L.toLowerCase().includes("role")?U=`For the persona, describe how your agent should present itself. For example:

"Friendly IT specialist who explains technical concepts simply and always confirms before taking actions."`:L.toLowerCase().includes("goal")||L.toLowerCase().includes("do")?U=`Describe what tasks this agent should accomplish. Be specific about the scope. For example:

"Help employees reset passwords, unlock accounts, and troubleshoot common VPN issues."`:L.toLowerCase().includes("complete")||L.toLowerCase().includes("done")?U=`Define when the agent's job is finished. Common patterns:

 User confirms they're satisfied
 The requested action completes
 After a set number of exchanges`:U=`I can help you configure your agent. Try asking about:
 Writing a good persona
 Defining the agent's goal
 Setting up knowledge sources
 Choosing actions`,o(Y=>[...Y,{role:"agent",content:U}])},500)},C=()=>{if(!v.trim())return;p(U=>[...U,{role:"user",content:v}]);const L=v;x(""),w(!0),setTimeout(()=>{w(!1);let U=d.persona?`${d.persona.slice(0,30)}... `:"";d.type==="workflow_executor"&&d.actions.length>0?U+=`I'll run **${d.actions[0]}** for you.  Done!`:U+=`I'd be happy to help with "${L}".`,p(Y=>[...Y,{role:"agent",content:U}])},800)},I=()=>{f(L=>({...L,knowledge:[...L.knowledge,`Document_${L.knowledge.length+1}.pdf`]}))},B=L=>{d.actions.includes(L)||f(U=>({...U,actions:[...U.actions,L]}))},$=L=>{f(U=>({...U,actions:U.actions.filter(Y=>Y!==L)}))};return e?l.jsx("div",{className:"h-full flex items-center justify-center bg-slate-50",children:l.jsxs(Rn,{className:"w-full max-w-md shadow-xl border-0",children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white",children:l.jsx(_o,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Create New Agent"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Give it a name and choose the type"})]})]})}),l.jsxs("div",{className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Name"}),l.jsx(en,{type:"text",value:d.name,onChange:L=>f(U=>({...U,name:L.target.value})),placeholder:"e.g., Benefits Expert, Password Helper...",className:"h-12",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Type"}),l.jsx("div",{className:"space-y-2",children:lK.map(L=>{const U=L.icon;return l.jsxs("button",{onClick:()=>f(Y=>({...Y,type:L.value})),className:`w-full text-left p-4 rounded-xl border-2 transition flex items-center gap-3 ${d.type===L.value?"border-violet-500 bg-violet-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-lg ${L.color} flex items-center justify-center text-white`,children:l.jsx(U,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:L.label}),l.jsx("div",{className:"text-xs text-slate-500",children:L.desc})]})]},L.value)})})]})]}),l.jsxs("div",{className:"p-6 border-t bg-slate-50 flex justify-end gap-3",children:[l.jsx(ve,{variant:"outline",children:"Cancel"}),l.jsx(ve,{onClick:A,disabled:!d.name||!d.type,className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700",children:"Create Agent"})]})]})}):l.jsxs("div",{className:"flex flex-col h-full bg-slate-100",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white border-b shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(Lh,{className:"w-5 h-5 text-slate-500"})}),k&&l.jsx("div",{className:`w-8 h-8 rounded-lg ${k.color} flex items-center justify-center text-white`,children:l.jsx(k.icon,{className:"w-4 h-4"})}),l.jsx("h1",{className:"font-semibold",children:d.name}),l.jsx("span",{className:"px-2 py-0.5 text-xs bg-slate-100 text-slate-600 rounded-full",children:k==null?void 0:k.label})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ve,{variant:"outline",size:"sm",children:[l.jsx(qj,{className:"w-4 h-4 mr-1.5"}),"Save Draft"]}),l.jsxs(ve,{disabled:!_,size:"sm",className:"bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700",children:[l.jsx(Xh,{className:"w-4 h-4 mr-1.5"}),"Publish"]})]})]}),l.jsx("div",{className:"bg-white border-b px-4",children:l.jsx("nav",{className:"flex gap-1",children:E.map((L,U)=>l.jsxs("button",{onClick:()=>r(L),className:`px-4 py-3 text-sm font-medium border-b-2 transition flex items-center gap-2 ${n===L?"border-violet-600 text-violet-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[l.jsx("span",{className:`w-5 h-5 rounded-full text-xs flex items-center justify-center ${n===L?"bg-violet-600 text-white":"bg-slate-200 text-slate-600"}`,children:U+1}),L]},L))})}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsx("div",{className:"flex-1 overflow-auto p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[n==="Describe"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Agent Definition"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Define how this agent behaves and what it does."})]}),l.jsxs(Rn,{className:"p-5 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium text-slate-900 mb-2",children:"Describe the Role or Persona of the agent"}),l.jsx("textarea",{value:d.persona,onChange:L=>f(U=>({...U,persona:L.target.value})),placeholder:"e.g., Acts as a friendly, knowledgeable HR specialist who helps employees understand their benefits...",rows:3,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-violet-500 resize-none bg-slate-50 focus:bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium text-slate-900 mb-2",children:"What do you want the Agent to do?"}),l.jsx("textarea",{value:d.goal,onChange:L=>f(U=>({...U,goal:L.target.value})),placeholder:"e.g., Answer questions about health benefits, explain coverage options, guide through enrollment process...",rows:3,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-violet-500 resize-none bg-slate-50 focus:bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium text-slate-900 mb-2",children:"When is the job of the Agent Complete?"}),l.jsx("textarea",{value:d.completion,onChange:L=>f(U=>({...U,completion:L.target.value})),placeholder:"e.g., When the user confirms their question has been answered, or when they complete enrollment...",rows:2,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-violet-500 resize-none bg-slate-50 focus:bg-white"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(ve,{onClick:()=>r(E[1]),className:"gap-2",children:["Continue to ",E[1],l.jsx(bl,{className:"w-4 h-4"})]})})]}),n==="Content"&&d.type!=="workflow_executor"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Knowledge Sources"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Add documents or connect sources for this agent to reference."})]}),l.jsxs(Rn,{className:"p-5",children:[l.jsx("div",{className:"space-y-3 mb-4",children:d.knowledge.map((L,U)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[l.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Cs,{className:"w-4 h-4 text-slate-400"}),L]}),l.jsx("button",{onClick:()=>f(Y=>({...Y,knowledge:Y.knowledge.filter((V,K)=>K!==U)})),className:"text-slate-400 hover:text-red-500",children:l.jsx(li,{className:"w-4 h-4"})})]},U))}),l.jsxs("button",{onClick:I,className:"w-full p-8 border-2 border-dashed rounded-xl text-slate-500 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50 transition",children:[l.jsx(w0,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("div",{className:"font-medium",children:"Upload Document"}),l.jsx("div",{className:"text-xs mt-1",children:"PDF, DOCX, TXT, Markdown"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ve,{variant:"outline",onClick:()=>r("Describe"),children:"Back"}),l.jsxs(ve,{onClick:()=>r("Build"),className:"gap-2",children:["Continue to Build",l.jsx(bl,{className:"w-4 h-4"})]})]})]}),n==="Actions"&&d.type==="workflow_executor"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Resolve Actions"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Select which actions this agent can perform."})]}),l.jsxs(Rn,{className:"p-5",children:[d.actions.length>0&&l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Selected"}),d.actions.map((L,U)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-violet-50 rounded-lg border border-violet-200",children:[l.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx(Il,{className:"w-4 h-4 text-violet-500"}),L]}),l.jsx("button",{onClick:()=>$(L),className:"text-slate-400 hover:text-red-500",children:l.jsx(li,{className:"w-4 h-4"})})]},U))]}),l.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Available Actions"}),l.jsx("div",{className:"space-y-2 mt-2",children:["AD_Password_Reset","ServiceNow_Create_Ticket","Okta_Unlock_Account","Slack_Send_Message"].filter(L=>!d.actions.includes(L)).map(L=>l.jsxs("button",{onClick:()=>B(L),className:"w-full text-left p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:L}),l.jsx("span",{className:"text-violet-600 text-sm font-medium",children:"+ Add"})]},L))})]}),d.actions.length>0&&l.jsxs(Rn,{className:"p-5",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3 block",children:"Workflow Preview"}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:"px-3 py-1.5 bg-emerald-100 text-emerald-700 rounded-lg text-sm font-medium",children:"Trigger"}),d.actions.map((L,U)=>l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-400",children:""}),l.jsx("span",{className:"px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg text-sm font-medium",children:L})]},U)),l.jsx("span",{className:"text-slate-400",children:""}),l.jsx("span",{className:"px-3 py-1.5 bg-slate-200 text-slate-600 rounded-lg text-sm font-medium",children:"End"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ve,{variant:"outline",onClick:()=>r("Describe"),children:"Back"}),l.jsxs(ve,{onClick:()=>r("Build"),className:"gap-2",children:["Continue to Build",l.jsx(bl,{className:"w-4 h-4"})]})]})]}),n==="Build"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Behavior Settings"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Configure how the agent responds and handles edge cases."})]}),l.jsxs(Rn,{className:"p-5 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium text-slate-900 mb-2",children:"Interaction Style"}),l.jsxs("select",{value:d.tone,onChange:L=>f(U=>({...U,tone:L.target.value})),className:"w-full px-4 py-3 border rounded-lg bg-slate-50 focus:ring-2 focus:ring-violet-500 focus:border-violet-500",children:[l.jsx("option",{value:"friendly",children:"Friendly and conversational"}),l.jsx("option",{value:"professional",children:"Professional and formal"}),l.jsx("option",{value:"concise",children:"Concise and direct"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block font-medium text-slate-900 mb-2",children:"When content is insufficient"}),l.jsxs("select",{value:d.fallback,onChange:L=>f(U=>({...U,fallback:L.target.value})),className:"w-full px-4 py-3 border rounded-lg bg-slate-50 focus:ring-2 focus:ring-violet-500 focus:border-violet-500",children:[l.jsx("option",{value:"apologize",children:"Apologize and offer alternatives"}),l.jsx("option",{value:"escalate",children:"Escalate to human agent"}),l.jsx("option",{value:"ticket",children:"Create a support ticket"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:"Context Switching"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Allow users to change topics mid-conversation"})]}),l.jsx(Yve,{className:"w-10 h-6 text-violet-600"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ve,{variant:"outline",onClick:()=>r(E[1]),children:"Back"}),l.jsxs(ve,{onClick:()=>r("Test"),className:"gap-2",children:["Continue to Test",l.jsx(bl,{className:"w-4 h-4"})]})]})]}),n==="Test"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Test Your Agent"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Try out conversations in the preview panel on the right."})]}),l.jsx(Rn,{className:"p-5",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 rounded-2xl bg-violet-100 flex items-center justify-center mx-auto mb-4",children:l.jsx(QK,{className:"w-8 h-8 text-violet-600"})}),l.jsx("p",{className:"font-medium text-slate-700",children:"Ready to test"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Use the preview panel to simulate conversations"})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ve,{variant:"outline",onClick:()=>r("Build"),children:"Back"}),l.jsxs(ve,{disabled:!_,className:"gap-2 bg-gradient-to-r from-violet-500 to-purple-600",children:[l.jsx(Xh,{className:"w-4 h-4"}),"Publish Agent"]})]})]})]})}),l.jsxs("div",{className:"w-80 bg-white border-l flex flex-col shrink-0",children:[l.jsxs("div",{className:"px-4 py-3 border-b flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-sm",children:"Preview"}),h.length>0&&l.jsx("button",{onClick:()=>p([]),className:"text-xs text-slate-500 hover:text-slate-700",children:"Reset"})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:h.length===0?l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center px-4",children:[k&&l.jsx("div",{className:`w-14 h-14 ${k.color} rounded-2xl flex items-center justify-center mx-auto mb-3`,children:l.jsx(k.icon,{className:"w-7 h-7 text-white"})}),l.jsx("h3",{className:"font-semibold",children:d.name}),l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Test your agent below"})]})}):l.jsxs("div",{className:"space-y-3",children:[h.map((L,U)=>l.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[85%] rounded-2xl px-3 py-2 text-sm ${L.role==="user"?"bg-violet-600 text-white":"bg-slate-100"}`,children:L.content})},U)),b&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-slate-100 rounded-2xl px-3 py-2",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:150ms]"}),l.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:300ms]"})]})})})]})}),l.jsx("div",{className:"border-t p-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(en,{type:"text",value:v,onChange:L=>x(L.target.value),onKeyDown:L=>L.key==="Enter"&&C(),placeholder:"Test a message...",className:"flex-1"}),l.jsx(ve,{onClick:C,disabled:!v,size:"icon",className:"shrink-0",children:l.jsx(vu,{className:"w-4 h-4"})})]})})]})]}),l.jsx("div",{className:`fixed bottom-4 left-1/2 -translate-x-1/2 w-full max-w-xl transition-all ${i?"h-72":"h-auto"}`,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border overflow-hidden",children:[i&&l.jsx("div",{className:"h-48 overflow-auto p-4 border-b",children:a.map((L,U)=>l.jsx("div",{className:`mb-3 ${L.role==="user"?"text-right":""}`,children:l.jsx("span",{className:`inline-block px-3 py-2 rounded-xl text-sm ${L.role==="user"?"bg-violet-100 text-violet-900":"bg-slate-100"}`,children:L.content})},U))}),l.jsxs("div",{className:"p-3 flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 text-violet-600 shrink-0",children:[l.jsx(rg,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"AI Assistant"}),l.jsx("span",{className:"text-xs bg-violet-100 text-violet-600 px-1.5 py-0.5 rounded",children:"Beta"})]}),l.jsx(en,{type:"text",value:c,onChange:L=>u(L.target.value),onFocus:()=>s(!0),onKeyDown:L=>L.key==="Enter"&&T(),placeholder:"Ask for help...",className:"flex-1 bg-slate-50 border-0"}),l.jsx(ve,{onClick:T,disabled:!c,variant:"ghost",size:"icon",className:"text-violet-600",children:l.jsx(vu,{className:"w-4 h-4"})})]})]})})]})}const Tj={answer_formatter:{label:"Answer Agent",description:"Answers questions using knowledge base with custom formatting",icon:""},embedded_knowledge:{label:"Knowledge Agent",description:"Uses pre-configured documents and attachments",icon:""},workflow_executor:{label:"Workflow Agent",description:"Executes Resolve automations and explains results",icon:""}},dv={action:{label:"Action",icon:"",color:"bg-blue-100 border-blue-300"},condition:{label:"Condition",icon:"",color:"bg-yellow-100 border-yellow-300"},prompt:{label:"User Prompt",icon:"",color:"bg-purple-100 border-purple-300"},transform:{label:"Transform",icon:"",color:"bg-green-100 border-green-300"},delay:{label:"Delay",icon:"",color:"bg-gray-100 border-gray-300"},escalate:{label:"Escalate",icon:"",color:"bg-red-100 border-red-300"}},M0e=[{id:"get_weather",name:"Get Weather Data",description:"Retrieves weather information based on zip/postal code",icon:""},{id:"password_reset",name:"Password Reset",description:"Reset user password via ServiceNow",icon:""},{id:"ticket_create",name:"Create Ticket",description:"Open a new support ticket",icon:""},{id:"account_unlock",name:"Unlock Account",description:"Unlock locked AD account",icon:""},{id:"vpn_access",name:"VPN Access Request",description:"Request VPN access approval",icon:""}],t6={contentSource:"rag",insufficientContent:"Tell user no data available for that topic",interactionStyle:"Conversational and friendly",missingData:"Ask user for clarification",followUpBehavior:"Go back to source for more data",contextSwitching:!0,ticketCreation:!1};function Cwt({initialAgent:e}){const[t,n]=y.useState({name:(e==null?void 0:e.name)||"",type:e==null?void 0:e.type,status:"draft"}),[r,i]=y.useState("describe"),[s,a]=y.useState([]),[o,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState({role:"",purpose:"",completionCriteria:""}),[p,v]=y.useState([]),[x,b]=y.useState([]),[w,E]=y.useState([]),[k,_]=y.useState(t6),A=y.useRef(null);y.useEffect(()=>{var z;(z=A.current)==null||z.scrollIntoView({behavior:"smooth"})},[s]),y.useEffect(()=>{t.type&&s.length===0&&I()},[t.type]);const T=z=>{a(O=>[...O,{...z,id:`${Date.now()}-${Math.random()}`}])},C=z=>{a(O=>O.map(X=>X.type===z?{...X,completed:!0}:X))},I=()=>{const z=Tj[t.type].label;T({role:"agent",type:"text",content:`Let's set up your ${z}. First, tell me about the agent's persona.`}),setTimeout(()=>{T({role:"agent",type:"persona-form",content:""})},300)},B=async()=>{!f.role||!f.purpose||!f.completionCriteria||(C("persona-form"),T({role:"user",type:"text",content:`Role: ${f.role.slice(0,50)}...`}),d(!0),await new Promise(z=>setTimeout(z,1500)),T({role:"agent",type:"text",content:`Here's my understanding of your ${t.name||"agent"}:`}),setTimeout(()=>{T({role:"agent",type:"summary-confirmation",content:"",data:{persona:f}}),d(!1)},300))},$=async()=>{C("summary-confirmation"),T({role:"user",type:"text",content:"Looks correct"}),d(!0),await new Promise(O=>setTimeout(O,1200));const z=j(f);v(z),T({role:"agent",type:"text",content:"I've generated sample phrases that will trigger this agent. Review and edit as needed:"}),setTimeout(()=>{T({role:"agent",type:"trigger-phrases",content:"",data:{phrases:z}}),d(!1)},300)},L=async()=>{C("trigger-phrases"),T({role:"user",type:"text",content:`${p.length} trigger phrases confirmed`}),T({role:"agent",type:"text",content:"Do you have other agents with similar capabilities? If so, define exceptions to avoid overlap."}),setTimeout(()=>{T({role:"agent",type:"exceptions",content:""})},300)},U=async z=>{C("exceptions"),T({role:"user",type:"text",content:z?"Exceptions defined":"No exceptions needed"}),d(!0),T({role:"agent",type:"text",content:"Building agent description..."}),await new Promise(O=>setTimeout(O,2e3)),d(!1),T({role:"agent",type:"text",content:` Description phase complete! ${t.type==="answer_formatter"?"Moving to Build phase (no content needed for Post-RAG).":"Now let's add content."}`}),i(t.type==="answer_formatter"?"build":"content"),setTimeout(()=>{t.type==="answer_formatter"?W():Y()},500)},Y=()=>{t.type==="embedded_knowledge"?(T({role:"agent",type:"text",content:"Upload the files this agent should use to answer questions:"}),setTimeout(()=>{T({role:"agent",type:"file-upload",content:""})},300)):t.type==="workflow_executor"&&(T({role:"agent",type:"text",content:"Select the Resolve Actions workflow(s) this agent should execute:"}),setTimeout(()=>{T({role:"agent",type:"workflow-picker",content:""})},300))},V=async()=>{x.length!==0&&(C("file-upload"),T({role:"user",type:"text",content:`Uploaded ${x.length} file(s)`}),d(!0),T({role:"agent",type:"text",content:"Processing and indexing files..."}),await new Promise(z=>setTimeout(z,2e3)),d(!1),T({role:"agent",type:"text",content:" Content indexed! Moving to Build phase."}),i("build"),setTimeout(()=>W(),500))},K=async()=>{if(w.length===0)return;C("workflow-picker");const z=w.map(O=>{var X;return(X=M0e.find(ne=>ne.id===O))==null?void 0:X.name}).join(", ");T({role:"user",type:"text",content:`Selected: ${z}`}),d(!0),T({role:"agent",type:"text",content:"Validating workflow connections..."}),await new Promise(O=>setTimeout(O,1500)),d(!1),T({role:"agent",type:"text",content:" Workflows connected! Moving to Build phase."}),i("build"),setTimeout(()=>W(),500)},W=()=>{const z={...t6};t.type==="embedded_knowledge"?z.contentSource="embedded":t.type==="workflow_executor"&&(z.contentSource="automation",z.insufficientContent="Get more data from automation",z.followUpBehavior="Go back to automation if no results"),_(z),T({role:"agent",type:"text",content:"Here's the recommended configuration. Make any changes you need:"}),setTimeout(()=>{T({role:"agent",type:"config-panel",content:"",data:{config:z}})},300)},J=async()=>{C("config-panel"),T({role:"user",type:"text",content:"Configuration confirmed"}),d(!0),T({role:"agent",type:"text",content:"Generating agent priorities (rules)..."}),await new Promise(z=>setTimeout(z,2500)),T({role:"agent",type:"text",content:"Here's the agent structure:"}),setTimeout(()=>{T({role:"agent",type:"priorities-preview",content:""}),d(!1)},300)},q=async()=>{C("priorities-preview"),T({role:"user",type:"text",content:"Structure looks good"}),d(!0),T({role:"agent",type:"text",content:"Building agent... This may take a moment."}),await new Promise(z=>setTimeout(z,3e3)),d(!1),T({role:"agent",type:"text",content:" Agent built successfully! Ready to publish."}),i("publish"),setTimeout(()=>{T({role:"agent",type:"publish-ready",content:""})},500)},G=async()=>{C("publish-ready"),T({role:"user",type:"text",content:"Publish now"}),d(!0),T({role:"agent",type:"text",content:"Publishing agent..."}),await new Promise(z=>setTimeout(z,2e3)),d(!1),T({role:"agent",type:"text",content:` ${t.name||"Your agent"} is now live! Try it out:`}),setTimeout(()=>{T({role:"agent",type:"test-chat",content:""})},300)},j=z=>z.purpose.toLowerCase().includes("weather")?["What's the weather like today?","Will it rain tomorrow?","What's the forecast for this weekend?","Temperature in San Francisco","Is it going to be sunny?"]:z.purpose.toLowerCase().includes("pizza")||z.purpose.toLowerCase().includes("menu")?["What pizzas do you have?","Show me the menu","What toppings are available?","How much is a large pizza?","Do you have vegetarian options?"]:z.purpose.toLowerCase().includes("benefit")||z.purpose.toLowerCase().includes("hr")?["What's my deductible?","How do I enroll in benefits?","When is open enrollment?","What dental plans are available?","How do I submit a PTO request?","What is our PTO policy?"]:["Help me with this","I have a question","Can you assist me?","I need information about..."],M=()=>{o.trim()&&(T({role:"user",type:"text",content:o}),c(""))};return l.jsxs("div",{className:"h-full flex flex-col bg-background",children:[l.jsxs("header",{className:"border-b bg-muted/30 px-6 py-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Agent Name"}),l.jsx("input",{type:"text",className:"text-xl font-semibold bg-transparent border-none outline-none w-full placeholder:text-muted-foreground/50",placeholder:"Enter agent name...",value:t.name,onChange:z=>n(O=>({...O,name:z.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"Agent Type"}),l.jsx("div",{className:"flex gap-2",children:Object.entries(Tj).map(([z,O])=>l.jsxs("button",{onClick:()=>{n(X=>({...X,type:z})),a([]),i("describe"),h({role:"",purpose:"",completionCriteria:""}),v([]),b([]),E([]),_(t6)},className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${t.type===z?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[O.icon," ",O.label]},z))})]}),l.jsx(ve,{variant:"outline",size:"sm",children:"Save Draft"})]}),t.type&&l.jsx("div",{className:"flex items-center gap-4 mt-4",children:["describe","content","build","publish"].map((z,O)=>{const X=r===z,ne=["describe","content","build","publish"].indexOf(r)>O,Q={describe:ks,content:Cs,build:ng,publish:Xh}[z],te=t.type==="answer_formatter"&&z==="content";return l.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ${te?"opacity-30 line-through":X?"bg-primary text-primary-foreground":ne?"bg-green-100 text-green-700":"bg-muted text-muted-foreground"}`,children:[ne&&!X?l.jsx(or,{className:"w-4 h-4"}):l.jsx(Q,{className:"w-4 h-4"}),l.jsx("span",{className:"capitalize",children:z})]},z)})})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"max-w-3xl mx-auto py-6 px-4 space-y-4",children:[!t.type&&l.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[l.jsx(rg,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:"Select an agent type to get started"}),l.jsxs("p",{className:"text-sm mt-2",children:[l.jsx("strong",{children:"Post-RAG:"})," Uses existing corporate content (SharePoint, Confluence)",l.jsx("br",{}),l.jsx("strong",{children:"Embedded Knowledge:"})," Upload files specific to this agent",l.jsx("br",{}),l.jsx("strong",{children:"Workflow:"})," Connects to Resolve Actions automation"]})]}),s.map(z=>l.jsx(Nwt,{message:z,agent:t,persona:f,setPersona:h,triggerPhrases:p,setTriggerPhrases:v,uploadedFiles:x,setUploadedFiles:b,selectedWorkflows:w,setSelectedWorkflows:E,config:k,setConfig:_,onPersonaSubmit:B,onSummaryConfirm:$,onTriggersConfirm:L,onExceptionsComplete:U,onFilesConfirm:V,onWorkflowsConfirm:K,onConfigConfirm:J,onPrioritiesConfirm:q,onPublish:G,isProcessing:u},z.id)),u&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white text-sm flex-shrink-0",children:l.jsx(ds,{className:"w-4 h-4 animate-spin"})}),l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"bg-muted rounded-lg px-4 py-3 inline-block",children:l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:l.jsx("span",{className:"animate-pulse",children:"Processing..."})})})})]}),l.jsx("div",{ref:A})]})}),t.type&&l.jsx("div",{className:"border-t bg-background px-4 py-3",children:l.jsxs("div",{className:"max-w-3xl mx-auto flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-4 py-2 border rounded-lg",placeholder:"Type to make changes or ask questions...",value:o,onChange:z=>c(z.target.value),onKeyDown:z=>z.key==="Enter"&&M()}),l.jsx(ve,{onClick:M,children:"Send"})]})})]})}function Nwt({message:e,agent:t,persona:n,setPersona:r,triggerPhrases:i,setTriggerPhrases:s,uploadedFiles:a,setUploadedFiles:o,selectedWorkflows:c,setSelectedWorkflows:u,config:d,setConfig:f,onPersonaSubmit:h,onSummaryConfirm:p,onTriggersConfirm:v,onExceptionsComplete:x,onFilesConfirm:b,onWorkflowsConfirm:w,onConfigConfirm:E,onPrioritiesConfirm:k,onPublish:_,isProcessing:A}){return e.role==="user"?l.jsx("div",{className:"flex justify-end",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-2xl rounded-br-md max-w-[80%]",children:e.content})}):l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white text-sm flex-shrink-0",children:""}),l.jsxs("div",{className:"flex-1 space-y-3",children:[e.type==="text"&&l.jsx("p",{className:"text-foreground",children:e.content}),e.type==="persona-form"&&!e.completed&&l.jsx(Twt,{persona:n,setPersona:r,onSubmit:h,isProcessing:A}),e.type==="summary-confirmation"&&l.jsx(Awt,{persona:n,completed:e.completed,onConfirm:p}),e.type==="trigger-phrases"&&l.jsx(jwt,{phrases:i,setPhrases:s,completed:e.completed,onConfirm:v}),e.type==="exceptions"&&!e.completed&&l.jsx(Pwt,{onComplete:x}),e.type==="file-upload"&&l.jsx(Iwt,{files:a,setFiles:o,completed:e.completed,onConfirm:b}),e.type==="workflow-picker"&&l.jsx(Rwt,{selected:c,setSelected:u,completed:e.completed,onConfirm:w}),e.type==="config-panel"&&l.jsx(Mwt,{config:d,setConfig:f,agentType:t.type,completed:e.completed,onConfirm:E}),e.type==="priorities-preview"&&l.jsx(Owt,{agentType:t.type,completed:e.completed,onConfirm:k}),e.type==="publish-ready"&&!e.completed&&l.jsx(Dwt,{agentName:t.name,onPublish:_}),e.type==="test-chat"&&l.jsx(Lwt,{agentName:t.name,config:d})]})]})}function Twt({persona:e,setPersona:t,onSubmit:n,isProcessing:r}){return l.jsxs(Rn,{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Describe the role/persona of the agent"}),l.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg text-sm resize-none",rows:2,placeholder:"e.g., Acts as a friendly, knowledgeable benefits expert for employees...",value:e.role,onChange:i=>t(s=>({...s,role:i.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"What do you want the agent to do?"}),l.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg text-sm resize-none",rows:2,placeholder:"e.g., Assist employees with questions about health insurance, PTO policies...",value:e.purpose,onChange:i=>t(s=>({...s,purpose:i.target.value}))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-1 block",children:"When is the agent's job complete?"}),l.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg text-sm resize-none",rows:2,placeholder:"e.g., When the employee says they're done and ready to enroll...",value:e.completionCriteria,onChange:i=>t(s=>({...s,completionCriteria:i.target.value}))})]}),l.jsxs(ve,{className:"w-full",onClick:n,disabled:!e.role||!e.purpose||!e.completionCriteria||r,children:[r?l.jsx(ds,{className:"w-4 h-4 animate-spin mr-2"}):null,"Continue ",l.jsx(bl,{className:"w-4 h-4 ml-1"})]})]})}function Awt({persona:e,completed:t,onConfirm:n}){return t?l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),"Summary confirmed"]}):l.jsxs(Rn,{className:"p-4 space-y-3 bg-blue-50/50 border-blue-200",children:[l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Persona:"})," ",l.jsx("span",{className:"text-muted-foreground",children:e.role})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Purpose:"})," ",l.jsx("span",{className:"text-muted-foreground",children:e.purpose})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Completion:"})," ",l.jsx("span",{className:"text-muted-foreground",children:e.completionCriteria})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ve,{variant:"outline",size:"sm",children:[l.jsx(rY,{className:"w-3 h-3 mr-1"})," Edit"]}),l.jsxs(ve,{size:"sm",onClick:n,children:["Correct ",l.jsx(or,{className:"w-4 h-4 ml-1"})]})]})]})}function jwt({phrases:e,setPhrases:t,completed:n,onConfirm:r}){const[i,s]=y.useState("");if(n)return l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),e.length," trigger phrases configured"]});const a=()=>{i.trim()&&(t(c=>[...c,i.trim()]),s(""))},o=c=>{t(u=>u.filter((d,f)=>f!==c))};return l.jsxs(Rn,{className:"p-4 space-y-3",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((c,u)=>l.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-muted rounded-full text-sm group",children:[l.jsx("span",{children:c}),l.jsx("button",{onClick:()=>o(u),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(li,{className:"w-3 h-3 text-muted-foreground hover:text-destructive"})})]},u))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-3 py-1.5 border rounded-lg text-sm",placeholder:"Add a trigger phrase...",value:i,onChange:c=>s(c.target.value),onKeyDown:c=>c.key==="Enter"&&a()}),l.jsx(ve,{variant:"outline",size:"sm",onClick:a,children:l.jsx(Ts,{className:"w-4 h-4"})})]}),l.jsxs(ve,{className:"w-full",onClick:r,disabled:e.length===0,children:["Confirm Phrases ",l.jsx(bl,{className:"w-4 h-4 ml-1"})]})]})}function Pwt({onComplete:e}){return l.jsxs(Rn,{className:"p-4 space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Exceptions help avoid overlap when you have multiple similar agents."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:()=>e(!1),children:"No exceptions needed"}),l.jsx(ve,{variant:"outline",onClick:()=>e(!0),children:"Define exceptions"})]})]})}function Iwt({files:e,setFiles:t,completed:n,onConfirm:r}){if(n)return l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),e.length," file(s) uploaded"]});const i=s=>{s.preventDefault();const a=Array.from(s.dataTransfer.files);t(o=>[...o,...a])};return l.jsxs(Rn,{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onDragOver:s=>s.preventDefault(),onDrop:i,onClick:()=>{var s;return(s=document.getElementById("file-input"))==null?void 0:s.click()},children:[l.jsx(w0,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-medium",children:"Drop files here or click to upload"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, DOCX, TXT, CSV supported"}),l.jsx("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",onChange:s=>t(a=>[...a,...Array.from(s.target.files||[])])})]}),e.length>0&&l.jsx("div",{className:"space-y-2",children:e.map((s,a)=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded-lg",children:[l.jsx(Cs,{className:"w-4 h-4 text-muted-foreground"}),l.jsx("span",{className:"flex-1 text-sm truncate",children:s.name}),l.jsx("button",{onClick:()=>t(o=>o.filter((c,u)=>u!==a)),children:l.jsx(li,{className:"w-4 h-4 text-muted-foreground hover:text-destructive"})})]},a))}),l.jsxs(ve,{className:"w-full",onClick:r,disabled:e.length===0,children:["Continue ",l.jsx(bl,{className:"w-4 h-4 ml-1"})]})]})}function Rwt({selected:e,setSelected:t,completed:n,onConfirm:r}){if(n)return l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),e.length," workflow(s) connected"]});const i=s=>{t(a=>a.includes(s)?a.filter(o=>o!==s):[...a,s])};return l.jsxs(Rn,{className:"p-4 space-y-3",children:[M0e.map(s=>{const a=e.includes(s.id);return l.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${a?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center text-xl",children:s.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:s.name}),l.jsx("div",{className:"text-xs text-muted-foreground",children:s.description})]}),a&&l.jsx(or,{className:"w-5 h-5 text-primary"})]},s.id)}),l.jsxs(ve,{className:"w-full",onClick:r,disabled:e.length===0,children:["Continue ",l.jsx(bl,{className:"w-4 h-4 ml-1"})]})]})}function Mwt({config:e,setConfig:t,agentType:n,completed:r,onConfirm:i}){const[s,a]=y.useState(!1),[o,c]=y.useState("");if(r)return l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),"Configuration confirmed"]});const u=["Conversational and friendly","Professional","Concise","Comical","Like Spock","Shakespearean"];return l.jsxs(Rn,{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Content Source"}),l.jsx("div",{className:"mt-1 px-3 py-2 bg-muted rounded-lg text-sm",children:e.contentSource==="rag"?"RAG (Corporate Content)":e.contentSource==="embedded"?"Embedded Knowledge":"Automation"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"If Insufficient Content"}),l.jsx("div",{className:"mt-1 px-3 py-2 bg-muted rounded-lg text-sm truncate",children:e.insufficientContent})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Interaction Style"}),s?l.jsxs("div",{className:"mt-1 space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>l.jsx("button",{onClick:()=>{t(f=>({...f,interactionStyle:d})),a(!1)},className:"px-3 py-1 bg-muted hover:bg-primary hover:text-primary-foreground rounded-full text-sm transition-colors",children:d},d))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-3 py-1.5 border rounded-lg text-sm",placeholder:"Or type custom style...",value:o,onChange:d=>c(d.target.value)}),l.jsx(ve,{size:"sm",variant:"outline",onClick:()=>{o&&(t(d=>({...d,interactionStyle:o})),a(!1),c(""))},children:"Apply"})]})]}):l.jsxs("button",{onClick:()=>a(!0),className:"mt-1 w-full px-3 py-2 bg-muted rounded-lg text-sm text-left flex items-center justify-between hover:bg-muted/80",children:[l.jsx("span",{children:e.interactionStyle}),l.jsx(rY,{className:"w-3 h-3 text-muted-foreground"})]})]}),l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsx("span",{className:"text-sm",children:"Context Switching"}),l.jsx(cf,{checked:e.contextSwitching,onCheckedChange:d=>t(f=>({...f,contextSwitching:d}))})]}),l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsx("span",{className:"text-sm",children:"Ticket Creation"}),l.jsx(cf,{checked:e.ticketCreation,onCheckedChange:d=>t(f=>({...f,ticketCreation:d}))})]}),l.jsxs(ve,{className:"w-full",onClick:i,children:["Proceed ",l.jsx(bl,{className:"w-4 h-4 ml-1"})]})]})}function Owt({agentType:e,completed:t,onConfirm:n}){const r=e==="workflow_executor"?[{num:1,label:"Start with automation check",icon:""},{num:2,label:"Execute the automation",icon:""},{num:3,label:"Generate the answer",icon:""}]:e==="embedded_knowledge"?[{num:1,label:"Search embedded content",icon:""},{num:2,label:"Extract relevant information",icon:""},{num:3,label:"Generate response in selected style",icon:""}]:[{num:1,label:"Query RAG for relevant content",icon:""},{num:2,label:"Format and enhance response",icon:""},{num:3,label:"Apply interaction style",icon:""}];return t?l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(or,{className:"w-4 h-4 text-green-600"}),"Agent structure confirmed"]}):l.jsxs(Rn,{className:"p-4 space-y-4",children:[l.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Agent Priorities"}),l.jsx("div",{className:"space-y-2",children:r.map((i,s)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-lg",children:i.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:["Priority ",i.num]}),l.jsx("div",{className:"text-sm font-medium",children:i.label})]})]},s))}),l.jsxs(ve,{className:"w-full",onClick:n,children:["Looks Good ",l.jsx(or,{className:"w-4 h-4 ml-1"})]})]})}function Dwt({agentName:e,onPublish:t}){return l.jsxs(Rn,{className:"p-6 text-center space-y-4 bg-gradient-to-br from-violet-50 to-purple-50 border-violet-200",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-violet-100 flex items-center justify-center mx-auto",children:l.jsx(Xh,{className:"w-8 h-8 text-violet-600"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg",children:[e||"Your agent"," is ready!"]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Publish to make it available to users"})]}),l.jsxs(ve,{size:"lg",onClick:t,children:[l.jsx(Xh,{className:"w-4 h-4 mr-2"})," Publish Agent"]})]})}function Lwt({agentName:e,config:t}){const[n,r]=y.useState([]),[i,s]=y.useState(""),[a,o]=y.useState(!1),c=async()=>{if(!i.trim())return;const u=i;r(f=>[...f,{role:"user",text:u}]),s(""),o(!0),await new Promise(f=>setTimeout(f,1500));let d=`Based on available data, I can help you with that question about "${u.slice(0,30)}..."`;t.interactionStyle.toLowerCase().includes("spock")?d=`Fascinating. The most logical response to your query would be that ${u.toLowerCase().includes("pto")?"PTO requests are submitted through the HR portal":"I would need more specific parameters to compute an accurate response"}.`:t.interactionStyle.toLowerCase().includes("shakespeare")?d="Good morrow, noble patron! Permit me to illuminate thee upon this matter...":t.interactionStyle.toLowerCase().includes("comical")&&(d="Ha! Great question! Let me put on my thinking cap...  *adjusts invisible monocle*"),r(f=>[...f,{role:"agent",text:d}]),o(!1)};return l.jsxs(Rn,{className:"p-4 space-y-4 border-green-200 bg-green-50/30",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[l.jsx(or,{className:"w-5 h-5"}),l.jsxs("span",{className:"font-medium",children:[e," is live!"]})]}),l.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-3 min-h-[200px] max-h-[300px] overflow-auto",children:[n.length===0&&l.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[l.jsx(ks,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"Start a test conversation"})]}),n.map((u,d)=>l.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] px-3 py-2 rounded-lg text-sm ${u.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:u.text})},d)),a&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"bg-muted px-3 py-2 rounded-lg text-sm flex items-center gap-2",children:[l.jsx(ds,{className:"w-3 h-3 animate-spin"}),l.jsx("span",{className:"text-muted-foreground",children:"Thinking..."})]})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Test your agent...",value:i,onChange:u=>s(u.target.value),onKeyDown:u=>u.key==="Enter"&&c()}),l.jsx(ve,{size:"sm",onClick:c,disabled:a,children:l.jsx($v,{className:"w-4 h-4"})})]})]})}function Fwt({agent:e,onChange:t,onBack:n,onNext:r}){const[i,s]=y.useState("knowledge"),[a,o]=y.useState([]),[c,u]=y.useState(""),d=[{id:"knowledge",label:"Knowledge Sources",icon:""},{id:"persona",label:"Persona & Tone",icon:""},{id:"completion",label:"Completion Rules",icon:""},{id:"guardrails",label:"Guardrails",icon:""}],f=()=>{var v;if(!c.trim())return;o(x=>[...x,{role:"user",content:c}]);const h=((v=e.persona)==null?void 0:v.tone)||"professional",p={professional:`Based on the available information, I can help you with that. ${c.includes("?")?"Let me provide a detailed response.":""}`,friendly:"Great question! I'd love to help you with that. ",concise:"Here's what you need to know:"};setTimeout(()=>{o(x=>[...x,{role:"agent",content:p[h]}])},500),u("")};return l.jsxs("div",{className:"h-full flex",children:[l.jsxs("div",{className:"w-[400px] flex flex-col border-r bg-muted/20",children:[l.jsx("nav",{className:"p-2 border-b space-y-1",children:d.map(h=>l.jsxs("button",{onClick:()=>s(h.id),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-lg text-left transition-colors ${i===h.id?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("span",{children:h.icon}),l.jsx("span",{className:"text-sm font-medium",children:h.label})]},h.id))}),l.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[i==="knowledge"&&l.jsx($wt,{sources:e.knowledgeSources||[],onChange:h=>t({...e,knowledgeSources:h})}),i==="persona"&&l.jsx(zwt,{persona:e.persona,onChange:h=>t({...e,persona:h})}),i==="completion"&&l.jsx(Bwt,{rules:e.completionRules||[],onChange:h=>t({...e,completionRules:h})}),i==="guardrails"&&l.jsx(Uwt,{guardrails:e.guardrails||[],onChange:h=>t({...e,guardrails:h})})]}),l.jsxs("div",{className:"p-4 border-t flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:n,children:" Back"}),l.jsx(ve,{className:"flex-1",onClick:r,children:"Preview Agent "})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b bg-muted/30 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:"Live Preview"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"See how your agent responds in real-time"})]}),l.jsx(ve,{variant:"outline",size:"sm",onClick:()=>o([]),children:"Clear"})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:a.length===0?l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center text-muted-foreground",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{children:"Try a sample question:"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 max-w-md",children:["What are my health benefits?","How do I reset my password?","When is open enrollment?"].map(h=>l.jsx("button",{className:"px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-primary hover:text-primary-foreground transition-colors",onClick:()=>u(h),children:h},h))})]}):l.jsx("div",{className:"space-y-4",children:a.map((h,p)=>{var v;return l.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] px-4 py-2 rounded-lg ${h.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[h.role==="agent"&&l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:((v=e.persona)==null?void 0:v.name)||e.name||"Agent"}),h.content]})},p)})})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-4 py-2 border rounded-lg",placeholder:"Type a test message...",value:c,onChange:h=>u(h.target.value),onKeyDown:h=>h.key==="Enter"&&f()}),l.jsx(ve,{onClick:f,children:"Send"})]})})]})]})}function $wt({sources:e,onChange:t}){const n=[{id:"benefits_handbook",name:"Benefits Handbook 2024.pdf",type:"file"},{id:"hr_confluence",name:"HR Policies (Confluence)",type:"confluence"},{id:"it_sharepoint",name:"IT Documentation",type:"sharepoint"}],r=i=>{const s=e.find(a=>a.id===i.id);t(s?e.filter(a=>a.id!==i.id):[...e,{...i,priority:e.length+1}])};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Select Knowledge Sources"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose which documents and sources your agent can access"})]}),l.jsx("div",{className:"space-y-2",children:n.map(i=>{const s=e.some(a=>a.id===i.id);return l.jsx(Rn,{className:`p-3 cursor-pointer transition-all ${s?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>r(i),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-lg",children:i.type==="file"?"":i.type==="confluence"?"":""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:i.name}),l.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:i.type})]}),s&&l.jsx("span",{className:"text-primary",children:""})]})},i.id)})}),l.jsx(ve,{variant:"outline",size:"sm",className:"w-full",children:"+ Connect New Source"}),e.length>0&&l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("h4",{className:"font-medium mb-2 text-sm",children:"Priority Order"}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Drag to reorder. Higher priority sources are checked first."}),l.jsx("div",{className:"space-y-1",children:e.map((i,s)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[s+1,"."]}),l.jsx("span",{children:i.name})]},i.id))})]})]})}function zwt({persona:e,onChange:t}){const n=[{value:"professional",label:"Professional",example:"I would be happy to assist you with your inquiry."},{value:"friendly",label:"Friendly",example:"Hey! I'd love to help you out with that! "},{value:"concise",label:"Concise",example:"Here is the answer:"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Agent Display Name"}),l.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-lg",placeholder:"e.g., Benefits Bot, HR Helper",value:(e==null?void 0:e.name)||"",onChange:r=>t({...e,name:r.target.value,tone:(e==null?void 0:e.tone)||"professional",instructions:(e==null?void 0:e.instructions)||""})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tone"}),l.jsx("div",{className:"space-y-2",children:n.map(r=>l.jsxs(Rn,{className:`p-3 cursor-pointer transition-all ${(e==null?void 0:e.tone)===r.value?"ring-2 ring-primary":"hover:bg-muted/50"}`,onClick:()=>t({...e,name:(e==null?void 0:e.name)||"",tone:r.value,instructions:(e==null?void 0:e.instructions)||""}),children:[l.jsx("div",{className:"font-medium text-sm",children:r.label}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',r.example,'"']})]},r.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Custom Instructions"}),l.jsx("textarea",{className:"w-full mt-1 px-3 py-2 border rounded-lg resize-none",rows:4,placeholder:"Add specific instructions for the agent...",value:(e==null?void 0:e.instructions)||"",onChange:r=>t({...e,name:(e==null?void 0:e.name)||"",tone:(e==null?void 0:e.tone)||"professional",instructions:r.target.value})}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'E.g., "Always mention the deadline for open enrollment (Nov 15)"'})]})]})}function Bwt({rules:e,onChange:t}){const n=[{type:"user_confirmed",label:"User Confirmed",description:'Complete when user says "thanks" or clicks '},{type:"goal_achieved",label:"Goal Achieved",description:"Complete when workflow reaches success state"},{type:"max_turns",label:"Max Turns",description:"Complete after N conversation turns",hasValue:!0},{type:"timeout",label:"Timeout",description:"Complete after N minutes of inactivity",hasValue:!0}],r=s=>{const a=e.find(o=>o.type===s);t(a?e.map(o=>o.type===s?{...o,enabled:!o.enabled}:o):[...e,{type:s,enabled:!0,value:s==="max_turns"?10:s==="timeout"?30:void 0}])},i=(s,a)=>{t(e.map(o=>o.type===s?{...o,value:a}:o))};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:'When is the agent "done"?'}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Define conditions that complete the conversation"})]}),l.jsx("div",{className:"space-y-3",children:n.map(s=>{const a=e.find(c=>c.type===s.type),o=(a==null?void 0:a.enabled)??!1;return l.jsx(Rn,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:s.label}),l.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:s.description}),s.hasValue&&o&&l.jsx("input",{type:"number",className:"mt-2 w-20 px-2 py-1 border rounded text-sm",value:(a==null?void 0:a.value)||10,onChange:c=>i(s.type,parseInt(c.target.value))})]}),l.jsx(cf,{checked:o,onCheckedChange:()=>r(s.type)})]})},s.type)})})]})}function Uwt({guardrails:e,onChange:t}){const n=[{type:"pii_redaction",label:"PII Redaction",description:"Automatically mask SSN, credit cards, phone numbers"},{type:"topic_restriction",label:"Topic Restriction",description:"Block or warn on sensitive topics"},{type:"escalation_trigger",label:"Escalation Triggers",description:'Auto-escalate on keywords like "manager" or "complaint"'},{type:"max_turns",label:"Turn Limit",description:"Escalate if conversation exceeds N turns"}],r=i=>{const s=e.find(a=>a.type===i);t(s?e.map(a=>a.type===i?{...a,enabled:!a.enabled}:a):[...e,{type:i,enabled:!0}])};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Safety & Compliance"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure guardrails to keep conversations safe"})]}),l.jsx("div",{className:"space-y-3",children:n.map(i=>{const s=e.find(o=>o.type===i.type),a=(s==null?void 0:s.enabled)??!1;return l.jsx(Rn,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:i.label}),l.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:i.description})]}),l.jsx(cf,{checked:a,onCheckedChange:()=>r(i.type)})]})},i.type)})})]})}function Hwt({agent:e,onChange:t,onBack:n,onNext:r}){const[i,s]=y.useState(null),[a,o]=y.useState(null),c=e.steps||[],u=c.find(x=>x.id===i),d=(x,b)=>{const w={id:`step_${Date.now()}`,type:x,name:`New ${dv[x].label}`,position:b||{x:100+c.length*180,y:150},connections:[]};t({...e,steps:[...c,w]}),s(w.id)},f=(x,b)=>{t({...e,steps:c.map(w=>w.id===x?{...w,...b}:w)})},h=x=>{t({...e,steps:c.filter(b=>b.id!==x).map(b=>({...b,connections:b.connections.filter(w=>w.targetStepId!==x)}))}),s(null)},p=(x,b,w)=>{const E=c.find(k=>k.id===x);E&&x!==b&&(E.connections.some(k=>k.targetStepId===b)||f(x,{connections:[...E.connections,{targetStepId:b,label:w}]}))},v=x=>{if(x.preventDefault(),a){const b=x.currentTarget.getBoundingClientRect();d(a,{x:x.clientX-b.left-75,y:x.clientY-b.top-30}),o(null)}};return l.jsxs("div",{className:"h-full flex",children:[l.jsxs("aside",{className:"w-56 border-r bg-muted/20 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("h3",{className:"font-medium text-sm",children:"Add Step"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Drag onto canvas or click to add"})]}),l.jsx("div",{className:"flex-1 overflow-auto p-2 space-y-1",children:Object.entries(dv).map(([x,b])=>l.jsxs("div",{draggable:!0,onDragStart:()=>o(x),onDragEnd:()=>o(null),onClick:()=>d(x),className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors hover:bg-muted border ${b.color}`,children:[l.jsx("span",{children:b.icon}),l.jsx("span",{className:"text-sm font-medium",children:b.label})]},x))}),l.jsxs("div",{className:"p-4 border-t",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Actions Library"}),l.jsx("div",{className:"space-y-1 text-sm",children:["servicenow.ticket.create","servicenow.password.reset","resolve.identity.verify","resolve.email.send"].map(x=>l.jsx("button",{className:"w-full text-left px-2 py-1.5 rounded hover:bg-muted text-xs font-mono truncate",onClick:()=>{d("action")},children:x},x))})]})]}),l.jsxs("main",{className:"flex-1 relative overflow-auto bg-[radial-gradient(circle,#e5e5e5_1px,transparent_1px)] bg-[size:20px_20px]",onDragOver:x=>x.preventDefault(),onDrop:v,onClick:()=>s(null),children:[l.jsxs("svg",{className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%"},children:[c.flatMap(x=>x.connections.map(b=>{const w=c.find(E=>E.id===b.targetStepId);return w?l.jsxs("g",{children:[l.jsx("line",{x1:x.position.x+75,y1:x.position.y+60,x2:w.position.x+75,y2:w.position.y,stroke:"#94a3b8",strokeWidth:2,markerEnd:"url(#arrowhead)"}),b.label&&l.jsx("text",{x:(x.position.x+w.position.x)/2+75,y:(x.position.y+w.position.y)/2+30,className:"text-xs fill-muted-foreground",textAnchor:"middle",children:b.label})]},`${x.id}-${b.targetStepId}`):null})),l.jsx("defs",{children:l.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#94a3b8"})})})]}),c.map(x=>l.jsx(Vwt,{step:x,isSelected:x.id===i,onSelect:()=>s(x.id),onMove:b=>f(x.id,{position:b}),onConnect:(b,w)=>p(x.id,b,w),allSteps:c},x.id)),c.length===0&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx("div",{className:"text-4xl mb-4",children:""}),l.jsx("p",{className:"font-medium",children:"Start building your workflow"}),l.jsx("p",{className:"text-sm mt-1",children:"Drag steps from the left panel or click to add"}),l.jsx(ve,{variant:"outline",className:"mt-4",onClick:()=>d("prompt"),children:"+ Add First Step"})]})}),l.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[l.jsx(ve,{variant:"outline",size:"sm",children:"Zoom In"}),l.jsx(ve,{variant:"outline",size:"sm",children:"Zoom Out"}),l.jsx(ve,{variant:"outline",size:"sm",children:"Fit View"})]})]}),u&&l.jsxs("aside",{className:"w-72 border-l bg-background flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium",children:"Configure Step"}),l.jsx("button",{className:"text-muted-foreground hover:text-foreground",onClick:()=>s(null),children:""})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Step Name"}),l.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-lg",value:u.name,onChange:x=>f(u.id,{name:x.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Type"}),l.jsxs("div",{className:"mt-1 px-3 py-2 bg-muted rounded-lg text-sm flex items-center gap-2",children:[l.jsx("span",{children:dv[u.type].icon}),l.jsx("span",{children:dv[u.type].label})]})]}),u.type==="action"&&l.jsx(qwt,{step:u,onChange:x=>f(u.id,x)}),u.type==="condition"&&l.jsx(Wwt,{step:u,onChange:x=>f(u.id,x)}),u.type==="prompt"&&l.jsx(Gwt,{step:u,onChange:x=>f(u.id,x)}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Connections"}),l.jsx("div",{className:"mt-2 space-y-2",children:u.connections.length===0?l.jsx("p",{className:"text-xs text-muted-foreground",children:"No outgoing connections"}):u.connections.map(x=>{const b=c.find(w=>w.id===x.targetStepId);return l.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 bg-muted rounded text-sm",children:[l.jsxs("span",{children:[" ",(b==null?void 0:b.name)||"Unknown"]}),x.label&&l.jsx("span",{className:"text-xs text-muted-foreground",children:x.label})]},x.targetStepId)})})]})]}),l.jsx("div",{className:"p-4 border-t",children:l.jsx(ve,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>h(u.id),children:"Delete Step"})})]}),l.jsxs("div",{className:"absolute bottom-0 left-56 right-0 p-4 border-t bg-background flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:n,children:" Back"}),l.jsx(ve,{className:"flex-1",onClick:r,children:"Preview Workflow "})]})]})}function Vwt({step:e,isSelected:t,onSelect:n,onMove:r,onConnect:i,allSteps:s}){const[a,o]=y.useState(!1),[c,u]=y.useState(!1),d=dv[e.type],f=h=>{var p;if(a){const v=(p=h.currentTarget.parentElement)==null?void 0:p.getBoundingClientRect();v&&r({x:h.clientX-v.left-75,y:h.clientY-v.top-30})}};return l.jsxs("div",{className:`absolute w-[150px] cursor-move transition-shadow ${t?"z-10":""}`,style:{left:e.position.x,top:e.position.y},draggable:!0,onDragStart:()=>o(!0),onDrag:f,onDragEnd:()=>o(!1),onClick:h=>{h.stopPropagation(),n()},children:[l.jsxs(Rn,{className:`p-3 border-2 ${d.color} ${t?"ring-2 ring-primary ring-offset-2":""}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{children:d.icon}),l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:d.label})]}),l.jsx("div",{className:"font-medium text-sm truncate",children:e.name})]}),l.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2",children:[l.jsx("button",{className:"w-4 h-4 rounded-full bg-primary border-2 border-background hover:scale-125 transition-transform",onClick:h=>{h.stopPropagation(),u(!c)}}),c&&l.jsxs("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 bg-background border rounded-lg shadow-lg p-2 min-w-[150px] z-20",children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Connect to:"}),s.filter(h=>h.id!==e.id).map(h=>l.jsx("button",{className:"w-full text-left px-2 py-1 text-sm rounded hover:bg-muted",onClick:p=>{p.stopPropagation(),i(h.id),u(!1)},children:h.name},h.id)),s.length<=1&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Add more steps first"})]})]})]})}function qwt({step:e,onChange:t}){return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Action"}),l.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[l.jsx("option",{children:"servicenow.ticket.create"}),l.jsx("option",{children:"servicenow.password.reset"}),l.jsx("option",{children:"resolve.identity.verify"}),l.jsx("option",{children:"resolve.email.send"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Input"}),l.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-lg font-mono text-xs",placeholder:"{{ user.email }}"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"On Error"}),l.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[l.jsx("option",{children:"Fail"}),l.jsx("option",{children:"Skip"}),l.jsx("option",{children:"Retry"}),l.jsx("option",{children:"Branch"})]})]})]})}function Wwt({step:e,onChange:t}){return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Expression"}),l.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-lg font-mono text-xs",placeholder:"{{ result.valid }} === true"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Branches"}),l.jsxs("div",{className:"mt-1 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"w-16 text-green-600 font-medium",children:"Yes "}),l.jsx("select",{className:"flex-1 px-2 py-1 border rounded text-xs",children:l.jsx("option",{children:"Next step"})})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"w-16 text-red-600 font-medium",children:"No "}),l.jsx("select",{className:"flex-1 px-2 py-1 border rounded text-xs",children:l.jsx("option",{children:"Escalate"})})]})]})]})]})}function Gwt({step:e,onChange:t}){return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Message"}),l.jsx("textarea",{className:"w-full mt-1 px-3 py-2 border rounded-lg resize-none",rows:2,placeholder:"What would you like to ask the user?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Input Type"}),l.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[l.jsx("option",{children:"Text"}),l.jsx("option",{children:"Choice"}),l.jsx("option",{children:"Confirmation (Yes/No)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Timeout (seconds)"}),l.jsx("input",{type:"number",className:"w-full mt-1 px-3 py-2 border rounded-lg",defaultValue:60})]})]})}const O0e=[{value:"answer_formatter",label:"Answer Formatter",description:"Reformats and enhances RAG/ITSM responses",icon:ks,color:"bg-blue-500"},{value:"embedded_knowledge",label:"Knowledge Agent",description:"Uses uploaded documents to answer questions",icon:Cs,color:"bg-amber-500"},{value:"workflow_executor",label:"Workflow Executor",description:"Runs automations and Resolve workflows",icon:Il,color:"bg-violet-500"}],n6=[{value:"draft",label:"Draft",color:"bg-slate-400"},{value:"testing",label:"Testing",color:"bg-amber-500"},{value:"validated",label:"Validated",color:"bg-emerald-500"},{value:"published",label:"Published",color:"bg-blue-500"}],Kwt={id:"",name:"",type:null,persona:"",goal:"",completionCriteria:"",status:"draft",version:1,knowledgeSources:[],actions:[],settings:{tone:"friendly",fallbackBehavior:"apologize",maxTurns:10,contextRetention:!0},steps:[]};function Ywt(){const[e,t]=y.useState(!0),[n,r]=y.useState(Kwt),[i,s]=y.useState("setup"),[a,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState([]),[h,p]=y.useState(!1),[v,x]=y.useState(!1),[b,w]=y.useState([]),E=y.useCallback(()=>{const I=[];return n.name.trim()||I.push({field:"name",message:"Agent name is required",severity:"error"}),n.persona.trim()||I.push({field:"persona",message:"Define the agent persona",severity:"warning"}),n.goal.trim()||I.push({field:"goal",message:"Specify what the agent should do",severity:"error"}),n.completionCriteria.trim()||I.push({field:"completionCriteria",message:"Define completion criteria",severity:"warning"}),n.type==="embedded_knowledge"&&n.knowledgeSources.length===0&&I.push({field:"sources",message:"Add at least one knowledge source",severity:"error"}),n.type==="workflow_executor"&&n.actions.length===0&&I.push({field:"actions",message:"Add at least one action",severity:"error"}),I},[n]),k=I=>{const B={...n,...I,id:`agent-${Date.now()}`,steps:o2t(I.type)};r(B),t(!1),o([{id:"1",role:"assistant",content:`I'll help you build "${I.name}". I've set up the basic workflow based on your configuration. You can:

 Edit the configuration on the left
 See the workflow in the center
 Ask me questions here
 Test your agent when ready`,timestamp:new Date}])},_=()=>{if(!c.trim())return;const I={id:`msg-${Date.now()}`,role:"user",content:c,timestamp:new Date};o(B=>[...B,I]),u(""),setTimeout(()=>{const B={id:`msg-${Date.now()}`,role:"assistant",content:l2t(c,n),timestamp:new Date};o($=>[...$,B])},800)},A=()=>{p(!0),x(!0),setTimeout(()=>{var B;const I={id:`test-${Date.now()}`,input:"How do I reset my password?",output:n.type==="workflow_executor"?"I'll help you reset your password. Running AD_Password_Reset workflow...":"To reset your password, follow these steps: 1. Go to the IT portal...",confidence:.94,reasoning:["Identified intent: password_reset (94% confidence)",`Matched knowledge source: ${((B=n.knowledgeSources[0])==null?void 0:B.name)||"IT Policies"}`,n.type==="workflow_executor"?"Selected action: AD_Password_Reset":"Generated response from knowledge base"],status:"passed",timestamp:new Date};f($=>[I,...$]),p(!1)},2e3)},T=I=>{const B=E();w(B),!(I!=="draft"&&B.some($=>$.severity==="error"))&&r($=>({...$,status:I,version:I==="published"?$.version+1:$.version}))};if(e)return l.jsx(Xwt,{onComplete:k,onCancel:()=>t(!1)});const C=O0e.find(I=>I.value===n.type);return l.jsxs("div",{className:"h-full flex flex-col bg-slate-50",children:[l.jsxs("header",{className:"h-14 bg-white border-b flex items-center justify-between px-4 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg",children:l.jsx(WK,{className:"w-5 h-5 text-slate-500"})}),C&&l.jsx("div",{className:`w-8 h-8 rounded-lg ${C.color} flex items-center justify-center text-white`,children:l.jsx(C.icon,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold",children:n.name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[l.jsx("span",{children:C==null?void 0:C.label}),l.jsx("span",{children:""}),l.jsxs("span",{children:["v",n.version]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ve,{variant:"outline",size:"sm",children:[l.jsx(qj,{className:"w-4 h-4 mr-1.5"}),"Save"]}),l.jsxs(ve,{variant:"outline",size:"sm",children:[l.jsx(_1e,{className:"w-4 h-4 mr-1.5"}),"History"]}),l.jsxs(ve,{variant:"outline",size:"sm",onClick:A,disabled:h,children:[h?l.jsx(ds,{className:"w-4 h-4 mr-1.5 animate-spin"}):l.jsx(b6,{className:"w-4 h-4 mr-1.5"}),"Test"]}),l.jsxs(ve,{size:"sm",onClick:()=>T("published"),disabled:n.status==="published",className:"bg-gradient-to-r from-violet-500 to-purple-600",children:[l.jsx(Xh,{className:"w-4 h-4 mr-1.5"}),"Publish"]})]})]}),l.jsx(Qwt,{status:n.status,onStatusChange:T,validationErrors:b}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsx(Zwt,{config:n,setConfig:r,activeSection:i,setActiveSection:s,validationErrors:b}),l.jsx(r2t,{config:n,setConfig:r}),l.jsx(s2t,{chatMessages:a,chatInput:c,setChatInput:u,onSendMessage:_,testResults:d,showTestPanel:v,setShowTestPanel:x,isRunningTest:h,config:n})]})]})}function Xwt({onComplete:e,onCancel:t}){const[n,r]=y.useState(1),[i,s]=y.useState({name:"",type:null,persona:"",goal:"",completionCriteria:""}),a=()=>{switch(n){case 1:return i.name&&i.type;case 2:return i.persona&&i.goal;case 3:return i.completionCriteria;default:return!1}},o=()=>{n<3?r(n+1):e(i)};return l.jsx("div",{className:"h-full flex items-center justify-center bg-slate-100",children:l.jsxs(Rn,{className:"w-full max-w-lg shadow-2xl border-0 overflow-hidden",children:[l.jsx("div",{className:"h-1 bg-slate-100",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-600 transition-all",style:{width:`${n/3*100}%`}})}),l.jsxs("div",{className:"p-8",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Create New Agent"}),l.jsx("p",{className:"text-slate-500",children:"Choose the type and give it a name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Type"}),l.jsx("div",{className:"space-y-2",children:O0e.map(c=>{const u=c.icon;return l.jsxs("button",{onClick:()=>s(d=>({...d,type:c.value})),className:`w-full text-left p-4 rounded-xl border-2 transition flex items-center gap-3 ${i.type===c.value?"border-violet-500 bg-violet-50":"border-slate-200 hover:border-slate-300"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-lg ${c.color} flex items-center justify-center text-white`,children:l.jsx(u,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:c.label}),l.jsx("div",{className:"text-xs text-slate-500",children:c.description})]})]},c.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Name"}),l.jsx(en,{value:i.name,onChange:c=>s(u=>({...u,name:c.target.value})),placeholder:"e.g., Benefits Expert, Password Helper",className:"h-12 text-lg"})]})]}),n===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Define the Agent"}),l.jsx("p",{className:"text-slate-500",children:"Describe its role and what it should do"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Agent Persona / Role"}),l.jsx("textarea",{value:i.persona,onChange:c=>s(u=>({...u,persona:c.target.value})),placeholder:"e.g., Acts as a friendly, knowledgeable HR specialist who helps employees understand their benefits options...",rows:3,className:"w-full px-4 py-3 border rounded-xl resize-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"What should this agent do?"}),l.jsx("textarea",{value:i.goal,onChange:c=>s(u=>({...u,goal:c.target.value})),placeholder:"e.g., Answer questions about health benefits, explain coverage options, guide through enrollment process...",rows:3,className:"w-full px-4 py-3 border rounded-xl resize-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"})]})]}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Completion Criteria"}),l.jsx("p",{className:"text-slate-500",children:"How does the agent know when it's done?"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"When is the job complete?"}),l.jsx("textarea",{value:i.completionCriteria,onChange:c=>s(u=>({...u,completionCriteria:c.target.value})),placeholder:"e.g., When the user confirms their question has been answered, or when they complete enrollment, or after providing contact information for follow-up...",rows:4,className:"w-full px-4 py-3 border rounded-xl resize-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"})]}),l.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Common completion patterns:"}),l.jsx("div",{className:"space-y-2",children:["User explicitly confirms satisfaction","Requested action completes successfully","User reaches a specific page or state","After maximum number of exchanges"].map((c,u)=>l.jsx("button",{onClick:()=>s(d=>({...d,completionCriteria:c})),className:"block w-full text-left text-sm px-3 py-2 rounded-lg hover:bg-slate-100 transition",children:c},u))})]})]})]}),l.jsxs("div",{className:"p-6 border-t bg-slate-50 flex items-center justify-between",children:[l.jsx(ve,{variant:"ghost",onClick:n>1?()=>r(n-1):t,children:n>1?" Back":"Cancel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-slate-500",children:["Step ",n," of 3"]}),l.jsxs(ve,{onClick:o,disabled:!a(),children:[n===3?"Create Agent":"Continue"," "]})]})]})]})})}function Qwt({status:e,onStatusChange:t,validationErrors:n}){const r=n6.findIndex(s=>s.value===e),i=n.some(s=>s.severity==="error");return l.jsxs("div",{className:"px-4 py-2 bg-white border-b flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-1",children:n6.map((s,a)=>{const o=s.value===e,c=a<r,u=a<=r+1&&!i;return l.jsxs("div",{className:"flex items-center",children:[l.jsxs("button",{onClick:()=>u&&t(s.value),disabled:!u,className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-all ${o?`${s.color} text-white`:c?"bg-slate-200 text-slate-700":"bg-slate-100 text-slate-400"} ${u&&!o?"hover:opacity-80 cursor-pointer":""}`,children:[c&&l.jsx(or,{className:"w-3.5 h-3.5"}),o&&l.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),l.jsx("span",{children:s.label})]}),a<n6.length-1&&l.jsx(Dj,{className:`w-4 h-4 mx-1 ${c?"text-slate-400":"text-slate-200"}`})]},s.value)})}),i&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[l.jsx(uY,{className:"w-4 h-4"}),l.jsxs("span",{children:[n.filter(s=>s.severity==="error").length," issues to resolve"]})]})]})}function Zwt({config:e,setConfig:t,activeSection:n,setActiveSection:r,validationErrors:i}){const s=[{id:"setup",label:"Setup",icon:_o},{id:"sources",label:"Sources",icon:$j},{id:"actions",label:"Actions",icon:Il},{id:"settings",label:"Settings",icon:ng}],a=o=>{const c={setup:["name","persona","goal","completionCriteria"],sources:["sources"],actions:["actions"],settings:[]};return i.filter(u=>c[o].includes(u.field))};return l.jsxs("div",{className:"w-80 bg-white border-r flex flex-col shrink-0",children:[l.jsx("div",{className:"flex border-b",children:s.map(o=>{const u=a(o.id).some(d=>d.severity==="error");return l.jsxs("button",{onClick:()=>r(o.id),className:`flex-1 py-3 text-xs font-medium border-b-2 transition relative ${n===o.id?"border-violet-600 text-violet-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[l.jsx(o.icon,{className:"w-4 h-4 mx-auto mb-0.5"}),o.label,u&&l.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full bg-red-500"})]},o.id)})}),l.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[n==="setup"&&l.jsx(Jwt,{config:e,setConfig:t,errors:a("setup")}),n==="sources"&&l.jsx(e2t,{config:e,setConfig:t,errors:a("sources")}),n==="actions"&&l.jsx(t2t,{config:e,setConfig:t,errors:a("actions")}),n==="settings"&&l.jsx(n2t,{config:e,setConfig:t})]})]})}function Jwt({config:e,setConfig:t,errors:n}){var i,s,a;const r=o=>n.find(c=>c.field===o);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Name"}),l.jsx(en,{value:e.name,onChange:o=>t(c=>({...c,name:o.target.value})),className:r("name")?"border-red-500":""}),r("name")&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:(i=r("name"))==null?void 0:i.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Persona"}),l.jsx("textarea",{value:e.persona,onChange:o=>t(c=>({...c,persona:o.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm resize-none ${r("persona")?"border-amber-500":""}`}),r("persona")&&l.jsx("p",{className:"text-xs text-amber-500 mt-1",children:(s=r("persona"))==null?void 0:s.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Goal"}),l.jsx("textarea",{value:e.goal,onChange:o=>t(c=>({...c,goal:o.target.value})),rows:3,className:`w-full px-3 py-2 border rounded-lg text-sm resize-none ${r("goal")?"border-red-500":""}`}),r("goal")&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:(a=r("goal"))==null?void 0:a.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Completion Criteria"}),l.jsx("textarea",{value:e.completionCriteria,onChange:o=>t(c=>({...c,completionCriteria:o.target.value})),rows:2,className:`w-full px-3 py-2 border rounded-lg text-sm resize-none ${r("completionCriteria")?"border-amber-500":""}`})]})]})}function e2t({config:e,setConfig:t,errors:n}){const r=()=>{const s={id:`source-${Date.now()}`,name:`Document_${e.knowledgeSources.length+1}.pdf`,type:"file",status:"active"};t(a=>({...a,knowledgeSources:[...a.knowledgeSources,s]}))},i=n.some(s=>s.field==="sources");return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-sm",children:"Knowledge Sources"}),l.jsxs(ve,{variant:"outline",size:"sm",onClick:r,children:[l.jsx(Ts,{className:"w-3.5 h-3.5 mr-1"}),"Add"]})]}),i&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 text-red-700 rounded-lg text-xs",children:[l.jsx(Nf,{className:"w-4 h-4"}),l.jsx("span",{children:"Add at least one knowledge source"})]}),l.jsx("div",{className:"space-y-2",children:e.knowledgeSources.map(s=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cs,{className:"w-4 h-4 text-slate-400"}),l.jsx("span",{className:"text-sm",children:s.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${s.status==="active"?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:s.status}),l.jsx("button",{onClick:()=>t(a=>({...a,knowledgeSources:a.knowledgeSources.filter(o=>o.id!==s.id)})),className:"text-slate-400 hover:text-red-500",children:l.jsx(li,{className:"w-4 h-4"})})]})]},s.id))}),l.jsxs("button",{className:"w-full p-4 border-2 border-dashed rounded-xl text-slate-500 hover:border-violet-400 hover:text-violet-600 hover:bg-violet-50 transition",children:[l.jsx(w0,{className:"w-6 h-6 mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-medium",children:"Upload Document"}),l.jsx("div",{className:"text-xs",children:"PDF, DOCX, TXT, Markdown"})]})]})}function t2t({config:e,setConfig:t,errors:n}){const r=[{name:"AD_Password_Reset",type:"resolve_workflow",permissions:["Active Directory"]},{name:"ServiceNow_Create_Ticket",type:"resolve_workflow",permissions:["ServiceNow"]},{name:"Okta_Unlock_Account",type:"resolve_workflow",permissions:["Okta"]},{name:"Slack_Send_Message",type:"notification",permissions:["Slack"]}],i=a=>{const o={id:`action-${Date.now()}`,name:a.name,type:a.type,permissions:a.permissions,enabled:!0};t(c=>({...c,actions:[...c.actions,o]}))},s=n.some(a=>a.field==="actions");return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"font-medium text-sm",children:"Actions"})}),s&&e.type==="workflow_executor"&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-50 text-red-700 rounded-lg text-xs",children:[l.jsx(Nf,{className:"w-4 h-4"}),l.jsx("span",{children:"Add at least one action"})]}),e.actions.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase",children:"Selected"}),e.actions.map(a=>l.jsxs("div",{className:"p-3 bg-violet-50 border border-violet-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Il,{className:"w-4 h-4 text-violet-500"}),l.jsx("span",{className:"text-sm font-medium",children:a.name})]}),l.jsx("button",{onClick:()=>t(o=>({...o,actions:o.actions.filter(c=>c.id!==a.id)})),className:"text-slate-400 hover:text-red-500",children:l.jsx(li,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(sY,{className:"w-3 h-3 text-slate-400"}),l.jsxs("span",{className:"text-xs text-slate-500",children:["Requires: ",a.permissions.join(", ")]})]})]},a.id))]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-slate-400 uppercase",children:"Available"}),r.filter(a=>!e.actions.some(o=>o.name===a.name)).map(a=>l.jsxs("button",{onClick:()=>i(a),className:"w-full text-left p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition flex items-center justify-between",children:[l.jsx("span",{className:"text-sm",children:a.name}),l.jsx("span",{className:"text-violet-600 text-sm font-medium",children:"+ Add"})]},a.name))]})]})}function n2t({config:e,setConfig:t}){return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Interaction Style"}),l.jsxs("select",{value:e.settings.tone,onChange:n=>t(r=>({...r,settings:{...r.settings,tone:n.target.value}})),className:"w-full px-3 py-2 border rounded-lg text-sm bg-white",children:[l.jsx("option",{value:"friendly",children:"Friendly and conversational"}),l.jsx("option",{value:"professional",children:"Professional and formal"}),l.jsx("option",{value:"concise",children:"Concise and direct"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"When content is insufficient"}),l.jsxs("select",{value:e.settings.fallbackBehavior,onChange:n=>t(r=>({...r,settings:{...r.settings,fallbackBehavior:n.target.value}})),className:"w-full px-3 py-2 border rounded-lg text-sm bg-white",children:[l.jsx("option",{value:"apologize",children:"Apologize and offer alternatives"}),l.jsx("option",{value:"escalate",children:"Escalate to human agent"}),l.jsx("option",{value:"create_ticket",children:"Create a support ticket"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Max conversation turns"}),l.jsx(en,{type:"number",value:e.settings.maxTurns,onChange:n=>t(r=>({...r,settings:{...r.settings,maxTurns:parseInt(n.target.value)||10}})),min:1,max:50})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Context Retention"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Remember conversation history"})]}),l.jsx("button",{onClick:()=>t(n=>({...n,settings:{...n.settings,contextRetention:!n.settings.contextRetention}})),className:`w-10 h-6 rounded-full transition-colors ${e.settings.contextRetention?"bg-violet-600":"bg-slate-300"}`,children:l.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow transition-transform ${e.settings.contextRetention?"translate-x-5":"translate-x-1"}`})})]})]})}function r2t({config:e,setConfig:t}){return l.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50 overflow-hidden",children:[l.jsxs("div",{className:"p-3 border-b bg-white flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-sm",children:"Workflow"}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(ve,{variant:"ghost",size:"sm",children:[l.jsx(Ts,{className:"w-4 h-4 mr-1"}),"Add Step"]})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:l.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[e.steps.map((n,r)=>l.jsx(i2t,{step:n,index:r,isLast:r===e.steps.length-1},n.id)),e.steps.length===0&&l.jsxs("div",{className:"text-center py-12 text-slate-400",children:[l.jsx(Fv,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{className:"font-medium",children:"No workflow steps yet"}),l.jsx("p",{className:"text-sm",children:"Steps will appear as you configure your agent"})]})]})}),e.knowledgeSources.length>0||e.actions.length>0?l.jsxs("div",{className:"border-t bg-white p-4",children:[l.jsx("h4",{className:"text-xs font-medium text-slate-400 uppercase mb-2",children:"Agent Uses"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.knowledgeSources.map(n=>l.jsxs("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs flex items-center gap-1",children:[l.jsx(Cs,{className:"w-3 h-3"}),n.name]},n.id)),e.actions.map(n=>l.jsxs("span",{className:"px-2 py-1 bg-violet-100 text-violet-700 rounded text-xs flex items-center gap-1",children:[l.jsx(Il,{className:"w-3 h-3"}),n.name]},n.id))]})]}):null]})}function i2t({step:e,index:t,isLast:n}){const r={start:{icon:$v,color:"text-emerald-600",bg:"bg-emerald-50 border-emerald-200"},rag:{icon:QK,color:"text-amber-600",bg:"bg-amber-50 border-amber-200"},action:{icon:Il,color:"text-violet-600",bg:"bg-violet-50 border-violet-200"},condition:{icon:Fv,color:"text-blue-600",bg:"bg-blue-50 border-blue-200"},response:{icon:ks,color:"text-cyan-600",bg:"bg-cyan-50 border-cyan-200"},end:{icon:IS,color:"text-slate-600",bg:"bg-slate-100 border-slate-200"}},i=r[e.type]||r.response,s=i.icon;return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`p-4 rounded-xl border ${i.bg} transition-all hover:shadow-md`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg bg-white flex items-center justify-center ${i.color}`,children:l.jsx(s,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:e.label}),l.jsx("div",{className:"text-xs text-slate-500 capitalize",children:e.type.replace("_"," ")})]})]})}),!n&&l.jsx("div",{className:"flex justify-center py-1",children:l.jsx(Dj,{className:"w-4 h-4 text-slate-300 rotate-90"})})]})}function s2t({chatMessages:e,chatInput:t,setChatInput:n,onSendMessage:r,testResults:i,showTestPanel:s,setShowTestPanel:a,isRunningTest:o,config:c}){return l.jsxs("div",{className:"w-96 bg-white border-l flex flex-col shrink-0",children:[l.jsxs("div",{className:"flex border-b",children:[l.jsxs("button",{onClick:()=>a(!1),className:`flex-1 py-3 text-sm font-medium border-b-2 transition ${s?"border-transparent text-slate-500":"border-violet-600 text-violet-600"}`,children:[l.jsx(rg,{className:"w-4 h-4 inline mr-1.5"}),"AI Assistant"]}),l.jsxs("button",{onClick:()=>a(!0),className:`flex-1 py-3 text-sm font-medium border-b-2 transition ${s?"border-violet-600 text-violet-600":"border-transparent text-slate-500"}`,children:[l.jsx(b6,{className:"w-4 h-4 inline mr-1.5"}),"Test & Validate",i.length>0&&l.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 bg-slate-100 rounded text-xs",children:i.length})]})]}),!s&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:e.map(u=>l.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-2 text-sm whitespace-pre-wrap ${u.role==="user"?"bg-violet-600 text-white":"bg-slate-100"}`,children:u.content})},u.id))}),l.jsx("div",{className:"border-t p-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(en,{value:t,onChange:u=>n(u.target.value),onKeyDown:u=>u.key==="Enter"&&r(),placeholder:"Ask for help...",className:"flex-1"}),l.jsx(ve,{onClick:r,disabled:!t,size:"icon",children:l.jsx(vu,{className:"w-4 h-4"})})]})})]}),s&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1 overflow-auto",children:i.length===0&&!o?l.jsx("div",{className:"h-full flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx(b6,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),l.jsx("p",{className:"font-medium text-slate-600",children:"No tests run yet"}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:'Click "Test" to validate your agent'})]})}):l.jsxs("div",{className:"p-4 space-y-4",children:[o&&l.jsx("div",{className:"p-4 bg-violet-50 rounded-xl border border-violet-200",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ds,{className:"w-5 h-5 text-violet-600 animate-spin"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:"Running test..."}),l.jsx("div",{className:"text-xs text-slate-500",children:"Executing workflow with sample input"})]})]})}),i.map(u=>l.jsx(a2t,{result:u},u.id))]})}),i.length>0&&l.jsxs("div",{className:"border-t p-3 flex gap-2",children:[l.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1",children:[l.jsx(x4,{className:"w-4 h-4 mr-1.5"}),"Re-run All"]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1",children:[l.jsx(qj,{className:"w-4 h-4 mr-1.5"}),"Save Results"]})]})]})]})}function a2t({result:e}){const[t,n]=y.useState(!1);return l.jsxs("div",{className:`rounded-xl border overflow-hidden ${e.status==="passed"?"border-emerald-200 bg-emerald-50":e.status==="failed"?"border-red-200 bg-red-50":"border-slate-200 bg-slate-50"}`,children:[l.jsxs("button",{onClick:()=>n(!t),className:"w-full p-4 text-left",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[e.status==="passed"?l.jsx(Gy,{className:"w-5 h-5 text-emerald-600"}):e.status==="failed"?l.jsx(Fh,{className:"w-5 h-5 text-red-600"}):l.jsx(Fj,{className:"w-5 h-5 text-slate-400"}),l.jsx("span",{className:"font-medium text-sm",children:e.status==="passed"?"Test Passed":e.status==="failed"?"Test Failed":"Pending"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs text-slate-500",children:[Math.round(e.confidence*100),"% confidence"]}),l.jsx(ri,{className:`w-4 h-4 transition-transform ${t?"rotate-180":""}`})]})]}),l.jsxs("div",{className:"text-sm text-slate-600",children:[l.jsx("div",{className:"font-medium text-xs text-slate-400 mb-1",children:"Input"}),l.jsx("div",{className:"bg-white/50 rounded px-2 py-1",children:e.input})]})]}),t&&l.jsxs("div",{className:"border-t px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"pt-3",children:[l.jsx("div",{className:"font-medium text-xs text-slate-400 mb-1",children:"Output"}),l.jsx("div",{className:"bg-white rounded p-2 text-sm",children:e.output})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-xs text-slate-400 mb-1",children:"Reasoning"}),l.jsx("div",{className:"bg-white rounded p-2 space-y-1",children:e.reasoning.map((r,i)=>l.jsxs("div",{className:"text-xs text-slate-600 flex items-start gap-2",children:[l.jsxs("span",{className:"text-slate-400",children:[i+1,"."]}),l.jsx("span",{children:r})]},i))})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 text-emerald-600 border-emerald-300 hover:bg-emerald-50",children:[l.jsx(or,{className:"w-4 h-4 mr-1"}),"Approve"]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 text-red-600 border-red-300 hover:bg-red-50",children:[l.jsx(li,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})]})}function o2t(e){const t=[{id:"start",type:"start",label:"User Message"}];switch(e){case"embedded_knowledge":return[...t,{id:"rag",type:"rag",label:"Search Knowledge Base"},{id:"response",type:"response",label:"Generate Response"},{id:"end",type:"end",label:"End"}];case"workflow_executor":return[...t,{id:"condition",type:"condition",label:"Identify Intent"},{id:"action",type:"action",label:"Execute Action"},{id:"response",type:"response",label:"Confirm Result"},{id:"end",type:"end",label:"End"}];default:return[...t,{id:"rag",type:"rag",label:"Retrieve Context"},{id:"response",type:"response",label:"Format Response"},{id:"end",type:"end",label:"End"}]}}function l2t(e,t){const n=e.toLowerCase();return n.includes("persona")||n.includes("role")?`The persona defines how your agent presents itself. A good persona includes:

 Tone (friendly, professional)
 Expertise area
 Communication style

Your current persona: "`+(t.persona||"Not defined yet")+'"':n.includes("test")||n.includes("try")?`To test your agent:

1. Click the 'Test' button in the header
2. A sample conversation will run
3. Review the output and reasoning
4. Approve or reject the result

Tests help validate behavior before publishing.`:n.includes("publish")||n.includes("deploy")?`Before publishing, ensure:

 All required fields are filled
 At least one test has passed
 You've reviewed the workflow

Once published, the agent will be available in production.`:`I can help you configure your agent. Ask me about:

 Writing a good persona
 Testing your agent
 Understanding the workflow
 Publishing your agent`}const D0e=[{id:"unified",label:"Unified Builder",description:"3-pane: Config + Workflow + Chat/Test (Recommended)",icon:eY,color:"bg-indigo-500"},{id:"visual",label:"Visual Builder",description:"React Flow canvas with drag & drop nodes",icon:xo,color:"bg-violet-500"},{id:"guided",label:"Guided Builder",description:"Step-by-step tabbed form with AI assistant",icon:F1e,color:"bg-emerald-500"},{id:"chat-driven",label:"Chat-Driven",description:"Conversational builder with inline actions",icon:ks,color:"bg-blue-500"},{id:"wizard",label:"Classic Wizard",description:"Traditional multi-step form wizard",icon:uve,color:"bg-amber-500"},{id:"canvas",label:"Canvas Builder",description:"Freeform drag & drop workflow canvas",icon:R1e,color:"bg-rose-500"}],cK={name:"",description:"",type:void 0,status:"draft",knowledgeSources:[],steps:[],completionRules:[{type:"user_confirmed",enabled:!0},{type:"max_turns",enabled:!0,value:10}],guardrails:[{type:"pii_redaction",enabled:!0}]};function c2t(){const[e,t]=y.useState("unified"),[n,r]=y.useState(!1),[i,s]=y.useState("setup"),[a,o]=y.useState(cK),c=D0e.find(f=>f.id===e),u=f=>{o({...a,type:f})},d=()=>{o(cK),s("setup")};return e==="unified"?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(G1,{currentConcept:c,showSwitcher:n,setShowSwitcher:r,setConcept:t}),l.jsx("div",{className:"flex-1",children:l.jsx(Ywt,{})})]}):e==="visual"?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(G1,{currentConcept:c,showSwitcher:n,setShowSwitcher:r,setConcept:t}),l.jsx("div",{className:"flex-1",children:l.jsx(bwt,{})})]}):e==="guided"?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(G1,{currentConcept:c,showSwitcher:n,setShowSwitcher:r,setConcept:t}),l.jsx("div",{className:"flex-1",children:l.jsx(_wt,{})})]}):e==="chat-driven"?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(G1,{currentConcept:c,showSwitcher:n,setShowSwitcher:r,setConcept:t}),l.jsx("div",{className:"flex-1",children:l.jsx(Cwt,{})})]}):l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(G1,{currentConcept:c,showSwitcher:n,setShowSwitcher:r,setConcept:t}),l.jsxs("div",{className:"px-4 py-3 bg-white border-b flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:["setup","build","preview","publish"].map((f,h)=>l.jsxs("button",{onClick:()=>s(f),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm transition-colors ${i===f?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs ${i===f?"bg-white/20":"bg-slate-200"}`,children:h+1}),l.jsx("span",{className:"capitalize",children:f})]},f))}),l.jsx(ve,{variant:"outline",size:"sm",onClick:d,children:"Reset"})]}),l.jsxs("div",{className:"flex-1 overflow-hidden",children:[i==="setup"&&l.jsx(u2t,{agent:a,onChange:o,onSelectType:u,onNext:()=>s("build")}),i==="build"&&e==="wizard"&&l.jsx(Fwt,{agent:a,onChange:o,onBack:()=>s("setup"),onNext:()=>s("preview")}),i==="build"&&e==="canvas"&&l.jsx(Hwt,{agent:a,onChange:o,onBack:()=>s("setup"),onNext:()=>s("preview")}),i==="preview"&&l.jsx(d2t,{agent:a,onBack:()=>s("build"),onNext:()=>s("publish")}),i==="publish"&&l.jsx(f2t,{agent:a,onBack:()=>s("preview"),onPublish:()=>alert("Published! (mock)")})]})]})}function G1({currentConcept:e,showSwitcher:t,setShowSwitcher:n,setConcept:r}){return l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"px-4 py-2 bg-slate-900 text-white flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Builder Experience"}),l.jsxs("button",{onClick:()=>n(!t),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors",children:[l.jsx("div",{className:`w-5 h-5 rounded ${e.color} flex items-center justify-center`,children:l.jsx(e.icon,{className:"w-3 h-3 text-white"})}),l.jsx("span",{className:"font-medium text-sm",children:e.label}),l.jsx(ri,{className:`w-4 h-4 transition-transform ${t?"rotate-180":""}`})]})]}),l.jsx("span",{className:"text-xs text-slate-500",children:"Click to switch between different builder UX concepts"})]}),t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),l.jsx("div",{className:"absolute top-full left-4 mt-2 w-80 bg-white rounded-xl shadow-xl border z-50 overflow-hidden",children:l.jsx("div",{className:"p-2",children:D0e.map(i=>{const s=i.icon,a=i.id===e.id;return l.jsxs("button",{onClick:()=>{r(i.id),n(!1)},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors text-left ${a?"bg-slate-100":"hover:bg-slate-50"}`,children:[l.jsx("div",{className:`w-9 h-9 rounded-lg ${i.color} flex items-center justify-center text-white`,children:l.jsx(s,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:i.label}),l.jsx("div",{className:"text-xs text-slate-500 truncate",children:i.description})]}),a&&l.jsx(or,{className:"w-4 h-4 text-emerald-500"})]},i.id)})})})]})]})}function u2t({agent:e,onChange:t,onSelectType:n,onNext:r}){return l.jsx("div",{className:"h-full overflow-auto p-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Name your agent"}),l.jsx("input",{type:"text",className:"w-full px-4 py-3 border rounded-lg text-lg",placeholder:"e.g., Benefits Expert, Password Reset Helper",value:e.name||"",onChange:i=>t({...e,name:i.target.value})}),l.jsx("textarea",{className:"w-full px-4 py-3 border rounded-lg resize-none",rows:3,placeholder:"Describe what this agent does...",value:e.description||"",onChange:i=>t({...e,description:i.target.value})})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Choose agent type"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(Tj).map(([i,s])=>l.jsxs(Rn,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${e.type===i?"ring-2 ring-primary":""}`,onClick:()=>n(i),children:[l.jsx("div",{className:"text-3xl mb-2",children:s.icon}),l.jsx("h3",{className:"font-medium",children:s.label}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]},i))})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Set trigger"}),l.jsx("div",{className:"flex gap-2",children:["keyword","intent","scheduled","api"].map(i=>{var s;return l.jsx("button",{className:`px-4 py-2 rounded-lg border capitalize ${((s=e.trigger)==null?void 0:s.type)===i?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>t({...e,trigger:{type:i,value:""}}),children:i},i)})}),e.trigger&&l.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg",placeholder:`Enter ${e.trigger.type} value...`,value:e.trigger.value,onChange:i=>t({...e,trigger:{...e.trigger,value:i.target.value}})})]}),l.jsx("div",{className:"pt-4",children:l.jsx(ve,{size:"lg",className:"w-full",disabled:!e.name||!e.type,onClick:r,children:"Continue to Build "})})]})})}function d2t({agent:e,onBack:t,onNext:n}){const[r,i]=y.useState([]),[s,a]=y.useState(""),o=()=>{s.trim()&&(i(c=>[...c,{role:"user",content:s}]),setTimeout(()=>{i(c=>[...c,{role:"agent",content:`[${e.name}] I received your message: "${s}". This is a mock preview response.`}])},500),a(""))};return l.jsxs("div",{className:"h-full flex",children:[l.jsxs("div",{className:"flex-1 flex flex-col border-r",children:[l.jsxs("div",{className:"p-4 border-b bg-muted/30",children:[l.jsx("h2",{className:"font-medium",children:"Interactive Preview"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Test your agent before publishing"})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[r.length===0&&l.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[l.jsx("p",{children:"Start a conversation to test your agent"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:["What can you help me with?","Hello","I need help"].map(c=>l.jsx("button",{className:"px-3 py-1.5 bg-muted rounded-full text-sm hover:bg-muted/80",onClick:()=>a(c),children:c},c))})]}),r.map((c,u)=>l.jsx("div",{className:`flex ${c.role==="user"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`max-w-[80%] px-4 py-2 rounded-lg ${c.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:c.content})},u))]}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 px-4 py-2 border rounded-lg",placeholder:"Type a test message...",value:s,onChange:c=>a(c.target.value),onKeyDown:c=>c.key==="Enter"&&o()}),l.jsx(ve,{onClick:o,children:"Send"})]})})]}),l.jsxs("div",{className:"w-80 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b bg-muted/30",children:l.jsx("h3",{className:"font-medium",children:"Execution Log"})}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:l.jsxs("div",{className:"space-y-2 text-sm font-mono",children:[l.jsx("div",{className:"text-green-600",children:"[00:00] Agent initialized"}),l.jsx("div",{className:"text-muted-foreground",children:"[00:01] Waiting for input..."}),r.map((c,u)=>l.jsxs("div",{className:c.role==="user"?"text-blue-600":"text-purple-600",children:["[",String(u).padStart(2,"0"),":",String((u+1)*2).padStart(2,"0"),"]"," ",c.role==="user"?"User input received":"Response generated"]},u))]})}),l.jsxs("div",{className:"p-4 border-t flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:t,children:" Back"}),l.jsx(ve,{className:"flex-1",onClick:n,children:"Continue to Publish "})]})]})]})}function f2t({agent:e,onBack:t,onPublish:n}){var s,a,o,c;const[r,i]=y.useState("");return l.jsx("div",{className:"h-full overflow-auto p-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Ready to Publish"}),l.jsx("p",{className:"text-muted-foreground",children:"Review your agent before going live"})]}),l.jsxs(Rn,{className:"p-6 space-y-4",children:[l.jsx("h3",{className:"font-medium",children:"Agent Summary"}),l.jsxs("dl",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-muted-foreground",children:"Name"}),l.jsx("dd",{className:"font-medium",children:e.name||""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-muted-foreground",children:"Type"}),l.jsx("dd",{className:"font-medium capitalize",children:((s=e.type)==null?void 0:s.replace("_"," "))||""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-muted-foreground",children:"Trigger"}),l.jsx("dd",{className:"font-medium",children:((a=e.trigger)==null?void 0:a.type)||""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-muted-foreground",children:"Status"}),l.jsx("dd",{className:"font-medium",children:e.status})]})]})]}),l.jsxs(Rn,{className:"p-6 space-y-4",children:[l.jsx("h3",{className:"font-medium",children:"Pre-publish Checklist"}),l.jsx("ul",{className:"space-y-2",children:[{label:"Agent name set",passed:!!e.name},{label:"Type selected",passed:!!e.type},{label:"Trigger configured",passed:!!((o=e.trigger)!=null&&o.value)},{label:"Completion rules set",passed:(((c=e.completionRules)==null?void 0:c.length)||0)>0}].map(u=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:u.passed?"text-green-600":"text-muted-foreground",children:u.passed?"":""}),l.jsx("span",{className:u.passed?"":"text-muted-foreground",children:u.label})]},u.label))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Version Note"}),l.jsx("textarea",{className:"w-full px-4 py-3 border rounded-lg resize-none",rows:3,placeholder:"Describe what changed in this version...",value:r,onChange:u=>i(u.target.value)})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ve,{variant:"outline",onClick:t,children:" Back"}),l.jsx(ve,{className:"flex-1",onClick:n,children:"Publish Agent"})]})]})})}const h2t={draft:{label:"Draft",variant:"secondary"},published:{label:"Published",variant:"default"}};function m2t({name:e,description:t,status:n,icon:r,iconBgColor:i="bg-slate-100",onClick:s,className:a}){const o=h2t[n];return l.jsxs("button",{type:"button",onClick:s,className:we("flex flex-col items-start p-6 rounded-xl border border-border bg-gradient-to-r from-white/30 to-white/30 bg-muted/50","hover:border-primary/20 hover:bg-muted/70 transition-colors cursor-pointer text-left w-full",a),children:[l.jsxs("div",{className:"flex items-center justify-between w-full mb-1.5",children:[l.jsx("div",{className:we("p-2 rounded-md",i),children:l.jsx(r,{className:"size-5 text-foreground"})}),l.jsx(xn,{variant:o.variant,children:o.label})]}),l.jsx("h3",{className:"font-semibold text-base text-card-foreground tracking-tight truncate w-full",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground truncate w-full",children:t})]})}const uK={teal:"bg-teal-200",purple:"bg-purple-100",sky:"bg-sky-200",indigo:"bg-indigo-100",emerald:"bg-emerald-100"};function p2t({agents:e,onAgentClick:t,onEdit:n,onDelete:r,onDuplicate:i}){const[s,a]=y.useState(new Set),[o,c]=y.useState(null),[u,d]=y.useState("asc"),f=E=>{a(E?new Set(e.map(k=>k.id)):new Set)},h=(E,k)=>{const _=new Set(s);k?_.add(E):_.delete(E),a(_)},p=E=>{o===E?d(u==="asc"?"desc":"asc"):(c(E),d("asc"))},v=[...e].sort((E,k)=>{var A,T,C,I;if(!o)return 0;let _=0;switch(o){case"status":_=E.status.localeCompare(k.status);break;case"updatedBy":_=(((A=E.updatedBy)==null?void 0:A.initials)||"").localeCompare(((T=k.updatedBy)==null?void 0:T.initials)||"");break;case"owner":_=(((C=E.owner)==null?void 0:C.initials)||"").localeCompare(((I=k.owner)==null?void 0:I.initials)||"");break;case"lastUpdated":_=new Date(E.lastUpdated).getTime()-new Date(k.lastUpdated).getTime();break}return u==="asc"?_:-_}),x=e.length>0&&s.size===e.length,b=s.size>0&&s.size<e.length,w=({field:E,children:k,align:_="left"})=>l.jsxs(ve,{variant:"ghost",className:we("h-9 px-4 gap-2 font-normal text-muted-foreground hover:text-foreground",_==="right"&&"ml-auto",_==="center"&&"mx-auto"),onClick:()=>p(E),children:[k,l.jsx(y4,{className:"size-4"})]});return l.jsx("div",{className:"rounded-md border overflow-hidden",children:l.jsxs($x,{children:[l.jsx(zx,{children:l.jsxs(_l,{className:"hover:bg-transparent",children:[l.jsx(Fn,{className:"w-8 pl-3",children:l.jsx(Xs,{checked:x,indeterminate:b,onCheckedChange:f,"aria-label":"Select all agents"})}),l.jsx(Fn,{className:"min-w-[300px]",children:"Name"}),l.jsx(Fn,{className:"w-[127px]",children:l.jsx(w,{field:"status",children:"Status"})}),l.jsx(Fn,{className:"w-[136px]",children:l.jsx(w,{field:"updatedBy",align:"center",children:"Updated by"})}),l.jsx(Fn,{className:"w-[123px]",children:l.jsx(w,{field:"owner",align:"center",children:"Owner"})}),l.jsx(Fn,{className:"w-[162px]",children:l.jsx(w,{field:"lastUpdated",align:"right",children:"Last updated"})}),l.jsx(Fn,{className:"w-16"})]})}),l.jsx(Bx,{children:v.map(E=>l.jsxs(_l,{className:"h-[84px] cursor-pointer",onClick:()=>t==null?void 0:t(E),children:[l.jsx(yn,{className:"pl-3",onClick:k=>k.stopPropagation(),children:l.jsx(Xs,{checked:s.has(E.id),onCheckedChange:k=>h(E.id,k),"aria-label":`Select ${E.name}`})}),l.jsx(yn,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-primary font-medium truncate",children:E.name}),l.jsx("span",{className:"text-muted-foreground text-sm truncate",children:E.description})]})}),l.jsx(yn,{children:l.jsx(xn,{variant:E.status==="published"?"default":"outline",children:E.status==="published"?"Published":"Draft"})}),l.jsx(yn,{children:l.jsx("div",{className:"flex justify-center",children:E.updatedBy?l.jsx(Yv,{className:"size-10",children:l.jsx(Xv,{className:we(uK[E.updatedBy.color]||"bg-muted"),children:E.updatedBy.initials})}):l.jsx("span",{className:"text-muted-foreground",children:"--"})})}),l.jsx(yn,{children:l.jsx("div",{className:"flex justify-center",children:E.owner?l.jsx(Yv,{className:"size-10",children:l.jsx(Xv,{className:we(uK[E.owner.color]||"bg-muted"),children:E.owner.initials})}):l.jsx("span",{className:"text-muted-foreground",children:"--"})})}),l.jsx(yn,{className:"text-right text-sm",children:E.lastUpdated}),l.jsx(yn,{onClick:k=>k.stopPropagation(),children:l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"icon",className:"size-8","aria-label":"Agent actions",children:l.jsx(Hu,{className:"size-4"})})}),l.jsxs(ni,{align:"end",children:[l.jsx(Jt,{onClick:()=>n==null?void 0:n(E),children:"Edit"}),l.jsx(Jt,{onClick:()=>i==null?void 0:i(E),children:"Duplicate"}),l.jsx(Jt,{onClick:()=>r==null?void 0:r(E),className:"text-destructive focus:text-destructive",children:"Delete"})]})]})})]},E.id))})]})})}function g2t({open:e,onOpenChange:t,onCreateAgent:n}){const[r,i]=y.useState(""),s=o=>{o.preventDefault(),r.trim()&&(n(r.trim()),i(""))},a=o=>{o||i(""),t(o)};return l.jsx(Ag,{open:e,onOpenChange:a,children:l.jsx(L0,{className:"sm:max-w-[425px]",showCloseButton:!1,children:l.jsxs("form",{onSubmit:s,children:[l.jsxs(Sx,{children:[l.jsx(kx,{children:"Create agent"}),l.jsx(_x,{children:"Create a new agent to assist your team"})]}),l.jsxs("div",{className:"py-4",children:[l.jsx(Jn,{htmlFor:"agent-name",className:"text-sm font-medium",children:"Name of agent"}),l.jsx(en,{id:"agent-name",value:r,onChange:o=>i(o.target.value),placeholder:"Enter agent name",className:"mt-1.5",autoFocus:!0})]}),l.jsxs(lie,{children:[l.jsx(ve,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(ve,{type:"submit",disabled:!r.trim(),children:"Create agent"})]})]})})})}const v2t={squirrel:b0,stamp:aY,"rectangle-ellipsis":iY,bot:_o,headphones:Bj,"shield-check":Wj,key:Hj},y2t={slate:"bg-slate-800",blue:"bg-blue-600",emerald:"bg-emerald-600",purple:"bg-purple-600",orange:"bg-orange-500",rose:"bg-rose-500"},x2t=[{id:"1",name:"HelpDesk Advisor",description:"Answers IT support questions",status:"draft",icon:b0,iconBgColor:"bg-slate-100"},{id:"2",name:"Onboarding Compliance Checker",description:"Answers from compliance docs",status:"published",icon:aY,iconBgColor:"bg-yellow-50"},{id:"3",name:"Password Reset Bot",description:"Automates password resets",status:"published",icon:iY,iconBgColor:"bg-purple-50"}],b2t=[{id:"1",name:"HelpDesk Advisor",description:"Answers IT support questions",status:"published",updatedBy:{initials:"CN",color:"teal"},owner:{initials:"CN",color:"teal"},lastUpdated:"16 Dec, 2025 11:44"},{id:"2",name:"Onboarding Compliance Checker",description:"Answers from compliance docs",status:"published",updatedBy:{initials:"KL",color:"purple"},owner:{initials:"KL",color:"purple"},lastUpdated:"06 Dec, 2025 12:03"},{id:"3",name:"Password Reset Bot",description:"Automates password resets",status:"draft",updatedBy:{initials:"AJ",color:"sky"},owner:null,lastUpdated:"03 Dec, 2026 13:27"},{id:"4",name:"Password Reset Bot",description:"Automates password resets",status:"published",updatedBy:{initials:"JS",color:"indigo"},owner:{initials:"AJ",color:"sky"},lastUpdated:"23 Nov, 2026 12:07"},{id:"5",name:"Password Reset Bot",description:"Automates password resets",status:"draft",updatedBy:{initials:"MM",color:"emerald"},owner:null,lastUpdated:"03 Nov, 2026 18:07"}];function w2t(){const e=di(),t=Ea(),[n,r]=y.useState(""),[i,s]=y.useState("all"),[a,o]=y.useState("all"),[c,u]=y.useState("all"),[d,f]=y.useState(!1),[h,p]=y.useState(b2t),[v,x]=y.useState(x2t);y.useEffect(()=>{const _=t.state;if(_!=null&&_.publishedAgent){const A=_.publishedAgent;p(T=>T.find(B=>B.id===A.id)?T.map(B=>B.id===A.id?{...B,name:A.name,description:A.description,status:"published"}:B):[{id:A.id,name:A.name,description:A.description,status:"published",updatedBy:{initials:"You",color:"blue"},owner:{initials:"You",color:"blue"},lastUpdated:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})},...T]),x(T=>{const C={id:A.id,name:A.name,description:A.description,status:"published",icon:v2t[A.iconId]||b0,iconBgColor:y2t[A.iconColorId]||"bg-slate-100"},I=T.filter(B=>B.id!==A.id);return[C,...I].slice(0,3)}),window.history.replaceState({},document.title)}},[t.state]);const b=h.filter(_=>{if(n){const A=n.toLowerCase();if(!_.name.toLowerCase().includes(A)&&!_.description.toLowerCase().includes(A))return!1}return!(c!=="all"&&_.status!==c)}),w=_=>{e("/agents/create",{state:{agentName:_}}),f(!1)},E=_=>{e(`/agents/${_.id}`)},k=_=>{e(`/agents/${_}`)};return l.jsxs(F0,{activePage:"automations",children:[l.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-xl font-serif text-card-foreground",children:"Agents"}),l.jsxs(ve,{onClick:()=>f(!0),children:[l.jsx(Ts,{className:"size-4"}),"Create agent"]})]}),l.jsxs("div",{className:"bg-white border border-neutral-100 rounded-lg p-5 flex flex-col gap-8",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("h2",{className:"text-lg font-normal text-foreground",children:"Recent agents"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>l.jsx(m2t,{name:_.name,description:_.description,status:_.status,icon:_.icon,iconBgColor:_.iconBgColor,onClick:()=>k(_.id)},_.id))})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"secondary",className:"gap-2",children:["Type: ",i,l.jsx(ri,{className:"size-4"})]})}),l.jsxs(ni,{children:[l.jsx(qc,{checked:i==="all",onCheckedChange:()=>s("all"),children:"All"}),l.jsx(qc,{checked:i==="published",onCheckedChange:()=>s("published"),children:"Published"}),l.jsx(qc,{checked:i==="draft",onCheckedChange:()=>s("draft"),children:"Draft"})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"secondary",className:"gap-2",children:["Owner: ",a,l.jsx(ri,{className:"size-4"})]})}),l.jsxs(ni,{children:[l.jsx(qc,{checked:a==="all",onCheckedChange:()=>o("all"),children:"All"}),l.jsx(qc,{checked:a==="me",onCheckedChange:()=>o("me"),children:"Me"}),l.jsx(qc,{checked:a==="others",onCheckedChange:()=>o("others"),children:"Others"})]})]}),l.jsxs(ei,{children:[l.jsx(ti,{asChild:!0,children:l.jsxs(ve,{variant:"secondary",className:"gap-2",children:["Status: ",c,l.jsx(ri,{className:"size-4"})]})}),l.jsxs(ni,{children:[l.jsx(qc,{checked:c==="all",onCheckedChange:()=>u("all"),children:"All"}),l.jsx(qc,{checked:c==="published",onCheckedChange:()=>u("published"),children:"Published"}),l.jsx(qc,{checked:c==="draft",onCheckedChange:()=>u("draft"),children:"Draft"})]})]})]}),l.jsx(en,{placeholder:"Search agents...",value:n,onChange:_=>r(_.target.value),className:"max-w-[384px]"})]}),l.jsx(p2t,{agents:b,onAgentClick:E,onEdit:_=>e(`/agents/${_.id}/edit`),onDelete:_=>console.log("Delete",_),onDuplicate:_=>console.log("Duplicate",_)})]})]})]}),l.jsx(g2t,{open:d,onOpenChange:f,onCreateAgent:w})]})}const L0e=[{id:"squirrel",icon:b0,label:"Squirrel"},{id:"bot",icon:_o,label:"Bot"},{id:"headphones",icon:Bj,label:"Support"},{id:"shield-check",icon:Wj,label:"Security"},{id:"key",icon:Hj,label:"Access"},{id:"book-open",icon:Xm,label:"Knowledge"}],Aj=[{id:"slate",bg:"bg-slate-800",text:"text-white"},{id:"blue",bg:"bg-blue-600",text:"text-white"},{id:"emerald",bg:"bg-emerald-600",text:"text-white"},{id:"purple",bg:"bg-purple-600",text:"text-white"},{id:"orange",bg:"bg-orange-500",text:"text-white"}];function E2t({initialConfig:e,onBack:t,onPublish:n,isEditing:r=!1}){var T;const[i,s]=y.useState("plan"),[a,o]=y.useState({name:(e==null?void 0:e.name)||"Untitled Agent",description:(e==null?void 0:e.description)||"",role:(e==null?void 0:e.role)||"",completionCriteria:(e==null?void 0:e.completionCriteria)||"",iconId:(e==null?void 0:e.iconId)||"squirrel",iconColorId:(e==null?void 0:e.iconColorId)||"slate",agentType:(e==null?void 0:e.agentType)||null}),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,p]=y.useState(""),[,v]=y.useState([]),[x,b]=y.useState([]),w=a.name&&a.description&&a.role&&a.completionCriteria,E=((T=L0e.find(C=>C.id===a.iconId))==null?void 0:T.icon)||b0,k=Aj.find(C=>C.id===a.iconColorId)||Aj[0],_=()=>{if(!d.trim())return;const C={id:Date.now().toString(),role:"user",content:d};v(I=>[...I,C]),f(""),setTimeout(()=>{const I={id:(Date.now()+1).toString(),role:"assistant",content:C2t(d)};v(B=>[...B,I])},800)},A=()=>{if(!h.trim())return;const C={id:Date.now().toString(),role:"user",content:h};b(I=>[...I,C]),p(""),setTimeout(()=>{const I={id:(Date.now()+1).toString(),role:"assistant",content:N2t(h,a)};b(B=>[...B,I])},1e3)};return l.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ve,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(Lh,{className:"size-4"})}),l.jsx("span",{className:"font-medium",children:a.name||"Untitled Agent"}),l.jsx(xn,{variant:"secondary",children:r?"Published":"Draft"})]}),l.jsx(Hx,{value:i,onValueChange:C=>s(C),children:l.jsxs(Vx,{children:[l.jsx(Cl,{value:"plan",children:"Plan"}),l.jsx(Cl,{value:"build",disabled:!w,children:"Build"}),l.jsx(Cl,{value:"validate",disabled:!w,children:"Validate"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ve,{variant:"outline",className:"gap-2",children:[l.jsx(Lj,{className:"size-4"}),"How agent builder works"]}),l.jsx(ve,{onClick:()=>n(a),disabled:!w,children:"Publish"})]})]}),l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsxs("div",{className:"flex-1 flex flex-col border-r bg-white",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="plan"&&l.jsx(S2t,{config:a,setConfig:o,showIconPicker:c,setShowIconPicker:u,CurrentIcon:E,currentColor:k}),i==="build"&&l.jsx(k2t,{config:a,setConfig:o}),i==="validate"&&l.jsx(_2t,{config:a})]}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"relative",children:[l.jsx(en,{value:d,onChange:C=>f(C.target.value),onKeyDown:C=>C.key==="Enter"&&_(),placeholder:"Ask anything",className:"pr-12"}),l.jsx(ve,{size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 size-8",onClick:_,disabled:!d.trim(),children:l.jsx(vu,{className:"size-4"})})]})})]}),l.jsxs("div",{className:"w-[610px] flex flex-col bg-muted/30",children:[l.jsx("div",{className:"p-4 border-b bg-white",children:l.jsx("h2",{className:"font-medium",children:"Preview"})}),l.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[l.jsxs("div",{className:"bg-white rounded-xl border p-6 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:we("size-10 rounded-lg flex items-center justify-center",k.bg),children:l.jsx(E,{className:we("size-5",k.text)})}),l.jsx("h3",{className:"font-medium text-lg",children:a.name||"Untitled Agent"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-3",children:x.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:l.jsx("p",{className:"text-sm",children:"Test your agent here"})}):x.map(C=>l.jsx("div",{className:we("p-3 rounded-lg max-w-[80%]",C.role==="user"?"bg-primary text-primary-foreground ml-auto":"bg-muted"),children:l.jsx("p",{className:"text-sm",children:C.content})},C.id))}),l.jsxs("div",{className:"relative",children:[l.jsx(en,{value:h,onChange:C=>p(C.target.value),onKeyDown:C=>C.key==="Enter"&&A(),placeholder:"Ask anything",className:"pr-12"}),l.jsx(ve,{size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 size-8",onClick:A,disabled:!h.trim(),children:l.jsx(vu,{className:"size-4"})})]})]}),l.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[l.jsx(Fj,{className:"size-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800",children:"Changes to your agent will be updated here"})]})]})]})]})]})}function S2t({config:e,setConfig:t,showIconPicker:n,setShowIconPicker:r,CurrentIcon:i,currentColor:s}){return l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Name of agent"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(en,{value:e.name,onChange:a=>t(o=>({...o,name:a.target.value})),placeholder:"Onboarding Employees",className:"flex-1"}),l.jsxs("div",{className:"relative",children:[l.jsxs(ve,{variant:"outline",className:"gap-2",onClick:()=>r(!n),children:[l.jsx("div",{className:we("size-6 rounded flex items-center justify-center",s.bg),children:l.jsx(i,{className:we("size-4",s.text)})}),l.jsx(ri,{className:"size-4"})]}),n&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white rounded-lg border shadow-lg p-3 z-10 w-64",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Color"}),l.jsx("div",{className:"flex gap-2 mb-3",children:Aj.map(a=>l.jsx("button",{onClick:()=>t(o=>({...o,iconColorId:a.id})),className:we("size-8 rounded-lg",a.bg,e.iconColorId===a.id&&"ring-2 ring-offset-2 ring-primary")},a.id))}),l.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Icon"}),l.jsx("div",{className:"grid grid-cols-6 gap-2",children:L0e.map(a=>{const o=a.icon;return l.jsx("button",{onClick:()=>{t(c=>({...c,iconId:a.id})),r(!1)},className:we("size-8 rounded-lg flex items-center justify-center hover:bg-muted",e.iconId===a.id&&"bg-muted ring-1 ring-primary"),children:l.jsx(o,{className:"size-4"})},a.id)})})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Description"}),l.jsx(ll,{value:e.description,onChange:a=>t(o=>({...o,description:a.target.value})),placeholder:"Describe what this agent will help your team with",className:"min-h-[80px] resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"What is the role of the agent?"}),l.jsx(ll,{value:e.role,onChange:a=>t(o=>({...o,role:a.target.value})),placeholder:"Control your agents behavior by adding custom instructions",className:"min-h-[80px] resize-none"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"When is job of the agent complete"}),l.jsx(ll,{value:e.completionCriteria,onChange:a=>t(o=>({...o,completionCriteria:a.target.value})),placeholder:"Control your agents behavior by adding custom instructions",className:"min-h-[80px] resize-none"})]})]})}function k2t({config:e,setConfig:t}){return l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-2",children:"Configure Agent Capabilities"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Add knowledge sources, workflows, and other capabilities to your agent."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"Agent Type"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{type:"answer",label:"Answer Agent",icon:ks,desc:"Uses knowledge to answer"},{type:"knowledge",label:"Knowledge Agent",icon:Xm,desc:"Strict policy answers"},{type:"workflow",label:"Workflow Agent",icon:xo,desc:"Runs automations"}].map(n=>l.jsxs("button",{onClick:()=>t(r=>({...r,agentType:n.type})),className:we("p-4 rounded-lg border text-left transition-all",e.agentType===n.type?"border-primary ring-1 ring-primary bg-primary/5":"hover:border-muted-foreground/30"),children:[l.jsx(n.icon,{className:"size-5 mb-2 text-muted-foreground"}),l.jsx("p",{className:"font-medium text-sm",children:n.label}),l.jsx("p",{className:"text-xs text-muted-foreground",children:n.desc})]},n.type))})]}),l.jsx("div",{className:"p-4 border border-dashed rounded-lg text-center text-muted-foreground",children:l.jsx("p",{className:"text-sm",children:"Additional configuration options will appear here based on agent type"})})]})}function _2t({config:e}){return l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium mb-2",children:"Validate Your Agent"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Test your agent with sample queries to ensure it behaves as expected."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Agent Summary"}),l.jsxs("dl",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-muted-foreground",children:"Name"}),l.jsx("dd",{children:e.name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-muted-foreground",children:"Type"}),l.jsx("dd",{children:e.agentType||"Not selected"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("dt",{className:"text-muted-foreground",children:"Description"}),l.jsx("dd",{className:"text-right max-w-[200px] truncate",children:e.description||"None"})]})]})]}),l.jsx("div",{className:"p-4 border border-dashed rounded-lg text-center text-muted-foreground",children:l.jsx("p",{className:"text-sm",children:"Validation tests and results will appear here"})})]})]})}function C2t(e,t){const n=e.toLowerCase();return n.includes("help")||n.includes("how")?"I can help you build your agent! Fill in the form fields to define your agent's behavior. The Name and Description help users understand what the agent does. The Role defines its personality and approach. The Completion Criteria tells the agent when its job is done.":n.includes("name")||n.includes("title")?"A good agent name should be descriptive and memorable. For example: 'HR Policy Assistant', 'IT Support Helper', or 'Onboarding Guide'.":n.includes("role")||n.includes("persona")?"The role defines how your agent should behave. Be specific about tone (friendly, professional), expertise area, and any boundaries. Example: 'You are a friendly HR assistant who helps employees understand company policies.'":"I'm here to help you build your agent. You can ask me about any field in the form, or for suggestions on how to configure your agent."}function N2t(e,t){const n=t.name||"Agent",r=t.role||"assistant";return!t.description&&!t.role?`Hi! I'm ${n}. I'm still being configured - add a description and role to see how I'll respond.`:`Based on my role as ${r.slice(0,50)}${r.length>50?"...":""}, I would help you with: "${e}". This is a preview of how the agent will respond once published.`}const Ia={answer:{label:"Answer agent",shortLabel:"Answer Agent",shortDesc:"Use your company's knowledge and gives clear, helpful responses.",subDesc:"Perfect for HR, IT, and policy Q&A.",description:"turning pre-retrieved content (from internal or external sources) into clear, conversational answers",iconBg:"bg-purple-100",iconColor:"text-purple-600"},knowledge:{label:"Knowledge agent",shortLabel:"Knowledge Agent",shortDesc:"Documents you choose to give strict, policy-accurate answers",subDesc:"Great for compliance, legal, HR policy, device manuals.",description:"providing answers directly from its pre-configured knowledge without requiring search",iconBg:"bg-emerald-100",iconColor:"text-emerald-600"},workflow:{label:"Workflow agent",shortLabel:"Workflow Agent",shortDesc:"Runs automations and performs tasks based on leveraging Resolve actions.",subDesc:"Great for password resets, access requests, onboarding tasks.",description:"running automations or workflows and explaining the results back to users",iconBg:"bg-slate-100",iconColor:"text-slate-600"}},r6=[{id:"hr-policies",name:"HR Policies",description:"Company HR policies and guidelines",type:"upload",tags:["hr","policy","employee"]},{id:"benefits-guide",name:"Benefits Guide",description:"Health insurance, 401k, and other benefits",type:"upload",tags:["hr","benefits","insurance","401k"]},{id:"pto-handbook",name:"PTO Handbook",description:"Time off policies and procedures",type:"upload",tags:["hr","pto","vacation","time off"]},{id:"employee-faq",name:"Employee FAQ",description:"Common questions and answers",type:"upload",tags:["hr","faq","employee"]},{id:"onboarding-docs",name:"Onboarding Documents",description:"New hire information",type:"upload",tags:["hr","onboarding","new hire"]},{id:"it-security-policy",name:"IT Security Policy",description:"Security guidelines and compliance",type:"upload",tags:["it","security","compliance"]},{id:"expense-policy",name:"Expense Policy",description:"Travel and expense reimbursement rules",type:"upload",tags:["finance","expense","travel"]},{id:"code-of-conduct",name:"Code of Conduct",description:"Employee behavior guidelines",type:"upload",tags:["hr","compliance","conduct"]},{id:"confluence-hr",name:"Confluence - HR Space",description:"HR team Confluence workspace",type:"connection",tags:["hr","confluence"]},{id:"sharepoint-policies",name:"SharePoint - Company Policies",description:"Central policy repository",type:"connection",tags:["policy","sharepoint"]},{id:"notion-wiki",name:"Notion - Company Wiki",description:"Internal knowledge base",type:"connection",tags:["wiki","notion"]},{id:"gdrive-hr",name:"Google Drive - HR Folder",description:"HR shared drive",type:"connection",tags:["hr","gdrive"]}],$2=[{id:"password-reset",name:"Password Reset",description:"Reset user passwords in AD"},{id:"access-request",name:"Access Request",description:"Request system access"},{id:"new-hire-setup",name:"New Hire Setup",description:"Provision accounts for new employees"},{id:"offboarding",name:"Offboarding",description:"Revoke access for departing employees"}],Nd=[{id:"slate",bg:"bg-slate-800",text:"text-white",preview:"bg-slate-800"},{id:"blue",bg:"bg-blue-600",text:"text-white",preview:"bg-blue-600"},{id:"emerald",bg:"bg-emerald-600",text:"text-white",preview:"bg-emerald-600"},{id:"purple",bg:"bg-purple-600",text:"text-white",preview:"bg-purple-600"},{id:"orange",bg:"bg-orange-500",text:"text-white",preview:"bg-orange-500"},{id:"rose",bg:"bg-rose-500",text:"text-white",preview:"bg-rose-500"}],lh=[{id:"bot",icon:_o,keywords:["ai","assistant","robot"]},{id:"message-square",icon:ks,keywords:["chat","conversation"]},{id:"headphones",icon:Bj,keywords:["support","help","audio"]},{id:"graduation-cap",icon:b1e,keywords:["education","learning","training"]},{id:"shield-check",icon:Wj,keywords:["security","compliance","protection"]},{id:"clipboard-list",icon:Gge,keywords:["tasks","checklist","todo"]},{id:"users",icon:oye,keywords:["team","people","hr"]},{id:"briefcase",icon:jge,keywords:["work","business","job"]},{id:"book-open",icon:Xm,keywords:["knowledge","documentation","reading"]},{id:"zap",icon:Il,keywords:["automation","fast","power"]},{id:"target",icon:Uve,keywords:["goals","focus","aim"]},{id:"globe",icon:zj,keywords:["web","international","world"]},{id:"lock",icon:tY,keywords:["security","password","private"]},{id:"mail",icon:W1e,keywords:["email","message","communication"]},{id:"phone",icon:hve,keywords:["call","contact","support"]},{id:"calendar",icon:Ige,keywords:["schedule","date","time"]},{id:"database",icon:$j,keywords:["data","storage","info"]},{id:"folder",icon:g1e,keywords:["files","documents","organize"]},{id:"settings",icon:ng,keywords:["config","preferences","options"]},{id:"wrench",icon:dye,keywords:["tools","fix","repair"]},{id:"heart",icon:S1e,keywords:["health","wellness","care"]},{id:"star",icon:$ve,keywords:["favorite","rating","important"]},{id:"award",icon:kge,keywords:["achievement","recognition","badge"]},{id:"rocket",icon:Xh,keywords:["launch","startup","fast"]},{id:"coffee",icon:Qge,keywords:["break","cafe","drink"]},{id:"home",icon:Uj,keywords:["house","main","dashboard"]},{id:"key",icon:Hj,keywords:["access","password","unlock"]},{id:"layers",icon:eY,keywords:["stack","design","levels"]},{id:"map",icon:K1e,keywords:["location","navigation","directions"]},{id:"package",icon:rve,keywords:["shipping","delivery","box"]},{id:"shopping-cart",icon:Ive,keywords:["ecommerce","buy","cart"]},{id:"thumbs-up",icon:Gj,keywords:["like","approve","good"]},{id:"trending-up",icon:cY,keywords:["growth","analytics","increase"]},{id:"line-chart",icon:Mge,keywords:["analytics","data","metrics"]},{id:"landmark",icon:j1e,keywords:["bank","finance","government"]},{id:"truck",icon:eye,keywords:["delivery","shipping","logistics"]},{id:"squirrel",icon:b0,keywords:["animal","nature","cute"]}],T2t={1:{name:"HelpDesk Advisor",description:"Answers IT support questions and helps employees troubleshoot common technical issues.",role:"A friendly and knowledgeable IT support specialist",responsibilities:"Answering questions about password resets, VPN setup, software installation, and common IT issues. Providing step-by-step troubleshooting guidance.",completionCriteria:"When the user's technical issue is resolved, or when it needs to escalate to the IT team for hands-on support.",agentType:"answer",knowledgeSources:["IT Security Policy","Employee FAQ"],workflows:[],hasRequiredConnections:!0,instructions:`You are a helpful IT support specialist.

Your responsibilities include:
- Answering questions about password resets, VPN, and software
- Providing step-by-step troubleshooting guidance
- Escalating complex issues to the IT team

Always be patient and explain technical concepts in simple terms.`,conversationStarters:["I forgot my password","How do I connect to VPN?","I need software installed","My computer is running slow"],guardrails:["payroll questions","HR policy questions"],iconId:"headphones",iconColorId:"blue"},2:{name:"Onboarding Compliance Checker",description:"Answers from compliance docs and ensures new hires complete required training.",role:"A compliance-focused onboarding assistant",responsibilities:"Guiding new employees through required compliance training, answering questions about company policies, and tracking completion status.",completionCriteria:"When the employee confirms understanding of all required compliance items.",agentType:"knowledge",knowledgeSources:["HR Policies","Code of Conduct","IT Security Policy","Employee FAQ"],workflows:[],hasRequiredConnections:!0,instructions:`You are a compliance onboarding assistant.

You ONLY answer from the connected compliance documents.

Do not make up information - if something isn't in the documents, say so.`,conversationStarters:["What compliance training do I need?","Tell me about the code of conduct","What are the security policies?","How do I report compliance issues?"],guardrails:["IT troubleshooting","benefits questions","payroll"],iconId:"shield-check",iconColorId:"emerald"},3:{name:"Password Reset Bot",description:"Automates password resets for employees.",role:"An automated password reset assistant",responsibilities:"Verifying user identity and executing password resets through the AD workflow.",completionCriteria:"When the password reset is complete and the user confirms they can log in.",agentType:"workflow",knowledgeSources:[],workflows:["Password Reset"],hasRequiredConnections:!0,instructions:`You help employees reset their passwords.

Always verify the user's identity before initiating a reset.

Explain each step of the process clearly.`,conversationStarters:["I need to reset my password","I'm locked out of my account","Can you help me change my password?","My password expired"],guardrails:["other IT issues","software installation","VPN setup"],iconId:"key",iconColorId:"purple"}};function dK(){var qo,no,fn,Wn,Na,jr,tr;const e=di(),t=Ea(),{id:n}=cg(),r=((qo=t.state)==null?void 0:qo.agentName)||"Untitled Agent",i=(no=t.state)==null?void 0:no.duplicatedConfig,s=y.useRef(null),a=!!n,o=n?T2t[n]:null,c=!!i,[u,d]=y.useState(a||c?"configure":"create"),[f,h]=y.useState(!1),[p,v]=y.useState(""),[x,b]=y.useState(a||c?"done":"start"),[w,E]=y.useState(!1),[k,_]=y.useState(!1),[A,T]=y.useState(null),[C,I]=y.useState(i||o||{name:r,description:"",role:"",responsibilities:"",completionCriteria:"",agentType:null,knowledgeSources:[],workflows:[],hasRequiredConnections:!1,instructions:"",conversationStarters:["","","",""],guardrails:[],iconId:"bot",iconColorId:"slate"}),[B,$]=y.useState(!1),[L,U]=y.useState(!1),[Y,V]=y.useState(!1),[K,W]=y.useState(!1),[J,q]=y.useState(!1),[G,j]=y.useState(null),[M,z]=y.useState("answer"),[O,X]=y.useState([]),[ne,re]=y.useState([]),[Q,te]=y.useState(""),[ie,fe]=y.useState([]),[he,ae]=y.useState(!1),[Pe,Te]=y.useState(!1),[Ge,nt]=y.useState([]),[vt,Ct]=y.useState(!1),[Tt,ue]=y.useState(""),[_e,Ae]=y.useState([]),[Be,We]=y.useState(""),[qe,Ee]=y.useState(!1),$e=y.useRef(null),[Ze,bt]=y.useState(!1),[Ue,St]=y.useState(!1),[At,je]=y.useState(null),[Je,wt]=y.useState(!1),[Et,gn]=y.useState(""),[dn,In]=y.useState(!1),[fi,Un]=y.useState("chat"),[Tn,Ut]=y.useState([{id:"1",role:"assistant",content:`Hi! I can help you build a new agent.
First, what kind of agent are you building today?`}]);y.useEffect(()=>{var de;(de=s.current)==null||de.scrollIntoView({behavior:"smooth"})},[Tn,w,B,K,J,he,Pe,vt]),y.useEffect(()=>{var de;(de=$e.current)==null||de.scrollIntoView({behavior:"smooth"})},[_e,qe]),y.useEffect(()=>{f&&_e.length===0&&x==="done"&&Ae([{id:"test-welcome",role:"assistant",content:`Hi! I'm ${C.name}. ${C.description}

How can I help you today?`}])},[f,_e.length,x,C.name,C.description]);const Pt=()=>{if(!Be.trim()||qe)return;const de={id:`test-user-${Date.now()}`,role:"user",content:Be.trim()};Ae(ct=>[...ct,de]);const Ie=Be.trim();We(""),Ee(!0),setTimeout(()=>{const ct=En(Ie);Ae(pt=>[...pt,{id:`test-assistant-${Date.now()}`,role:"assistant",content:ct}]),Ee(!1)},1e3+Math.random()*1e3)},En=de=>{const Ie=de.toLowerCase();for(const ct of C.guardrails)if(ct&&Ie.includes(ct.toLowerCase()))return`I'm sorry, but I'm not able to help with ${ct}. Please contact the appropriate team for assistance with that topic.`;return C.agentType==="workflow"?`I can help you with that! Let me initiate the ${C.workflows[0]||"the workflow"} process.

[Simulated: Workflow would execute here]

Is there anything else you'd like me to help with?`:C.agentType==="knowledge"?`Based on the documentation I have access to:

[Simulated response from: ${C.knowledgeSources.join(", ")||"configured knowledge sources"}]

This is a simulated response. In production, I would provide accurate answers from the connected documents.`:`Thanks for your question about "${de}"

As ${C.role||"your assistant"}, I'm here to help with ${C.responsibilities||"your questions"}.

[This is a simulated test response. In production, the agent would provide real answers based on the configured knowledge sources and instructions.]`},Qn=de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),Pt())},lr=de=>{We(de)},Os=de=>{const Ie=`${de.role} ${de.responsibilities} ${de.completionCriteria}`.toLowerCase();return["automate","run","execute","trigger","action","task","process","workflow","reset password","create ticket","submit","update system"].some(Zt=>Ie.includes(Zt))?"workflow":["document","specific","policy","compliance","handbook","manual","only from","based on","according to","strictly"].some(Zt=>Ie.includes(Zt))?"knowledge":"answer"},pr=de=>{const Ie=de.description.toLowerCase(),ct=de.role.toLowerCase(),pt=de.responsibilities.toLowerCase();return Ie.includes("onboarding")||ct.includes("onboarding")||pt.includes("onboarding")||pt.includes("new employee")?["I'm a new employee and need help getting started","Can you help me with my first day orientation?","I need to set up my accounts and access","What do I need to do for onboarding?","Help me understand the company processes","I'm new here, what are my next steps?","Can you guide me through employee orientation?","I need help with new hire paperwork","What tools and systems do I need access to?","Can you explain the onboarding workflow?"]:Ie.includes("hr")||Ie.includes("benefits")||ct.includes("hr")||pt.includes("pto")||pt.includes("benefits")?["How do I request time off?","What are my health insurance options?","How do I enroll in benefits?","What's the PTO policy?","How do I update my personal information?","Who do I contact about payroll issues?","What holidays does the company observe?","How do I access my pay stubs?"]:Ie.includes("it")||Ie.includes("technical")||ct.includes("it")||pt.includes("password")||pt.includes("access")?["I forgot my password","How do I reset my password?","I need access to a system","My computer isn't working","How do I connect to VPN?","I need software installed","Who do I contact for IT help?","How do I set up my email?"]:["How can you help me?","What can you do?","I have a question","I need assistance","Can you help me with something?","Where do I find information about..."]},Ar=(de,Ie)=>{const ct=de.role||"assistant",pt=de.responsibilities||"helping users",Zt=de.completionCriteria||"when the task is complete";return Ie==="answer"?`This is an answer formatting agent that acts as ${ct}. It will take pre-retrieved content and transform it into clear, conversational responses while ${pt}. The agent considers its job complete when ${Zt}.`:Ie==="knowledge"?`This is an embedded knowledge agent that acts as ${ct}. It will provide answers directly from its pre-configured knowledge base, ${pt}. The agent considers its job complete when ${Zt}.`:`This is a workflow execution agent that acts as ${ct}. It will run automations and workflows while ${pt}, then explain the results clearly. The agent considers its job complete when ${Zt}.`},ye=de=>{const Ie=`${de.description} ${de.role} ${de.responsibilities}`.toLowerCase();return r6.map(pt=>{let Zt=0;return pt.tags.forEach(jt=>{Ie.includes(jt)&&(Zt+=2)}),Ie.includes(pt.name.toLowerCase())&&(Zt+=3),pt.description.toLowerCase().split(" ").forEach(jt=>{jt.length>3&&Ie.includes(jt)&&(Zt+=1)}),{id:pt.id,score:Zt}}).filter(pt=>pt.score>0).sort((pt,Zt)=>Zt.score-pt.score).slice(0,5).map(pt=>pt.id)},ke=(de,Ie)=>{E(!0),$(!1),setTimeout(()=>{const ct={id:Date.now().toString(),role:"assistant",content:de};Ut(pt=>[...pt,ct]),E(!1),Ie!=null&&Ie.showButtons&&$(!0)},800)},De=de=>{switch(x){case"start":case"intent":I(pt=>({...pt,description:de})),b("role"),ke(`Got it. Let's define who this agent is.

**How would you describe the role or persona of this agent?**
For example: "a friendly HR advisor" or "an on-call IT specialist."`);break;case"role":I(pt=>({...pt,role:de})),b("responsibilities"),ke(`Nice. Now let's get specific.

**What should this agent help with day to day?**
You can list the types of questions or situations it should handle.`);break;case"responsibilities":I(pt=>({...pt,responsibilities:de})),b("completion"),ke(`Almost there.

**When should this agent consider its job complete?**
For example, when the question is answered, when next steps are provided, or when it needs to hand off to a human.`);break;case"completion":const Ie={...C,completionCriteria:de},ct=Os(Ie);I(Ie),z(ct),j(ct),b("select_type"),E(!0),setTimeout(()=>{Ut(pt=>[...pt,{id:Date.now().toString(),role:"assistant",content:`Based on what you shared, I'd suggest an **${Ia[ct].label}** for this use case.

Please select the agent type that best fits your needs:`}]),E(!1),W(!0)},800);break;case"done":ke("The agent configuration is complete. Switch to the Configure tab to review or make changes, or click Publish when you're ready.");break}},Ke=["An HR agent that helps employees understand benefits and PTO.","A friendly HR benefits advisor.","Answering questions about health insurance, PTO, enrollment, and where to find HR policies.","When the employee gets their answer, or when it needs to direct them to HR."],st=async()=>{if(k)return;_(!0),Ut([{id:"1",role:"assistant",content:`Hi! I can help you build a new agent.
First, what kind of agent are you building today?`}]),b("start"),I({name:r,description:"",role:"",responsibilities:"",completionCriteria:"",agentType:null,knowledgeSources:[],workflows:[],hasRequiredConnections:!1,instructions:"",conversationStarters:["","","",""],guardrails:[],iconId:"bot",iconColorId:"slate"}),$(!1),U(!1),V(!1),W(!1),q(!1),ae(!1),Te(!1),nt([]),Ct(!1),ue(""),j(null),z("answer"),X([]),re([]);const de=jt=>new Promise(hi=>setTimeout(hi,jt));await de(1e3);const Ie={id:Date.now().toString(),role:"user",content:Ke[0]};Ut(jt=>[...jt,Ie]),I(jt=>({...jt,description:Ke[0]})),b("role"),E(!0),T("Analyzing your requirements..."),await de(1500),E(!1),T(null),Ut(jt=>[...jt,{id:Date.now().toString(),role:"assistant",content:`Got it. Let's define who this agent is.

**How would you describe the role or persona of this agent?**
For example: "a friendly HR advisor" or "an on-call IT specialist."`}]),await de(1500);const ct={id:Date.now().toString(),role:"user",content:Ke[1]};Ut(jt=>[...jt,ct]),I(jt=>({...jt,role:Ke[1]})),b("responsibilities"),E(!0),T("Defining agent persona..."),await de(1200),E(!1),T(null),Ut(jt=>[...jt,{id:Date.now().toString(),role:"assistant",content:`Nice. Now let's get specific.

**What should this agent help with day to day?**
You can list the types of questions or situations it should handle.`}]),await de(1500);const pt={id:Date.now().toString(),role:"user",content:Ke[2]};Ut(jt=>[...jt,pt]),I(jt=>({...jt,responsibilities:Ke[2]})),b("completion"),E(!0),T("Configuring responsibilities..."),await de(1e3),E(!1),T(null),Ut(jt=>[...jt,{id:Date.now().toString(),role:"assistant",content:`Almost there.

**When should this agent consider its job complete?**
For example, when the question is answered, when next steps are provided, or when it needs to hand off to a human.`}]),await de(1500);const Zt={id:Date.now().toString(),role:"user",content:Ke[3]};Ut(jt=>[...jt,Zt]),I(jt=>({...jt,completionCriteria:Ke[3]})),b("select_type"),E(!0),T("Determining best agent type..."),await de(2e3),E(!1),T(null),z("answer"),j("answer"),Ut(jt=>[...jt,{id:Date.now().toString(),role:"assistant",content:`Based on what you shared, I'd suggest an **Answer Agent** for this use case.

Please select the agent type that best fits your needs:`}]),W(!0),_(!1)},It=()=>{$(!1);const de={id:Date.now().toString(),role:"user",content:"Yes, continue"};Ut(Ie=>[...Ie,de]),b("knowledge_sources"),C.agentType==="answer"?(E(!0),setTimeout(()=>{Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:`Great! To help this agent answer questions effectively, would you like to connect any knowledge sources?

This could include HR docs, policy guides, FAQs, or other reference materials.`}]),E(!1),U(!0)},800)):C.agentType==="knowledge"?(E(!0),setTimeout(()=>{Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:`Since this is a **Knowledge Agent**, it will only answer from specific documents  no guessing or inference.

**Which documents should this agent use?**
This is required for Knowledge Agents to ensure accuracy and compliance.`}]),E(!1),U(!0)},800)):C.agentType==="workflow"&&(E(!0),setTimeout(()=>{Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:`Since this is a **Workflow Agent**, it needs to connect to workflows to perform actions.

**Which workflows should this agent have access to?**
This is required for Workflow Agents to execute tasks.`}]),E(!1),V(!0)},800))},Ft=()=>{U(!1);const de={id:Date.now().toString(),role:"user",content:"Add knowledge sources"};Ut(Ie=>[...Ie,de]),I(Ie=>({...Ie,knowledgeSources:["HR Policies","Benefits Guide","PTO Handbook"],hasRequiredConnections:!0})),E(!0),setTimeout(()=>{Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:`I've connected the following knowledge sources:
 HR Policies
 Benefits Guide
 PTO Handbook

Your agent is now configured and ready. You can review the settings in the Configure tab or click Publish when ready.`}]),E(!1),b("done")},1e3)},Ot=()=>{U(!1);const de={id:Date.now().toString(),role:"user",content:"Skip for now"};Ut(Ie=>[...Ie,de]),C.agentType==="answer"?(I(Ie=>({...Ie,hasRequiredConnections:!0})),ke(`No problem! You can add knowledge sources later in the Configure tab.

Your agent is ready. Click Publish when you're done.`),b("done")):(ke("Knowledge sources are required for Knowledge Agents. Please select at least one document to continue."),U(!0))},Vt=()=>{V(!1);const de={id:Date.now().toString(),role:"user",content:"Connect workflows"};Ut(Ie=>[...Ie,de]),I(Ie=>({...Ie,workflows:["Password Reset","Access Request"],hasRequiredConnections:!0})),E(!0),setTimeout(()=>{Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:`I've connected the following workflows:
 Password Reset
 Access Request

Your agent is now configured and ready. You can review the settings in the Configure tab or click Publish when ready.`}]),E(!1),b("done")},1e3)},Xt=()=>{if(!G)return;W(!1),I(Ie=>({...Ie,agentType:G}));const de={id:Date.now().toString(),role:"user",content:`Selected: ${Ia[G].label}`};Ut(Ie=>[...Ie,de]),b("confirm_type"),E(!0),T("Generating agent understanding..."),setTimeout(()=>{E(!1),T(null);const Ie=Ar(C,G),ct=Ia[G].label;Ut(pt=>[...pt,{id:Date.now().toString(),role:"assistant",content:`Got it! You're building a **${ct}**.

**Agent Overall Understanding:** ${Ie}

Is this accurate? Please confirm if this correctly captures your agent, or let me know what needs to be adjusted.`}]),ae(!0)},1e3)},Wt=()=>{ae(!1);const de={id:Date.now().toString(),role:"user",content:"Yes, that's correct"};Ut(ct=>[...ct,de]),b("trigger_phrases"),E(!0),T("Generating example phrases...");const Ie=pr(C);nt(Ie),setTimeout(()=>{E(!1),T(null);const ct=G?Ia[G].shortLabel:"agent",pt=Ie.map((Zt,jt)=>`${jt+1}. "${Zt}"`).join(`
`);Ut(Zt=>[...Zt,{id:Date.now().toString(),role:"assistant",content:`**Example phrases users might say:**

${pt}

These examples cover different ways users might request your ${ct.toLowerCase()}.

Do these examples capture how users would request your agent? You can add, remove, or modify these in the Configure tab.`}]),Te(!0)},1e3)},Ht=()=>{Te(!1),I(Ie=>({...Ie,conversationStarters:Ge.slice(0,4)}));const de={id:Date.now().toString(),role:"user",content:"Looks good, continue"};Ut(Ie=>[...Ie,de]),b("guardrails"),E(!0),setTimeout(()=>{E(!1);const Ie=C.description.toLowerCase().includes("onboarding")?"onboarding":C.role.toLowerCase().includes("hr")?"HR":"this";Ut(ct=>[...ct,{id:Date.now().toString(),role:"assistant",content:`Now I need to understand the boundaries of your ${Ie} agent.

**What types of requests should this agent NOT handle?** For example:

 Should it avoid HR policy questions?
 Should it not handle IT troubleshooting?
 Are there specific topics outside of ${Ie} it should redirect?

Please tell me what types of requests should be excluded, or say 'none' if it should handle all ${Ie}-related requests.`}]),Ct(!0),ue("")},800)},an=()=>{Ct(!1);const de=Tt.trim(),Ie=de.toLowerCase()==="none"||de==="",ct={id:Date.now().toString(),role:"user",content:Ie?"None - handle all related requests":de};Ut(jt=>[...jt,ct]);const pt=Ie?[]:de.split(/[,\n]/).map(jt=>jt.trim()).filter(jt=>jt.length>0);I(jt=>({...jt,guardrails:pt})),b("select_sources"),E(!0),T("Loading available resources...");const Zt=ye(C);fe(Zt),X(Zt),te(""),setTimeout(()=>{E(!1),T(null);const jt=Zt.length>0;Ut(G==="answer"?hi=>[...hi,{id:Date.now().toString(),role:"assistant",content:jt?`To help this agent answer questions effectively, I've pre-selected some relevant knowledge sources based on what you described.

Review and adjust the selection, or search for more:`:`To help this agent answer questions effectively, you can connect knowledge sources.

Select the sources this agent should use (or skip if not needed):`}]:G==="knowledge"?hi=>[...hi,{id:Date.now().toString(),role:"assistant",content:jt?`Since this is an **Embedded Knowledge Agent**, it will only answer from specific documents.

I've pre-selected some relevant sources. Review and adjust (at least one required):`:`Since this is an **Embedded Knowledge Agent**, it will only answer from specific documents  no guessing.

**Select the documents this agent must use** (at least one required):`}]:hi=>[...hi,{id:Date.now().toString(),role:"assistant",content:`Since this is a **Workflow Executor**, it needs workflows to perform actions.

**Select the workflows this agent can execute** (at least one required):`}]),q(!0)},800)},Hn=()=>{ue("none"),an()},gr=()=>{ae(!1);const de={id:Date.now().toString(),role:"user",content:"I'd like to adjust this"};Ut(Ie=>[...Ie,de]),b("select_type"),E(!0),setTimeout(()=>{E(!1),Ut(Ie=>[...Ie,{id:Date.now().toString(),role:"assistant",content:"No problem! Let's pick a different agent type, or tell me more about what you need:"}]),W(!0)},600)},cr=()=>{const de=G==="workflow",Ie=G==="knowledge",ct=de?ne:O;if((de||Ie)&&ct.length===0)return;q(!1);const pt=de?ne.map(jt=>{var hi;return(hi=$2.find(Wo=>Wo.id===jt))==null?void 0:hi.name}).filter(Boolean):O.map(jt=>{var hi;return(hi=r6.find(Wo=>Wo.id===jt))==null?void 0:hi.name}).filter(Boolean),Zt={id:Date.now().toString(),role:"user",content:ct.length>0?`Selected: ${pt.join(", ")}`:"Skip for now"};Ut(jt=>[...jt,Zt]),I(de?jt=>({...jt,workflows:pt,hasRequiredConnections:!0}):jt=>({...jt,knowledgeSources:pt,hasRequiredConnections:!0})),E(!0),T("Finalizing configuration..."),setTimeout(()=>{E(!1),T(null);const jt=de?"workflows":"knowledge sources",hi=pt.length>0?`
${pt.map(Wo=>` ${Wo}`).join(`
`)}`:"";Ut(Wo=>[...Wo,{id:Date.now().toString(),role:"assistant",content:ct.length>0?`I've connected the following ${jt}:${hi}

Your agent is now configured and ready. You can review the settings in the Configure tab or click Publish when ready.`:`No problem! You can add ${jt} later in the Configure tab.

Your agent is ready. Click Publish when you're done.`}]),b("done")},1e3)},Vn=de=>{X(Ie=>Ie.includes(de)?Ie.filter(ct=>ct!==de):[...Ie,de])},qn=()=>{$(!1);const de={id:Date.now().toString(),role:"user",content:"Change agent type"};Ut(jt=>[...jt,de]);const Ie=["answer","knowledge","workflow"],ct=Ie.indexOf(C.agentType||"answer"),pt=Ie[(ct+1)%Ie.length];I(jt=>({...jt,agentType:pt}));const Zt=Ia[pt];ke(`How about this instead:

**${Zt.label}**

It will focus on ${Zt.description}.
Does that sound right?`,{showButtons:!0})},ta=()=>{e("/agents")},Ja=()=>{In(!0)},Ln=()=>{console.log("Publishing agent:",C),In(!1),Oi.success("Agent published successfully",{description:`${C.name} is now available for users.`}),e("/agents",{state:{publishedAgent:{id:a?n:Date.now().toString(),name:C.name,description:C.description,agentType:C.agentType,iconId:C.iconId,iconColorId:C.iconColorId}}})},vs=()=>{e("/agents/create",{state:{agentName:`${C.name} (Copy)`,duplicatedConfig:{...C,name:`${C.name} (Copy)`}}})},eo=()=>{if(!p.trim()||w||B)return;const de={id:Date.now().toString(),role:"user",content:p.trim()};Ut(ct=>[...ct,de]);const Ie=p.trim();v(""),De(Ie)},to=de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),eo())},as=de=>de.split(/(\*\*[^*]+\*\*)/g).map((ct,pt)=>ct.startsWith("**")&&ct.endsWith("**")?l.jsx("strong",{children:ct.slice(2,-2)},pt):l.jsx("span",{children:ct},pt));return fi==="wizard"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:l.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>Un("chat"),className:"gap-2 bg-white shadow-lg",children:[l.jsx(ks,{className:"size-4"}),"Switch to Chat Mode"]})}),l.jsx(E2t,{initialConfig:{name:C.name,description:C.description,role:C.role,completionCriteria:C.completionCriteria,iconId:C.iconId,iconColorId:C.iconColorId,agentType:C.agentType},onBack:ta,onPublish:de=>{I(Ie=>({...Ie,name:de.name,description:de.description,role:de.role,completionCriteria:de.completionCriteria,iconId:de.iconId,iconColorId:de.iconColorId,agentType:de.agentType})),In(!0)},isEditing:a})]}):l.jsxs("div",{className:"flex flex-col h-screen bg-muted/50",children:[l.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:l.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>Un("wizard"),className:"gap-2 bg-white shadow-lg",children:[l.jsx(Cs,{className:"size-4"}),"Switch to Wizard Mode"]})}),l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white border-b",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ve,{variant:"ghost",size:"icon",onClick:ta,"aria-label":"Go back to agents",children:l.jsx(Lh,{className:"size-5"})}),l.jsx("h1",{className:"text-lg font-medium",children:C.name}),l.jsx(xn,{variant:a||x==="done"?"default":"secondary",children:a?l.jsxs(l.Fragment,{children:[l.jsx(or,{className:"size-3 mr-1"}),"Published"]}):x==="done"?l.jsxs(l.Fragment,{children:[l.jsx(or,{className:"size-3 mr-1"}),"Ready to publish"]}):"Draft"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ve,{variant:"outline",className:"gap-2",onClick:st,disabled:k,children:[l.jsx($v,{className:"size-4"}),k?"Running...":"Run Demo"]}),l.jsxs(ve,{variant:"outline",className:"gap-2",children:[l.jsx(Lj,{className:"size-4"}),"How agent builder works"]}),a&&l.jsxs(ve,{variant:"outline",className:"gap-2",onClick:vs,children:[l.jsx(jS,{className:"size-4"}),"Duplicate"]}),l.jsx(ve,{onClick:Ja,disabled:x!=="done",children:a?"Save Changes":"Publish"})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden p-4 gap-4",children:[l.jsxs("div",{className:"flex flex-col flex-1 bg-white rounded-xl",children:[l.jsx("div",{className:"flex justify-center pt-4 pb-2",children:l.jsx(Hx,{value:u,onValueChange:de=>d(de),children:l.jsxs(Vx,{className:"bg-muted/50",children:[l.jsx(Cl,{value:"create",className:"px-8",children:"Create"}),l.jsx(Cl,{value:"configure",className:"px-8",children:"Configure"})]})})}),u==="create"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[Tn.map(de=>l.jsx("div",{children:l.jsx("div",{className:we("flex gap-3",de.role==="user"&&"justify-end"),children:de.role==="assistant"?l.jsx("div",{className:"max-w-[85%]",children:l.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:as(de.content)})}):l.jsx("div",{className:"bg-muted rounded-2xl rounded-br-sm px-4 py-2.5 max-w-[80%]",children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:de.content})})})},de.id)),B&&!w&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:qn,children:"Change agent type"}),l.jsx(ve,{onClick:It,children:"Yes, continue"})]}),L&&!w&&l.jsxs("div",{className:"flex gap-2",children:[C.agentType==="answer"&&l.jsx(ve,{variant:"outline",onClick:Ot,children:"Skip for now"}),l.jsx(ve,{onClick:Ft,children:C.agentType==="knowledge"?"Select documents":"Add knowledge sources"})]}),Y&&!w&&l.jsx("div",{className:"flex gap-2",children:l.jsx(ve,{onClick:Vt,children:"Connect workflows"})}),K&&!w&&l.jsxs("div",{className:"space-y-3",children:[["answer","knowledge","workflow"].map(de=>{const Ie=Ia[de];return l.jsxs("label",{className:we("flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all",G===de?"border-primary ring-1 ring-primary bg-white":"border-muted bg-white hover:border-muted-foreground/30"),children:[l.jsx("input",{type:"radio",name:"agent-type",checked:G===de,onChange:()=>j(de),className:"mt-1.5"}),l.jsxs("div",{className:we("size-9 rounded-lg flex items-center justify-center flex-shrink-0",Ie.iconBg),children:[de==="answer"&&l.jsx(ks,{className:we("size-4",Ie.iconColor)}),de==="knowledge"&&l.jsx(Xm,{className:we("size-4",Ie.iconColor)}),de==="workflow"&&l.jsx(xo,{className:we("size-4",Ie.iconColor)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-base",children:Ie.label}),de===M&&l.jsx(xn,{variant:"secondary",className:"text-xs",children:"Suggested"})]}),l.jsx("p",{className:"text-sm text-foreground mt-0.5",children:Ie.shortDesc}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ie.subDesc})]})]},de)}),l.jsx("div",{className:"pt-2",children:l.jsxs(ve,{onClick:Xt,disabled:!G,children:["Continue with ",G?Ia[G].label:"selection"]})})]}),he&&!w&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:gr,children:"Adjust"}),l.jsx(ve,{onClick:Wt,children:"Yes, that's correct"})]}),Pe&&!w&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:()=>d("configure"),children:"Edit in Configure"}),l.jsx(ve,{onClick:Ht,children:"Looks good, continue"})]}),vt&&!w&&l.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[l.jsx(ll,{value:Tt,onChange:de=>ue(de.target.value),placeholder:"e.g., HR policy questions, IT troubleshooting, payroll issues...",className:"min-h-[80px] resize-none"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'Separate multiple items with commas or new lines. Type "none" if the agent should handle all related requests.'}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ve,{variant:"outline",onClick:Hn,children:"None - handle all"}),l.jsx(ve,{onClick:an,children:"Set boundaries"})]})]}),J&&!w&&l.jsx("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:G==="workflow"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1 mb-3",children:[l.jsx("p",{className:"text-sm font-medium",children:"Select the workflow this agent will execute:"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a workflow from your organization's available automations."})]}),$2.length>5&&l.jsxs("div",{className:"relative mb-3",children:[l.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),l.jsx(en,{placeholder:"Search workflows...",value:Q,onChange:de=>te(de.target.value),className:"pl-9"})]}),l.jsx("div",{className:we("space-y-2",$2.length>5&&"max-h-[280px] overflow-y-auto"),children:$2.filter(de=>{if(!Q)return!0;const Ie=Q.toLowerCase();return de.name.toLowerCase().includes(Ie)||de.description.toLowerCase().includes(Ie)}).map(de=>l.jsxs("label",{className:we("flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors",ne[0]===de.id?"border-primary bg-primary/5":"border-transparent bg-white hover:bg-muted/50"),children:[l.jsx("input",{type:"radio",name:"workflow-selection",checked:ne[0]===de.id,onChange:()=>re([de.id]),className:"mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"font-medium text-sm",children:de.name}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:de.description})]})]},de.id))}),l.jsx("div",{className:"pt-2",children:l.jsx(ve,{onClick:cr,disabled:ne.length===0,children:"Connect workflow"})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),l.jsx(en,{placeholder:"Search knowledge sources...",value:Q,onChange:de=>te(de.target.value),className:"pl-9 pr-9"}),Q&&l.jsx("button",{onClick:()=>te(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l.jsx(li,{className:"size-4"})})]}),l.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:r6.filter(de=>{if(!Q)return!0;const Ie=Q.toLowerCase();return de.name.toLowerCase().includes(Ie)||de.description.toLowerCase().includes(Ie)||de.tags.some(ct=>ct.includes(Ie))}).map(de=>l.jsxs("label",{className:we("flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors",O.includes(de.id)?"border-primary bg-primary/5":"border-transparent bg-white hover:bg-muted/50"),children:[l.jsx(Xs,{checked:O.includes(de.id),onCheckedChange:()=>Vn(de.id)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[de.type==="upload"?l.jsx(w0,{className:"size-4 text-blue-500"}):l.jsx(Vj,{className:"size-4 text-emerald-500"}),l.jsx("span",{className:"font-medium",children:de.name}),ie.includes(de.id)&&l.jsxs(xn,{variant:"secondary",className:"text-xs gap-1",children:[l.jsx(rg,{className:"size-3"}),"Suggested"]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:de.description})]})]},de.id))}),l.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.length," selected"]}),l.jsxs("div",{className:"flex gap-2",children:[G==="answer"&&l.jsx(ve,{variant:"outline",onClick:cr,children:"Skip for now"}),l.jsx(ve,{onClick:cr,disabled:G==="knowledge"&&O.length===0,children:O.length>0?`Connect ${O.length} source${O.length!==1?"s":""}`:G==="answer"?"Continue without sources":"Select at least one document"})]})]})]})}),w&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex gap-1",children:[l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce"}),l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),A&&l.jsx("span",{children:A})]}),l.jsx("div",{ref:s})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"relative",children:[l.jsx(ll,{value:p,onChange:de=>v(de.target.value),onKeyDown:to,placeholder:"Ask anything",className:"min-h-[80px] pr-14 resize-none rounded-xl border-muted-foreground/20",disabled:w||B||K||J||he||Pe||vt}),l.jsx(ve,{size:"icon",onClick:eo,disabled:!p.trim()||w||B||K||J||he||Pe||vt,"aria-label":"Send message",className:"absolute bottom-3 right-3 size-8 rounded-lg",children:l.jsx(vu,{className:"size-4"})})]})})]}):l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Jn,{htmlFor:"agent-name",className:"text-sm font-medium",children:"Name of agent"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[l.jsx(en,{id:"agent-name",value:C.name,onChange:de=>I(Ie=>({...Ie,name:de.target.value})),placeholder:"Enter agent name",className:"flex-1"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>wt(!Je),className:we("size-10 rounded-lg flex items-center justify-center transition-colors border",((fn=Nd.find(de=>de.id===C.iconColorId))==null?void 0:fn.bg)||"bg-slate-800"),"aria-label":"Change agent icon",children:(()=>{const de=lh.find(ct=>ct.id===C.iconId),Ie=(de==null?void 0:de.icon)||_o;return l.jsx(Ie,{className:"size-5 text-white"})})()}),l.jsx(ri,{className:"size-3 text-muted-foreground absolute -bottom-0.5 -right-0.5"}),Je&&l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border z-50 p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Color"}),l.jsx("div",{className:"flex gap-2",children:Nd.map(de=>l.jsx("button",{onClick:()=>I(Ie=>({...Ie,iconColorId:de.id})),className:we("size-10 rounded-full transition-all",de.bg,C.iconColorId===de.id?"ring-2 ring-offset-2 ring-primary":"hover:scale-110"),"aria-label":`Select ${de.id} color`},de.id))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Icon"}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground"}),l.jsx(en,{placeholder:"Find by type, role, or expertise",value:Et,onChange:de=>gn(de.target.value),className:"pl-9"})]}),l.jsx("div",{className:"grid grid-cols-6 gap-1 max-h-[240px] overflow-y-auto",children:lh.filter(de=>{if(!Et)return!0;const Ie=Et.toLowerCase();return de.id.includes(Ie)||de.keywords.some(ct=>ct.includes(Ie))}).map(de=>{const Ie=de.icon;return l.jsx("button",{onClick:()=>{I(ct=>({...ct,iconId:de.id})),wt(!1),gn("")},className:we("size-10 rounded-lg flex items-center justify-center transition-colors",C.iconId===de.id?"bg-primary/10 text-primary":"hover:bg-muted text-muted-foreground hover:text-foreground"),children:l.jsx(Ie,{className:"size-5"})},de.id)})})]})]})]})]})]}),l.jsxs("div",{children:[l.jsx(Jn,{htmlFor:"agent-description",className:"text-sm font-medium",children:"Description"}),l.jsx(ll,{id:"agent-description",value:C.description,onChange:de=>I(Ie=>({...Ie,description:de.target.value})),placeholder:"Describe what this agent does...",className:"mt-1.5 min-h-[60px] resize-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Jn,{htmlFor:"instructions",className:"text-sm font-medium",children:"Instructions"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"Supports Markdown"})]}),l.jsx(ll,{id:"instructions",value:C.instructions,onChange:de=>I(Ie=>({...Ie,instructions:de.target.value})),placeholder:`You are a helpful ${C.role||"assistant"}.

Your responsibilities include:
- ${C.responsibilities||"Helping users with their questions"}

Your job is complete when:
- ${C.completionCriteria||"The user's question is answered"}`,className:"min-h-[200px] font-mono text-sm"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Define how the agent should behave, respond, and what it should avoid."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Jn,{className:"text-sm font-medium",children:"Conversation starters"}),l.jsxs(ve,{variant:"ghost",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>I(de=>({...de,conversationStarters:[...de.conversationStarters,""]})),disabled:C.conversationStarters.length>=6,children:[l.jsx(Ts,{className:"size-3"}),"Add"]})]}),l.jsx("div",{className:"space-y-2",children:C.conversationStarters.map((de,Ie)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(en,{value:de,onChange:ct=>{const pt=[...C.conversationStarters];pt[Ie]=ct.target.value,I(Zt=>({...Zt,conversationStarters:pt}))},placeholder:'Example: "How do I request PTO?"',className:"flex-1"}),l.jsx(ve,{variant:"ghost",size:"icon",className:"size-8 text-muted-foreground hover:text-destructive",onClick:()=>{const ct=C.conversationStarters.filter((pt,Zt)=>Zt!==Ie);I(pt=>({...pt,conversationStarters:ct}))},disabled:C.conversationStarters.length<=1,children:l.jsx(hf,{className:"size-4"})})]},Ie))}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggested prompts shown to users when starting a conversation."})]}),C.agentType&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Agent Type:"}),l.jsxs(xn,{variant:"secondary",className:"gap-1.5",children:[C.agentType==="answer"&&l.jsx(ks,{className:"size-3"}),C.agentType==="knowledge"&&l.jsx(Cs,{className:"size-3"}),C.agentType==="workflow"&&l.jsx(xo,{className:"size-3"}),Ia[C.agentType].label]}),l.jsx("button",{onClick:()=>{je(C.agentType),bt(!0)},className:"text-sm text-primary hover:underline",children:"Change"})]}),C.agentType!=="workflow"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Jn,{className:"text-sm font-medium",children:"Knowledge"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Documents and data sources the agent can reference"})]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"h-8 gap-1.5",children:[l.jsx(Ts,{className:"size-3.5"}),"Add source"]})]}),C.knowledgeSources.length>0&&l.jsx("div",{className:"border rounded-lg divide-y",children:C.knowledgeSources.map((de,Ie)=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"size-8 rounded bg-blue-50 flex items-center justify-center",children:l.jsx(Cs,{className:"size-4 text-blue-500"})}),l.jsx("span",{className:"text-sm",children:de})]}),l.jsx(ve,{variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-destructive",onClick:()=>{const ct=C.knowledgeSources.filter((pt,Zt)=>Zt!==Ie);I(pt=>({...pt,knowledgeSources:ct}))},children:l.jsx(li,{className:"size-3.5"})})]},Ie))})]}),C.agentType!=="knowledge"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Jn,{className:"text-sm font-medium",children:"Actions"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Workflows and automations the agent can execute"})]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"h-8 gap-1.5",children:[l.jsx(Ts,{className:"size-3.5"}),"Add action"]})]}),C.workflows.length>0&&l.jsx("div",{className:"border rounded-lg divide-y",children:C.workflows.map((de,Ie)=>l.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2.5",children:[l.jsx("div",{className:"size-8 rounded bg-purple-50 flex items-center justify-center",children:l.jsx(xo,{className:"size-4 text-purple-500"})}),l.jsx("span",{className:"text-sm",children:de})]}),l.jsx(ve,{variant:"ghost",size:"icon",className:"size-7 text-muted-foreground hover:text-destructive",onClick:()=>{const ct=C.workflows.filter((pt,Zt)=>Zt!==Ie);I(pt=>({...pt,workflows:ct}))},children:l.jsx(li,{className:"size-3.5"})})]},Ie))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Jn,{className:"text-sm font-medium",children:"Guardrails"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Topics or requests the agent should NOT handle"})]}),l.jsxs(ve,{variant:"outline",size:"sm",className:"h-8 gap-1.5",onClick:()=>{I(de=>({...de,guardrails:[...de.guardrails,""]}))},children:[l.jsx(Ts,{className:"size-3.5"}),"Add guardrail"]})]}),C.guardrails.length>0&&l.jsx("div",{className:"space-y-2",children:C.guardrails.map((de,Ie)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(en,{value:de,onChange:ct=>{const pt=[...C.guardrails];pt[Ie]=ct.target.value,I(Zt=>({...Zt,guardrails:pt}))},placeholder:"e.g., HR policy questions",className:"flex-1"}),l.jsx(ve,{variant:"ghost",size:"icon",className:"size-8 text-muted-foreground hover:text-destructive",onClick:()=>{const ct=C.guardrails.filter((pt,Zt)=>Zt!==Ie);I(pt=>({...pt,guardrails:ct}))},children:l.jsx(hf,{className:"size-4"})})]},Ie))})]})]})})]}),l.jsxs("div",{className:"w-[400px] flex flex-col bg-white rounded-xl",children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[l.jsx("h2",{className:"font-medium",children:"Preview"}),x==="done"&&l.jsxs(ve,{variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>h(!0),children:[l.jsx($v,{className:"size-3.5"}),"Test agent"]})]}),l.jsxs("div",{className:"flex-1 p-4 flex flex-col overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:we("size-12 rounded-xl flex items-center justify-center flex-shrink-0",((Wn=Nd.find(de=>de.id===C.iconColorId))==null?void 0:Wn.bg)||"bg-slate-800"),children:(()=>{const de=lh.find(ct=>ct.id===C.iconId),Ie=(de==null?void 0:de.icon)||_o;return l.jsx(Ie,{className:"size-6 text-white"})})()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg font-medium truncate",children:C.name||"Untitled Agent"}),C.agentType&&l.jsx("span",{className:"text-xs text-muted-foreground",children:Ia[C.agentType].shortLabel})]})]}),C.description&&l.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:C.description}),C.conversationStarters.some(de=>de.trim())&&l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Try asking"}),l.jsx("div",{className:"space-y-1.5",children:C.conversationStarters.filter(de=>de.trim()).slice(0,4).map((de,Ie)=>l.jsx("button",{className:"w-full text-left px-3 py-2 text-sm border rounded-lg hover:bg-muted/50 transition-colors truncate",disabled:!0,children:de},Ie))})]}),l.jsx("div",{className:"mt-auto",children:l.jsxs("div",{className:"relative",children:[l.jsx(ll,{placeholder:"Ask anything...",className:"min-h-[60px] pr-12 resize-none rounded-xl border-muted-foreground/20 text-sm",disabled:!0}),l.jsx(ve,{size:"icon",disabled:!0,"aria-label":"Send message",className:"absolute bottom-2 right-2 size-7 rounded-lg",children:l.jsx(vu,{className:"size-3.5"})})]})}),!C.description&&!C.conversationStarters.some(de=>de.trim())&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-muted/50 rounded-lg text-sm text-muted-foreground mt-4",children:[l.jsx(Fj,{className:"size-4"}),l.jsx("span",{children:"Configure your agent to see preview"})]})]})]})]}),f&&l.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b bg-white",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>h(!1),"aria-label":"Close test mode",children:l.jsx(Lh,{className:"size-5"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:we("size-8 rounded-lg flex items-center justify-center",((Na=Nd.find(de=>de.id===C.iconColorId))==null?void 0:Na.bg)||"bg-slate-800"),children:(()=>{const de=lh.find(ct=>ct.id===C.iconId),Ie=(de==null?void 0:de.icon)||_o;return l.jsx(Ie,{className:"size-5 text-white"})})()}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-medium",children:C.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Test Mode"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ve,{variant:"outline",size:"sm",onClick:()=>{Ae([]),We("")},children:"Clear chat"}),l.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:"Exit test"})]})]}),l.jsx("div",{className:"flex-1 flex justify-center overflow-hidden bg-muted/30",children:l.jsxs("div",{className:"w-full max-w-3xl flex flex-col bg-white border-x",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-4",children:[_e.length<=1&&C.conversationStarters.some(de=>de.trim())&&l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Try asking"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:C.conversationStarters.filter(de=>de.trim()).slice(0,4).map((de,Ie)=>l.jsx("button",{onClick:()=>lr(de),className:"px-4 py-2.5 text-sm border rounded-xl hover:bg-muted/50 transition-colors text-left",children:de},Ie))})]}),_e.map(de=>{var Ie;return l.jsx("div",{children:l.jsx("div",{className:we("flex gap-3",de.role==="user"&&"justify-end"),children:de.role==="assistant"?l.jsxs("div",{className:"max-w-[80%]",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:we("size-8 rounded-full flex items-center justify-center",((Ie=Nd.find(ct=>ct.id===C.iconColorId))==null?void 0:Ie.bg)||"bg-slate-800"),children:(()=>{const ct=lh.find(Zt=>Zt.id===C.iconId),pt=(ct==null?void 0:ct.icon)||_o;return l.jsx(pt,{className:"size-5 text-white"})})()}),l.jsx("span",{className:"text-sm font-medium",children:C.name})]}),l.jsx("div",{className:"ml-10",children:l.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:as(de.content)})})]}):l.jsx("div",{className:"bg-primary text-primary-foreground rounded-2xl rounded-br-sm px-4 py-2.5 max-w-[70%]",children:l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:de.content})})})},de.id)}),qe&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:we("size-8 rounded-full flex items-center justify-center",((jr=Nd.find(de=>de.id===C.iconColorId))==null?void 0:jr.bg)||"bg-slate-800"),children:(()=>{const de=lh.find(ct=>ct.id===C.iconId),Ie=(de==null?void 0:de.icon)||_o;return l.jsx(Ie,{className:"size-5 text-white"})})()}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce"}),l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("span",{className:"size-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),l.jsx("div",{ref:$e})]}),l.jsxs("div",{className:"p-4 border-t bg-white",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ll,{value:Be,onChange:de=>We(de.target.value),onKeyDown:Qn,placeholder:"Test your agent by asking a question...",className:"min-h-[60px] max-h-[120px] pr-14 resize-none rounded-xl border-muted-foreground/20",disabled:qe}),l.jsx(ve,{size:"icon",onClick:Pt,disabled:!Be.trim()||qe,"aria-label":"Send test message",className:"absolute bottom-3 right-3 size-8 rounded-lg",children:l.jsx(vu,{className:"size-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"This is a simulated test environment. Responses demonstrate how the agent would behave."})]})]})})]}),Ze&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>bt(!1)}),l.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg w-full max-w-md p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Change Agent Type"}),l.jsx("button",{onClick:()=>bt(!1),className:"text-muted-foreground hover:text-foreground",children:l.jsx(li,{className:"size-5"})})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a new agent type. This will affect available configuration options."}),l.jsx("div",{className:"space-y-2",children:["answer","knowledge","workflow"].map(de=>{const Ie=Ia[de];return l.jsxs("label",{className:we("flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all",At===de?"border-primary ring-1 ring-primary bg-white":"border-muted bg-white hover:border-muted-foreground/30"),children:[l.jsx("input",{type:"radio",name:"change-agent-type",checked:At===de,onChange:()=>je(de),className:"mt-1.5"}),l.jsxs("div",{className:we("size-10 rounded-lg flex items-center justify-center flex-shrink-0",Ie.iconBg),children:[de==="answer"&&l.jsx(ks,{className:we("size-5",Ie.iconColor)}),de==="knowledge"&&l.jsx(Xm,{className:we("size-5",Ie.iconColor)}),de==="workflow"&&l.jsx(xo,{className:we("size-5",Ie.iconColor)})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"font-medium",children:Ie.label}),l.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:Ie.shortDesc})]})]},de)})}),At&&At!==C.agentType&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium text-amber-800 mb-2",children:"What will change:"}),l.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[At==="workflow"&&C.knowledgeSources.length>0&&l.jsxs("li",{children:[" Knowledge sources will be removed (",C.knowledgeSources.length," sources)"]}),At==="knowledge"&&C.workflows.length>0&&l.jsxs("li",{children:[" Actions/workflows will be removed (",C.workflows.length," workflow)"]}),C.agentType==="workflow"&&At!=="workflow"&&l.jsx("li",{children:" Workflow configuration will be cleared"}),C.agentType==="knowledge"&&At!=="knowledge"&&l.jsx("li",{children:" Knowledge-only settings will be adjusted"}),l.jsx("li",{children:" Agent behavior and capabilities will change"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(ve,{variant:"outline",onClick:()=>bt(!1),children:"Cancel"}),l.jsx(ve,{onClick:()=>{At&&At!==C.agentType&&(a?(bt(!1),St(!0)):(I(de=>({...de,agentType:At,knowledgeSources:At==="workflow"?[]:de.knowledgeSources,workflows:At==="knowledge"?[]:de.workflows})),bt(!1)))},disabled:!At||At===C.agentType,children:a?"Continue":"Confirm Change"})]})]})]}),Ue&&At&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>St(!1)}),l.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg w-full max-w-md p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"size-10 rounded-full bg-amber-100 flex items-center justify-center",children:l.jsx(Nf,{className:"size-5 text-amber-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-medium",children:"Confirm Type Change"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This action affects a saved agent"})]})]}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Current type:"}),l.jsxs(xn,{variant:"secondary",className:"gap-1",children:[C.agentType==="answer"&&l.jsx(ks,{className:"size-3"}),C.agentType==="knowledge"&&l.jsx(Cs,{className:"size-3"}),C.agentType==="workflow"&&l.jsx(xo,{className:"size-3"}),C.agentType&&Ia[C.agentType].shortLabel]})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Lh,{className:"size-4 text-muted-foreground rotate-180"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"New type:"}),l.jsxs(xn,{variant:"default",className:"gap-1",children:[At==="answer"&&l.jsx(ks,{className:"size-3"}),At==="knowledge"&&l.jsx(Cs,{className:"size-3"}),At==="workflow"&&l.jsx(xo,{className:"size-3"}),Ia[At].shortLabel]})]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Warning"}),l.jsxs("p",{className:"text-sm text-red-700",children:["Changing the agent type for ",l.jsx("strong",{children:C.name})," will modify how this agent works. Users who interact with this agent may experience different behavior."]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(ve,{variant:"outline",onClick:()=>{St(!1),bt(!0)},children:"Go Back"}),l.jsx(ve,{variant:"destructive",onClick:()=>{I(de=>({...de,agentType:At,knowledgeSources:At==="workflow"?[]:de.knowledgeSources,workflows:At==="knowledge"?[]:de.workflows})),St(!1),je(null)},children:"Confirm Change"})]})]})]}),dn&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>In(!1)}),l.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg w-full max-w-lg p-6 space-y-5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Publish Agent"}),l.jsx("button",{onClick:()=>In(!1),className:"text-muted-foreground hover:text-foreground",children:l.jsx(li,{className:"size-5"})})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Review your agent configuration before publishing. Once published, this agent will be available for use."}),l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:we("size-12 rounded-lg flex items-center justify-center",((tr=Nd.find(de=>de.id===C.iconColorId))==null?void 0:tr.bg)||"bg-slate-800"),children:(()=>{var ct,pt;const de=((ct=lh.find(Zt=>Zt.id===C.iconId))==null?void 0:ct.icon)||b0,Ie=((pt=Nd.find(Zt=>Zt.id===C.iconColorId))==null?void 0:pt.text)||"text-white";return l.jsx(de,{className:we("size-6",Ie)})})()}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:C.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.description||"No description"})]})]}),l.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Agent Type"}),l.jsxs(xn,{variant:"secondary",className:"gap-1",children:[C.agentType==="answer"&&l.jsx(ks,{className:"size-3"}),C.agentType==="knowledge"&&l.jsx(Xm,{className:"size-3"}),C.agentType==="workflow"&&l.jsx(xo,{className:"size-3"}),C.agentType&&Ia[C.agentType].shortLabel]})]}),C.agentType!=="workflow"&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Knowledge Sources"}),l.jsxs("span",{className:"font-medium",children:[C.knowledgeSources.length," connected"]})]}),C.agentType!=="knowledge"&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Workflows"}),l.jsxs("span",{className:"font-medium",children:[C.workflows.length," connected"]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Conversation Starters"}),l.jsxs("span",{className:"font-medium",children:[C.conversationStarters.filter(de=>de.trim()).length," configured"]})]}),C.guardrails.length>0&&l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Guardrails"}),l.jsxs("span",{className:"font-medium",children:[C.guardrails.length," boundaries set"]})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," After publishing, this agent will immediately be available for users to interact with. You can edit or unpublish it later from the agents list."]})}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(ve,{variant:"outline",onClick:()=>In(!1),children:"Cancel"}),l.jsxs(ve,{onClick:Ln,children:[l.jsx(or,{className:"size-4 mr-1"}),"Publish Agent"]})]})]})]})]})}function A2t(){return pf("ENABLE_TICKETS_V2")?l.jsx(Bpt,{}):l.jsx(JJe,{})}function fK(){return l.jsx(mX,{apiUrl:"",enabled:!0,children:l.jsx(FGe,{})})}const j2t=b2e([{path:"/",element:l.jsx(Zm,{to:"/chat",replace:!0})},{path:"/chat",element:l.jsx(fK,{})},{path:"/chat/:conversationId",element:l.jsx(fK,{})},{path:"/iframe/chat",element:l.jsx(kH,{})},{path:"/iframe/chat/:conversationId",element:l.jsx(kH,{})},{path:"/content",element:l.jsx(CYe,{})},{path:"/tickets",element:l.jsx(A2t,{})},{path:"/tickets/:id",element:l.jsx(Spt,{})},{path:"/settings",element:l.jsx(Zm,{to:"/settings/profile",replace:!0})},{path:"/settings/profile",element:l.jsx(KJe,{})},{path:"/settings/connections",element:l.jsx(Zm,{to:"/settings/connections/knowledge",replace:!0})},{path:"/settings/connections/knowledge",element:l.jsx(YJe,{})},{path:"/settings/connections/knowledge/:id",element:l.jsx(wH,{mode:"knowledge"})},{path:"/settings/connections/itsm",element:l.jsx(XJe,{})},{path:"/settings/connections/itsm/:id",element:l.jsx(wH,{mode:"itsm"})},{path:"/settings/users",element:l.jsx(Ipt,{})},{path:"/account",element:l.jsx(S1,{children:l.jsx("div",{children:"Account settings page (coming soon)"})})},{path:"/contact",element:l.jsx(S1,{children:l.jsx(XKe,{})})},{path:"/help",element:l.jsx(S1,{children:l.jsx(NYe,{})})},{path:"/payment",element:l.jsx(S1,{children:l.jsx("div",{children:"Payment management (coming soon)"})})},{path:"/analytics",element:l.jsx(S1,{children:l.jsx("div",{children:"Analytics dashboard (future feature)"})})},{path:"/devtools",element:l.jsx(rYe,{})},{path:"/agent-builder",element:l.jsx(c2t,{})},{path:"/agents",element:l.jsx(w2t,{})},{path:"/agents/create",element:l.jsx(dK,{})},{path:"/agents/:id",element:l.jsx(dK,{})},{path:"/test/dropdown",element:l.jsx(iYe,{})},{path:"/",element:l.jsx(W2e,{}),children:[{path:"/login",element:l.jsx(BJe,{})},{path:"/verify-email",element:l.jsx(Mpt,{})},{path:"/verify-email-sent",element:l.jsx(Dpt,{})},{path:"/invite",element:l.jsx(FJe,{})},{path:"/terms-of-service",element:l.jsx(QJe,{})},{path:"*",element:l.jsx($Je,{})}]}]);function P2t(){return l.jsx(I2e,{router:j2t})}const I2t=()=>l.jsxs(l.Fragment,{children:[l.jsx(P2t,{}),l.jsx(qye,{})]}),R2t=()=>l.jsx(mbe,{children:l.jsx(dbe,{defaultVariant:"collapsible-list",children:l.jsx(cbe,{children:l.jsx(I2t,{})})})}),F0e=document.getElementById("root");if(!F0e)throw new Error("Root element not found");console.log("Main: Demo mode - skipping Keycloak initialization");const M2t=Tpe.createRoot(F0e);M2t.render(l.jsx(Xe.StrictMode,{children:l.jsx(R2t,{})}));export{$P as $,qR as A,ve as B,Fp as C,Ag as D,YK as E,wle as F,LE as G,br as H,Fqe as I,GH as J,f4t as K,x3 as L,Dl as M,d4t as N,zk as O,l4t as P,c4t as Q,Rp as R,Xk as S,m4t as T,u4t as U,h4t as V,iue as W,dM as X,Cle as Y,Bet as Z,le as _,Q2t as a,zP as a0,ri as a1,BP as a2,ir as a3,T$e as a4,uy as a5,WR as a6,uM as a7,Xa as a8,xa as a9,Yet as aA,Xet as aB,Ket as aC,Get as aD,Wet as aE,qet as aF,Vet as aG,b3 as aH,Tet as aI,Net as aJ,Het as aK,Uet as aL,ar as aM,mY as aN,H2t as aO,Nst as aa,fM as ab,Kce as ac,Jx as ad,Qce as ae,v4t as af,Iot as ag,Eq as ah,wq as ai,xue as aj,CM as ak,$3 as al,bat as am,xat as an,Vp as ao,yat as ap,vat as aq,lS as ar,tb as as,kM as at,EM as au,kh as av,oS as aw,gM as ax,jle as ay,FE as az,L0 as b,we as c,Sx as d,kx as e,_x as f,J2t as g,jx as h,J7 as i,l as j,tR as k,Yse as l,Ye as m,$qe as n,zqe as o,Bqe as p,o4t as q,y as r,e4t as s,r4t as t,s4t as u,i4t as v,a4t as w,t4t as x,n4t as y,Ba as z};
